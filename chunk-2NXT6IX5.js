import{a as O,b as W}from"./chunk-Z2K7S2XA.js";import{h as q,l as R,m as H}from"./chunk-VQYWIE5E.js";import"./chunk-XSZRGKJA.js";import"./chunk-CEEB2P3N.js";import{d as z,e as D,k as V}from"./chunk-TZEPKFDI.js";import{B as T,c as B,e as c,h as L,i as I,l as N,p as G,r as j,z as A}from"./chunk-BUMYHMI6.js";import"./chunk-RNGT6N3O.js";import"./chunk-RRE7EQHM.js";import"./chunk-HWKOWWIA.js";import{a as M,b as k}from"./chunk-XYNPI2D6.js";import{c as F,d as E}from"./chunk-T34NS44N.js";import{a as _}from"./chunk-WQPBABDM.js";import"./chunk-LBEA66BC.js";import"./chunk-WJ6YIAW5.js";import"./chunk-YBFS2WES.js";import"./chunk-QD7SSFII.js";import{b as P}from"./chunk-57PI4XLL.js";import"./chunk-MELUVGUL.js";import{e as C,g as y,h as S}from"./chunk-42IDZLZS.js";import"./chunk-UHITDPPY.js";import{t as b}from"./chunk-UFDTBXZU.js";import{$a as l,$b as w,Fb as u,Gb as p,Lb as d,Mb as e,Nb as t,Ob as s,Zb as v,fa as m,nc as o,qb as h,ua as g,yc as x}from"./chunk-WCXAA7HR.js";import{e as f}from"./chunk-JKOY2XUY.js";var K=()=>["/auth/login"];function Q(r,n){r&1&&o(0," Email is required ")}function U(r,n){r&1&&o(0," Please enter a valid email address ")}function X(r,n){if(r&1&&(e(0,"mat-error"),u(1,Q,1,0)(2,U,1,0),t()),r&2){let i=w();l(),p(i.emailControl!=null&&i.emailControl.hasError("required")?1:i.emailControl!=null&&i.emailControl.hasError("email")?2:-1)}}function Y(r,n){r&1&&o(0," Log in ")}function Z(r,n){r&1&&(e(0,"span",17),s(1,"mat-spinner",31),o(2," Sending... "),t())}var J=class r{authService=m(_);router=m(y);route=m(C);fb=m(A);snackBar=m(O);loading=g(!1);forgotPasswordForm;constructor(){this.forgotPasswordForm=this.fb.group({email:["",[c.required,c.email]]})}ngOnInit(){this.route.queryParams.subscribe(n=>{n.email&&this.forgotPasswordForm.patchValue({email:n.email})})}onSubmit(){return f(this,null,function*(){if(!this.forgotPasswordForm.valid){this.snackBar.open("Please enter a valid email address","Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-error"]});return}let{email:n}=this.forgotPasswordForm.value;this.loading.set(!0);try{let i=yield this.authService.forgotPassword(n);i.success?(this.snackBar.open(i.message||"If an account with that email exists, we have sent a password reset link.","Close",{duration:8e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-success"]}),this.forgotPasswordForm.reset()):this.snackBar.open(i.message||"Failed to send password reset email. Please try again.","Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-error"]})}catch(i){this.snackBar.open(i?.message||"An unexpected error occurred. Please try again.","Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-error"]})}finally{this.loading.set(!1)}})}get emailControl(){return this.forgotPasswordForm.get("email")}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=h({type:r,selectors:[["app-forgot-password"]],decls:58,vars:7,consts:[[1,"min-h-screen","flex"],[1,"w-full","lg:w-1/2","flex","items-center","justify-center","px-6","py-12","bg-white","relative","overflow-hidden"],[1,"lg:hidden","absolute","top-0","right-0","w-28","h-46","pointer-events-none"],["src","/assets/images/Layer-v.svg","alt","",1,"w-full","h-full"],[1,"lg:hidden","absolute","bottom-0","left-0","w-47","h-25","pointer-events-none"],["src","/assets/images/Layer-x.svg","alt","",1,"w-full","h-full"],[1,"w-full","max-w-md","relative","z-10"],[1,"lg:mb-8","mb-2","text-center"],["routerLink","/",1,"inline-block"],["src","/assets/logos/colored-logo.svg","alt","VouchHer",1,"h-18","lg:h-18","w-auto"],[1,"mb-8","text-center","lg:text-left"],[1,"text-2xl","lg:text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"space-y-6",3,"ngSubmit","formGroup"],["appearance","outline",1,"w-full"],["matInput","","type","email","formControlName","email","placeholder","enter email",3,"disabled"],["mat-flat-button","","color","primary","type","submit",1,"w-full","!py-3","!text-base","!font-medium","!rounded-lg",3,"disabled"],[1,"flex","items-center","justify-center","gap-2"],[1,"text-center","pt-4"],[1,"text-sm","text-gray-600"],[1,"font-medium","text-[#6B0FAE]","hover:text-primary-700","ml-1",3,"routerLink"],[1,"hidden","lg:flex","lg:w-1/2","relative","bg-primary-600","items-center","justify-center","overflow-hidden"],[1,"absolute","inset-0"],["src","/assets/images/login-right-bakground.svg","alt","",1,"w-full","h-full","object-cover"],[1,"relative","z-10","flex","flex-col","items-center","justify-center","text-center","px-12","w-full","max-w-lg"],["src","/assets/logos/white-logo.svg","alt","VouchHer",1,"h-16","w-auto","mb-12"],[1,"text-white","text-2xl","font-bold","mb-6","text-[#20AA62]"],[1,"space-y-4","text-white","text-left","w-full"],[1,"font-semibold","text-lg","mb-2"],[1,"space-y-2","text-sm"],[1,"font-semibold","text-lg","mb-2","mt-6"],["diameter","20",1,"!text-white"]],template:function(i,a){i&1&&(e(0,"div",0)(1,"div",1)(2,"div",2),s(3,"img",3),t(),e(4,"div",4),s(5,"img",5),t(),e(6,"div",6)(7,"div",7)(8,"a",8),s(9,"img",9),t()(),e(10,"div",10)(11,"h1",11),o(12,"Forgot password"),t(),e(13,"p",12),o(14,"Enter your email address below"),t()(),e(15,"form",13),v("ngSubmit",function(){return a.onSubmit()}),e(16,"div")(17,"mat-form-field",14)(18,"mat-label"),o(19,"Email"),t(),s(20,"input",15),u(21,X,3,1,"mat-error"),t()(),e(22,"button",16),u(23,Y,1,0)(24,Z,3,0,"span",17),t(),e(25,"div",18)(26,"p",19),o(27," Remember your password? "),e(28,"a",20),o(29," Back to Login "),t()()()()()(),e(30,"div",21)(31,"div",22),s(32,"img",23),t(),e(33,"div",24),s(34,"img",25),e(35,"h2",26),o(36," Women First Marketplace "),t(),e(37,"div",27)(38,"div")(39,"h3",28),o(40,"Find women-owned businesses in seconds"),t(),e(41,"ul",29)(42,"li"),o(43,"1. Earn extra income"),t(),e(44,"li"),o(45,"2. Collaborate and grow"),t(),e(46,"li"),o(47,"3. Get support from peers"),t()()(),e(48,"div")(49,"h3",30),o(50,"Hire qualified women with ease"),t(),e(51,"ul",29)(52,"li"),o(53,"1. List business(es)"),t(),e(54,"li"),o(55,"2. Get offers or bids"),t(),e(56,"li"),o(57,"3. Pay with ease when job is complete"),t()()()()()()()),i&2&&(l(15),d("formGroup",a.forgotPasswordForm),l(5),d("disabled",a.loading()),l(),p(a.emailControl!=null&&a.emailControl.invalid&&(a.emailControl!=null&&a.emailControl.touched)?21:-1),l(),d("disabled",!a.forgotPasswordForm.valid||a.loading()),l(),p(a.loading()?24:23),l(5),d("routerLink",x(6,K)))},dependencies:[b,T,N,B,L,I,G,j,S,q,V,z,D,H,R,E,F,P,k,M,W],encapsulation:2})};export{J as ForgotPasswordComponent};
