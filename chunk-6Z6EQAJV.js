import{a as te}from"./chunk-Q4JQJ6ZG.js";import{A as ee,c as U,h as z,i as H,l as R,m as Y,p as q,q as J,r as K,s as Q,t as W,y as X,z as Z}from"./chunk-IOQBSONU.js";import"./chunk-IZ7UM5CL.js";import"./chunk-YYV7O7JP.js";import{c as N}from"./chunk-MEFNJ5SS.js";import"./chunk-GUCRBWY4.js";import{q as $,t as G}from"./chunk-REOVWAHI.js";import{Bb as P,Ea as C,Eb as v,Gb as g,Hb as I,Jb as M,Kb as V,Lb as t,Mb as i,Nb as m,Oc as E,Rb as S,Vb as d,Wb as c,cb as l,fa as A,gc as r,hc as f,ic as b,kc as B,na as u,oa as _,ob as D,pa as x,qa as j,qc as T,ub as h,xc as w,yc as k}from"./chunk-BEPULU6C.js";import{a as F,b as O,e as y}from"./chunk-JKOY2XUY.js";var L=()=>[],ne=(a,o)=>o._id;function oe(a,o){if(a&1&&(t(0,"div",15)(1,"div",44)(2,"div",3)(3,"div")(4,"p",45),r(5,"Total Projects"),i(),t(6,"p",46),r(7),w(8,"number"),i(),t(9,"p",47),r(10),i()(),t(11,"div",48),x(),t(12,"svg",49),m(13,"path",50),i()()()(),j(),t(14,"div",44)(15,"div",3)(16,"div")(17,"p",45),r(18,"Active Projects"),i(),t(19,"p",46),r(20),w(21,"number"),i(),t(22,"p",51),r(23),w(24,"number"),i()(),t(25,"div",52),x(),t(26,"svg",53),m(27,"path",54),i()()()(),j(),t(28,"div",44)(29,"div",3)(30,"div")(31,"p",45),r(32,"Completed"),i(),t(33,"p",46),r(34),w(35,"number"),i(),t(36,"p",55),r(37),w(38,"number"),i()(),t(39,"div",56),x(),t(40,"svg",57),m(41,"path",58),i()()()(),j(),t(42,"div",44)(43,"div",3)(44,"div")(45,"p",45),r(46,"Completion Rate"),i(),t(47,"p",46),r(48),i(),t(49,"p",59),r(50),w(51,"number"),i()(),t(52,"div",60),x(),t(53,"svg",61),m(54,"path",62),i()()()()()),a&2){let e=c();l(7),f(k(8,8,e.stats().total)),l(3),b("",e.formatCurrency(e.stats().total_value)," total value"),l(10),f(k(21,10,e.stats().in_progress)),l(3),b("",k(24,12,e.stats().accepted)," accepted"),l(11),f(k(35,14,e.stats().completed)),l(3),b("",k(38,16,e.stats().settled)," settled"),l(11),b("",e.completionRate(),"%"),l(2),b("",k(51,18,e.stats().monthly_projects)," this month")}}function re(a,o){a&1&&(t(0,"div",38)(1,"div",63)(2,"div")(3,"label",64),r(4,"From Date"),i(),m(5,"input",65),i(),t(6,"div")(7,"label",66),r(8,"To Date"),i(),m(9,"input",67),i(),t(10,"div")(11,"label",68),r(12,"Min Amount ($)"),i(),m(13,"input",69),i(),t(14,"div")(15,"label",70),r(16,"Max Amount ($)"),i(),m(17,"input",71),i()()())}function ae(a,o){if(a&1&&(t(0,"div",39)(1,"div",72),x(),t(2,"svg",73),m(3,"path",74),i(),r(4),i()()),a&2){let e=c();l(4),b(" ",e.error()," ")}}function le(a,o){if(a&1){let e=S();t(0,"div",40)(1,"div",3)(2,"div",75)(3,"span",76),r(4),i(),t(5,"button",77),d("click",function(){u(e);let s=c();return _(s.clearSelection())}),r(6," Clear Selection "),i()(),t(7,"div",35)(8,"select",78),d("change",function(s){u(e);let p=c();return _(p.bulkUpdateStatus(s.target.value))}),t(9,"option",26),r(10,"Update Status"),i(),t(11,"option",28),r(12,"Mark as Accepted"),i(),t(13,"option",29),r(14,"Mark as Rejected"),i(),t(15,"option",30),r(16,"Mark as In Progress"),i(),t(17,"option",32),r(18,"Mark as Completed"),i(),t(19,"option",33),r(20,"Mark as Cancelled"),i()(),t(21,"button",79),d("click",function(){u(e);let s=c();return _(s.bulkArchive(!0))}),r(22," Archive Selected "),i()()()()}if(a&2){let e=c();l(4),b("",e.selectedCount()," projects selected")}}function se(a,o){a&1&&(t(0,"div",42),m(1,"div",80),t(2,"span",81),r(3,"Loading projects..."),i()())}function ce(a,o){if(a&1&&(x(),t(0,"svg",95),m(1,"path",96),i()),a&2){let e=c(3);v(e.sortOrder()==="asc"?"w-4 h-4 text-blue-600":"w-4 h-4 text-blue-600 rotate-180")}}function de(a,o){if(a&1&&(x(),t(0,"svg",95),m(1,"path",96),i()),a&2){let e=c(3);v(e.sortOrder()==="asc"?"w-4 h-4 text-blue-600":"w-4 h-4 text-blue-600 rotate-180")}}function me(a,o){if(a&1&&(x(),t(0,"svg",95),m(1,"path",96),i()),a&2){let e=c(3);v(e.sortOrder()==="asc"?"w-4 h-4 text-blue-600":"w-4 h-4 text-blue-600 rotate-180")}}function pe(a,o){if(a&1&&(x(),t(0,"svg",95),m(1,"path",96),i()),a&2){let e=c(3);v(e.sortOrder()==="asc"?"w-4 h-4 text-blue-600":"w-4 h-4 text-blue-600 rotate-180")}}function ue(a,o){if(a&1&&(t(0,"p",102),r(1),i()),a&2){let e=c().$implicit;l(),f(e.description)}}function _e(a,o){if(a&1&&(t(0,"div"),r(1),i(),t(2,"div",115),r(3),i()),a&2){let e=c().$implicit,n=c(3);v(n.getDaysUntilDeadline(e)<0?"text-red-600 font-medium":n.getDaysUntilDeadline(e)<=3?"text-orange-600 font-medium":"text-gray-700"),l(),b(" ",n.getDeadlineText(e)," "),l(2),f(n.formatDate(e.deadline))}}function xe(a,o){a&1&&(t(0,"span",107),r(1,"No deadline"),i())}function ge(a,o){a&1&&(x(),t(0,"svg",12),m(1,"path",58),i())}function he(a,o){a&1&&(x(),t(0,"svg",12),m(1,"path",116),i())}function ve(a,o){if(a&1){let e=S();t(0,"tr")(1,"td",97)(2,"input",98),d("change",function(){let s=u(e).$implicit,p=c(3);return _(p.toggleProjectSelection(s._id))}),i()(),t(3,"td",97)(4,"div",99)(5,"div",100)(6,"h4",101),d("click",function(){let s=u(e).$implicit,p=c(3);return _(p.viewProjectDetails(s._id))}),r(7),i(),h(8,ue,2,1,"p",102),t(9,"p",103),r(10),i()()()(),t(11,"td",97)(12,"div",104)(13,"div",105),r(14),i(),t(15,"div",106),r(16),i()()(),t(17,"td",97)(18,"span",18),r(19),i()(),t(20,"td",97)(21,"span"),r(22),i()(),t(23,"td",97)(24,"div",104),h(25,_e,4,4)(26,xe,2,0,"span",107),i()(),t(27,"td",92)(28,"div",108)(29,"button",109),d("click",function(){let s=u(e).$implicit,p=c(3);return _(p.viewProjectDetails(s._id))}),x(),t(30,"svg",12),m(31,"path",110)(32,"path",111),i()(),j(),t(33,"button",112),d("click",function(){let s=u(e).$implicit,p=c(3);return _(p.toggleArchiveProject(s))}),h(34,ge,2,0,":svg:svg",12)(35,he,2,0,":svg:svg",12),i(),t(36,"button",113),d("click",function(){let s=u(e).$implicit,p=c(3);return _(p.deleteProject(s))}),x(),t(37,"svg",12),m(38,"path",114),i()()()()()}if(a&2){let e=o.$implicit,n=c(3);v("hover:bg-gray-50 transition-colors "+n.getProjectPriorityColor(e)),l(2),P("checked",n.selectedProjects().has(e._id)),l(5),b(" ",e.title," "),l(),g(e.description?8:-1),l(2),f(n.formatDate(e.createdAt)),l(4),f(n.getClientName(e)),l(2),f(n.getBusinessName(e)),l(3),f(n.formatCurrency(e.offered_price)),l(2),v("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border "+n.getStatusColor(e.status)),l(),b(" ",n.getStatusLabel(e.status)," "),l(3),g(e.deadline?25:26),l(8),v(e.is_archived?"p-2 text-gray-400 hover:text-green-600 transition-colors":"p-2 text-gray-400 hover:text-orange-600 transition-colors"),P("title",e.is_archived?"Unarchive":"Archive"),l(),g(e.is_archived?34:35)}}function be(a,o){if(a&1){let e=S();t(0,"div",82)(1,"table",85)(2,"thead",86)(3,"tr")(4,"th",87)(5,"input",88),d("change",function(){u(e);let s=c(2);return _(s.toggleAllSelection())}),i()(),t(6,"th",87)(7,"button",89),d("click",function(){u(e);let s=c(2);return _(s.onSortChange("createdAt"))}),r(8," Project "),h(9,ce,2,2,":svg:svg",90),i()(),t(10,"th",87)(11,"span",91),r(12,"Client/Business"),i()(),t(13,"th",87)(14,"button",89),d("click",function(){u(e);let s=c(2);return _(s.onSortChange("offered_price"))}),r(15," Value "),h(16,de,2,2,":svg:svg",90),i()(),t(17,"th",87)(18,"button",89),d("click",function(){u(e);let s=c(2);return _(s.onSortChange("status"))}),r(19," Status "),h(20,me,2,2,":svg:svg",90),i()(),t(21,"th",87)(22,"button",89),d("click",function(){u(e);let s=c(2);return _(s.onSortChange("deadline"))}),r(23," Deadline "),h(24,pe,2,2,":svg:svg",90),i()(),t(25,"th",92)(26,"span",91),r(27,"Actions"),i()()()(),t(28,"tbody",93),M(29,ve,39,17,"tr",94,ne),i()()()}if(a&2){let e=c(2);l(5),P("checked",e.allProjectsSelected())("indeterminate",e.someProjectsSelected()),l(4),g(e.sortBy()==="createdAt"?9:-1),l(7),g(e.sortBy()==="offered_price"?16:-1),l(4),g(e.sortBy()==="status"?20:-1),l(4),g(e.sortBy()==="deadline"?24:-1),l(5),V(e.projects()||T(6,L))}}function fe(a,o){if(a&1&&(t(0,"p",120),r(1),i()),a&2){let e=c().$implicit;l(),f(e.description)}}function Ce(a,o){if(a&1&&(t(0,"div",122)(1,"span",106),r(2,"Deadline:"),i(),t(3,"span"),r(4),i()()),a&2){let e=c().$implicit,n=c(3);l(3),v(n.getDaysUntilDeadline(e)<0?"text-red-600 font-medium":n.getDaysUntilDeadline(e)<=3?"text-orange-600 font-medium":"text-gray-700"),l(),b(" ",n.getDeadlineText(e)," ")}}function je(a,o){a&1&&(x(),t(0,"svg",12),m(1,"path",58),i())}function ye(a,o){a&1&&(x(),t(0,"svg",12),m(1,"path",116),i())}function Pe(a,o){if(a&1){let e=S();t(0,"div")(1,"div",118)(2,"input",98),d("change",function(){let s=u(e).$implicit,p=c(3);return _(p.toggleProjectSelection(s._id))}),i(),t(3,"span"),r(4),i()(),t(5,"h4",119),d("click",function(){let s=u(e).$implicit,p=c(3);return _(p.viewProjectDetails(s._id))}),r(6),i(),h(7,fe,2,1,"p",120),t(8,"div",121)(9,"div",122)(10,"span",106),r(11,"Client:"),i(),t(12,"span",123),r(13),i()(),t(14,"div",122)(15,"span",106),r(16,"Business:"),i(),t(17,"span",123),r(18),i()(),t(19,"div",122)(20,"span",106),r(21,"Value:"),i(),t(22,"span",124),r(23),i()(),h(24,Ce,5,3,"div",122),i(),t(25,"div",125)(26,"span",126),r(27),i(),t(28,"div",35)(29,"button",109),d("click",function(){let s=u(e).$implicit,p=c(3);return _(p.viewProjectDetails(s._id))}),x(),t(30,"svg",12),m(31,"path",110)(32,"path",111),i()(),j(),t(33,"button",112),d("click",function(){let s=u(e).$implicit,p=c(3);return _(p.toggleArchiveProject(s))}),h(34,je,2,0,":svg:svg",12)(35,ye,2,0,":svg:svg",12),i(),t(36,"button",113),d("click",function(){let s=u(e).$implicit,p=c(3);return _(p.deleteProject(s))}),x(),t(37,"svg",12),m(38,"path",114),i()()()()()}if(a&2){let e=o.$implicit,n=c(3);v("bg-white border border-gray-200 rounded-xl p-6 hover:border-gray-300 transition-colors "+n.getProjectPriorityColor(e)),l(2),P("checked",n.selectedProjects().has(e._id)),l(),v("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border "+n.getStatusColor(e.status)),l(),b(" ",n.getStatusLabel(e.status)," "),l(2),b(" ",e.title," "),l(),g(e.description?7:-1),l(6),f(n.getClientName(e)),l(5),f(n.getBusinessName(e)),l(5),f(n.formatCurrency(e.offered_price)),l(),g(e.deadline?24:-1),l(3),f(n.formatDate(e.createdAt)),l(6),v(e.is_archived?"p-2 text-gray-400 hover:text-green-600 transition-colors":"p-2 text-gray-400 hover:text-orange-600 transition-colors"),P("title",e.is_archived?"Unarchive":"Archive"),l(),g(e.is_archived?34:35)}}function Se(a,o){if(a&1&&(t(0,"div",83)(1,"div",117),M(2,Pe,39,17,"div",94,ne),i()()),a&2){let e=c(2);l(2),V(e.projects()||T(0,L))}}function we(a,o){if(a&1){let e=S();t(0,"button",11),d("click",function(){let s=u(e).$index,p=c(3);return _(p.onPageChange(s+1))}),r(1),i()}if(a&2){let e=o.$index,n=c(3);v(n.currentPage()===e+1?"px-3 py-2 bg-blue-600 text-white rounded-lg":"px-3 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"),l(),b(" ",e+1," ")}}function ke(a,o){if(a&1){let e=S();t(0,"div",84)(1,"div",35)(2,"span",127),r(3),i()(),t(4,"div",35)(5,"button",128),d("click",function(){u(e);let s=c(2);return _(s.onPageChange(s.currentPage()-1))}),r(6," Previous "),i(),M(7,we,2,3,"button",94,I),t(9,"button",128),d("click",function(){u(e);let s=c(2);return _(s.onPageChange(s.currentPage()+1))}),r(10," Next "),i()()()}if(a&2){let e=c(2);l(3),B(" Showing ",(e.currentPage()-1)*e.perPage+1," to ",e.Math.min(e.currentPage()*e.perPage,e.totalProjects())," of ",e.totalProjects()," projects "),l(2),P("disabled",e.currentPage()===1),l(2),V(T(5,L).constructor(e.totalPages())),l(2),P("disabled",e.currentPage()===e.totalPages())}}function Ee(a,o){if(a&1&&h(0,be,31,7,"div",82)(1,Se,4,1,"div",83)(2,ke,11,6,"div",84),a&2){let e=c();g(e.viewMode()==="list"?0:1),l(2),g(e.totalPages()>1?2:-1)}}function Ae(a,o){if(a&1){let e=S();t(0,"div",43),x(),t(1,"svg",129),m(2,"path",50),i(),j(),t(3,"h3",130),r(4,"No projects found"),i(),t(5,"p",131),r(6,"Try adjusting your search criteria or filters."),i(),t(7,"button",132),d("click",function(){u(e);let s=c();return _(s.clearFilters())}),r(8," Clear Filters "),i()()}}var ie=class a{adminProjectsService=A(te);router=A(N);fb=A(X);projects=C([]);stats=C(null);loading=C(!1);error=C(null);selectedProjects=C(new Set);currentPage=C(1);totalPages=C(0);totalProjects=C(0);perPage=25;filterForm;showAdvancedFilters=C(!1);viewMode=C("list");sortBy=C("createdAt");sortOrder=C("desc");constructor(){this.filterForm=this.fb.group({search:[""],status:[""],dateFrom:[""],dateTo:[""],minAmount:[""],maxAmount:[""],businessId:[""],clientId:[""]})}ngOnInit(){return y(this,null,function*(){yield this.loadProjects(),yield this.loadStats(),this.filterForm.valueChanges.subscribe(()=>{this.onFiltersChange()})})}loadProjects(){return y(this,null,function*(){this.loading.set(!0),this.error.set(null);try{let o=O(F({},this.filterForm.value),{page:this.currentPage(),limit:this.perPage,sortBy:this.sortBy(),sortOrder:this.sortOrder()}),e=yield this.adminProjectsService.getProjectsAsync(o);e&&e.projects?this.projects.set(e.projects):this.projects.set([]),e&&e.pagination?(this.totalProjects.set(e.pagination.total||0),this.totalPages.set(e.pagination.totalPages||0)):(this.totalProjects.set(0),this.totalPages.set(0))}catch(o){console.error("Error loading projects:",o),this.error.set("Failed to load projects. Please try again."),this.projects.set([]),this.totalProjects.set(0),this.totalPages.set(0)}finally{this.loading.set(!1)}})}loadStats(){return y(this,null,function*(){try{let o=yield this.adminProjectsService.getProjectStatsAsync();this.stats.set(o)}catch(o){console.error("Error loading stats:",o),this.stats.set(null)}})}onFiltersChange(){this.currentPage.set(1),this.debounceLoadProjects()}debounceTimer;debounceLoadProjects(){clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{this.loadProjects()},500)}onSortChange(o){this.sortBy()===o?this.sortOrder.set(this.sortOrder()==="asc"?"desc":"asc"):(this.sortBy.set(o),this.sortOrder.set("desc")),this.loadProjects()}onPageChange(o){this.currentPage.set(o),this.loadProjects()}toggleProjectSelection(o){let e=new Set(this.selectedProjects());e.has(o)?e.delete(o):e.add(o),this.selectedProjects.set(e)}toggleAllSelection(){this.allProjectsSelected()?this.selectedProjects.set(new Set):this.selectedProjects.set(new Set(this.projects().map(e=>e._id)))}clearSelection(){this.selectedProjects.set(new Set)}viewProjectDetails(o){this.router.navigate(["/admin/dashboard/projects",o])}toggleArchiveProject(o){return y(this,null,function*(){try{yield this.adminProjectsService.toggleArchiveProjectAsync(o._id),yield this.loadProjects(),yield this.loadStats()}catch(e){console.error("Error toggling archive status:",e),this.error.set("Failed to update project status.")}})}deleteProject(o){return y(this,null,function*(){if(confirm(`Are you sure you want to permanently delete the project "${o.title}"? This action cannot be undone.`))try{yield this.adminProjectsService.deleteProjectAsync(o._id),yield this.loadProjects(),yield this.loadStats()}catch(e){console.error("Error deleting project:",e),this.error.set("Failed to delete project.")}})}bulkUpdateStatus(o){return y(this,null,function*(){let e=Array.from(this.selectedProjects());if(e.length!==0)try{yield this.adminProjectsService.bulkUpdateProjectsAsync(e,{status:o}),this.clearSelection(),yield this.loadProjects(),yield this.loadStats()}catch(n){console.error("Error bulk updating projects:",n),this.error.set("Failed to update projects.")}})}bulkArchive(o){return y(this,null,function*(){let e=Array.from(this.selectedProjects());if(e.length!==0)try{yield this.adminProjectsService.bulkUpdateProjectsAsync(e,{is_archived:o}),this.clearSelection(),yield this.loadProjects(),yield this.loadStats()}catch(n){console.error("Error bulk archiving projects:",n),this.error.set("Failed to update projects.")}})}exportProjects(){return y(this,null,function*(){try{let o=this.filterForm.value,e=yield this.adminProjectsService.exportProjectsAsync(o),n=window.URL.createObjectURL(e),s=document.createElement("a");s.href=n,s.download=`projects-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(n)}catch(o){console.error("Error exporting projects:",o),this.error.set("Failed to export projects.")}})}clearFilters(){this.filterForm.reset(),this.showAdvancedFilters.set(!1),this.currentPage.set(1),this.loadProjects()}allProjectsSelected=E(()=>{let o=this.selectedProjects(),e=this.projects();return e.length>0&&e.every(n=>o.has(n._id))});someProjectsSelected=E(()=>this.selectedProjects().size>0&&!this.allProjectsSelected());selectedCount=E(()=>this.selectedProjects().size);filteredProjectsCount=E(()=>this.projects().length);completionRate=E(()=>{let o=this.stats();return o?this.adminProjectsService.calculateCompletionRate(o):0});getStatusColor=this.adminProjectsService.getStatusColor.bind(this.adminProjectsService);getStatusLabel=this.adminProjectsService.getStatusLabel.bind(this.adminProjectsService);formatCurrency=this.adminProjectsService.formatCurrency.bind(this.adminProjectsService);formatDate=this.adminProjectsService.formatDate.bind(this.adminProjectsService);getProjectPriorityColor=this.adminProjectsService.getProjectPriorityColor.bind(this.adminProjectsService);Math=Math;getClientName(o){if(typeof o.client_id=="string")return"Unknown Client";let e=o.client_id;return`${e.first_name} ${e.last_name}`}getBusinessName(o){return typeof o.business_id=="string"?"Unknown Business":o.business_id.name}getDaysUntilDeadline(o){if(!o.deadline)return null;let e=new Date(o.deadline),n=new Date;return Math.ceil((e.getTime()-n.getTime())/(1e3*60*60*24))}getDeadlineText(o){let e=this.getDaysUntilDeadline(o);return e===null?"No deadline":e<0?`${Math.abs(e)} days overdue`:e===0?"Due today":e===1?"Due tomorrow":`Due in ${e} days`}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=D({type:a,selectors:[["app-admin-projects-list"]],decls:69,vars:13,consts:[[1,"min-h-screen","bg-gradient-to-br","from-slate-50","via-blue-50","to-indigo-50"],[1,"p-6","max-w-7xl","mx-auto"],[1,"mb-8"],[1,"flex","items-center","justify-between"],[1,"text-3xl","font-bold","bg-gradient-to-r","from-slate-900","to-slate-700","bg-clip-text","text-transparent"],[1,"text-slate-600","mt-2"],[1,"flex","items-center","gap-3"],[1,"px-4","py-2","bg-white","border","border-gray-300","text-gray-700","rounded-lg","hover:bg-gray-50","transition-colors","font-medium",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","inline-block","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 10v6m0 0l-3-3m3 3l3-3M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2z"],[1,"flex","items-center","border","border-gray-300","rounded-lg","bg-white"],[3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 10h16M4 14h16M4 18h16"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6","mb-8"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-100","mb-6"],[1,"p-6","border-b","border-gray-200"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-blue-600","hover:text-blue-700","font-medium",3,"click"],[1,"p-6","space-y-4",3,"formGroup"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],["for","search",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","id","search","formControlName","search","placeholder","Search by title, client, business...",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all"],["for","status",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["id","status","formControlName","status",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all"],["value",""],["value","pending"],["value","accepted"],["value","rejected"],["value","in_progress"],["value","awaiting_client_approval"],["value","completed"],["value","cancelled"],["value","settled"],[1,"flex","items-center","gap-2"],["type","button",1,"px-4","py-3","bg-gray-100","text-gray-700","rounded-lg","hover:bg-gray-200","transition-colors","font-medium",3,"click"],["type","button",1,"flex-1","px-4","py-3","bg-gradient-to-r","from-blue-600","to-indigo-600","text-white","rounded-lg","hover:shadow-lg","transition-all","font-semibold",3,"click"],[1,"pt-4","border-t","border-gray-200"],[1,"bg-red-50","border","border-red-200","text-red-700","px-4","py-3","rounded-xl","mb-6"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-100","p-4","mb-6"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-100","overflow-hidden"],[1,"flex","items-center","justify-center","py-12"],[1,"p-12","text-center"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-100","p-6"],[1,"text-sm","font-medium","text-gray-600"],[1,"text-3xl","font-bold","text-gray-900","mt-2"],[1,"text-sm","text-green-600","mt-1"],[1,"w-12","h-12","bg-blue-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"text-sm","text-purple-600","mt-1"],[1,"w-12","h-12","bg-purple-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-purple-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 10V3L4 14h7v7l9-11h-7z"],[1,"text-sm","text-emerald-600","mt-1"],[1,"w-12","h-12","bg-green-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-sm","text-blue-600","mt-1"],[1,"w-12","h-12","bg-yellow-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-yellow-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],["for","dateFrom",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","date","id","dateFrom","formControlName","dateFrom",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all"],["for","dateTo",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","date","id","dateTo","formControlName","dateTo",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all"],["for","minAmount",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","number","id","minAmount","formControlName","minAmount","placeholder","0",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all"],["for","maxAmount",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","number","id","maxAmount","formControlName","maxAmount","placeholder","10000",1,"w-full","px-4","py-3","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","transition-all"],[1,"flex","items-center"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","mr-2"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule","evenodd"],[1,"flex","items-center","gap-4"],[1,"text-sm","font-medium","text-gray-700"],[1,"text-blue-600","hover:text-blue-700","text-sm","font-medium",3,"click"],[1,"px-3","py-2","border","border-gray-300","rounded-lg","text-sm",3,"change"],[1,"px-3","py-2","bg-orange-100","text-orange-700","rounded-lg","hover:bg-orange-200","transition-colors","text-sm","font-medium",3,"click"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],[1,"ml-3","text-gray-600"],[1,"overflow-x-auto"],[1,"p-6"],[1,"px-6","py-4","border-t","border-gray-200","bg-gray-50","flex","items-center","justify-between"],[1,"w-full"],[1,"bg-gray-50","border-b","border-gray-200"],[1,"px-6","py-4","text-left"],["type","checkbox",1,"w-4","h-4","text-blue-600","border-gray-300","rounded","focus:ring-blue-500",3,"change","checked","indeterminate"],[1,"flex","items-center","gap-2","text-xs","font-medium","text-gray-500","uppercase","tracking-wider","hover:text-gray-700",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",3,"class"],[1,"text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"px-6","py-4","text-right"],[1,"divide-y","divide-gray-200"],[3,"class"],["fill","none","stroke","currentColor","viewBox","0 0 24 24"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 15l7-7 7 7"],[1,"px-6","py-4"],["type","checkbox",1,"w-4","h-4","text-blue-600","border-gray-300","rounded","focus:ring-blue-500",3,"change","checked"],[1,"flex","items-start"],[1,"flex-1","min-w-0"],[1,"text-sm","font-semibold","text-gray-900","truncate","cursor-pointer","hover:text-blue-600",3,"click"],[1,"text-sm","text-gray-500","mt-1","line-clamp-2"],[1,"text-xs","text-gray-400","mt-1"],[1,"text-sm"],[1,"font-medium","text-gray-900"],[1,"text-gray-500"],[1,"text-gray-400"],[1,"flex","items-center","justify-end","gap-2"],["title","View Details",1,"p-2","text-gray-400","hover:text-blue-600","transition-colors",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],[3,"click","title"],["title","Delete",1,"p-2","text-gray-400","hover:text-red-600","transition-colors",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"text-gray-500","text-xs"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"flex","items-start","justify-between","mb-4"],[1,"text-lg","font-semibold","text-gray-900","mb-2","cursor-pointer","hover:text-blue-600",3,"click"],[1,"text-gray-600","text-sm","mb-4","line-clamp-2"],[1,"space-y-2","mb-4"],[1,"flex","justify-between","text-sm"],[1,"font-medium"],[1,"font-semibold","text-lg"],[1,"flex","items-center","justify-between","pt-4","border-t","border-gray-200"],[1,"text-xs","text-gray-500"],[1,"text-sm","text-gray-700"],[1,"px-3","py-2","border","border-gray-300","text-gray-700","rounded-lg","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","text-gray-300","mx-auto","mb-4"],[1,"text-lg","font-semibold","text-gray-900","mb-2"],[1,"text-gray-500","mb-6"],[1,"bg-gradient-to-r","from-blue-600","to-indigo-600","text-white","px-6","py-3","rounded-xl","font-semibold",3,"click"]],template:function(e,n){e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"h1",4),r(6," Projects Management "),i(),t(7,"p",5),r(8,"Manage all projects across the platform"),i()(),t(9,"div",6)(10,"button",7),d("click",function(){return n.exportProjects()}),x(),t(11,"svg",8),m(12,"path",9),i(),r(13," Export "),i(),j(),t(14,"div",10)(15,"button",11),d("click",function(){return n.viewMode.set("list")}),x(),t(16,"svg",12),m(17,"path",13),i()(),j(),t(18,"button",11),d("click",function(){return n.viewMode.set("grid")}),x(),t(19,"svg",12),m(20,"path",14),i()()()()()(),h(21,oe,55,20,"div",15),j(),t(22,"div",16)(23,"div",17)(24,"div",3)(25,"h3",18),r(26,"Filters & Search"),i(),t(27,"button",19),d("click",function(){return n.showAdvancedFilters.set(!n.showAdvancedFilters())}),r(28),i()()(),t(29,"form",20)(30,"div",21)(31,"div")(32,"label",22),r(33,"Search"),i(),m(34,"input",23),i(),t(35,"div")(36,"label",24),r(37,"Status"),i(),t(38,"select",25)(39,"option",26),r(40,"All Statuses"),i(),t(41,"option",27),r(42,"Pending"),i(),t(43,"option",28),r(44,"Accepted"),i(),t(45,"option",29),r(46,"Rejected"),i(),t(47,"option",30),r(48,"In Progress"),i(),t(49,"option",31),r(50,"Awaiting Approval"),i(),t(51,"option",32),r(52,"Completed"),i(),t(53,"option",33),r(54,"Cancelled"),i(),t(55,"option",34),r(56,"Settled"),i()()(),t(57,"div",35)(58,"button",36),d("click",function(){return n.clearFilters()}),r(59," Clear "),i(),t(60,"button",37),d("click",function(){return n.loadProjects()}),r(61," Apply Filters "),i()()(),h(62,re,18,0,"div",38),i()(),h(63,ae,5,1,"div",39)(64,le,23,1,"div",40),t(65,"div",41),h(66,se,4,0,"div",42)(67,Ee,3,2)(68,Ae,9,0,"div",43),i()()()),e&2&&(l(15),v(n.viewMode()==="list"?"px-3 py-2 bg-blue-100 text-blue-700 rounded-l-lg":"px-3 py-2 text-gray-600 hover:bg-gray-50 rounded-l-lg"),l(3),v(n.viewMode()==="grid"?"px-3 py-2 bg-blue-100 text-blue-700 rounded-r-lg":"px-3 py-2 text-gray-600 hover:bg-gray-50 rounded-r-lg"),l(3),g(n.stats()?21:-1),l(7),b(" ",n.showAdvancedFilters()?"Hide":"Show"," Advanced Filters "),l(),P("formGroup",n.filterForm),l(33),g(n.showAdvancedFilters()?62:-1),l(),g(n.error()?63:-1),l(),g(n.selectedCount()>0?64:-1),l(2),g(n.loading()?66:-1),l(),g(!n.loading()&&n.projects()&&n.projects().length>0?67:-1),l(),g(!n.loading()&&(!n.projects()||n.projects().length===0)?68:-1))},dependencies:[G,$,Z,R,Q,W,U,Y,K,z,H,ee,q,J],styles:['.line-clamp-2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.overflow-x-auto[_ngcontent-%COMP%]{scrollbar-width:thin;scrollbar-color:#cbd5e1 #f1f5f9}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:3px}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}table[_ngcontent-%COMP%]{font-variant-numeric:tabular-nums}input[type=checkbox][_ngcontent-%COMP%]:indeterminate{background-color:#3b82f6;border-color:#3b82f6}input[type=checkbox][_ngcontent-%COMP%]:indeterminate:after{content:"";position:absolute;top:50%;left:50%;width:8px;height:2px;background:#fff;transform:translate(-50%,-50%)}.status-badge[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.status-badge[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.border-l-4[_ngcontent-%COMP%]{position:relative}.border-l-4[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;bottom:0;width:4px;background:currentColor;border-radius:0 2px 2px 0}.grid-card[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.grid-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px -3px #0000001a,0 4px 6px -2px #0000000d}.filter-section[_ngcontent-%COMP%]{transition:max-height .3s ease-in-out,opacity .3s ease-in-out}.pagination-active[_ngcontent-%COMP%]{box-shadow:0 4px 14px #3b82f666}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.filter-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.advanced-filter-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}table[_ngcontent-%COMP%]{font-size:.875rem}.px-6[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}}@media (max-width: 640px){.stats-grid[_ngcontent-%COMP%], .advanced-filter-grid[_ngcontent-%COMP%], .grid-cols-3[_ngcontent-%COMP%]{grid-template-columns:1fr}.px-4[_ngcontent-%COMP%]{padding-left:.5rem;padding-right:.5rem}}']})};export{ie as AdminProjectsListComponent};
