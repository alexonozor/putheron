import{a as $,b as ee}from"./chunk-Z2K7S2XA.js";import{h as X,l as Y,m as Z}from"./chunk-VQYWIE5E.js";import"./chunk-XSZRGKJA.js";import"./chunk-CEEB2P3N.js";import{d as J,e as K,h as Q,k as U}from"./chunk-TZEPKFDI.js";import{B as W,c as D,e as f,h as O,i as q,l as j,p as A,r as G,z as H}from"./chunk-BUMYHMI6.js";import"./chunk-RNGT6N3O.js";import"./chunk-RRE7EQHM.js";import"./chunk-HWKOWWIA.js";import{a as R,b as z}from"./chunk-XYNPI2D6.js";import{b as I,c as T,d as V}from"./chunk-T34NS44N.js";import{a as N}from"./chunk-WQPBABDM.js";import"./chunk-LBEA66BC.js";import"./chunk-WJ6YIAW5.js";import"./chunk-YBFS2WES.js";import"./chunk-QD7SSFII.js";import{a as F,b as B}from"./chunk-57PI4XLL.js";import"./chunk-MELUVGUL.js";import{e as P,g as M,h as L}from"./chunk-42IDZLZS.js";import"./chunk-UHITDPPY.js";import{t as E}from"./chunk-UFDTBXZU.js";import{$a as l,$b as g,Eb as _,Fb as d,Gb as c,Lb as m,Mb as n,Nb as r,Ob as s,Vb as S,Zb as h,fa as u,ka as C,la as x,nc as a,oc as k,qb as y,ua as p,yc as w}from"./chunk-WCXAA7HR.js";import{e as b}from"./chunk-JKOY2XUY.js";var ie=()=>["/auth/forgot-password"],oe=()=>["/auth/signup"];function ne(i,e){i&1&&a(0," Email is required ")}function re(i,e){i&1&&a(0," Invalid email format ")}function ae(i,e){if(i&1&&(n(0,"mat-error"),d(1,ne,1,0)(2,re,1,0),r()),i&2){let o=g();l(),c(o.emailControl!=null&&o.emailControl.hasError("required")?1:o.emailControl!=null&&o.emailControl.hasError("email")?2:-1)}}function le(i,e){i&1&&a(0," Password is required ")}function se(i,e){i&1&&a(0," Minimum 6 characters ")}function me(i,e){if(i&1&&(n(0,"mat-error"),d(1,le,1,0)(2,se,1,0),r()),i&2){let o=g();l(),c(o.passwordControl!=null&&o.passwordControl.hasError("required")?1:o.passwordControl!=null&&o.passwordControl.hasError("minlength")?2:-1)}}function de(i,e){if(i&1){let o=S();n(0,"div",21)(1,"button",34),h("click",function(){C(o);let v=g();return x(v.resendVerification())}),a(2," Resend Verification Email "),r()()}if(i&2){let o=g();l(),m("disabled",o.loading())}}function ce(i,e){i&1&&a(0," Sign In ")}function ue(i,e){i&1&&(n(0,"span",23),s(1,"mat-spinner",35),a(2," Signing In... "),r())}var te=class i{authService=u(N);router=u(M);route=u(P);fb=u(H);snackBar=u($);loading=p(!1);showPassword=p(!1);showResendOption=p(!1);unverifiedEmail=p("");loginForm;constructor(){this.loginForm=this.fb.group({email:["",[f.required,f.email]],password:["",[f.required,f.minLength(6)]]})}ngOnInit(){this.route.queryParams.subscribe(e=>{e.message&&this.snackBar.open(e.message,"Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-info"]}),e.email&&this.loginForm.patchValue({email:e.email})})}onSubmit(){return b(this,null,function*(){if(!this.loginForm.valid){this.snackBar.open("Please fill in all required fields correctly","Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-error"]});return}let{email:e,password:o}=this.loginForm.value;this.loading.set(!0);try{let t=yield this.authService.signIn(e,o);t.data?(this.snackBar.open("Login successful! Redirecting...","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-success"]}),setTimeout(()=>{this.router.navigate(["/dashboard"])},1e3)):this.handleLoginError(t.error?.message||"Login failed. Please try again.")}catch(t){this.handleLoginError(t?.message||"An unexpected error occurred. Please try again.")}finally{this.loading.set(!1)}})}handleLoginError(e){if(e.includes("verify your email")||e.includes("email address before logging")){this.snackBar.open(e+" Click below to resend verification email.","Close",{duration:8e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-error"]});let o=this.loginForm.get("email")?.value;o&&(this.unverifiedEmail.set(o),this.showResendOption.set(!0))}else this.snackBar.open(e,"Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-error"]})}resendVerification(){return b(this,null,function*(){if(this.unverifiedEmail()){this.loading.set(!0);try{let e=yield this.authService.resendEmailVerification(this.unverifiedEmail());e.success?(this.snackBar.open("Verification email sent! Please check your inbox.","Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-success"]}),this.showResendOption.set(!1)):this.snackBar.open(e.message||"Failed to resend verification email.","Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-error"]})}catch(e){this.snackBar.open(e?.message||"Failed to resend verification email.","Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-error"]})}finally{this.loading.set(!1)}}})}togglePasswordVisibility(){this.showPassword.update(e=>!e)}get emailControl(){return this.loginForm.get("email")}get passwordControl(){return this.loginForm.get("password")}static \u0275fac=function(o){return new(o||i)};static \u0275cmp=y({type:i,selectors:[["app-login"]],decls:52,vars:16,consts:[[1,"min-h-screen","flex"],[1,"w-full","lg:w-1/2","flex","items-center","justify-center","px-6","py-12","bg-white","relative","overflow-hidden"],[1,"lg:hidden","absolute","top-0","right-0","w-28","h-46","pointer-events-none"],["src","/assets/images/Layer-v.svg","alt","",1,"w-full","h-full"],[1,"lg:hidden","absolute","bottom-0","left-0","w-47","h-25","pointer-events-none"],["src","/assets/images/Layer-x.svg","alt","",1,"w-full","h-full"],[1,"w-full","max-w-md","relative","z-10"],[1,"lg:mb-8","mb-2","text-center"],["routerLink","/",1,"inline-block"],["src","/assets/logos/colored-logo.svg","alt","VouchHer",1,"h-18","lg:h-18","w-auto"],[1,"mb-8","text-center","lg:text-left"],[1,"text-2xl","lg:text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600","hidden","lg:block"],[1,"space-y-6",3,"ngSubmit","formGroup"],["appearance","outline",1,"w-full"],["matInput","","type","email","formControlName","email","placeholder","your@email.com",3,"disabled"],[1,"space-y-2"],["matInput","","formControlName","password","placeholder","Enter your password",3,"type","disabled"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[1,"flex","items-center","justify-end"],[1,"text-sm","font-medium","text-gray-600","hover:text-gray-800",3,"routerLink"],[1,"mb-4"],["mat-flat-button","","color","primary","type","submit",1,"w-full","!py-3","!text-base","!font-medium","!rounded-lg",3,"disabled"],[1,"flex","items-center","justify-center","gap-2"],[1,"text-center","pt-4"],[1,"text-sm","text-gray-600"],[1,"font-medium","text-[#6B0FAE]","hover:text-primary-700","ml-1",3,"routerLink"],[1,"hidden","lg:flex","lg:w-1/2","relative","bg-primary-600","items-center","justify-center","overflow-hidden"],[1,"absolute","inset-0"],["src","/assets/images/login-right-bakground.svg","alt","",1,"w-full","h-full","object-cover"],[1,"relative","z-10","flex","flex-col","items-center","justify-center","text-center","px-12","w-full"],["src","/assets/logos/white-logo.svg","alt","VouchHer",1,"h-24","w-auto","mb-6"],[1,"text-white","text-lg","max-w-2xl","text-left","leading-relaxed","mx-auto"],[1,"text-white","text-lg","max-w-2xl","text-left","leading-relaxed","mt-4","mx-auto"],["mat-stroked-button","","color","primary",1,"w-full",3,"click","disabled"],["diameter","20",1,"!text-white"]],template:function(o,t){o&1&&(n(0,"div",0)(1,"div",1)(2,"div",2),s(3,"img",3),r(),n(4,"div",4),s(5,"img",5),r(),n(6,"div",6)(7,"div",7)(8,"a",8),s(9,"img",9),r()(),n(10,"div",10)(11,"h1",11),a(12,"Welcome back"),r(),n(13,"p",12),a(14,"Sign in to your account to continue"),r()(),n(15,"form",13),h("ngSubmit",function(){return t.onSubmit()}),n(16,"div")(17,"mat-form-field",14)(18,"mat-label"),a(19,"Email Address"),r(),s(20,"input",15),d(21,ae,3,1,"mat-error"),r()(),n(22,"div",16)(23,"mat-form-field",14)(24,"mat-label"),a(25,"Password"),r(),s(26,"input",17),n(27,"button",18),h("click",function(){return t.togglePasswordVisibility()}),n(28,"mat-icon"),a(29),r()(),d(30,me,3,1,"mat-error"),r(),n(31,"div",19)(32,"a",20),a(33," Forgot password? "),r()()(),d(34,de,3,1,"div",21),n(35,"button",22),d(36,ce,1,0)(37,ue,3,0,"span",23),r(),n(38,"div",24)(39,"p",25),a(40," Don't have an account? "),n(41,"a",26),a(42," Sign up "),r()()()()()(),n(43,"div",27)(44,"div",28),s(45,"img",29),r(),n(46,"div",30),s(47,"img",31),n(48,"p",32),a(49," We are a professional and trusted hub that connects ambitious women ready to showcase their skills with businesses seeking top talent to grow. Our platform bridges opportunity and expertise, empowering women to get hired while helping companies discover and hire the best. "),r(),n(50,"p",33),a(51," Together, we create a thriving ecosystem where women advance their careers, businesses achieve sustainable growth and changing the game. "),r()()()()),o&2&&(l(15),m("formGroup",t.loginForm),l(5),m("disabled",t.loading()),l(),c(t.emailControl!=null&&t.emailControl.invalid&&(t.emailControl!=null&&t.emailControl.touched)?21:-1),l(5),m("type",t.showPassword()?"text":"password")("disabled",t.loading()),l(),_("aria-label","Toggle password visibility")("aria-pressed",t.showPassword()),l(2),k(t.showPassword()?"visibility_off":"visibility"),l(),c(t.passwordControl!=null&&t.passwordControl.invalid&&(t.passwordControl!=null&&t.passwordControl.touched)?30:-1),l(2),m("routerLink",w(14,ie)),l(2),c(t.showResendOption()?34:-1),l(),m("disabled",t.loading()||!t.loginForm.valid),l(),c(t.loading()?37:36),l(5),m("routerLink",w(15,oe)))},dependencies:[E,W,j,D,O,q,A,G,L,X,U,J,K,Q,Z,Y,V,T,I,B,F,z,R,ee],styles:["[_nghost-%COMP%]{display:block}  .mat-mdc-form-field{width:100%}  .mat-mdc-text-field-wrapper{background-color:#f9fafb}  .mat-mdc-form-field-subscript-wrapper{margin-top:4px}"]})};export{te as LoginComponent};
