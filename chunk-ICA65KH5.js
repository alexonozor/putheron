import{a as wi,b as yi,c as Si,d as Ei,e as ji,f as Pi,g as Ti,h as ki,i as Mi,j as Di,k as Ii}from"./chunk-BDZQ4PDO.js";import{a as ve,b as be,c as we}from"./chunk-3Z2KB62L.js";import{a as ye,b as Se}from"./chunk-M6SG46UB.js";import{a as Ci,b as vi,c as bi}from"./chunk-IIRPZ7FF.js";import{a as li,b as ui}from"./chunk-KH2KQ6O4.js";import{c as ei,d as ti,e as ii,f as ni,g as oi,h as ai,i as ri}from"./chunk-NMKWBIRH.js";import{a as xe,c as si}from"./chunk-ZSWP64NQ.js";import{a as Zt}from"./chunk-QOTUOTJT.js";import{a as ci,b as di}from"./chunk-O5NR6HJB.js";import{c as _i}from"./chunk-2PZIUYRW.js";import{a as mi,b as pi,c as Je,g as et}from"./chunk-KERUYJQC.js";import"./chunk-7RWCIHFI.js";import{a as gi,b as hi}from"./chunk-UXRD3LOW.js";import{a as Qt}from"./chunk-WJ4DFVWN.js";import{a as fe,b as he}from"./chunk-7IB7WRLI.js";import{a as zt}from"./chunk-4G7QZE4G.js";import{a as Ce,b as Xe,c as Qe,d as Ke,f as Ze,g as z}from"./chunk-FDIJLDTC.js";import{a as xi,b as fi}from"./chunk-WREUMKIM.js";import{a as Jt}from"./chunk-WXJ2446Y.js";import{a as se,b as pe,c as _e,d as ue,f as Xt,g as ge}from"./chunk-FCG53FIE.js";import{b as ce,c as Yt,d as Ye,f as de,i as me}from"./chunk-34MV7HGN.js";import"./chunk-EGMYPSOY.js";import{a as Wt,c as We,d as Ht,e as R,h as ie,i as ne,l as He,o as oe,p as ae,w as re,y as le}from"./chunk-CRQREQD6.js";import{a as Kt}from"./chunk-JJ2CWPBA.js";import"./chunk-SGYCFQGT.js";import"./chunk-MPYKQSNE.js";import{b as ze,c as N,e as L}from"./chunk-XNH753K3.js";import{a as A}from"./chunk-7DY7X3OU.js";import{F as gt,G as B,H as O,U as Ut,V as Gt,j as Lt,l as $t,w as qt}from"./chunk-T77N2UQ2.js";import"./chunk-7XH4VAXZ.js";import{a as Ge}from"./chunk-YYV7O7JP.js";import{$a as jt,Ba as D,Bb as Ne,Ca as Et,Cb as Vt,Eb as M,Fb as I,Ga as m,Ib as ut,Ja as Be,Ka as v,Ma as ee,N as xt,Na as E,Nb as Rt,O as ft,P as ht,Pa as d,Pb as Z,Q as Ct,Qb as At,R as vt,S as b,Sa as T,Sb as S,Ta as k,Ua as o,Va as i,W as bt,Wa as h,X as g,Xa as U,Y as x,Ya as G,Yb as Bt,Z as P,_ as F,_a as C,ab as u,ac as te,ba as wt,bb as c,ca as pt,cb as Pt,db as Tt,ec as Le,fa as yt,gc as V,ha as y,hb as kt,ib as Mt,jb as Dt,jc as Ot,kc as $e,l as q,la as St,mb as Oe,nb as a,ob as _,pb as f,pc as qe,qb as It,ra as K,rc as Y,sa as l,sc as Nt,vc as Ue,wa as _t,wb as Ft,xb as Ee}from"./chunk-YOTEMOQK.js";import{d as w}from"./chunk-QEZ3K4DX.js";var Vi=(n,t)=>t._id;function Gi(n,t){if(n&1&&(o(0,"div",0)(1,"div",2),P(),o(2,"svg",3),h(3,"path",4),i(),F(),o(4,"div")(5,"h3",5),a(6,"Error"),i(),o(7,"p",6),a(8),i()()()()),n&2){let e=c();l(8),_(e.error())}}function zi(n,t){n&1&&(o(0,"div",1),h(1,"div",7),o(2,"span",8),a(3,"Loading..."),i()())}function Wi(n,t){if(n&1){let e=C();o(0,"div",38)(1,"div",50),P(),o(2,"svg",51),h(3,"path",18),i()(),F(),o(4,"h4",52),a(5,"No businesses yet"),i(),o(6,"p",53),a(7,"Get started by creating your first business"),i(),o(8,"button",54),u("click",function(){g(e);let s=c(3);return x(s.navigateToCreateBusiness())}),P(),o(9,"svg",55),h(10,"path",49),i(),a(11," Create Business "),i()()}}function Hi(n,t){if(n&1&&h(0,"img",58),n&2){let e=c().$implicit;v("src",e.logo_url,K)("alt",e.name)}}function Yi(n,t){n&1&&(o(0,"div",59),P(),o(1,"svg",66),h(2,"path",18),i()())}function Xi(n,t){if(n&1){let e=C();o(0,"div",57),u("click",function(){let s=g(e).$implicit,p=c(4);return x(p.viewBusiness(s._id))}),m(1,Hi,1,2,"img",58)(2,Yi,3,0,"div",59),o(3,"div",60)(4,"p",61),a(5),i(),o(6,"div",62)(7,"span",63),a(8),M(9,"titlecase"),i()()(),P(),o(10,"svg",64),h(11,"path",65),i()()}if(n&2){let e=t.$implicit,r=c(4);l(),d(e.logo_url?1:2),l(4),_(e.name),l(2),E(r.getStatusColor(e.status)),l(),f(" ",I(9,5,e.status)," ")}}function Qi(n,t){if(n&1&&(o(0,"div",39),T(1,Xi,12,7,"div",56,Vi),i()),n&2){let e=c(3);l(),k(e.userBusinesses().slice(0,3))}}function Ki(n,t){if(n&1){let e=C();o(0,"div",9)(1,"div",11)(2,"div",12)(3,"div",13)(4,"div")(5,"p",14),a(6,"Total Businesses"),i(),o(7,"p",15),a(8),i()(),o(9,"div",16),P(),o(10,"svg",17),h(11,"path",18),i()()()(),F(),o(12,"div",12)(13,"div",13)(14,"div")(15,"p",14),a(16,"Active Services"),i(),o(17,"p",15),a(18),i()(),o(19,"div",19),P(),o(20,"svg",20),h(21,"path",21)(22,"path",22),i()()()(),F(),o(23,"div",12)(24,"div",13)(25,"div")(26,"p",14),a(27,"Projects"),i(),o(28,"p",15),a(29),i()(),o(30,"div",23),P(),o(31,"svg",24),h(32,"path",25),i()()()(),F(),o(33,"div",12)(34,"div",13)(35,"div")(36,"p",14),a(37,"Total Favorites"),i(),o(38,"p",15),a(39),i()(),o(40,"div",26),P(),o(41,"svg",27),h(42,"path",28),i()()()(),F(),o(43,"div",12)(44,"div",13)(45,"div")(46,"p",14),a(47,"Messages"),i(),o(48,"p",15),a(49,"0"),i()(),o(50,"div",29),P(),o(51,"svg",30),h(52,"path",31),i()()()()(),F(),o(53,"div",32)(54,"div",33)(55,"div",34)(56,"div",13)(57,"h3",35),a(58,"Recent Businesses"),i(),o(59,"button",36),u("click",function(){g(e);let s=c(2);return x(s.setActiveTab("businesses"))}),a(60," View All \u2192 "),i()()(),o(61,"div",37),m(62,Wi,12,0,"div",38)(63,Qi,3,0,"div",39),i()(),o(64,"div",33)(65,"div",34)(66,"h3",35),a(67,"Quick Actions"),i()(),o(68,"div",37)(69,"div",39)(70,"button",40),u("click",function(){g(e);let s=c(2);return x(s.navigateToCreateBusiness())}),o(71,"div",41)(72,"div",42),P(),o(73,"svg",43),h(74,"path",18),i()(),F(),o(75,"div",44)(76,"p",45),a(77,"Create New Business"),i(),o(78,"p",46),a(79,"Set up a new business profile"),i()()()(),o(80,"button",40),u("click",function(){g(e);let s=c(2);return x(s.createService())}),o(81,"div",41)(82,"div",47),P(),o(83,"svg",48),h(84,"path",49),i()(),F(),o(85,"div",44)(86,"p",45),a(87,"Add New Service"),i(),o(88,"p",46),a(89,"Create a service for your business"),i()()()()()()()()()}if(n&2){let e=c(2);l(8),_(e.userBusinesses().length),l(10),_(e.getTotalServices()),l(11),_(e.getTotalProjects()),l(10),_(e.getTotalFavorites()),l(23),d(e.userBusinesses().length===0?62:63)}}function Zi(n,t){if(n&1){let e=C();o(0,"div",70)(1,"div",72),P(),o(2,"svg",73),h(3,"path",18),i()(),F(),o(4,"h3",74),a(5,"No businesses yet"),i(),o(6,"p",53),a(7,"Get started by creating your first business listing."),i(),o(8,"button",75),u("click",function(){g(e);let s=c(3);return x(s.navigateToCreateBusiness())}),P(),o(9,"svg",55),h(10,"path",49),i(),a(11," Create Your First Business "),i()()}}function Ji(n,t){if(n&1&&h(0,"img",58),n&2){let e=c().$implicit;v("src",e.logo_url,K)("alt",e.name+" logo")}}function en(n,t){n&1&&(o(0,"div",59),P(),o(1,"svg",66),h(2,"path",18),i()())}function tn(n,t){if(n&1){let e=C();o(0,"div",77),u("click",function(){let s=g(e).$implicit,p=c(4);return x(p.viewBusiness(s._id))}),o(1,"div",37)(2,"div",78),m(3,Ji,1,2,"img",58)(4,en,3,0,"div",59),o(5,"div",60)(6,"h4",79),a(7),i(),o(8,"span",63),a(9),M(10,"titlecase"),i()()(),o(11,"p",80),a(12),i(),o(13,"div",81)(14,"span"),a(15),i(),o(16,"span"),a(17),i()()(),o(18,"div",82)(19,"div",13)(20,"div",83)(21,"button",84),u("click",function(s){let p=g(e).$implicit,j=c(4);return s.stopPropagation(),x(j.viewBusiness(p._id))}),P(),o(22,"svg",85),h(23,"path",22)(24,"path",86),i()(),F(),o(25,"button",87),u("click",function(s){let p=g(e).$implicit,j=c(4);return s.stopPropagation(),x(j.editBusiness(p._id))}),P(),o(26,"svg",85),h(27,"path",88),i()()(),F(),o(28,"button",89),u("click",function(s){let p=g(e).$implicit,j=c(4);return s.stopPropagation(),x(j.deleteBusiness(p._id))}),P(),o(29,"svg",90),h(30,"path",91),i()()()()()}if(n&2){let e=t.$implicit,r=c(4);l(3),d(e.logo_url?3:4),l(4),_(e.name),l(),E(r.getStatusColor(e.status)),l(),f(" ",I(10,8,e.status)," "),l(3),f(" ",e.short_description||e.description||"No description available"," "),l(3),_(r.getCategoryName(e)),l(2),f("",e.view_count||0," views")}}function nn(n,t){if(n&1&&(o(0,"div",71),T(1,tn,31,10,"div",76,Vi),i()),n&2){let e=c(3);l(),k(e.userBusinesses())}}function on(n,t){if(n&1){let e=C();o(0,"div",10)(1,"div",13)(2,"div")(3,"h2",67),a(4,"Your Businesses"),i(),o(5,"p",68),a(6,"Manage and monitor your business listings"),i()(),o(7,"button",69),u("click",function(){g(e);let s=c(2);return x(s.navigateToCreateBusiness())}),P(),o(8,"svg",55),h(9,"path",49),i(),a(10," New Business "),i()(),m(11,Zi,12,0,"div",70)(12,nn,3,0,"div",71),i()}if(n&2){let e=c(2);l(11),d(e.hasBusinesses()?12:11)}}function an(n,t){if(n&1){let e=C();o(0,"div",10)(1,"div",13)(2,"div")(3,"h2",67),a(4,"Your Services"),i(),o(5,"p",68),a(6,"Manage services across all your businesses"),i()(),o(7,"button",69),u("click",function(){g(e);let s=c(2);return x(s.createService())}),P(),o(8,"svg",55),h(9,"path",49),i(),a(10," New Service "),i()(),F(),o(11,"div",70)(12,"div",72),P(),o(13,"svg",73),h(14,"path",21)(15,"path",22),i()(),F(),o(16,"h3",74),a(17,"Services Management"),i(),o(18,"p",53),a(19,"This feature will be available soon. You can manage services from individual business profiles."),i(),o(20,"button",92),u("click",function(){g(e);let s=c(2);return x(s.setActiveTab("businesses"))}),a(21," View Businesses "),i()()()}}function rn(n,t){n&1&&(o(0,"div",10)(1,"div",13)(2,"div")(3,"h2",67),a(4,"Your Projects"),i(),o(5,"p",68),a(6,"Showcase your work and portfolio"),i()()(),o(7,"div",70)(8,"div",72),P(),o(9,"svg",73),h(10,"path",25),i()(),F(),o(11,"h3",74),a(12,"Projects Coming Soon"),i(),o(13,"p",93),a(14,"Portfolio and project management features will be available in a future update."),i()()())}function ln(n,t){n&1&&(o(0,"div",10)(1,"div",13)(2,"div")(3,"h2",67),a(4,"Messages"),i(),o(5,"p",68),a(6,"Communicate with clients and prospects"),i()()(),o(7,"div",70)(8,"div",72),P(),o(9,"svg",73),h(10,"path",31),i()(),F(),o(11,"h3",74),a(12,"Messaging Coming Soon"),i(),o(13,"p",93),a(14,"Direct messaging and communication features will be available in a future update."),i()()())}function sn(n,t){if(n&1&&m(0,Ki,90,5,"div",9)(1,on,13,1,"div",10)(2,an,22,0,"div",10)(3,rn,15,0,"div",10)(4,ln,15,0,"div",10),n&2){let e,r=c();d((e=r.activeTab())==="overview"?0:e==="businesses"?1:e==="services"?2:e==="projects"?3:e==="messages"?4:-1)}}var tt=class n{authService=b(A);router=b(Y);route=b(qe);businessService=b(Kt);projectService=b(xe);favoritesService=b(Zt);userBusinesses=y([]);userServices=y([]);userProjects=y([]);businessesFavoritesCount=y({});loading=y(!1);error=y(null);activeTab=y("overview");user=this.authService.user;hasBusinesses=S(()=>this.userBusinesses().length>0);totalServices=S(()=>this.userServices().length);totalProjects=S(()=>this.userProjects().length);ngOnInit(){if(!this.user()){this.router.navigate(["/auth"]);return}let t=this.router.url.split("/"),e=t[t.length-1];e==="dashboard"||e==="overview"||e===""?this.activeTab.set("overview"):this.activeTab.set(e),this.loadDashboardData()}loadDashboardData(){return w(this,null,function*(){this.loading.set(!0),this.error.set(null);try{let t=yield this.businessService.getMyBusinessesAsync();this.userBusinesses.set(t);let e=[];for(let r of t)try{let s=yield this.businessService.getBusinessServicesAsync(r._id);e=[...e,...s]}catch(s){console.warn(`Failed to load services for business ${r._id}:`,s)}this.userServices.set(e);try{let r=yield this.projectService.getAllMyProjectsAsync();this.userProjects.set(r)}catch(r){console.warn("Failed to load projects:",r),this.userProjects.set([])}if(t.length>0)try{let r=t.map(p=>p._id),s=yield this.favoritesService.getMultipleBusinessesFavoritesCount(r);this.businessesFavoritesCount.set(s)}catch(r){console.warn("Failed to load businesses favorites count:",r),this.businessesFavoritesCount.set({})}}catch(t){console.error("Error loading dashboard data:",t),this.error.set(t.message||"Failed to load dashboard data")}finally{this.loading.set(!1)}})}setActiveTab(t){this.activeTab.set(t)}getTotalServices(){return this.totalServices()}getTotalProjects(){return this.totalProjects()}getTotalFavorites(){let t=this.businessesFavoritesCount();return Object.values(t).reduce((e,r)=>e+r,0)}navigateToCreateBusiness(){this.router.navigate(["/dashboard/businesses/create-business"])}createService(){if(this.userBusinesses().length===0){alert("Please create a business first before adding services.");return}this.router.navigate(["/dashboard/services/create"])}viewProjects(){this.router.navigate(["/dashboard/projects"])}viewBusiness(t){this.router.navigate(["/business",t])}editBusiness(t){alert("Edit business functionality will be available soon!")}deleteBusiness(t){confirm("Are you sure you want to delete this business? This action cannot be undone.")&&alert("Delete business functionality will be available soon!")}viewProfile(){alert("Profile page will be available soon!")}viewMessages(){alert("Messages page will be available soon!")}getStatusColor(t){switch(t){case"approved":return"text-green-600";case"pending":return"text-yellow-600";case"rejected":return"text-red-600";case"suspended":return"text-gray-600";default:return"text-gray-600"}}getStatusIcon(t){switch(t){case"approved":return"bg-green-400";case"pending":return"bg-yellow-400";case"rejected":return"bg-red-400";case"suspended":return"bg-gray-400";default:return"bg-gray-400"}}getCategoryName(t){return typeof t.category_id=="object"&&t.category_id?.name?t.category_id.name:"Unknown Category"}getSubcategoryName(t){return typeof t.subcategory_id=="object"&&t.subcategory_id?.name?t.subcategory_id.name:null}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-overviews"]],decls:3,vars:2,consts:[[1,"mb-6","bg-red-50","border-l-4","border-red-400","p-4","rounded-r-lg"],[1,"flex","items-center","justify-center","py-12"],[1,"flex"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","text-red-400","mr-3"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"text-sm","font-medium","text-red-800"],[1,"mt-1","text-sm","text-red-700"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-gray-900"],[1,"ml-3","text-gray-600"],[1,"space-y-8"],[1,"space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6"],[1,"bg-white","rounded-xl","border","border-gray-200","p-6","hover:shadow-lg","transition-all","duration-200"],[1,"flex","items-center","justify-between"],[1,"text-sm","font-medium","text-gray-500","mb-1"],[1,"text-3xl","font-bold","text-gray-900"],[1,"p-3","bg-blue-50","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],[1,"p-3","bg-green-50","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"p-3","bg-purple-50","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-purple-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"],[1,"p-3","bg-red-50","rounded-lg"],["fill","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-red-600"],["d","M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"],[1,"p-3","bg-orange-50","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-orange-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-8"],[1,"bg-white","rounded-xl","border","border-gray-200","overflow-hidden"],[1,"px-6","py-4","border-b","border-gray-200"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-sm","text-blue-600","hover:text-blue-800","font-medium","transition-colors",3,"click"],[1,"p-6"],[1,"text-center","py-12"],[1,"space-y-4"],[1,"w-full","flex","items-center","p-4","border-2","border-dashed","border-gray-300","rounded-lg","hover:border-gray-400","hover:bg-gray-50","transition-all","duration-200","group",3,"click"],[1,"flex","items-center","space-x-4"],[1,"p-3","bg-blue-50","rounded-lg","group-hover:bg-blue-100","transition-colors"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-blue-600"],[1,"text-left"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"p-3","bg-green-50","rounded-lg","group-hover:bg-green-100","transition-colors"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"p-4","bg-gray-50","rounded-full","w-16","h-16","mx-auto","mb-4","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-gray-400"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-500","mb-6"],[1,"inline-flex","items-center","px-4","py-2","bg-gray-900","text-white","rounded-lg","hover:bg-gray-800","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],[1,"flex","items-center","space-x-4","p-3","rounded-lg","hover:bg-gray-50","cursor-pointer","transition-all","duration-200","border","border-transparent","hover:border-gray-200"],[1,"flex","items-center","space-x-4","p-3","rounded-lg","hover:bg-gray-50","cursor-pointer","transition-all","duration-200","border","border-transparent","hover:border-gray-200",3,"click"],[1,"h-12","w-12","rounded-lg","object-cover",3,"src","alt"],[1,"h-12","w-12","rounded-lg","bg-gray-100","flex","items-center","justify-center"],[1,"flex-1","min-w-0"],[1,"text-sm","font-medium","text-gray-900","truncate"],[1,"flex","items-center","space-x-2","mt-1"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-gray-400"],[1,"text-xl","font-semibold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"inline-flex","items-center","px-4","py-2","bg-gray-900","text-white","rounded-lg","hover:bg-gray-800","transition-colors","font-medium","text-sm",3,"click"],[1,"bg-white","rounded-xl","border","border-gray-200","p-12","text-center","shadow-sm"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"p-4","bg-gray-50","rounded-full","w-20","h-20","mx-auto","mb-6","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-10","h-10","text-gray-300"],[1,"text-xl","font-medium","text-gray-900","mb-2"],[1,"inline-flex","items-center","px-6","py-3","bg-gray-900","text-white","rounded-lg","hover:bg-gray-800","transition-colors","font-medium",3,"click"],[1,"bg-white","rounded-xl","border","border-gray-200","shadow-sm","hover:shadow-lg","transition-all","cursor-pointer","overflow-hidden"],[1,"bg-white","rounded-xl","border","border-gray-200","shadow-sm","hover:shadow-lg","transition-all","cursor-pointer","overflow-hidden",3,"click"],[1,"flex","items-center","space-x-4","mb-4"],[1,"text-lg","font-medium","text-gray-900","truncate"],[1,"text-sm","text-gray-600","mb-4","line-clamp-2"],[1,"flex","items-center","justify-between","text-xs","text-gray-500"],[1,"px-6","py-3","border-t","border-gray-200","bg-gray-50"],[1,"flex","space-x-2"],["title","View Business",1,"p-2","hover:bg-gray-200","rounded-lg","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["title","Edit Business",1,"p-2","hover:bg-gray-200","rounded-lg","transition-colors",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["title","Delete Business",1,"p-2","hover:bg-red-50","hover:text-red-700","rounded-lg","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","text-gray-700","rounded-lg","hover:bg-gray-50","transition-colors","font-medium",3,"click"],[1,"text-gray-500"]],template:function(e,r){e&1&&m(0,Gi,9,1,"div",0)(1,zi,4,0,"div",1)(2,sn,5,1),e&2&&(d(r.error()?0:-1),l(),d(r.loading()?1:2))},dependencies:[V,te],styles:["[_nghost-%COMP%]{display:block}"]})};var W=(n,t)=>t._id;function cn(n,t){if(n&1&&(o(0,"div",5)(1,"div",8)(2,"mat-icon",9),a(3,"error"),i(),o(4,"div")(5,"h3",10),a(6,"Error"),i(),o(7,"p",11),a(8),i()()()()),n&2){let e=c();l(8),_(e.error())}}function dn(n,t){n&1&&(o(0,"div",6),h(1,"mat-spinner",12),o(2,"span",13),a(3,"Loading projects..."),i()())}function mn(n,t){if(n&1){let e=C();o(0,"div",17)(1,"div",19)(2,"mat-icon",20),a(3,"assignment"),i()(),o(4,"h3",21),a(5,"No project requests yet"),i(),o(6,"p",22),a(7,"Start by browsing businesses and creating your first project request."),i(),o(8,"button",23),u("click",function(){g(e);let s=c(2);return x(s.navigateToHome())}),a(9," Browse Businesses "),i()()}}function pn(n,t){if(n&1&&(o(0,"p",34),a(1),i()),n&2){let e=c().$implicit;l(),_(e.description)}}function _n(n,t){if(n&1){let e=C();o(0,"div",27)(1,"div",28)(2,"div",29)(3,"h3",30),a(4),i(),o(5,"span",31)(6,"mat-icon",32),a(7,"schedule"),i(),a(8),i()(),o(9,"p",33),a(10),i(),m(11,pn,2,1,"p",34),o(12,"div",35)(13,"div",36)(14,"span",37)(15,"mat-icon",38),a(16,"attach_money"),i(),a(17," Budget "),i(),o(18,"span",39),a(19),i()(),o(20,"div",36)(21,"span",37)(22,"mat-icon",38),a(23,"event"),i(),a(24," Submitted "),i(),o(25,"span",40),a(26),i()()()(),o(27,"div",41)(28,"button",42),u("click",function(){let s=g(e).$implicit,p=c(4);return x(p.viewProject(s))}),o(29,"mat-icon"),a(30,"visibility"),i(),a(31," View Details "),i()()()}if(n&2){let e=t.$implicit,r=c(4);l(4),_(e.title),l(),E(r.getStatusColor(e.status)),l(3),f(" ",r.getStatusText(e.status)," "),l(2),_(r.getBusinessName(e)),l(),d(e.description?11:-1),l(8),_(r.formatPrice(e.offered_price)),l(7),_(r.formatDate(e.createdAt))}}function un(n,t){if(n&1&&(o(0,"div",2)(1,"h3",24)(2,"mat-icon",25),a(3,"schedule"),i(),a(4),i(),o(5,"div",26),T(6,_n,32,8,"div",27,W),i()()),n&2){let e=c(3);l(4),f(" Pending Approval (",e.pendingMyProjects().length,") "),l(2),k(e.pendingMyProjects())}}function gn(n,t){if(n&1&&(o(0,"p",34),a(1),i()),n&2){let e=c().$implicit;l(),_(e.description)}}function xn(n,t){if(n&1&&(o(0,"div",36)(1,"span",37)(2,"mat-icon",38),a(3,"check_circle"),i(),a(4," Accepted "),i(),o(5,"span",40),a(6),i()()),n&2){let e=c().$implicit,r=c(4);l(6),_(r.formatDate(e.accepted_at))}}function fn(n,t){if(n&1){let e=C();o(0,"div",27)(1,"div",28)(2,"div",29)(3,"h3",30),a(4),i(),o(5,"span",31)(6,"mat-icon",32),a(7),i(),a(8),i()(),o(9,"p",33),a(10),i(),m(11,gn,2,1,"p",34),o(12,"div",35)(13,"div",36)(14,"span",37)(15,"mat-icon",38),a(16,"attach_money"),i(),a(17," Budget "),i(),o(18,"span",39),a(19),i()(),m(20,xn,7,1,"div",36),i()(),o(21,"div",41)(22,"button",42),u("click",function(){let s=g(e).$implicit,p=c(4);return x(p.viewProject(s))}),o(23,"mat-icon"),a(24,"visibility"),i(),a(25," View Details "),i()()()}if(n&2){let e=t.$implicit,r=c(4);l(4),_(e.title),l(),E(r.getStatusColor(e.status)),l(2),f(" ",e.status==="accepted"?"check_circle":"work"," "),l(),f(" ",r.getStatusText(e.status)," "),l(2),_(r.getBusinessName(e)),l(),d(e.description?11:-1),l(8),_(r.formatPrice(e.offered_price)),l(),d(e.accepted_at?20:-1)}}function hn(n,t){if(n&1&&(o(0,"div",2)(1,"h3",24)(2,"mat-icon",43),a(3,"work"),i(),a(4),i(),o(5,"div",26),T(6,fn,26,9,"div",27,W),i()()),n&2){let e=c(3);l(4),f(" Active Projects (",e.activeMyProjects().length,") "),l(2),k(e.activeMyProjects())}}function Cn(n,t){if(n&1&&(o(0,"p",34),a(1),i()),n&2){let e=c().$implicit;l(),_(e.description)}}function vn(n,t){if(n&1&&(o(0,"div",36)(1,"span",37)(2,"mat-icon",38),a(3,"event_available"),i(),a(4," Completed "),i(),o(5,"span",40),a(6),i()()),n&2){let e=c().$implicit,r=c(4);l(6),_(r.formatDate(e.completed_at))}}function bn(n,t){if(n&1){let e=C();o(0,"div",27)(1,"div",28)(2,"div",29)(3,"h3",30),a(4),i(),o(5,"span",31)(6,"mat-icon",32),a(7,"check_circle"),i(),a(8),i()(),o(9,"p",33),a(10),i(),m(11,Cn,2,1,"p",34),o(12,"div",35)(13,"div",36)(14,"span",37)(15,"mat-icon",38),a(16,"attach_money"),i(),a(17," Final Amount "),i(),o(18,"span",39),a(19),i()(),m(20,vn,7,1,"div",36),i()(),o(21,"div",41)(22,"button",42),u("click",function(){let s=g(e).$implicit,p=c(4);return x(p.viewProject(s))}),o(23,"mat-icon"),a(24,"visibility"),i(),a(25," View Details "),i()()()}if(n&2){let e=t.$implicit,r=c(4);l(4),_(e.title),l(),E(r.getStatusColor(e.status)),l(3),f(" ",r.getStatusText(e.status)," "),l(2),_(r.getBusinessName(e)),l(),d(e.description?11:-1),l(8),_(r.formatPrice(e.offered_price)),l(),d(e.completed_at?20:-1)}}function wn(n,t){if(n&1&&(o(0,"div",2)(1,"h3",24)(2,"mat-icon",44),a(3,"check_circle"),i(),a(4),i(),o(5,"div",26),T(6,bn,26,8,"div",27,W),i()()),n&2){let e=c(3);l(4),f(" Completed Projects (",e.completedMyProjects().length,") "),l(2),k(e.completedMyProjects())}}function yn(n,t){if(n&1&&(o(0,"p",34),a(1),i()),n&2){let e=c().$implicit;l(),_(e.description)}}function Sn(n,t){if(n&1&&(o(0,"div",46)(1,"p",47),a(2,"Rejection Reason:"),i(),o(3,"p",48),a(4),i()()),n&2){let e=c().$implicit;l(4),_(e.rejection_reason)}}function En(n,t){if(n&1&&(o(0,"div",36)(1,"span",37)(2,"mat-icon",38),a(3,"event"),i(),a(4," Rejected "),i(),o(5,"span",40),a(6),i()()),n&2){let e=c().$implicit,r=c(4);l(6),_(r.formatDate(e.rejected_at))}}function jn(n,t){if(n&1){let e=C();o(0,"div",27)(1,"div",28)(2,"div",29)(3,"h3",30),a(4),i(),o(5,"span",31)(6,"mat-icon",32),a(7,"cancel"),i(),a(8),i()(),o(9,"p",33),a(10),i(),m(11,yn,2,1,"p",34)(12,Sn,5,1,"div",46),o(13,"div",35)(14,"div",36)(15,"span",37)(16,"mat-icon",38),a(17,"attach_money"),i(),a(18," Proposed Budget "),i(),o(19,"span",39),a(20),i()(),m(21,En,7,1,"div",36),i()(),o(22,"div",41)(23,"button",42),u("click",function(){let s=g(e).$implicit,p=c(4);return x(p.viewProject(s))}),o(24,"mat-icon"),a(25,"visibility"),i(),a(26," View Details "),i()()()}if(n&2){let e=t.$implicit,r=c(4);l(4),_(e.title),l(),E(r.getStatusColor(e.status)),l(3),f(" ",r.getStatusText(e.status)," "),l(2),_(r.getBusinessName(e)),l(),d(e.description?11:-1),l(),d(e.rejection_reason?12:-1),l(8),_(r.formatPrice(e.offered_price)),l(),d(e.rejected_at?21:-1)}}function Pn(n,t){if(n&1&&(o(0,"div",2)(1,"h3",24)(2,"mat-icon",45),a(3,"cancel"),i(),a(4),i(),o(5,"div",26),T(6,jn,27,9,"div",27,W),i()()),n&2){let e=c(3);l(4),f(" Rejected Projects (",e.rejectedMyProjects().length,") "),l(2),k(e.rejectedMyProjects())}}function Tn(n,t){if(n&1&&(o(0,"p",34),a(1),i()),n&2){let e=c().$implicit;l(),_(e.description)}}function kn(n,t){if(n&1&&(o(0,"div",50)(1,"p",51),a(2,"Cancellation Reason:"),i(),o(3,"p",52),a(4),i()()),n&2){let e=c().$implicit;l(4),_(e.cancellation_reason)}}function Mn(n,t){if(n&1&&(o(0,"div",36)(1,"span",37)(2,"mat-icon",38),a(3,"event"),i(),a(4," Cancelled "),i(),o(5,"span",40),a(6),i()()),n&2){let e=c().$implicit,r=c(4);l(6),_(r.formatDate(e.cancelled_at))}}function Dn(n,t){if(n&1){let e=C();o(0,"div",27)(1,"div",28)(2,"div",29)(3,"h3",30),a(4),i(),o(5,"span",31)(6,"mat-icon",32),a(7,"block"),i(),a(8),i()(),o(9,"p",33),a(10),i(),m(11,Tn,2,1,"p",34)(12,kn,5,1,"div",50),o(13,"div",35)(14,"div",36)(15,"span",37)(16,"mat-icon",38),a(17,"attach_money"),i(),a(18," Budget "),i(),o(19,"span",39),a(20),i()(),m(21,Mn,7,1,"div",36),i()(),o(22,"div",41)(23,"button",42),u("click",function(){let s=g(e).$implicit,p=c(4);return x(p.viewProject(s))}),o(24,"mat-icon"),a(25,"visibility"),i(),a(26," View Details "),i()()()}if(n&2){let e=t.$implicit,r=c(4);l(4),_(e.title),l(),E(r.getStatusColor(e.status)),l(3),f(" ",r.getStatusText(e.status)," "),l(2),_(r.getBusinessName(e)),l(),d(e.description?11:-1),l(),d(e.cancellation_reason?12:-1),l(8),_(r.formatPrice(e.offered_price)),l(),d(e.cancelled_at?21:-1)}}function In(n,t){if(n&1&&(o(0,"div",2)(1,"h3",24)(2,"mat-icon",49),a(3,"block"),i(),a(4),i(),o(5,"div",26),T(6,Dn,27,9,"div",27,W),i()()),n&2){let e=c(3);l(4),f(" Cancelled Projects (",e.cancelledMyProjects().length,") "),l(2),k(e.cancelledMyProjects())}}function Fn(n,t){if(n&1&&m(0,un,8,1,"div",2)(1,hn,8,1,"div",2)(2,wn,8,1,"div",2)(3,Pn,8,1,"div",2)(4,In,8,1,"div",2),n&2){let e=c(2);d(e.pendingMyProjects().length>0?0:-1),l(),d(e.activeMyProjects().length>0?1:-1),l(),d(e.completedMyProjects().length>0?2:-1),l(),d(e.rejectedMyProjects().length>0?3:-1),l(),d(e.cancelledMyProjects().length>0?4:-1)}}function Vn(n,t){n&1&&(o(0,"div",17)(1,"div",19)(2,"mat-icon",20),a(3,"business_center"),i()(),o(4,"h3",21),a(5,"No project inquiries yet"),i(),o(6,"p",22),a(7,"When clients are interested in your services, their project requests will appear here."),i()())}function Rn(n,t){if(n&1&&(o(0,"p",34),a(1),i()),n&2){let e=c().$implicit;l(),_(e.description)}}function An(n,t){if(n&1){let e=C();o(0,"div",27)(1,"div",28)(2,"div",29)(3,"h3",30),a(4),i(),o(5,"span",31)(6,"mat-icon",32),a(7,"schedule"),i(),a(8),i()(),o(9,"p",33),a(10),i(),m(11,Rn,2,1,"p",34),o(12,"div",35)(13,"div",36)(14,"span",37)(15,"mat-icon",38),a(16,"attach_money"),i(),a(17," Client Budget "),i(),o(18,"span",39),a(19),i()(),o(20,"div",36)(21,"span",37)(22,"mat-icon",38),a(23,"event"),i(),a(24," Received "),i(),o(25,"span",40),a(26),i()()()(),o(27,"div",41)(28,"div",53)(29,"button",54),u("click",function(){let s=g(e).$implicit,p=c(4);return x(p.viewProject(s))}),o(30,"mat-icon"),a(31,"visibility"),i(),a(32," View "),i(),o(33,"button",55),u("click",function(){let s=g(e).$implicit,p=c(4);return x(p.acceptProject(s))}),o(34,"mat-icon"),a(35,"check"),i(),a(36," Accept "),i(),o(37,"button",56),u("click",function(){let s=g(e).$implicit,p=c(4);return x(p.rejectProject(s))}),o(38,"mat-icon"),a(39,"close"),i(),a(40," Reject "),i()()()()}if(n&2){let e=t.$implicit,r=c(4);l(4),_(e.title),l(),E(r.getStatusColor(e.status)),l(3),f(" ",r.getStatusText(e.status)," "),l(2),_(r.getClientName(e)),l(),d(e.description?11:-1),l(8),_(r.formatPrice(e.offered_price)),l(7),_(r.formatDate(e.createdAt))}}function Bn(n,t){if(n&1&&(o(0,"div",2)(1,"h3",24)(2,"mat-icon",25),a(3,"schedule"),i(),a(4),i(),o(5,"div",26),T(6,An,41,8,"div",27,W),i()()),n&2){let e=c(3);l(4),f(" Pending Requests (",e.pendingBusinessProjects().length,") "),l(2),k(e.pendingBusinessProjects())}}function On(n,t){if(n&1&&(o(0,"p",34),a(1),i()),n&2){let e=c().$implicit;l(),_(e.description)}}function Nn(n,t){if(n&1&&(o(0,"div",36)(1,"span",37)(2,"mat-icon",38),a(3,"event"),i(),a(4," Deadline "),i(),o(5,"span",40),a(6),i()()),n&2){let e=c().$implicit,r=c(4);l(6),_(r.formatDate(e.deadline))}}function Ln(n,t){if(n&1){let e=C();o(0,"div",27)(1,"div",28)(2,"div",29)(3,"h3",30),a(4),i(),o(5,"span",31)(6,"mat-icon",32),a(7),i(),a(8),i()(),o(9,"p",33),a(10),i(),m(11,On,2,1,"p",34),o(12,"div",35)(13,"div",36)(14,"span",37)(15,"mat-icon",38),a(16,"attach_money"),i(),a(17," Budget "),i(),o(18,"span",39),a(19),i()(),m(20,Nn,7,1,"div",36),i()(),o(21,"div",41)(22,"button",42),u("click",function(){let s=g(e).$implicit,p=c(4);return x(p.viewProject(s))}),o(23,"mat-icon"),a(24,"visibility"),i(),a(25," View Details "),i()()()}if(n&2){let e=t.$implicit,r=c(4);l(4),_(e.title),l(),E(r.getStatusColor(e.status)),l(2),f(" ",e.status==="accepted"?"check_circle":"work"," "),l(),f(" ",r.getStatusText(e.status)," "),l(2),_(r.getClientName(e)),l(),d(e.description?11:-1),l(8),_(r.formatPrice(e.offered_price)),l(),d(e.deadline?20:-1)}}function $n(n,t){if(n&1&&(o(0,"div",2)(1,"h3",24)(2,"mat-icon",43),a(3,"work"),i(),a(4),i(),o(5,"div",26),T(6,Ln,26,9,"div",27,W),i()()),n&2){let e=c(3);l(4),f(" Active Projects (",e.activeBusinessProjects().length,") "),l(2),k(e.activeBusinessProjects())}}function qn(n,t){if(n&1&&(o(0,"p",34),a(1),i()),n&2){let e=c().$implicit;l(),_(e.description)}}function Un(n,t){if(n&1&&(o(0,"div",36)(1,"span",37)(2,"mat-icon",38),a(3,"event_available"),i(),a(4," Completed "),i(),o(5,"span",40),a(6),i()()),n&2){let e=c().$implicit,r=c(4);l(6),_(r.formatDate(e.completed_at))}}function Gn(n,t){if(n&1){let e=C();o(0,"div",27)(1,"div",28)(2,"div",29)(3,"h3",30),a(4),i(),o(5,"span",31)(6,"mat-icon",32),a(7,"check_circle"),i(),a(8),i()(),o(9,"p",33),a(10),i(),m(11,qn,2,1,"p",34),o(12,"div",35)(13,"div",36)(14,"span",37)(15,"mat-icon",38),a(16,"attach_money"),i(),a(17," Final Amount "),i(),o(18,"span",39),a(19),i()(),m(20,Un,7,1,"div",36),i()(),o(21,"div",41)(22,"button",42),u("click",function(){let s=g(e).$implicit,p=c(4);return x(p.viewProject(s))}),o(23,"mat-icon"),a(24,"visibility"),i(),a(25," View Details "),i()()()}if(n&2){let e=t.$implicit,r=c(4);l(4),_(e.title),l(),E(r.getStatusColor(e.status)),l(3),f(" ",r.getStatusText(e.status)," "),l(2),_(r.getClientName(e)),l(),d(e.description?11:-1),l(8),_(r.formatPrice(e.offered_price)),l(),d(e.completed_at?20:-1)}}function zn(n,t){if(n&1&&(o(0,"div",2)(1,"h3",24)(2,"mat-icon",44),a(3,"check_circle"),i(),a(4),i(),o(5,"div",26),T(6,Gn,26,8,"div",27,W),i()()),n&2){let e=c(3);l(4),f(" Completed Projects (",e.completedBusinessProjects().length,") "),l(2),k(e.completedBusinessProjects())}}function Wn(n,t){if(n&1&&(o(0,"p",34),a(1),i()),n&2){let e=c().$implicit;l(),_(e.description)}}function Hn(n,t){if(n&1&&(o(0,"div",46)(1,"p",47),a(2,"Rejection Reason:"),i(),o(3,"p",48),a(4),i()()),n&2){let e=c().$implicit;l(4),_(e.rejection_reason)}}function Yn(n,t){if(n&1&&(o(0,"div",36)(1,"span",37)(2,"mat-icon",38),a(3,"event"),i(),a(4," Rejected "),i(),o(5,"span",40),a(6),i()()),n&2){let e=c().$implicit,r=c(4);l(6),_(r.formatDate(e.rejected_at))}}function Xn(n,t){if(n&1){let e=C();o(0,"div",27)(1,"div",28)(2,"div",29)(3,"h3",30),a(4),i(),o(5,"span",31)(6,"mat-icon",32),a(7,"cancel"),i(),a(8),i()(),o(9,"p",33),a(10),i(),m(11,Wn,2,1,"p",34)(12,Hn,5,1,"div",46),o(13,"div",35)(14,"div",36)(15,"span",37)(16,"mat-icon",38),a(17,"attach_money"),i(),a(18," Client Budget "),i(),o(19,"span",39),a(20),i()(),m(21,Yn,7,1,"div",36),i()(),o(22,"div",41)(23,"button",42),u("click",function(){let s=g(e).$implicit,p=c(4);return x(p.viewProject(s))}),o(24,"mat-icon"),a(25,"visibility"),i(),a(26," View Details "),i()()()}if(n&2){let e=t.$implicit,r=c(4);l(4),_(e.title),l(),E(r.getStatusColor(e.status)),l(3),f(" ",r.getStatusText(e.status)," "),l(2),_(r.getClientName(e)),l(),d(e.description?11:-1),l(),d(e.rejection_reason?12:-1),l(8),_(r.formatPrice(e.offered_price)),l(),d(e.rejected_at?21:-1)}}function Qn(n,t){if(n&1&&(o(0,"div",2)(1,"h3",24)(2,"mat-icon",45),a(3,"cancel"),i(),a(4),i(),o(5,"div",26),T(6,Xn,27,9,"div",27,W),i()()),n&2){let e=c(3);l(4),f(" Rejected Projects (",e.rejectedBusinessProjects().length,") "),l(2),k(e.rejectedBusinessProjects())}}function Kn(n,t){if(n&1&&(o(0,"p",34),a(1),i()),n&2){let e=c().$implicit;l(),_(e.description)}}function Zn(n,t){if(n&1&&(o(0,"div",50)(1,"p",51),a(2,"Cancellation Reason:"),i(),o(3,"p",52),a(4),i()()),n&2){let e=c().$implicit;l(4),_(e.cancellation_reason)}}function Jn(n,t){if(n&1&&(o(0,"div",36)(1,"span",37)(2,"mat-icon",38),a(3,"event"),i(),a(4," Cancelled "),i(),o(5,"span",40),a(6),i()()),n&2){let e=c().$implicit,r=c(4);l(6),_(r.formatDate(e.cancelled_at))}}function eo(n,t){if(n&1){let e=C();o(0,"div",27)(1,"div",28)(2,"div",29)(3,"h3",30),a(4),i(),o(5,"span",31)(6,"mat-icon",32),a(7,"block"),i(),a(8),i()(),o(9,"p",33),a(10),i(),m(11,Kn,2,1,"p",34)(12,Zn,5,1,"div",50),o(13,"div",35)(14,"div",36)(15,"span",37)(16,"mat-icon",38),a(17,"attach_money"),i(),a(18," Budget "),i(),o(19,"span",39),a(20),i()(),m(21,Jn,7,1,"div",36),i()(),o(22,"div",41)(23,"button",42),u("click",function(){let s=g(e).$implicit,p=c(4);return x(p.viewProject(s))}),o(24,"mat-icon"),a(25,"visibility"),i(),a(26," View Details "),i()()()}if(n&2){let e=t.$implicit,r=c(4);l(4),_(e.title),l(),E(r.getStatusColor(e.status)),l(3),f(" ",r.getStatusText(e.status)," "),l(2),_(r.getClientName(e)),l(),d(e.description?11:-1),l(),d(e.cancellation_reason?12:-1),l(8),_(r.formatPrice(e.offered_price)),l(),d(e.cancelled_at?21:-1)}}function to(n,t){if(n&1&&(o(0,"div",2)(1,"h3",24)(2,"mat-icon",49),a(3,"block"),i(),a(4),i(),o(5,"div",26),T(6,eo,27,9,"div",27,W),i()()),n&2){let e=c(3);l(4),f(" Cancelled Projects (",e.cancelledBusinessProjects().length,") "),l(2),k(e.cancelledBusinessProjects())}}function io(n,t){if(n&1&&m(0,Bn,8,1,"div",2)(1,$n,8,1,"div",2)(2,zn,8,1,"div",2)(3,Qn,8,1,"div",2)(4,to,8,1,"div",2),n&2){let e=c(2);d(e.pendingBusinessProjects().length>0?0:-1),l(),d(e.activeBusinessProjects().length>0?1:-1),l(),d(e.completedBusinessProjects().length>0?2:-1),l(),d(e.rejectedBusinessProjects().length>0?3:-1),l(),d(e.cancelledBusinessProjects().length>0?4:-1)}}function no(n,t){if(n&1){let e=C();o(0,"mat-tab-group",14),u("selectedTabChange",function(s){g(e);let p=c();return x(p.onTabChange(s.index))}),o(1,"mat-tab",15)(2,"div",16),m(3,mn,10,0,"div",17)(4,Fn,5,5),i()(),o(5,"mat-tab",18)(6,"div",16),m(7,Vn,8,0,"div",17)(8,io,5,5),i()()()}if(n&2){let e=c();l(3),d(e.myProjects().length===0?3:4),l(4),d(e.businessProjects().length===0?7:8)}}var it=class n{authService=b(A);projectService=b(xe);router=b(Y);loading=y(!1);error=y(null);myProjects=y([]);businessProjects=y([]);activeTab=y(0);user=this.authService.user;pendingMyProjects=S(()=>this.myProjects().filter(t=>t.status==="pending"));activeMyProjects=S(()=>this.myProjects().filter(t=>["accepted","in_progress"].includes(t.status)));completedMyProjects=S(()=>this.myProjects().filter(t=>["completed","settled"].includes(t.status)));rejectedMyProjects=S(()=>this.myProjects().filter(t=>t.status==="rejected"));cancelledMyProjects=S(()=>this.myProjects().filter(t=>t.status==="cancelled"));pendingBusinessProjects=S(()=>this.businessProjects().filter(t=>t.status==="pending"));activeBusinessProjects=S(()=>this.businessProjects().filter(t=>["accepted","in_progress"].includes(t.status)));completedBusinessProjects=S(()=>this.businessProjects().filter(t=>["completed","settled"].includes(t.status)));rejectedBusinessProjects=S(()=>this.businessProjects().filter(t=>t.status==="rejected"));cancelledBusinessProjects=S(()=>this.businessProjects().filter(t=>t.status==="cancelled"));ngOnInit(){if(!this.user()){this.router.navigate(["/auth"]);return}this.loadProjects()}loadProjects(){return w(this,null,function*(){this.loading.set(!0),this.error.set(null);try{let t=yield this.projectService.getMyProjectsAsync("client");this.myProjects.set(t);let e=yield this.projectService.getMyProjectsAsync("business_owner");this.businessProjects.set(e)}catch(t){console.error("Error loading projects:",t),this.error.set("Failed to load projects")}finally{this.loading.set(!1)}})}onTabChange(t){this.activeTab.set(t)}getStatusColor(t){return{pending:"bg-yellow-100 text-yellow-800",accepted:"bg-blue-100 text-blue-800",in_progress:"bg-purple-100 text-purple-800",completed:"bg-green-100 text-green-800",settled:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",cancelled:"bg-orange-100 text-orange-800"}[t]||"bg-gray-100 text-gray-800"}getStatusText(t){return{pending:"Pending",accepted:"Accepted",in_progress:"In Progress",completed:"Completed",settled:"Settled",rejected:"Rejected",cancelled:"Cancelled"}[t]||t}formatPrice(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)}formatDate(t){try{return(typeof t=="string"?new Date(t):t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"Unknown"}}getBusinessName(t){return typeof t.business_id=="object"&&t.business_id.name?t.business_id.name:"Unknown Business"}getClientName(t){if(typeof t.client_id=="object"){let e=t.client_id;return`${e.first_name} ${e.last_name}`}return"Unknown Client"}viewProject(t){this.router.navigate(["/dashboard/projects",t._id])}acceptProject(t){return w(this,null,function*(){try{yield this.projectService.updateProjectAsync(t._id,{status:"accepted"}),this.loadProjects()}catch(e){console.error("Error accepting project:",e),this.error.set("Failed to accept project")}})}rejectProject(t){return w(this,null,function*(){let e=prompt("Please provide a reason for rejection:");if(e)try{yield this.projectService.updateProjectAsync(t._id,{status:"rejected",rejection_reason:e}),this.loadProjects()}catch(r){console.error("Error rejecting project:",r),this.error.set("Failed to reject project")}})}navigateToHome(){this.router.navigate(["/"])}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-projects"]],decls:10,vars:2,consts:[[1,"min-h-screen","bg-gray-50","p-6"],[1,"max-w-7xl","mx-auto"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-gray-600"],[1,"mb-6","bg-red-50","border-l-4","border-red-400","p-4","rounded-r-lg"],[1,"flex","items-center","justify-center","py-12"],[1,"projects-tabs"],[1,"flex"],[1,"text-red-400","mr-3"],[1,"text-sm","font-medium","text-red-800"],[1,"mt-1","text-sm","text-red-700"],["diameter","40"],[1,"ml-3","text-gray-600"],[1,"projects-tabs",3,"selectedTabChange"],["label","My Project Requests"],[1,"py-6"],[1,"bg-white","rounded-xl","border","border-gray-200","p-12","text-center"],["label","Business Inquiries"],[1,"p-4","bg-gray-50","rounded-full","w-20","h-20","mx-auto","mb-6","flex","items-center","justify-center"],[1,"text-gray-400","text-4xl"],[1,"text-xl","font-medium","text-gray-900","mb-2"],[1,"text-gray-500","mb-6"],["mat-raised-button","","color","primary",3,"click"],[1,"text-lg","font-semibold","text-gray-900","mb-4","flex","items-center"],[1,"mr-2","text-yellow-600"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-200","overflow-hidden","hover:shadow-md","transition-shadow","duration-200"],[1,"p-6","pb-4"],[1,"flex","items-start","justify-between","mb-3"],[1,"text-lg","font-semibold","text-gray-900","line-clamp-2"],[1,"inline-flex","items-center","px-2.5","py-1","rounded-full","text-xs","font-medium"],[1,"w-3","h-3","mr-1","text-xs"],[1,"text-sm","text-gray-600","mb-4"],[1,"text-sm","text-gray-700","mb-4","line-clamp-3"],[1,"space-y-3"],[1,"flex","items-center","justify-between"],[1,"text-sm","text-gray-500","flex","items-center"],[1,"w-4","h-4","mr-1"],[1,"text-sm","font-semibold","text-gray-900"],[1,"text-sm","text-gray-700"],[1,"px-6","py-4","bg-gray-50","border-t","border-gray-100"],["mat-stroked-button","",1,"w-full",3,"click"],[1,"mr-2","text-blue-600"],[1,"mr-2","text-green-600"],[1,"mr-2","text-red-600"],[1,"mb-4","p-3","bg-red-50","border","border-red-200","rounded-lg"],[1,"text-sm","text-red-800","font-medium","mb-1"],[1,"text-sm","text-red-700"],[1,"mr-2","text-orange-600"],[1,"mb-4","p-3","bg-orange-50","border","border-orange-200","rounded-lg"],[1,"text-sm","text-orange-800","font-medium","mb-1"],[1,"text-sm","text-orange-700"],[1,"flex","space-x-2"],["mat-stroked-button","",1,"flex-1",3,"click"],["mat-raised-button","","color","primary",1,"flex-1",3,"click"],["mat-button","","color","warn",1,"flex-1",3,"click"]],template:function(e,r){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),a(4,"Projects"),i(),o(5,"p",4),a(6,"Manage your project requests and business inquiries"),i()(),m(7,cn,9,1,"div",5)(8,dn,4,0,"div",6)(9,no,9,2,"mat-tab-group",7),i()()),e&2&&(l(7),d(r.error()?7:-1),l(),d(r.loading()?8:9))},dependencies:[V,Ue,we,ve,be,z,_i,L,N,O,B,he,fe],styles:[".projects-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-body-wrapper{padding-top:0}.project-card[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.project-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026;transform:translateY(-2px)}.project-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{padding-bottom:8px}.project-card[_ngcontent-%COMP%]   .mat-mdc-card-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;line-height:1.4}.project-card[_ngcontent-%COMP%]   .mat-mdc-card-subtitle[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;margin-top:4px}.project-card[_ngcontent-%COMP%]   .mat-mdc-card-content[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.project-card[_ngcontent-%COMP%]   .mat-mdc-card-actions[_ngcontent-%COMP%]{padding-top:8px;display:flex;align-items:center;gap:8px}.project-card[_ngcontent-%COMP%]   .mat-mdc-card-actions.action-buttons[_ngcontent-%COMP%]{flex-wrap:wrap}.project-card[_ngcontent-%COMP%]   .mat-mdc-card-actions.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;min-width:80px}.project-card.pending-request[_ngcontent-%COMP%]{border-left:4px solid #f59e0b;background:linear-gradient(135deg,#fffbeb,#fef3c7)}.line-clamp-2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.status-badge[_ngcontent-%COMP%]{font-weight:500;text-transform:capitalize}@media (max-width: 768px){.project-card[_ngcontent-%COMP%]   .mat-mdc-card-actions.action-buttons[_ngcontent-%COMP%]{flex-direction:column}.project-card[_ngcontent-%COMP%]   .mat-mdc-card-actions.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}.empty-state[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#f1f5f9);border:2px dashed #e2e8f0}"]})};var oo=()=>["pending","accepted","in_progress"],ao=(n,t)=>t.url,ro=(n,t)=>t.name,Bi=(n,t)=>t._id;function lo(n,t){n&1&&(o(0,"button",15)(1,"mat-icon",17),a(2,"hourglass_empty"),i(),a(3," Loading... "),i())}function so(n,t){if(n&1&&(o(0,"span",19),a(1),i()),n&2){let e=c(3);l(),f(" ",e.chatUnreadCount()," ")}}function co(n,t){if(n&1){let e=C();o(0,"button",18),u("click",function(){g(e);let s=c(2);return x(s.goToExistingChat())}),o(1,"mat-icon",17),a(2,"chat"),i(),a(3," Open Chat "),m(4,so,2,1,"span",19),i()}if(n&2){let e=c(2);l(4),d(e.chatUnreadCount()>0?4:-1)}}function mo(n,t){n&1&&(o(0,"button",15)(1,"mat-icon",17),a(2,"hourglass_empty"),i(),a(3," Loading... "),i())}function po(n,t){if(n&1&&(o(0,"span",19),a(1),i()),n&2){let e=c(5);l(),f(" ",e.chatUnreadCount()," ")}}function _o(n,t){if(n&1){let e=C();o(0,"button",18),u("click",function(){g(e);let s=c(4);return x(s.goToExistingChat())}),o(1,"mat-icon",17),a(2,"chat"),i(),a(3," Open Chat "),m(4,po,2,1,"span",19),i()}if(n&2){let e=c(4);l(4),d(e.chatUnreadCount()>0?4:-1)}}function uo(n,t){if(n&1){let e=C();o(0,"button",21),u("click",function(){g(e);let s=c(4);return x(s.startChat())}),o(1,"mat-icon",17),a(2,"chat"),i(),a(3," Start Chat "),i()}}function go(n,t){if(n&1&&m(0,mo,4,0,"button",15)(1,_o,5,1,"button",16)(2,uo,4,0,"button",20),n&2){let e=c(3);d(e.loadingChat()?0:e.existingChat()?1:2)}}function xo(n,t){if(n&1&&m(0,go,3,1),n&2){let e=c(2);d(e.project()&&(e.project().status==="accepted"||e.project().status==="in_progress"||e.project().status==="completed")?0:-1)}}function fo(n,t){if(n&1&&m(0,lo,4,0,"button",15)(1,co,5,1,"button",16)(2,xo,1,1),n&2){let e=c();d(e.loadingChat()?0:e.existingChat()?1:2)}}function ho(n,t){if(n&1&&(o(0,"span",24),a(1),i()),n&2){let e=c(2);l(),f(" ",e.chatUnreadCount()," ")}}function Co(n,t){if(n&1){let e=C();o(0,"button",22),u("click",function(){g(e);let s=c();return x(s.navigateToChat())}),o(1,"mat-icon",23),a(2,"chat"),i(),a(3," Chat with Client "),m(4,ho,2,1,"span",24),i(),o(5,"button",25),u("click",function(){g(e);let s=c();return x(s.acceptProject())}),o(6,"mat-icon",23),a(7,"check_circle"),i(),a(8," Accept Project "),i(),o(9,"button",26),u("click",function(){g(e);let s=c();return x(s.rejectProject())}),o(10,"mat-icon",23),a(11,"cancel"),i(),a(12," Reject Project "),i()}if(n&2){let e=c();l(4),d(e.chatUnreadCount()>0?4:-1)}}function vo(n,t){if(n&1&&(o(0,"span",24),a(1),i()),n&2){let e=c(2);l(),f(" ",e.chatUnreadCount()," ")}}function bo(n,t){if(n&1){let e=C();o(0,"button",22),u("click",function(){g(e);let s=c();return x(s.navigateToChat())}),o(1,"mat-icon",23),a(2,"chat"),i(),a(3," Chat with Client "),m(4,vo,2,1,"span",24),i(),o(5,"button",25),u("click",function(){g(e);let s=c();return x(s.markInProgress())}),o(6,"mat-icon",23),a(7,"play_arrow"),i(),a(8," Start Project "),i()}if(n&2){let e=c();l(4),d(e.chatUnreadCount()>0?4:-1)}}function wo(n,t){if(n&1&&(o(0,"span",24),a(1),i()),n&2){let e=c(2);l(),f(" ",e.chatUnreadCount()," ")}}function yo(n,t){if(n&1){let e=C();o(0,"button",22),u("click",function(){g(e);let s=c();return x(s.navigateToChat())}),o(1,"mat-icon",23),a(2,"chat"),i(),a(3," Chat with Client "),m(4,wo,2,1,"span",24),i(),o(5,"button",27),u("click",function(){g(e);let s=c();return x(s.markCompleted())}),o(6,"mat-icon",23),a(7,"check"),i(),a(8," Mark as Completed "),i()}if(n&2){let e=c();l(4),d(e.chatUnreadCount()>0?4:-1)}}function So(n,t){n&1&&a(0," Chat with Business ")}function Eo(n,t){n&1&&a(0," Chat with Business Owner ")}function jo(n,t){if(n&1&&(o(0,"span",24),a(1),i()),n&2){let e=c(2);l(),f(" ",e.chatUnreadCount()," ")}}function Po(n,t){if(n&1){let e=C();o(0,"div",9)(1,"h3",28),a(2,"Client Actions"),i(),o(3,"div",29)(4,"button",22),u("click",function(){g(e);let s=c();return x(s.navigateToChat())}),o(5,"mat-icon",23),a(6,"chat"),i(),m(7,So,1,0)(8,Eo,1,0)(9,jo,2,1,"span",24),i()()()}if(n&2){let e=c();l(7),d(e.project().status==="pending"?7:8),l(2),d(e.chatUnreadCount()>0?9:-1)}}function To(n,t){if(n&1&&(o(0,"span",24),a(1),i()),n&2){let e=c(2);l(),f(" ",e.chatUnreadCount()," ")}}function ko(n,t){if(n&1){let e=C();o(0,"div",10)(1,"h3",28),a(2,"Project Completion Review"),i(),o(3,"p",30),a(4,"The business owner has marked this project as completed. Please review the work and approve or reject the completion."),i(),o(5,"div",29)(6,"button",25),u("click",function(){g(e);let s=c();return x(s.approveCompletion())}),o(7,"mat-icon",23),a(8,"check_circle"),i(),a(9," Approve Completion "),i(),o(10,"button",26),u("click",function(){g(e);let s=c();return x(s.rejectCompletion())}),o(11,"mat-icon",23),a(12,"cancel"),i(),a(13," Request Changes "),i(),o(14,"button",22),u("click",function(){g(e);let s=c();return x(s.navigateToChat())}),o(15,"mat-icon",23),a(16,"chat"),i(),a(17," Discuss with Business Owner "),m(18,To,2,1,"span",24),i()()()}if(n&2){let e=c();l(18),d(e.chatUnreadCount()>0?18:-1)}}function Mo(n,t){n&1&&(o(0,"p",30),a(1,"You have already reviewed this project. Click below to view your review."),i())}function Do(n,t){n&1&&(o(0,"p",30),a(1,"Share your experience with this business to help other clients make informed decisions."),i())}function Io(n,t){if(n&1){let e=C();o(0,"div",11)(1,"h3",28),a(2,"Project Review"),i(),m(3,Mo,2,0,"p",30)(4,Do,2,0,"p",30),o(5,"div",29)(6,"button",31),u("click",function(){g(e);let s=c();return x(s.handleReviewAction())}),o(7,"mat-icon",23),a(8),i(),a(9),i()()()}if(n&2){let e=c();l(3),d(e.existingReview()?3:4),l(5),_(e.existingReview()?"visibility":"star"),l(),f(" ",e.reviewButtonText()," ")}}function Fo(n,t){if(n&1&&(o(0,"div",12)(1,"div",32)(2,"div",33)(3,"mat-icon",34),a(4,"error"),i()(),o(5,"div",35)(6,"h3",36),a(7,"Error"),i(),o(8,"p",37),a(9),i()()()()),n&2){let e=c();l(9),_(e.error())}}function Vo(n,t){n&1&&(o(0,"div",13),h(1,"mat-spinner",38),o(2,"p",39),a(3,"Loading project details..."),i()())}function Ro(n,t){if(n&1&&a(0),n&2){let e=c(2);f(" Project with ",e.getBusinessName(e.project())," ")}}function Ao(n,t){if(n&1&&a(0),n&2){let e=c(2);f(" Project from ",e.getClientName(e.project())," ")}}function Bo(n,t){if(n&1&&(o(0,"div")(1,"h3",62),a(2,"Description"),i(),o(3,"p",63),a(4),i()()),n&2){let e=c(2);l(4),_(e.project().description)}}function Oo(n,t){if(n&1&&(o(0,"div")(1,"h3",62),a(2,"Additional Notes"),i(),o(3,"p",63),a(4),i()()),n&2){let e=c(2);l(4),_(e.project().additional_notes)}}function No(n,t){if(n&1&&(o(0,"div")(1,"h3",62),a(2,"Project Image"),i(),o(3,"div",64),h(4,"img",65),i()()),n&2){let e=c(2);l(4),v("src",e.project().image_url,K)("alt",e.project().title)}}function Lo(n,t){if(n&1&&(o(0,"div",67)(1,"div",69)(2,"div",70)(3,"mat-icon",71),a(4),i()(),o(5,"div",72)(6,"p",73),a(7),i(),o(8,"p",74),a(9),i(),o(10,"p",75),a(11),i()()(),o(12,"a",76)(13,"mat-icon",77),a(14,"download"),i(),a(15," Download "),i()()),n&2){let e=t.$implicit,r=c(3);l(4),_(r.getFileIcon(e.type)),l(3),_(e.name),l(2),_(r.formatFileSize(e.size)),l(2),_(e.type.split("/")[1]||"file"),l(),v("href",e.url,K)}}function $o(n,t){if(n&1&&(o(0,"div")(1,"h3",28),a(2,"Project Documents"),i(),o(3,"div",66),T(4,Lo,16,5,"div",67,ao),i(),o(6,"p",68),a(7),i()()),n&2){let e=c(2);l(4),k(e.project().attachments),l(3),f("",e.project().attachments.length," document(s) attached to this project")}}function qo(n,t){if(n&1&&(o(0,"p",83),a(1),i()),n&2){let e=c().$implicit;l(),_(e.description)}}function Uo(n,t){if(n&1&&(o(0,"div",84)(1,"mat-icon",77),a(2,"attach_money"),i(),a(3),i()),n&2){let e=c().$implicit,r=c(3);l(3),f(" ",r.formatServicePrice(e.price,e.pricing_type)," ")}}function Go(n,t){n&1&&(o(0,"div",85)(1,"mat-icon",77),a(2,"help_outline"),i(),a(3," Price not specified "),i())}function zo(n,t){if(n&1&&(o(0,"div",79)(1,"div",43)(2,"div",44)(3,"div",80)(4,"mat-icon",81),a(5,"star"),i(),o(6,"h4",82),a(7),i()(),m(8,qo,2,1,"p",83)(9,Uo,4,1,"div",84)(10,Go,4,0,"div",85),i()()()),n&2){let e=t.$implicit;l(7),_(e.name),l(),d(e.description?8:-1),l(),d(e.price?9:10)}}function Wo(n,t){if(n&1&&(o(0,"div")(1,"h3",28),a(2,"Selected Services"),i(),o(3,"div",78),T(4,zo,11,3,"div",79,ro),i(),o(6,"p",68),a(7),i()()),n&2){let e=c(2);l(4),k(e.getServiceDetails(e.project())),l(3),f("",e.getServiceDetails(e.project()).length," service(s) selected for this project")}}function Ho(n,t){n&1&&(o(0,"div")(1,"h3",62),a(2,"Selected Services"),i(),o(3,"div",86)(4,"div",87)(5,"mat-icon",88),a(6,"info"),i(),o(7,"p",89),a(8,"No specific services selected for this project"),i()()()())}function Yo(n,t){if(n&1&&(o(0,"div",48)(1,"h3",90)(2,"mat-icon",91),a(3,"error_outline"),i(),a(4," Rejection Reason "),i(),o(5,"p",92),a(6),i()()),n&2){let e=c(2);l(6),_(e.project().rejection_reason)}}function Xo(n,t){n&1&&a(0," Business Information ")}function Qo(n,t){n&1&&a(0," Client Information ")}function Ko(n,t){if(n&1&&h(0,"img",93),n&2){let e=c();v("src",e.logo_url,K)("alt",e.name)}}function Zo(n,t){n&1&&(o(0,"div",94)(1,"mat-icon",97),a(2,"business"),i()())}function Jo(n,t){if(n&1&&(o(0,"div",96)(1,"mat-icon",98),a(2,"link"),i(),o(3,"span",99),a(4),i()()),n&2){let e=c();l(4),f("/business/",e.slug,"")}}function ea(n,t){if(n&1){let e=C();o(0,"div",51),m(1,Ko,1,2,"img",93)(2,Zo,3,0,"div",94),o(3,"div",44)(4,"button",95),u("click",function(){let s=g(e),p=c(2);return x(p.navigateToBusinessProfile(s.slug))}),a(5),i(),o(6,"p",5),a(7,"Click to view business profile"),i(),m(8,Jo,5,1,"div",96),i()()}if(n&2){let e=t;l(),d(e.logo_url?1:2),l(4),f(" ",e.name," "),l(3),d(e.slug?8:-1)}}function ta(n,t){if(n&1&&(o(0,"p",5),a(1),i()),n&2){let e=c();l(),_(e.email)}}function ia(n,t){if(n&1&&(o(0,"div",51)(1,"div",100)(2,"mat-icon",97),a(3,"person"),i()(),o(4,"div",44)(5,"h3",101),a(6),i(),m(7,ta,2,1,"p",5),o(8,"p",102),a(9,"Project Client"),i()()()),n&2){let e=t;l(6),It(" ",e.first_name," ",e.last_name," "),l(),d(e.email?7:-1)}}function na(n,t){if(n&1&&(o(0,"div",59)(1,"p",57),a(2,"Deadline"),i(),o(3,"p",54),a(4),i()()),n&2){let e=c(2);l(4),_(e.formatDate(e.project().deadline))}}function oa(n,t){if(n&1&&(o(0,"div",59)(1,"p",57),a(2,"Accepted"),i(),o(3,"p",54),a(4),i()()),n&2){let e=c(2);l(4),_(e.formatDate(e.project().accepted_at))}}function aa(n,t){if(n&1&&(o(0,"div",59)(1,"p",57),a(2,"Completed"),i(),o(3,"p",54),a(4),i()()),n&2){let e=c(2);l(4),_(e.formatDate(e.project().completed_at))}}function ra(n,t){if(n&1&&(o(0,"div",59)(1,"p",57),a(2,"Rejected"),i(),o(3,"p",54),a(4),i()()),n&2){let e=c(2);l(4),_(e.formatDate(e.project().rejected_at))}}function la(n,t){n&1&&(o(0,"div",105),h(1,"mat-spinner",107),o(2,"span",108),a(3,"Loading payment requests..."),i()())}function sa(n,t){if(n&1&&(o(0,"p",112),a(1),i()),n&2){let e=c().$implicit;l(),_(e.payment_description)}}function ca(n,t){if(n&1&&(o(0,"p",89),a(1),i()),n&2){let e=c().$implicit;l(),_(e.content)}}function da(n,t){if(n&1){let e=C();o(0,"div",113)(1,"button",114),u("click",function(){g(e);let s=c().$implicit,p=c(4);return x(p.approvePaymentRequest(s))}),o(2,"mat-icon",77),a(3,"check"),i(),a(4," Approve & Pay "),i(),o(5,"button",115),u("click",function(){g(e);let s=c().$implicit,p=c(4);return x(p.rejectPaymentRequest(s))}),o(6,"mat-icon",77),a(7,"close"),i(),a(8," Reject "),i()()}}function ma(n,t){if(n&1&&(o(0,"div",109)(1,"div",110)(2,"div",44)(3,"div",80)(4,"span"),a(5),M(6,"titlecase"),i(),o(7,"span",74),a(8),i()(),o(9,"h4",111),a(10),M(11,"currency"),i(),m(12,sa,2,1,"p",112)(13,ca,2,1,"p",89),i()(),m(14,da,9,0,"div",113),i()),n&2){let e=t.$implicit,r=c(4);l(4),E("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+r.getPaymentStatusColor(e.payment_status||"pending")),l(),f(" ",I(6,8,e.payment_status||"pending")," "),l(3),_(r.formatPaymentTime(e.createdAt)),l(2),f(" ",ut(11,10,e.payment_amount,"USD","symbol","1.0-0")," "),l(2),d(e.payment_description?12:-1),l(),d(e.content?13:-1),l(),d(e.payment_status==="pending"?14:-1)}}function pa(n,t){if(n&1&&T(0,ma,15,15,"div",109,Bi),n&2){let e=c(3);k(e.pendingPaymentRequests())}}function _a(n,t){n&1&&(o(0,"div",106)(1,"mat-icon",116),a(2,"payment"),i(),o(3,"p",89),a(4,"No pending payment requests"),i()())}function ua(n,t){if(n&1&&(o(0,"div",41)(1,"div",53)(2,"h3",103)(3,"mat-icon",104),a(4,"payment"),i(),a(5," Payment Requests "),i()(),o(6,"div",60),m(7,la,4,0,"div",105)(8,pa,2,0)(9,_a,5,0,"div",106),i()()),n&2){let e=c(2);l(7),d(e.loadingPaymentRequests()?7:8),l(2),d(!e.loadingPaymentRequests()&&e.pendingPaymentRequests().length===0?9:-1)}}function ga(n,t){n&1&&(o(0,"div",105),h(1,"mat-spinner",107),o(2,"span",108),a(3,"Loading payment history..."),i()())}function xa(n,t){if(n&1&&(o(0,"p",122),a(1),i()),n&2){let e=c().$implicit;l(),_(e.payment_description)}}function fa(n,t){if(n&1&&(o(0,"p",99),a(1),i()),n&2){let e=c().$implicit;l(),_(e.content)}}function ha(n,t){n&1&&(o(0,"mat-icon",124),a(1,"check_circle"),i())}function Ca(n,t){n&1&&(o(0,"mat-icon",125),a(1,"cancel"),i())}function va(n,t){n&1&&(o(0,"mat-icon",126),a(1,"schedule"),i())}function ba(n,t){if(n&1){let e=C();o(0,"div",113)(1,"button",114),u("click",function(){g(e);let s=c().$implicit,p=c(4);return x(p.approvePaymentRequest(s))}),o(2,"mat-icon",77),a(3,"check"),i(),a(4," Approve & Pay "),i(),o(5,"button",115),u("click",function(){g(e);let s=c().$implicit,p=c(4);return x(p.rejectPaymentRequest(s))}),o(6,"mat-icon",77),a(7,"close"),i(),a(8," Reject "),i()()}}function wa(n,t){if(n&1&&(o(0,"div",120)(1,"div",110)(2,"div",44)(3,"div",80)(4,"span"),a(5),M(6,"titlecase"),i(),o(7,"span",74),a(8),i()(),o(9,"h4",121),a(10),M(11,"currency"),i(),m(12,xa,2,1,"p",122)(13,fa,2,1,"p",99),i(),o(14,"div",123),m(15,ha,2,0,"mat-icon",124)(16,Ca,2,0,"mat-icon",125)(17,va,2,0,"mat-icon",126),i()(),m(18,ba,9,0,"div",113),i()),n&2){let e=t.$implicit,r=c(4);l(4),E("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+r.getPaymentStatusColor(e.payment_status||"pending")),l(),f(" ",I(6,9,e.payment_status||"pending")," "),l(3),_(r.formatPaymentTime(e.createdAt)),l(2),f(" ",ut(11,11,e.payment_amount,"USD","symbol","1.0-0")," "),l(2),d(e.payment_description?12:-1),l(),d(e.content?13:-1),l(2),d(e.payment_status==="approved"?15:e.payment_status==="rejected"?16:17),l(3),d(e.payment_status==="pending"&&r.isClient()?18:-1)}}function ya(n,t){if(n&1&&(o(0,"div",78),T(1,wa,19,16,"div",120,Bi),i()),n&2){let e=c(3);l(),k(e.paymentRequests())}}function Sa(n,t){n&1&&(o(0,"div",119)(1,"mat-icon",127),a(2,"payment"),i(),o(3,"p",89),a(4,"No payment requests have been made for this project"),i()())}function Ea(n,t){if(n&1&&(o(0,"div",41)(1,"div",53)(2,"h3",103)(3,"mat-icon",117),a(4,"history"),i(),a(5," Payment Request History "),i()(),o(6,"div",118),m(7,ga,4,0,"div",105)(8,ya,3,0,"div",78)(9,Sa,5,0,"div",119),i()()),n&2){let e=c(2);l(7),d(e.loadingPaymentRequests()?7:8),l(2),d(!e.loadingPaymentRequests()&&e.paymentRequests().length===0?9:-1)}}function ja(n,t){if(n&1){let e=C();o(0,"div",14)(1,"div",40)(2,"div",41)(3,"div",42)(4,"div",43)(5,"div",44)(6,"h2",45),a(7),i(),o(8,"p",5),m(9,Ro,1,1)(10,Ao,1,1),i()(),o(11,"div",46)(12,"span"),a(13),i()()()(),o(14,"div",47),m(15,Bo,5,1,"div")(16,Oo,5,1,"div")(17,No,5,2,"div")(18,$o,8,1,"div")(19,Wo,8,1,"div")(20,Ho,9,0,"div")(21,Yo,7,1,"div",48),i()(),o(22,"div",41)(23,"div",42)(24,"h2",49),m(25,Xo,1,0)(26,Qo,1,0),i()(),o(27,"div",50),m(28,ea,9,3,"div",51)(29,ia,10,3,"div",51),i()()(),o(30,"div",52)(31,"div",41)(32,"div",53)(33,"h3",54),a(34,"Project Details"),i()(),o(35,"div",55)(36,"div",56)(37,"p",57),a(38,"Budget"),i(),o(39,"p",58),a(40),i()(),m(41,na,5,1,"div",59),o(42,"div",59)(43,"p",57),a(44,"Created"),i(),o(45,"p",54),a(46),i()(),m(47,oa,5,1,"div",59)(48,aa,5,1,"div",59)(49,ra,5,1,"div",59),i()(),m(50,ua,10,2,"div",41)(51,Ea,10,2,"div",41),o(52,"div",41)(53,"div",53)(54,"h3",54),a(55,"Actions"),i()(),o(56,"div",60)(57,"button",61),u("click",function(){g(e);let s=c();return x(s.goBack())}),o(58,"mat-icon",17),a(59,"arrow_back"),i(),a(60," Back to Projects "),i()()()()()}if(n&2){let e,r,s=c();l(7),_(s.project().title),l(2),d(s.isClient()?9:s.isBusinessOwner()?10:-1),l(3),E("inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold "+s.getStatusColor(s.project().status)),l(),f(" ",s.getStatusText(s.project().status)," "),l(2),d(s.project().description?15:-1),l(),d(s.project().additional_notes?16:-1),l(),d(s.project().image_url?17:-1),l(),d(s.project().attachments&&s.project().attachments.length>0?18:-1),l(),d(s.getServiceDetails(s.project()).length>0?19:20),l(2),d(s.project().rejection_reason?21:-1),l(4),d(s.isClient()?25:s.isBusinessOwner()?26:-1),l(3),d((e=s.isClient()&&s.getBusinessInfo(s.project()))?28:-1,e),l(),d((r=s.isBusinessOwner()&&s.getClientInfo(s.project()))?29:-1,r),l(11),_(s.formatPrice(s.project().offered_price)),l(),d(s.project().deadline?41:-1),l(5),_(s.formatDate(s.project().createdAt)),l(),d(s.project().accepted_at?47:-1),l(),d(s.project().completed_at?48:-1),l(),d(s.project().rejected_at?49:-1),l(),d(s.isClient()&&s.hasPendingPaymentRequests()?50:-1),l(),d(s.paymentRequests().length>0?51:-1)}}var nt=class n{route=b(qe);router=b(Y);projectService=b(xe);authService=b(A);chatService=b(Ci);reviewService=b(si);dashboardRefreshService=b(li);dialog=b(Je);loading=y(!1);error=y(null);project=y(null);existingChat=y(null);chatUnreadCount=y(0);loadingChat=y(!1);paymentRequests=y([]);loadingPaymentRequests=y(!1);canLeaveReview=y(!1);existingReview=y(null);user=this.authService.user;isClient=S(()=>{let t=this.project(),e=this.user();if(!t||!e)return!1;let r=typeof t.client_id=="string"?t.client_id:t.client_id?._id;return e._id===r});isBusinessOwner=S(()=>{let t=this.project(),e=this.user();if(!t||!e)return!1;let r=typeof t.business_owner_id=="string"?t.business_owner_id:t.business_owner_id?._id;return e._id===r});pendingPaymentRequests=S(()=>this.paymentRequests().filter(t=>t.message_type==="payment_request"&&t.payment_status==="pending"));approvedPaymentRequests=S(()=>this.paymentRequests().filter(t=>t.message_type==="payment_request"&&t.payment_status==="approved"));rejectedPaymentRequests=S(()=>this.paymentRequests().filter(t=>t.message_type==="payment_request"&&t.payment_status==="rejected"));hasPendingPaymentRequests=S(()=>this.pendingPaymentRequests().length>0);hasPaymentHistory=S(()=>this.paymentRequests().length>0);reviewButtonText=S(()=>{let t=this.existingReview(),e=this.canLeaveReview();return t?`View Review (${t.rating}\u2B50)`:e?"Leave Review":""});showReviewButton=S(()=>{let t=this.canLeaveReview(),e=this.existingReview();return!!(t||e)});ngOnInit(){if(!this.user()){this.router.navigate(["/auth"]);return}let t=this.route.snapshot.params.id;if(!t){this.error.set("Project ID is required"),this.router.navigate(["/dashboard/projects"]);return}this.loadProject(t)}loadProject(t){return w(this,null,function*(){this.loading.set(!0),this.error.set(null);try{let e=yield this.projectService.getProjectAsync(t);if(this.project.set(e),e.status==="accepted"||e.status==="in_progress"||e.status==="awaiting_client_approval"||e.status==="completed"){yield this.checkForExistingChat(t);let r=this.existingChat();r&&(yield this.loadPaymentRequests(r._id))}yield this.checkReviewEligibility(),console.log("Review service available:",!!this.reviewService)}catch(e){console.error("Error loading project:",e),this.error.set("Failed to load project details")}finally{this.loading.set(!1)}})}checkForExistingChat(t){return w(this,null,function*(){this.loadingChat.set(!0);try{let e=yield this.chatService.getChatByProjectIdAsync(t);if(this.existingChat.set(e),e){let r=yield this.chatService.getChatUnreadCountAsync(e._id);this.chatUnreadCount.set(r)}}catch(e){console.error("Error checking for existing chat:",e)}finally{this.loadingChat.set(!1)}})}loadPaymentRequests(t){return w(this,null,function*(){this.loadingPaymentRequests.set(!0);try{let r=(yield this.chatService.getChatMessagesAsync(t)).filter(s=>s.message_type==="payment_request");this.paymentRequests.set(r)}catch(e){console.error("Error loading payment requests:",e)}finally{this.loadingPaymentRequests.set(!1)}})}goBack(){this.router.navigate(["/dashboard/projects"])}acceptProject(){return w(this,null,function*(){let t=this.project();if(t)try{yield this.projectService.updateProjectAsync(t._id,{status:"accepted"}),this.loadProject(t._id),this.dashboardRefreshService.triggerRefresh()}catch(e){console.error("Error accepting project:",e),this.error.set("Failed to accept project")}})}rejectProject(){return w(this,null,function*(){let t=this.project();if(!t)return;let e=prompt("Please provide a reason for rejection:");if(e)try{yield this.projectService.updateProjectAsync(t._id,{status:"rejected",rejection_reason:e}),this.loadProject(t._id),this.dashboardRefreshService.triggerRefresh()}catch(r){console.error("Error rejecting project:",r),this.error.set("Failed to reject project")}})}markInProgress(){return w(this,null,function*(){let t=this.project();if(t)try{yield this.projectService.updateProjectAsync(t._id,{status:"in_progress"}),this.loadProject(t._id),this.dashboardRefreshService.triggerRefresh()}catch(e){console.error("Error marking project as in progress:",e),this.error.set("Failed to update project status")}})}markCompleted(){return w(this,null,function*(){let t=this.project();if(t)try{yield this.projectService.updateProjectAsync(t._id,{status:"completed"}),this.loadProject(t._id),this.dashboardRefreshService.triggerRefresh()}catch(e){console.error("Error marking project as completed:",e),this.error.set("Failed to update project status")}})}startChat(){return w(this,null,function*(){let t=this.project();if(t)try{let e=yield this.chatService.createOrGetChatAsync({project_id:t._id});this.router.navigate(["/dashboard/messages/chat",e._id])}catch(e){console.error("Error starting chat:",e),alert("Failed to start chat. Please try again.")}})}goToExistingChat(){return w(this,null,function*(){let t=this.existingChat();t&&this.router.navigate(["/dashboard/messages/chat",t._id])})}getStatusColor(t){return{pending:"bg-yellow-100 text-yellow-800 border-yellow-200",accepted:"bg-blue-100 text-blue-800 border-blue-200",in_progress:"bg-purple-100 text-purple-800 border-purple-200",awaiting_client_approval:"bg-orange-100 text-orange-800 border-orange-200",completed:"bg-green-100 text-green-800 border-green-200",rejected:"bg-red-100 text-red-800 border-red-200",cancelled:"bg-gray-100 text-gray-800 border-gray-200"}[t]||"bg-gray-100 text-gray-800 border-gray-200"}getStatusText(t){return{pending:"Pending",accepted:"Accepted",in_progress:"In Progress",awaiting_client_approval:"Awaiting Your Approval",completed:"Completed",rejected:"Rejected",cancelled:"Cancelled"}[t]||t}approveCompletion(){return w(this,null,function*(){let t=this.project();if(t)try{let e=this.existingChat();if(e){let s=(yield this.chatService.getChatMessagesAsync(e._id)).filter(p=>p.message_type==="completion_request"&&p.completion_status==="pending").sort((p,j)=>new Date(j.createdAt).getTime()-new Date(p.createdAt).getTime())[0];s&&(yield this.chatService.respondToCompletionRequestAsync(e._id,s._id,{status:"approved"}))}else yield this.projectService.updateProjectAsync(t._id,{status:"completed"});yield this.loadProject(t._id),yield this.checkReviewEligibility(),this.dashboardRefreshService.triggerRefresh()}catch(e){console.error("Error approving completion:",e),this.error.set("Failed to approve completion")}})}rejectCompletion(){return w(this,null,function*(){let t=this.project();if(!t)return;let e=prompt("Please provide a reason for rejecting the completion:");if(e)try{let r=this.existingChat();if(r){let p=(yield this.chatService.getChatMessagesAsync(r._id)).filter(j=>j.message_type==="completion_request"&&j.completion_status==="pending").sort((j,$)=>new Date($.createdAt).getTime()-new Date(j.createdAt).getTime())[0];p&&(yield this.chatService.respondToCompletionRequestAsync(r._id,p._id,{status:"rejected",rejection_reason:e}))}else yield this.projectService.updateProjectAsync(t._id,{status:"in_progress"});yield this.loadProject(t._id),this.dashboardRefreshService.triggerRefresh()}catch(r){console.error("Error rejecting completion:",r),this.error.set("Failed to reject completion")}})}canApproveCompletion(){let t=this.project(),e=this.user();if(!t||!e)return!1;let r=typeof t.client_id=="string"?t.client_id:t.client_id?._id;return t.status==="awaiting_client_approval"&&r===e._id}approvePaymentRequest(t){return w(this,null,function*(){try{let e=this.existingChat(),r=this.project();if(!e||!r)return;let s=typeof r.business_id=="string"?"Business Owner":r.business_id?.name||"Business Owner";this.dialog.open(vi,{width:"500px",disableClose:!0,data:{amount:t.payment_amount?.toString()||"0",description:t.payment_description||"Additional payment",businessName:s,chatId:e._id,messageId:t._id}}).afterClosed().subscribe(j=>w(this,null,function*(){if(j&&j.paymentIntentId)try{yield this.loadPaymentRequests(e._id),console.log("Payment approved successfully with method:",j.paymentMethod),console.log("Payment completed for amount:",j.amount)}catch($){console.error("Error approving payment request:",$),this.error.set("Failed to approve payment request")}}))}catch(e){console.error("Error opening payment modal:",e),this.error.set("Failed to open payment modal")}})}rejectPaymentRequest(t){return w(this,null,function*(){let e=prompt("Please provide a reason for rejecting this payment request:");if(e)try{let r=this.existingChat();if(!r)return;yield this.chatService.respondToPaymentRequestAsync(r._id,t._id,{status:"rejected",rejection_reason:e}),yield this.loadPaymentRequests(r._id)}catch(r){console.error("Error rejecting payment request:",r),this.error.set("Failed to reject payment request")}})}getPaymentStatusColor(t){return{pending:"bg-yellow-100 text-yellow-800 border-yellow-200",approved:"bg-green-100 text-green-800 border-green-200",payment_pending:"bg-blue-100 text-blue-800 border-blue-200",paid:"bg-green-100 text-green-800 border-green-200",rejected:"bg-red-100 text-red-800 border-red-200"}[t]||"bg-gray-100 text-gray-800 border-gray-200"}formatPaymentTime(t){let e=new Date(t),s=Math.floor((new Date().getTime()-e.getTime())/1e3);return s<60?"just now":s<3600?`${Math.floor(s/60)}m ago`:s<86400?`${Math.floor(s/3600)}h ago`:e.toLocaleDateString()}formatPrice(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)}formatDate(t){if(!t)return"Not set";try{return(typeof t=="string"?new Date(t):t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Unknown"}}getBusinessName(t){return typeof t.business_id=="object"&&t.business_id.name?t.business_id.name:"Unknown Business"}getClientName(t){if(typeof t.client_id=="object"){let e=t.client_id;return`${e.first_name} ${e.last_name}`}return"Unknown Client"}getServiceNames(t){return t.selected_services&&Array.isArray(t.selected_services)?t.selected_services.map(e=>{if(typeof e=="object"&&e!==null){if("name"in e&&e.name)return e.name;if("service_id"in e&&typeof e.service_id=="object"&&e.service_id!==null&&"name"in e.service_id)return e.service_id.name}return typeof e=="string"?"Service Details Available":"Unknown Service"}):[]}getServiceDetails(t){return t.selected_services&&Array.isArray(t.selected_services)?t.selected_services.map(e=>typeof e=="object"&&e!==null&&"_id"in e?{name:e.name||"Unnamed Service",price:e.price,pricing_type:e.pricing_type,description:e.short_description||e.description}:typeof e=="string"?{name:"Service Details Not Available",price:void 0,pricing_type:void 0,description:`Service ID: ${e} - Please contact support if this persists`}:{name:"Unknown Service Format",price:void 0,pricing_type:void 0,description:"Service data structure not recognized"}):[]}formatServicePrice(t,e){if(!t)return"Price not specified";let r=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t);if(!e)return r;switch(e.toLowerCase()){case"fixed":return`${r} (Fixed)`;case"hourly":return`${r}/hour`;case"daily":return`${r}/day`;case"weekly":return`${r}/week`;case"monthly":return`${r}/month`;case"per_project":return`${r} (Per Project)`;default:return`${r} (${e})`}}navigateToBusinessProfile(t){t&&this.router.navigate(["/business",t])}getBusinessInfo(t){return typeof t.business_id=="object"&&t.business_id?{name:t.business_id.name||"Unknown Business",logo_url:t.business_id.logo_url,slug:t.business_id.slug}:null}getClientInfo(t){return typeof t.client_id=="object"&&t.client_id?{first_name:t.client_id.first_name||"Unknown",last_name:t.client_id.last_name||"Client",email:t.client_id.email}:null}formatFileSize(t){if(t===0)return"0 Bytes";let e=1024,r=["Bytes","KB","MB","GB"],s=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,s)).toFixed(2))+" "+r[s]}getFileIcon(t){return t.startsWith("image/")?"image":t.includes("pdf")?"picture_as_pdf":t.includes("word")||t.includes("document")?"description":t.includes("sheet")||t.includes("excel")?"table_chart":t.includes("presentation")||t.includes("powerpoint")?"slideshow":t.includes("text")?"text_snippet":"attach_file"}navigateToChat(){return w(this,null,function*(){let t=this.project();if(t)try{let e=this.existingChat();e||(e=yield this.chatService.createOrGetChatAsync({project_id:t._id}),this.existingChat.set(e)),e&&this.router.navigate(["/dashboard/messages/chat",e._id])}catch(e){console.error("Error navigating to chat:",e),this.error.set("Failed to open chat. Please try again.")}})}checkReviewEligibility(){return w(this,null,function*(){let t=this.user(),e=this.project();if(!t||!e){this.canLeaveReview.set(!1),this.existingReview.set(null);return}let r=typeof e.client_id=="string"?e.client_id:e.client_id?._id,s=t._id===r,p=e.status==="completed";if(!s||!p){this.canLeaveReview.set(!1),this.existingReview.set(null);return}try{let j=typeof e.business_id=="string"?e.business_id:e.business_id._id,X=(yield this.reviewService.getBusinessReviewsAsync(j)).find(Q=>Q.project_id._id===e._id&&Q.user_id._id===t._id);X?(this.canLeaveReview.set(!1),this.existingReview.set(X)):(this.canLeaveReview.set(!0),this.existingReview.set(null))}catch(j){console.error("Error checking review eligibility:",j),this.canLeaveReview.set(!1),this.existingReview.set(null)}})}handleReviewAction(){this.existingReview()?this.viewExistingReview():this.canLeaveReview()&&this.openReviewDialog()}openReviewDialog(){return w(this,null,function*(){let t=this.project();if(!t)return;let e=typeof t.business_id=="string"?t.business_id:t.business_id._id,r=typeof t.business_id=="object"&&t.business_id.name?t.business_id.name:"Business";this.dialog.open(bi,{width:"600px",data:{businessId:e,projectId:t._id,businessName:r,projectTitle:t.title}}).afterClosed().subscribe(p=>w(this,null,function*(){p&&(console.log("Review submitted successfully"),yield this.checkReviewEligibility())}))})}viewExistingReview(){let t=this.existingReview();if(!t)return;let e=["Your Review for this Project","",`Overall Rating: ${t.rating}/5 \u2B50`,"","Detailed Ratings:",`\u2022 Service Quality: ${t.service_quality||"N/A"}/5`,`\u2022 Communication: ${t.communication||"N/A"}/5`,`\u2022 Timeliness: ${t.timeliness||"N/A"}/5`,`\u2022 Value for Money: ${t.value_for_money||"N/A"}/5`,"",`Comment: ${t.comment||"No comment provided"}`,"",`Submitted: ${new Date(t.createdAt).toLocaleDateString()}`].join(`
`);alert(e)}testReviewEligibility(){return w(this,null,function*(){console.log("=== Manual Review Eligibility Test ==="),yield this.checkReviewEligibility(),console.log("Current state after test:",{canLeaveReview:this.canLeaveReview(),existingReview:this.existingReview(),showReviewButton:this.showReviewButton()})})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-project-details"]],decls:23,vars:10,consts:[[1,"min-h-screen","bg-gray-50","py-8","px-4","sm:px-6","lg:px-8"],[1,"max-w-7xl","mx-auto"],[1,"flex","items-center","justify-between","mb-8"],[1,"flex","items-center","space-x-4"],["mat-icon-button","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","bg-white","shadow-sm","border","border-gray-200","hover:bg-gray-50","transition-colors",3,"click"],[1,"text-gray-600"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-gray-600","mt-1"],[1,"flex","items-center","space-x-3"],[1,"p-6","bg-gray-50","border-b","border-gray-200"],[1,"p-6","bg-orange-50","border-b","border-orange-200"],[1,"p-6","bg-yellow-50","border-b","border-yellow-200"],[1,"mb-8","bg-red-50","border-l-4","border-red-400","p-6","rounded-r-lg","shadow-sm"],[1,"flex","flex-col","items-center","justify-center","py-20"],[1,"grid","grid-cols-1","xl:grid-cols-3","gap-8"],["mat-raised-button","","disabled","",1,"px-6","py-3","text-base","font-semibold","rounded-lg"],["mat-raised-button","","color","primary",1,"px-6","py-3","text-base","font-semibold","rounded-lg","relative"],[1,"mr-2"],["mat-raised-button","","color","primary",1,"px-6","py-3","text-base","font-semibold","rounded-lg","relative",3,"click"],[1,"absolute","-top-2","-right-2","bg-red-500","text-white","text-xs","font-bold","rounded-full","h-6","w-6","flex","items-center","justify-center"],["mat-raised-button","","color","primary",1,"px-6","py-3","text-base","font-semibold","rounded-lg"],["mat-raised-button","","color","primary",1,"px-6","py-3","text-base","font-semibold","rounded-lg",3,"click"],[1,"flex","items-center","px-6","py-3","bg-blue-600","hover:bg-blue-700","text-white","text-base","font-semibold","rounded-lg","transition-colors","shadow-sm",3,"click"],[1,"mr-2","w-5","h-5"],[1,"ml-2","bg-red-500","text-white","text-xs","rounded-full","px-2","py-1","min-w-[20px]","h-5","flex","items-center","justify-center"],[1,"flex","items-center","px-6","py-3","bg-green-600","hover:bg-green-700","text-white","text-base","font-semibold","rounded-lg","transition-colors","shadow-sm",3,"click"],[1,"flex","items-center","px-6","py-3","bg-red-600","hover:bg-red-700","text-white","text-base","font-semibold","rounded-lg","transition-colors","shadow-sm",3,"click"],[1,"flex","items-center","px-6","py-3","bg-purple-600","hover:bg-purple-700","text-white","text-base","font-semibold","rounded-lg","transition-colors","shadow-sm",3,"click"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[1,"flex","flex-wrap","gap-3"],[1,"text-gray-700","mb-4"],[1,"flex","items-center","px-6","py-3","bg-yellow-600","hover:bg-yellow-700","text-white","text-base","font-semibold","rounded-lg","transition-colors","shadow-sm",3,"click"],[1,"flex","items-start"],[1,"flex-shrink-0"],[1,"text-red-400","w-6","h-6"],[1,"ml-3"],[1,"text-lg","font-medium","text-red-800"],[1,"mt-2","text-red-700"],["diameter","48"],[1,"mt-4","text-lg","text-gray-600"],[1,"xl:col-span-2","space-y-8"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-200","overflow-hidden"],[1,"px-8","py-6","border-b","border-gray-200"],[1,"flex","items-start","justify-between"],[1,"flex-1"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],[1,"flex-shrink-0","ml-4"],[1,"px-8","py-6","space-y-6"],[1,"p-6","bg-red-50","border","border-red-200","rounded-xl"],[1,"text-xl","font-semibold","text-gray-900"],[1,"px-8","py-6"],[1,"flex","items-center","space-x-6"],[1,"space-y-8"],[1,"px-6","py-5","border-b","border-gray-200"],[1,"text-lg","font-semibold","text-gray-900"],[1,"px-6","py-6","space-y-6"],[1,"text-center"],[1,"text-sm","font-medium","text-gray-500","uppercase","tracking-wide","mb-2"],[1,"text-3xl","font-bold","text-green-600"],[1,"pt-6","border-t","border-gray-200"],[1,"px-6","py-6","space-y-4"],["mat-stroked-button","",1,"w-full","h-12","text-base","font-semibold","rounded-lg","border-2","border-gray-300","text-gray-700","hover:bg-gray-50",3,"click"],[1,"text-lg","font-semibold","text-gray-900","mb-3"],[1,"text-gray-700","leading-relaxed","text-base"],[1,"rounded-lg","overflow-hidden","border","border-gray-200","max-w-md"],[1,"w-full","h-auto","object-cover",3,"src","alt"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"flex","items-center","justify-between","p-4","bg-gray-50","rounded-xl","border","border-gray-200","hover:bg-gray-100","hover:border-gray-300","transition-all","duration-200"],[1,"text-xs","text-gray-500","mt-3"],[1,"flex","items-center","space-x-3","flex-1","min-w-0"],[1,"p-3","bg-white","rounded-lg","shadow-sm","border","border-gray-200"],[1,"text-blue-600","w-6","h-6"],[1,"flex-1","min-w-0"],[1,"text-sm","font-semibold","text-gray-900","truncate"],[1,"text-xs","text-gray-500"],[1,"text-xs","text-gray-400","capitalize"],["target","_blank","rel","noopener noreferrer",1,"flex","items-center","px-4","py-2","text-sm","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors","shadow-sm","ml-3","flex-shrink-0",3,"href"],[1,"w-4","h-4","mr-1"],[1,"space-y-4"],[1,"bg-blue-50","border","border-blue-200","rounded-xl","p-5","hover:bg-blue-100","transition-colors"],[1,"flex","items-center","space-x-2","mb-2"],[1,"w-5","h-5","text-blue-600"],[1,"text-lg","font-semibold","text-blue-900"],[1,"text-sm","text-blue-700","mb-3","leading-relaxed"],[1,"inline-flex","items-center","px-3","py-1.5","bg-blue-200","text-blue-800","rounded-lg","text-sm","font-semibold"],[1,"inline-flex","items-center","px-3","py-1.5","bg-gray-200","text-gray-600","rounded-lg","text-sm"],[1,"p-4","bg-gray-50","rounded-xl","border","border-gray-200"],[1,"flex","items-center","space-x-2"],[1,"w-5","h-5","text-gray-400"],[1,"text-sm","text-gray-600"],[1,"text-lg","font-semibold","text-red-800","mb-2","flex","items-center"],[1,"w-5","h-5","mr-2","text-red-600"],[1,"text-red-700","leading-relaxed"],[1,"w-20","h-20","rounded-xl","object-cover","border","border-gray-200","shadow-sm",3,"src","alt"],[1,"w-20","h-20","rounded-xl","bg-gradient-to-br","from-blue-500","to-blue-600","flex","items-center","justify-center","border","border-gray-200","shadow-sm"],[1,"text-2xl","font-bold","text-blue-600","hover:text-blue-800","transition-colors","mb-1","text-left","cursor-pointer","underline-offset-4","hover:underline",3,"click"],[1,"mt-2","flex","items-center","space-x-2"],[1,"text-white","w-10","h-10"],[1,"w-4","h-4","text-gray-400"],[1,"text-sm","text-gray-500"],[1,"w-20","h-20","rounded-full","bg-gradient-to-br","from-indigo-400","to-indigo-600","flex","items-center","justify-center","shadow-sm"],[1,"text-2xl","font-bold","text-gray-900","mb-1"],[1,"text-sm","text-gray-500","mt-1"],[1,"text-lg","font-semibold","text-gray-900","flex","items-center"],[1,"mr-2","text-orange-600"],[1,"flex","items-center","justify-center","py-4"],[1,"text-center","py-4"],["diameter","24"],[1,"ml-2","text-sm","text-gray-600"],[1,"border","border-orange-200","rounded-lg","p-4","bg-orange-50"],[1,"flex","items-start","justify-between","mb-3"],[1,"font-semibold","text-lg","text-orange-900"],[1,"text-sm","text-orange-700","mb-2"],[1,"flex","gap-2","mt-4"],[1,"flex-1","px-4","py-2","bg-green-600","hover:bg-green-700","text-white","text-sm","font-medium","rounded-lg","transition-colors",3,"click"],[1,"flex-1","px-4","py-2","bg-red-600","hover:bg-red-700","text-white","text-sm","font-medium","rounded-lg","transition-colors",3,"click"],[1,"text-gray-400","mb-2"],[1,"mr-2","text-blue-600"],[1,"px-6","py-6"],[1,"text-center","py-8"],[1,"border","border-gray-200","rounded-lg","p-4"],[1,"font-semibold","text-lg","text-gray-900"],[1,"text-sm","text-gray-600","mb-2"],[1,"text-right"],[1,"text-green-600"],[1,"text-red-600"],[1,"text-yellow-600"],[1,"text-gray-400","mb-2",2,"font-size","48px","width","48px","height","48px"]],template:function(e,r){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),u("click",function(){return r.goBack()}),o(5,"mat-icon",5),a(6,"arrow_back"),i()(),o(7,"div")(8,"h1",6),a(9,"Project Details"),i(),o(10,"p",7),a(11,"View complete project information"),i()()(),o(12,"div",8),m(13,fo,3,1)(14,Co,13,1)(15,bo,9,1)(16,yo,9,1),i(),m(17,Po,10,2,"div",9)(18,ko,19,1,"div",10)(19,Io,10,3,"div",11),i(),m(20,Fo,10,1,"div",12)(21,Vo,4,0,"div",13)(22,ja,61,22,"div",14),i()()),e&2&&(l(13),d(r.project()&&(r.project().status==="accepted"||r.project().status==="in_progress"||r.project().status==="completed")?13:-1),l(),d(r.project()&&r.isBusinessOwner()&&r.project().status==="pending"?14:-1),l(),d(r.project()&&r.isBusinessOwner()&&r.project().status==="accepted"?15:-1),l(),d(r.project()&&r.isBusinessOwner()&&r.project().status==="in_progress"?16:-1),l(),d(r.project()&&r.isClient()&&Ee(9,oo).includes(r.project().status)?17:-1),l(),d(r.project()&&r.canApproveCompletion()?18:-1),l(),d(r.project()&&r.isClient()&&r.showReviewButton()?19:-1),l(),d(r.error()?20:-1),l(),d(r.loading()?21:r.project()?22:-1))},dependencies:[V,te,Le,L,N,ze,O,B,he,fe,z],styles:[".mat-mdc-raised-button.mat-primary{border-radius:.5rem!important}  .mat-mdc-outlined-button{border-radius:.5rem!important}  .mat-icon{width:auto!important;height:auto!important;font-size:inherit!important}  .mat-mdc-progress-spinner circle{stroke:#3b82f6}"]})};var ot=class n{notificationService=b(zt);ngOnInit(){console.log("Test Notifications Component loaded")}createTestProjectNotification(){let t={_id:"test-project-"+Date.now(),recipient_id:"current-user",title:"Test Project Created",message:"A new project has been created for your business.",type:"project_created",priority:"high",is_read:!1,is_seen:!1,project_id:{_id:"test-project-id",title:"Test Project",description:"This is a test project",status:"pending"},business_id:{_id:"test-business-id",name:"Test Business",logo_url:""},createdAt:new Date,updatedAt:new Date};this.notificationService.handleNewNotification(t),console.log("Test project notification created")}createTestMessageNotification(){let t={_id:"test-message-"+Date.now(),recipient_id:"current-user",title:"New Message",message:"You have received a new message.",type:"message_received",priority:"medium",is_read:!1,is_seen:!1,metadata:{chatId:"test-chat-id"},createdAt:new Date,updatedAt:new Date};this.notificationService.handleNewNotification(t),console.log("Test message notification created")}createTestSystemNotification(){let t={_id:"test-system-"+Date.now(),recipient_id:"current-user",title:"System Update",message:"The system has been updated with new features.",type:"system_announcement",priority:"low",is_read:!1,is_seen:!1,createdAt:new Date,updatedAt:new Date};this.notificationService.handleNewNotification(t),console.log("Test system notification created")}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-test-notifications"]],decls:10,vars:0,consts:[[1,"p-6"],[1,"text-xl","font-bold","mb-4"],[1,"space-y-2"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","mr-2",3,"click"],[1,"px-4","py-2","bg-green-600","text-white","rounded-lg","hover:bg-green-700","mr-2",3,"click"],[1,"px-4","py-2","bg-purple-600","text-white","rounded-lg","hover:bg-purple-700",3,"click"]],template:function(e,r){e&1&&(o(0,"div",0)(1,"h2",1),a(2,"Test Notifications"),i(),o(3,"div",2)(4,"button",3),u("click",function(){return r.createTestProjectNotification()}),a(5," Create Test Project Notification "),i(),o(6,"button",4),u("click",function(){return r.createTestMessageNotification()}),a(7," Create Test Message Notification "),i(),o(8,"button",5),u("click",function(){return r.createTestSystemNotification()}),a(9," Create Test System Notification "),i()()())},dependencies:[V],encapsulation:2})};var Oi=(n,t)=>t.code,Pa=(n,t)=>t.name;function Ta(n,t){n&1&&(o(0,"mat-error"),a(1,"First name is required"),i())}function ka(n,t){n&1&&(o(0,"mat-error"),a(1,"Last name is required"),i())}function Ma(n,t){n&1&&(o(0,"mat-error"),a(1,"Email is required"),i())}function Da(n,t){n&1&&(o(0,"mat-error"),a(1,"Please enter a valid email"),i())}function Ia(n,t){n&1&&(o(0,"mat-error"),a(1,"Phone number is required"),i())}function Fa(n,t){if(n&1&&(o(0,"mat-error"),a(1),i()),n&2){let e=c();l(),_(e.phone==null||e.phone.errors==null||e.phone.errors.usaPhone==null?null:e.phone.errors.usaPhone.message)}}function Va(n,t){if(n&1&&(o(0,"mat-option",20),a(1),i()),n&2){let e=t.$implicit;v("value",e.code),l(),_(e.name)}}function Ra(n,t){n&1&&(o(0,"mat-error"),a(1,"State is required"),i())}function Aa(n,t){n&1&&(o(0,"mat-option",22),a(1,"Please select a state first"),i())}function Ba(n,t){if(n&1&&(o(0,"mat-option",20),a(1),i()),n&2){let e=t.$implicit;v("value",e.name),l(),_(e.name)}}function Oa(n,t){n&1&&(o(0,"mat-error"),a(1,"City is required"),i())}function Na(n,t){if(n&1&&(o(0,"mat-option",20),a(1),i()),n&2){let e=t.$implicit;v("value",e.code),l(),_(e.name)}}function La(n,t){n&1&&(o(0,"mat-error"),a(1,"Heritage is required"),i())}function $a(n,t){n&1&&(o(0,"mat-icon",28),a(1,"refresh"),i())}function qa(n,t){n&1&&(o(0,"mat-error"),a(1,"Current password is required"),i())}function Ua(n,t){n&1&&(o(0,"mat-error"),a(1,"New password is required"),i())}function Ga(n,t){n&1&&(o(0,"mat-error"),a(1,"Password must be at least 6 characters"),i())}function za(n,t){n&1&&(o(0,"mat-error"),a(1,"Please confirm your password"),i())}function Wa(n,t){n&1&&(o(0,"mat-error"),a(1,"Passwords do not match"),i())}function Ha(n,t){n&1&&(o(0,"mat-icon",28),a(1,"refresh"),i())}var at=class n{authService=b(A);fb=b(re);snackBar=b(ye);citiesService=b(gi);user=this.authService.user;isLoading=y(!1);countries=Qt;usStates=hi;availableCities=y([]);profileForm;passwordForm;constructor(){let t=this.user();this.profileForm=this.fb.group({first_name:[t?.first_name||"",[R.required]],last_name:[t?.last_name||"",[R.required]],email:[t?.email||"",[R.required,R.email]],phone:[t?.phone||"",[R.required,xi.usaPhone()]],bio:[t?.bio||""],city:[t?.city||"",[R.required]],state:[t?.state||"",[R.required]],country:[{value:t?.country||"USA",disabled:!0}],country_of_origin:[t?.country_of_origin||"",[R.required]]}),t?.state&&(this.onStateSelected(t.state,!0),t?.city&&setTimeout(()=>{this.citiesService.getCitiesByState(t.state).some(s=>s.name===t.city)?this.profileForm.patchValue({city:t.city}):(console.warn(`City "${t.city}" not found in state "${t.state}"`),this.profileForm.patchValue({city:""}))},0)),this.passwordForm=this.fb.group({currentPassword:["",[R.required]],newPassword:["",[R.required,R.minLength(6)]],confirmPassword:["",[R.required]]},{validators:this.passwordMatchValidator})}onStateSelected(t,e=!1){if(t){let r=this.citiesService.getCitiesByState(t);this.availableCities.set(r),e||this.profileForm.patchValue({city:""})}else this.availableCities.set([])}displayCity(t){return t?t.name:""}passwordMatchValidator(t){let e=t.get("newPassword"),r=t.get("confirmPassword");return e&&r&&e.value!==r.value?r.setErrors({mismatch:!0}):r?.setErrors(null),null}updateProfile(){return w(this,null,function*(){if(this.profileForm.invalid){this.snackBar.open("Please fill in all required fields correctly","Close",{duration:3e3,panelClass:["error-snackbar"]});return}this.isLoading.set(!0);try{let t=this.profileForm.value,e=yield this.authService.updateProfile(t);if(e.error)throw e.error;this.snackBar.open("Profile updated successfully!","Close",{duration:3e3,panelClass:["success-snackbar"]})}catch(t){this.snackBar.open(t?.message||"Failed to update profile. Please try again.","Close",{duration:3e3,panelClass:["error-snackbar"]})}finally{this.isLoading.set(!1)}})}updatePassword(){return w(this,null,function*(){if(this.passwordForm.invalid){this.snackBar.open("Please fill in all fields correctly","Close",{duration:3e3,panelClass:["error-snackbar"]});return}this.isLoading.set(!0);try{let{currentPassword:t,newPassword:e}=this.passwordForm.value;this.passwordForm.reset(),this.snackBar.open("Password updated successfully!","Close",{duration:3e3,panelClass:["success-snackbar"]})}catch{this.snackBar.open("Failed to update password. Please try again.","Close",{duration:3e3,panelClass:["error-snackbar"]})}finally{this.isLoading.set(!1)}})}getUserInitials(){let t=this.user();if(!t)return"";if(t.first_name||t.last_name){let e=t.first_name?.charAt(0).toUpperCase()||"",r=t.last_name?.charAt(0).toUpperCase()||"";return e+r}return t.email.charAt(0).toUpperCase()}get phone(){return this.profileForm.get("phone")}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-profile"]],decls:135,vars:25,consts:[[1,"max-w-4xl","mx-auto","p-6"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"profile-tabs"],["label","Profile Information"],[1,"tab-content"],[1,"profile-card"],[1,"flex","items-center","space-x-4","mb-6"],[1,"w-16","h-16","bg-blue-600","text-white","rounded-full","flex","items-center","justify-center","text-xl","font-bold"],[1,"text-xl","font-semibold"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["appearance","outline",1,"w-full"],["matInput","","formControlName","first_name","placeholder","Enter your first name"],["matSuffix",""],["matInput","","formControlName","last_name","placeholder","Enter your last name"],["matInput","","formControlName","email","type","email","placeholder","Enter your email"],["matInput","","formControlName","phone","placeholder","(555) 123-4567","type","tel","appPhoneFormat",""],["formControlName","state",3,"selectionChange"],[3,"value"],["formControlName","city",3,"disabled"],["disabled",""],["matInput","","formControlName","country","readonly",""],["formControlName","country_of_origin"],["matInput","","formControlName","bio","rows","4","placeholder","Tell us about yourself"],[1,"flex","justify-end","pt-4"],["mat-raised-button","","color","primary","type","submit",1,"px-8",3,"disabled"],[1,"animate-spin","mr-2"],["label","Change Password"],[1,"password-card"],["matInput","","formControlName","currentPassword","type","password","placeholder","Enter current password"],["matInput","","formControlName","newPassword","type","password","placeholder","Enter new password"],["matInput","","formControlName","confirmPassword","type","password","placeholder","Confirm new password"]],template:function(e,r){if(e&1&&(o(0,"div",0)(1,"div",1)(2,"h1",2),a(3,"Profile Settings"),i(),o(4,"p",3),a(5,"Manage your account information and settings"),i()(),o(6,"mat-tab-group",4)(7,"mat-tab",5)(8,"div",6)(9,"mat-card",7)(10,"mat-card-header")(11,"div",8)(12,"div",9),a(13),i(),o(14,"div")(15,"h2",10),a(16),i(),o(17,"p",3),a(18),i()()()(),o(19,"mat-card-content")(20,"form",11),u("ngSubmit",function(){return r.updateProfile()}),o(21,"div",12)(22,"mat-form-field",13)(23,"mat-label"),a(24,"First Name *"),i(),h(25,"input",14),o(26,"mat-icon",15),a(27,"person"),i(),m(28,Ta,2,0,"mat-error"),i(),o(29,"mat-form-field",13)(30,"mat-label"),a(31,"Last Name *"),i(),h(32,"input",16),o(33,"mat-icon",15),a(34,"person"),i(),m(35,ka,2,0,"mat-error"),i(),o(36,"mat-form-field",13)(37,"mat-label"),a(38,"Email"),i(),h(39,"input",17),o(40,"mat-icon",15),a(41,"email"),i(),m(42,Ma,2,0,"mat-error")(43,Da,2,0,"mat-error"),i(),o(44,"mat-form-field",13)(45,"mat-label"),a(46,"Phone *"),i(),h(47,"input",18),o(48,"mat-icon",15),a(49,"phone"),i(),m(50,Ia,2,0,"mat-error")(51,Fa,2,1,"mat-error"),i(),o(52,"mat-form-field",13)(53,"mat-label"),a(54,"State *"),i(),o(55,"mat-select",19),u("selectionChange",function(p){return r.onStateSelected(p.value)}),T(56,Va,2,2,"mat-option",20,Oi),i(),o(58,"mat-icon",15),a(59,"map"),i(),m(60,Ra,2,0,"mat-error"),i(),o(61,"mat-form-field",13)(62,"mat-label"),a(63,"City *"),i(),o(64,"mat-select",21),m(65,Aa,2,0,"mat-option",22),T(66,Ba,2,2,"mat-option",20,Pa),i(),o(68,"mat-icon",15),a(69,"location_city"),i(),m(70,Oa,2,0,"mat-error"),i(),o(71,"mat-form-field",13)(72,"mat-label"),a(73,"Country"),i(),h(74,"input",23),o(75,"mat-icon",15),a(76,"flag"),i(),o(77,"mat-hint"),a(78,"Country is set to USA by default"),i()(),o(79,"mat-form-field",13)(80,"mat-label"),a(81,"Heritage"),i(),o(82,"mat-select",24),T(83,Na,2,2,"mat-option",20,Oi),i(),o(85,"mat-icon",15),a(86,"home"),i(),m(87,La,2,0,"mat-error"),i()(),o(88,"mat-form-field",13)(89,"mat-label"),a(90,"Bio"),i(),h(91,"textarea",25),o(92,"mat-icon",15),a(93,"description"),i()(),o(94,"div",26)(95,"button",27),m(96,$a,2,0,"mat-icon",28),a(97," Update Profile "),i()()()()()()(),o(98,"mat-tab",29)(99,"div",6)(100,"mat-card",30)(101,"mat-card-header")(102,"mat-card-title"),a(103,"Change Password"),i(),o(104,"mat-card-subtitle"),a(105,"Update your account password"),i()(),o(106,"mat-card-content")(107,"form",11),u("ngSubmit",function(){return r.updatePassword()}),o(108,"mat-form-field",13)(109,"mat-label"),a(110,"Current Password"),i(),h(111,"input",31),o(112,"mat-icon",15),a(113,"lock"),i(),m(114,qa,2,0,"mat-error"),i(),o(115,"mat-form-field",13)(116,"mat-label"),a(117,"New Password"),i(),h(118,"input",32),o(119,"mat-icon",15),a(120,"lock_outline"),i(),m(121,Ua,2,0,"mat-error")(122,Ga,2,0,"mat-error"),i(),o(123,"mat-form-field",13)(124,"mat-label"),a(125,"Confirm New Password"),i(),h(126,"input",33),o(127,"mat-icon",15),a(128,"lock_outline"),i(),m(129,za,2,0,"mat-error")(130,Wa,2,0,"mat-error"),i(),o(131,"div",26)(132,"button",27),m(133,Ha,2,0,"mat-icon",28),a(134," Update Password "),i()()()()()()()()()),e&2){let s,p,j,$,X,Q,ke,Me,De,Ie,Fe,Ve,Re,Ae;l(13),f(" ",r.getUserInitials()," "),l(3),_((((s=r.user())==null?null:s.first_name)+" "+(((s=r.user())==null?null:s.last_name)||"")).trim()||((s=r.user())==null?null:s.email)),l(2),_((p=r.user())==null?null:p.email),l(2),v("formGroup",r.profileForm),l(8),d((j=r.profileForm.get("first_name"))!=null&&j.hasError("required")&&((j=r.profileForm.get("first_name"))!=null&&j.touched)?28:-1),l(7),d(($=r.profileForm.get("last_name"))!=null&&$.hasError("required")&&(($=r.profileForm.get("last_name"))!=null&&$.touched)?35:-1),l(7),d((X=r.profileForm.get("email"))!=null&&X.hasError("required")&&((X=r.profileForm.get("email"))!=null&&X.touched)?42:-1),l(),d((Q=r.profileForm.get("email"))!=null&&Q.hasError("email")&&((Q=r.profileForm.get("email"))!=null&&Q.touched)?43:-1),l(7),d(r.phone!=null&&r.phone.hasError("required")&&(r.phone!=null&&r.phone.touched)?50:-1),l(),d(r.phone!=null&&r.phone.hasError("usaPhone")&&(r.phone!=null&&r.phone.touched)?51:-1),l(5),k(r.usStates),l(4),d((ke=r.profileForm.get("state"))!=null&&ke.hasError("required")&&((ke=r.profileForm.get("state"))!=null&&ke.touched)?60:-1),l(4),v("disabled",r.availableCities().length===0),l(),d(r.availableCities().length===0?65:-1),l(),k(r.availableCities()),l(4),d((Me=r.profileForm.get("city"))!=null&&Me.hasError("required")&&((Me=r.profileForm.get("city"))!=null&&Me.touched)?70:-1),l(13),k(r.countries),l(4),d((De=r.profileForm.get("country_of_origin"))!=null&&De.hasError("required")&&((De=r.profileForm.get("country_of_origin"))!=null&&De.touched)?87:-1),l(8),v("disabled",r.isLoading()||r.profileForm.invalid),l(),d(r.isLoading()?96:-1),l(11),v("formGroup",r.passwordForm),l(7),d((Ie=r.passwordForm.get("currentPassword"))!=null&&Ie.hasError("required")&&((Ie=r.passwordForm.get("currentPassword"))!=null&&Ie.touched)?114:-1),l(7),d((Fe=r.passwordForm.get("newPassword"))!=null&&Fe.hasError("required")&&((Fe=r.passwordForm.get("newPassword"))!=null&&Fe.touched)?121:-1),l(),d((Ve=r.passwordForm.get("newPassword"))!=null&&Ve.hasError("minlength")&&((Ve=r.passwordForm.get("newPassword"))!=null&&Ve.touched)?122:-1),l(7),d((Re=r.passwordForm.get("confirmPassword"))!=null&&Re.hasError("required")&&((Re=r.passwordForm.get("confirmPassword"))!=null&&Re.touched)?129:-1),l(),d((Ae=r.passwordForm.get("confirmPassword"))!=null&&Ae.hasError("mismatch")&&((Ae=r.passwordForm.get("confirmPassword"))!=null&&Ae.touched)?130:-1),l(2),v("disabled",r.isLoading()||r.passwordForm.invalid),l(),d(r.isLoading()?133:-1)}},dependencies:[V,le,He,We,ie,ne,oe,ae,z,Ce,Qe,Ze,Ke,Xe,pe,me,ce,Ye,Yt,de,ge,Xt,L,N,O,B,Se,we,ve,be,ue,_e,se,fi],styles:[".profile-tabs[_ngcontent-%COMP%]{margin-top:2rem}.profile-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:2rem 0}.profile-tabs[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%], .profile-tabs[_ngcontent-%COMP%]   .password-card[_ngcontent-%COMP%]{box-shadow:0 4px 6px -1px #0000001a;border-radius:12px;border:1px solid #e5e7eb}.profile-tabs[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.profile-tabs[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-bottom:1rem}.profile-tabs[_ngcontent-%COMP%]   .animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}  .mat-mdc-tab-group .mat-mdc-tab-header{border-bottom:1px solid #e5e7eb}  .mat-mdc-tab-group .mat-mdc-tab{font-weight:500}  .mat-mdc-card .mat-mdc-card-header .mat-mdc-card-title{font-size:1.5rem;font-weight:600;color:#111827}  .mat-mdc-card .mat-mdc-card-header .mat-mdc-card-subtitle{color:#6b7280}  .mat-mdc-form-field .mat-mdc-form-field-flex{border-radius:8px}  .mat-mdc-raised-button.mat-primary{background-color:#2563eb}  .mat-mdc-raised-button.mat-primary:hover:not([disabled]){background-color:#1d4ed8}  .error-snackbar{background-color:#dc2626!important;color:#fff!important}  .success-snackbar{background-color:#059669!important;color:#fff!important}"]})};var Ya=["switch"],Xa=["*"];function Qa(n,t){n&1&&(o(0,"span",10),P(),o(1,"svg",12),h(2,"path",13),i(),o(3,"svg",14),h(4,"path",15),i()())}var Ka=new Ct("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),Za={provide:Wt,useExisting:xt(()=>lt),multi:!0},rt=class{source;checked;constructor(t,e){this.source=t,this.checked=e}},lt=(()=>{class n{_elementRef=b(yt);_focusMonitor=b(Lt);_changeDetectorRef=b(Rt);defaults=b(Ka);_onChange=e=>{};_onTouched=()=>{};_validatorOnChange=()=>{};_uniqueId;_checked=!1;_createChangeEvent(e){return new rt(this,e)}_labelId;get buttonId(){return`${this.id||this._uniqueId}-button`}_switchElement;focus(){this._switchElement.nativeElement.focus()}_noopAnimations;_focused;name=null;id;labelPosition="after";ariaLabel=null;ariaLabelledby=null;ariaDescribedby;required;color;disabled=!1;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(e){this._checked=e,this._changeDetectorRef.markForCheck()}hideIcon;disabledInteractive;change=new pt;toggleChange=new pt;get inputId(){return`${this.id||this._uniqueId}-input`}constructor(){b($t).load(Gt);let e=b(new wt("tabindex"),{optional:!0}),r=this.defaults,s=b(St,{optional:!0});this.tabIndex=e==null?0:parseInt(e)||0,this.color=r.color||"accent",this._noopAnimations=s==="NoopAnimations",this.id=this._uniqueId=b(qt).getId("mat-mdc-slide-toggle-"),this.hideIcon=r.hideIcon??!1,this.disabledInteractive=r.disabledInteractive??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e==="keyboard"||e==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(e){e.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorOnChange=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new rt(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=D({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(r,s){if(r&1&&kt(Ya,5),r&2){let p;Mt(p=Dt())&&(s._switchElement=p.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(r,s){r&2&&(jt("id",s.id),Be("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),E(s.color?"mat-"+s.color:""),ee("mat-mdc-slide-toggle-focused",s._focused)("mat-mdc-slide-toggle-checked",s.checked)("_mat-animation-noopable",s._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",Z],color:"color",disabled:[2,"disabled","disabled",Z],disableRipple:[2,"disableRipple","disableRipple",Z],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:At(e)],checked:[2,"checked","checked",Z],hideIcon:[2,"hideIcon","hideIcon",Z],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Z]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[Ft([Za,{provide:Ht,useExisting:n,multi:!0}]),bt],ngContentSelectors:Xa,decls:13,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(r,s){if(r&1){let p=C();Pt(),o(0,"div",1)(1,"button",2,0),u("click",function(){return g(p),x(s._handleClick())}),h(3,"span",3),o(4,"span",4)(5,"span",5)(6,"span",6),h(7,"span",7),i(),o(8,"span",8),h(9,"span",9),i(),m(10,Qa,5,0,"span",10),i()()(),o(11,"label",11),u("click",function($){return g(p),x($.stopPropagation())}),Tt(12),i()()}if(r&2){let p=Oe(2);v("labelPosition",s.labelPosition),l(),ee("mdc-switch--selected",s.checked)("mdc-switch--unselected",!s.checked)("mdc-switch--checked",s.checked)("mdc-switch--disabled",s.disabled)("mat-mdc-slide-toggle-disabled-interactive",s.disabledInteractive),v("tabIndex",s.disabled&&!s.disabledInteractive?-1:s.tabIndex)("disabled",s.disabled&&!s.disabledInteractive),Be("id",s.buttonId)("name",s.name)("aria-label",s.ariaLabel)("aria-labelledby",s._getAriaLabelledBy())("aria-describedby",s.ariaDescribedby)("aria-required",s.required||null)("aria-checked",s.checked)("aria-disabled",s.disabled&&s.disabledInteractive?"true":null),l(8),v("matRippleTrigger",p)("matRippleDisabled",s.disableRipple||s.disabled)("matRippleCentered",!0),l(),d(s.hideIcon?-1:10),l(),v("for",s.buttonId),Be("id",s._labelId)}},dependencies:[Ut,Jt],styles:[`.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width, 52px)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height, 32px);border-radius:var(--mdc-switch-track-shape, var(--mat-sys-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity, 0.12)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width, 2px);border-color:var(--mat-switch-track-outline-color, var(--mat-sys-outline))}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width, 2px);border-color:var(--mat-switch-selected-track-outline-color, transparent)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width, 2px);border-color:var(--mat-switch-disabled-unselected-track-outline-color, var(--mat-sys-on-surface))}@media(forced-colors: active){.mdc-switch__track{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color, var(--mat-sys-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity, 0);transition:var(--mat-switch-hidden-track-transition, opacity 75ms)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity, 1);transition:var(--mat-switch-visible-track-transition, opacity 75ms)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, var(--mat-sys-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, var(--mat-sys-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, var(--mat-sys-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, var(--mat-sys-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color, var(--mat-sys-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity, 1);transition:var(--mat-switch-visible-track-transition, opacity 75ms)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity, 0);transition:var(--mat-switch-hidden-track-transition, opacity 75ms)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, var(--mat-sys-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, var(--mat-sys-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, var(--mat-sys-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, var(--mat-sys-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape, var(--mat-sys-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size, 16px);height:var(--mat-switch-unselected-handle-size, 16px);margin:var(--mat-switch-unselected-handle-horizontal-margin, 0 8px)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin, 0 4px)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size, 24px);height:var(--mat-switch-selected-handle-size, 24px);margin:var(--mat-switch-selected-handle-horizontal-margin, 0 24px)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin, 0 24px)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size, 24px);height:var(--mat-switch-with-icon-handle-size, 24px)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size, 28px);height:var(--mat-switch-pressed-handle-size, 28px)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin, 0 22px)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin, 0 2px)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity, 1)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity, 0.38)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media(forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mat-sys-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, var(--mat-sys-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, var(--mat-sys-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, var(--mat-sys-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, var(--mat-sys-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, var(--mat-sys-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, var(--mat-sys-on-surface))}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size, 40px);height:var(--mdc-switch-state-layer-size, 40px)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color, var(--mat-sys-primary));opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1;transform:translateZ(0)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity, 0.38)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity, 0.38)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size, 16px);height:var(--mdc-switch-unselected-icon-size, 16px);fill:var(--mdc-switch-unselected-icon-color, var(--mat-sys-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mat-sys-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size, 16px);height:var(--mdc-switch-selected-icon-size, 16px);fill:var(--mdc-switch-selected-icon-color, var(--mat-sys-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mat-sys-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-switch-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-switch-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-switch-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-switch-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-switch-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}
`],encapsulation:2,changeDetection:0})}return n})();var qi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Et({type:n});static \u0275inj=ht({imports:[lt,gt,gt]})}return n})();function er(n,t){n&1&&(o(0,"mat-icon",39),a(1,"refresh"),i())}var st=class n{authService=b(A);fb=b(re);snackBar=b(ye);user=this.authService.user;isLoading=y(!1);settingsForm;constructor(){let t=this.user();this.settingsForm=this.fb.group({emailNotifications:[!0],pushNotifications:[!0],marketingEmails:[!1],projectUpdates:[!0],messageNotifications:[!0],language:["en"],timezone:["UTC"],theme:["light"]})}saveSettings(){return w(this,null,function*(){this.isLoading.set(!0);try{let t=this.settingsForm.value;this.snackBar.open("Settings saved successfully!","Close",{duration:3e3,panelClass:["success-snackbar"]})}catch{this.snackBar.open("Failed to save settings. Please try again.","Close",{duration:3e3,panelClass:["error-snackbar"]})}finally{this.isLoading.set(!1)}})}resetSettings(){return w(this,null,function*(){this.settingsForm.patchValue({emailNotifications:!0,pushNotifications:!0,marketingEmails:!1,projectUpdates:!0,messageNotifications:!0,language:"en",timezone:"UTC",theme:"light"}),this.snackBar.open("Settings reset to default values","Close",{duration:3e3})})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-settings"]],decls:114,vars:4,consts:[[1,"max-w-4xl","mx-auto","p-6"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"settings-card"],[1,"mr-2"],[1,"space-y-4"],[1,"flex","items-center","justify-between"],[1,"font-medium","text-gray-900"],[1,"text-sm","text-gray-600"],["formControlName","emailNotifications","color","primary"],["formControlName","pushNotifications","color","primary"],["formControlName","marketingEmails","color","primary"],["formControlName","projectUpdates","color","primary"],["formControlName","messageNotifications","color","primary"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["appearance","outline"],["formControlName","language"],["value","en"],["value","es"],["value","fr"],["value","de"],["matSuffix",""],["formControlName","timezone"],["value","UTC"],["value","America/New_York"],["value","America/Chicago"],["value","America/Denver"],["value","America/Los_Angeles"],["value","Europe/London"],["value","Europe/Paris"],["formControlName","theme"],["value","light"],["value","dark"],["value","auto"],[1,"flex","justify-between","pt-6"],["mat-stroked-button","","type","button",1,"px-6",3,"click","disabled"],["mat-raised-button","","color","primary","type","submit",1,"px-8",3,"disabled"],[1,"animate-spin","mr-2"]],template:function(e,r){e&1&&(o(0,"div",0)(1,"div",1)(2,"h1",2),a(3,"Settings"),i(),o(4,"p",3),a(5,"Manage your account preferences and notification settings"),i()(),o(6,"form",4),u("ngSubmit",function(){return r.saveSettings()}),o(7,"mat-card",5)(8,"mat-card-header")(9,"mat-card-title")(10,"mat-icon",6),a(11,"notifications"),i(),a(12," Notifications "),i(),o(13,"mat-card-subtitle"),a(14,"Choose how you want to be notified about activity"),i()(),o(15,"mat-card-content")(16,"div",7)(17,"div",8)(18,"div")(19,"h3",9),a(20,"Email Notifications"),i(),o(21,"p",10),a(22,"Receive notifications via email"),i()(),h(23,"mat-slide-toggle",11),i(),o(24,"div",8)(25,"div")(26,"h3",9),a(27,"Push Notifications"),i(),o(28,"p",10),a(29,"Receive push notifications in your browser"),i()(),h(30,"mat-slide-toggle",12),i(),o(31,"div",8)(32,"div")(33,"h3",9),a(34,"Marketing Emails"),i(),o(35,"p",10),a(36,"Receive promotional and marketing emails"),i()(),h(37,"mat-slide-toggle",13),i(),o(38,"div",8)(39,"div")(40,"h3",9),a(41,"Project Updates"),i(),o(42,"p",10),a(43,"Get notified about project status changes"),i()(),h(44,"mat-slide-toggle",14),i(),o(45,"div",8)(46,"div")(47,"h3",9),a(48,"Message Notifications"),i(),o(49,"p",10),a(50,"Get notified when you receive new messages"),i()(),h(51,"mat-slide-toggle",15),i()()()(),o(52,"mat-card",5)(53,"mat-card-header")(54,"mat-card-title")(55,"mat-icon",6),a(56,"tune"),i(),a(57," Preferences "),i(),o(58,"mat-card-subtitle"),a(59,"Customize your experience"),i()(),o(60,"mat-card-content")(61,"div",16)(62,"mat-form-field",17)(63,"mat-label"),a(64,"Language"),i(),o(65,"mat-select",18)(66,"mat-option",19),a(67,"English"),i(),o(68,"mat-option",20),a(69,"Spanish"),i(),o(70,"mat-option",21),a(71,"French"),i(),o(72,"mat-option",22),a(73,"German"),i()(),o(74,"mat-icon",23),a(75,"language"),i()(),o(76,"mat-form-field",17)(77,"mat-label"),a(78,"Timezone"),i(),o(79,"mat-select",24)(80,"mat-option",25),a(81,"UTC"),i(),o(82,"mat-option",26),a(83,"Eastern Time"),i(),o(84,"mat-option",27),a(85,"Central Time"),i(),o(86,"mat-option",28),a(87,"Mountain Time"),i(),o(88,"mat-option",29),a(89,"Pacific Time"),i(),o(90,"mat-option",30),a(91,"London"),i(),o(92,"mat-option",31),a(93,"Paris"),i()(),o(94,"mat-icon",23),a(95,"schedule"),i()(),o(96,"mat-form-field",17)(97,"mat-label"),a(98,"Theme"),i(),o(99,"mat-select",32)(100,"mat-option",33),a(101,"Light"),i(),o(102,"mat-option",34),a(103,"Dark"),i(),o(104,"mat-option",35),a(105,"Auto"),i()(),o(106,"mat-icon",23),a(107,"palette"),i()()()()(),o(108,"div",36)(109,"button",37),u("click",function(){return r.resetSettings()}),a(110," Reset to Default "),i(),o(111,"button",38),m(112,er,2,0,"mat-icon",39),a(113," Save Settings "),i()()()()),e&2&&(l(6),v("formGroup",r.settingsForm),l(103),v("disabled",r.isLoading()),l(2),v("disabled",r.isLoading()||r.settingsForm.invalid),l(),d(r.isLoading()?112:-1))},dependencies:[V,le,He,ie,ne,oe,ae,z,Ce,Qe,Ze,Ke,Xe,pe,me,ce,de,ge,L,N,O,B,qi,lt,ue,_e,se,Se],styles:[".settings-card[_ngcontent-%COMP%]{box-shadow:0 4px 6px -1px #0000001a;border-radius:12px;border:1px solid #e5e7eb;margin-bottom:1.5rem}.settings-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-bottom:1rem}.settings-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.25rem;font-weight:600;color:#111827}.settings-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#6b7280;margin-top:.5rem}.settings-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding-top:0}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}  .mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected .mdc-switch__track{background-color:#2563eb}  .mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected .mdc-switch__handle .mdc-switch__ripple{background-color:#2563eb}  .mat-mdc-form-field .mat-mdc-form-field-flex{border-radius:8px}  .mat-mdc-raised-button.mat-primary{background-color:#2563eb}  .mat-mdc-raised-button.mat-primary:hover:not([disabled]){background-color:#1d4ed8}  .mat-mdc-outlined-button{border-color:#d1d5db;color:#374151}  .mat-mdc-outlined-button:hover:not([disabled]){background-color:#f9fafb;border-color:#9ca3af}  .error-snackbar{background-color:#dc2626!important;color:#fff!important}  .success-snackbar{background-color:#059669!important;color:#fff!important}"]})};var ct=class n{constructor(t){this.http=t}apiUrl=`${Ge.api.baseUrl}/withdrawals`;createWithdrawal(t){return this.http.post(this.apiUrl,t)}getWithdrawals(t=1,e=10,r){let s=new Ot().set("page",t.toString()).set("limit",e.toString());return r&&(s=s.set("status",r)),this.http.get(this.apiUrl,{params:s})}getWithdrawal(t){return this.http.get(`${this.apiUrl}/${t}`)}cancelWithdrawal(t){return this.http.post(`${this.apiUrl}/${t}/cancel`,{})}getWithdrawalStats(){return this.http.get(`${this.apiUrl}/stats/summary`)}processWithdrawal(t){return this.http.post(`${this.apiUrl}/${t}/process`,{})}getStatusColor(t){switch(t){case"pending":return"text-yellow-600 bg-yellow-100";case"processing":return"text-blue-600 bg-blue-100";case"completed":return"text-green-600 bg-green-100";case"failed":return"text-red-600 bg-red-100";case"cancelled":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}}getStatusIcon(t){switch(t){case"pending":return"clock";case"processing":return"sync";case"completed":return"check-circle";case"failed":return"x-circle";case"cancelled":return"minus-circle";default:return"help-circle"}}formatCurrency(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)}calculateFee(t){return Math.round(t*.03*100)/100}calculateNetAmount(t){return t-this.calculateFee(t)}static \u0275fac=function(e){return new(e||n)(vt($e))};static \u0275prov=ft({token:n,factory:n.\u0275fac,providedIn:"root"})};function tr(n,t){if(n&1&&(o(0,"mat-icon",8),a(1),i()),n&2){let e=c();E(e.getIconClass()),l(),f(" ",e.data.icon," ")}}var dt=class n{constructor(t,e){this.dialogRef=t;this.data=e}onConfirm(){this.dialogRef.close(!0)}onCancel(){this.dialogRef.close(!1)}getIconClass(){let t="w-8 h-8";switch(this.data.type){case"danger":return`${t} text-red-600`;case"warning":return`${t} text-yellow-600`;case"info":default:return`${t} text-blue-600`}}getConfirmButtonClass(){switch(this.data.type){case"danger":return"bg-red-600 hover:bg-red-700 text-white";case"warning":return"bg-yellow-600 hover:bg-yellow-700 text-white";case"info":default:return"bg-blue-600 hover:bg-blue-700 text-white"}}static \u0275fac=function(e){return new(e||n)(_t(mi),_t(pi))};static \u0275cmp=D({type:n,selectors:[["app-confirmation-dialog"]],decls:12,vars:7,consts:[[1,"p-6"],[1,"flex","items-center","mb-4"],[1,"mr-3","text-3xl",3,"class"],[1,"text-xl","font-semibold","text-gray-900"],[1,"text-gray-600","mb-6","leading-relaxed"],[1,"flex","justify-end","gap-3"],["mat-stroked-button","",1,"px-4","py-2",3,"click"],["mat-raised-button","",1,"px-4","py-2",3,"click"],[1,"mr-3","text-3xl"]],template:function(e,r){e&1&&(o(0,"div",0)(1,"div",1),m(2,tr,2,3,"mat-icon",2),o(3,"h2",3),a(4),i()(),o(5,"p",4),a(6),i(),o(7,"div",5)(8,"button",6),u("click",function(){return r.onCancel()}),a(9),i(),o(10,"button",7),u("click",function(){return r.onConfirm()}),a(11),i()()()),e&2&&(l(2),d(r.data.icon?2:-1),l(2),_(r.data.title),l(2),_(r.data.message),l(3),f(" ",r.data.cancelText||"Cancel"," "),l(),E(r.getConfirmButtonClass()),l(),f(" ",r.data.confirmText||"Confirm"," "))},dependencies:[V,et,L,N,O,B],encapsulation:2})};var ir=(n,t,e,r)=>({"bg-green-50 border-green-200":n,"bg-yellow-50 border-yellow-200":t,"bg-red-50 border-red-200":e,"bg-gray-50 border-gray-200":r}),nr=(n,t,e,r)=>({"text-green-600":n,"text-yellow-600":t,"text-red-600":e,"text-gray-600":r}),or=(n,t,e,r)=>({"text-green-700":n,"text-yellow-700":t,"text-red-700":e,"text-gray-700":r}),Ui=()=>["date","method","description","amount","status"],ar=(n,t,e,r,s)=>({"bg-yellow-100 text-yellow-800":n,"bg-blue-100 text-blue-800":t,"bg-green-100 text-green-800":e,"bg-red-100 text-red-800":r,"bg-gray-100 text-gray-800":s}),rr=(n,t)=>t._id;function lr(n,t){n&1&&h(0,"mat-spinner",12)}function sr(n,t){n&1&&(o(0,"mat-icon",13),a(1,"account_balance_wallet"),i())}function cr(n,t){if(n&1){let e=C();o(0,"button",11),u("click",function(){g(e);let s=c();return x(s.withdrawToStripe())}),m(1,lr,1,0,"mat-spinner",12)(2,sr,2,0,"mat-icon",13),a(3," Withdraw to Stripe "),i()}if(n&2){let e=c();v("disabled",e.stripeLoading()),l(),d(e.stripeLoading()?1:2)}}function dr(n,t){n&1&&h(0,"mat-spinner",12)}function mr(n,t){n&1&&(o(0,"mat-icon",13),a(1,"payment"),i())}function pr(n,t){if(n&1){let e=C();o(0,"button",14),u("click",function(){g(e);let s=c();return x(s.connectStripe())}),m(1,dr,1,0,"mat-spinner",12)(2,mr,2,0,"mat-icon",13),a(3," Connect Stripe "),i()}if(n&2){let e=c();v("disabled",e.stripeLoading()),l(),d(e.stripeLoading()?1:2)}}function _r(n,t){n&1&&h(0,"mat-spinner",12)}function ur(n,t){n&1&&(o(0,"mat-icon",13),a(1,"dashboard"),i())}function gr(n,t){n&1&&h(0,"mat-spinner",12)}function xr(n,t){n&1&&(o(0,"mat-icon",13),a(1,"link_off"),i())}function fr(n,t){if(n&1){let e=C();o(0,"div",8)(1,"button",15),u("click",function(){g(e);let s=c();return x(s.openStripeDashboard())}),m(2,_r,1,0,"mat-spinner",12)(3,ur,2,0,"mat-icon",13),a(4," Stripe Dashboard "),i(),o(5,"button",16),u("click",function(){g(e);let s=c();return x(s.disconnectStripe())}),m(6,gr,1,0,"mat-spinner",12)(7,xr,2,0,"mat-icon",13),a(8," Disconnect "),i()()}if(n&2){let e=c();l(),v("disabled",e.stripeLoading()),l(),d(e.stripeLoading()?2:3),l(3),v("disabled",e.stripeLoading()),l(),d(e.stripeLoading()?6:7)}}function hr(n,t){n&1&&(o(0,"div",9),h(1,"mat-spinner",17),o(2,"span",18),a(3,"Loading earnings data..."),i()())}function Cr(n,t){if(n&1){let e=C();o(0,"div",10)(1,"mat-icon",19),a(2,"error"),i(),o(3,"h3",20),a(4,"Error Loading Data"),i(),o(5,"p",21),a(6),i(),o(7,"button",22),u("click",function(){g(e);let s=c();return x(s.retryLoad())}),o(8,"mat-icon",13),a(9,"refresh"),i(),a(10," Try Again "),i()()}if(n&2){let e=c();l(6),_(e.error())}}function vr(n,t){n&1&&a(0," check_circle ")}function br(n,t){n&1&&a(0," schedule ")}function wr(n,t){n&1&&a(0," error ")}function yr(n,t){n&1&&a(0," payment ")}function Sr(n,t){n&1&&a(0," Stripe Connected ")}function Er(n,t){n&1&&a(0," Stripe Setup Pending ")}function jr(n,t){n&1&&a(0," Stripe Connection Failed ")}function Pr(n,t){n&1&&a(0," Stripe Not Connected ")}function Tr(n,t){n&1&&h(0,"mat-spinner",84)}function kr(n,t){n&1&&(o(0,"mat-icon",85),a(1,"refresh"),i())}function Mr(n,t){if(n&1){let e=C();o(0,"button",83),u("click",function(){g(e);let s=c(2);return x(s.refreshStripeAccountStatus())}),m(1,Tr,1,0,"mat-spinner",84)(2,kr,2,0,"mat-icon",85),i()}if(n&2){let e=c(2);v("disabled",e.stripeLoading()),l(),d(e.stripeLoading()?1:2)}}function Dr(n,t){n&1&&h(0,"mat-spinner",87)}function Ir(n,t){if(n&1){let e=C();o(0,"button",86),u("click",function(){g(e);let s=c(2);return x(s.withdrawToStripe())}),m(1,Dr,1,0,"mat-spinner",87),a(2," Withdraw to Stripe "),i()}if(n&2){let e=c(2);v("disabled",e.stripeLoading()),l(),d(e.stripeLoading()?1:-1)}}function Fr(n,t){n&1&&h(0,"mat-spinner",87)}function Vr(n,t){if(n&1){let e=C();o(0,"button",88),u("click",function(){g(e);let s=c(2);return x(s.connectStripe())}),m(1,Fr,1,0,"mat-spinner",87),a(2," Connect Stripe "),i()}if(n&2){let e=c(2);v("disabled",e.stripeLoading()),l(),d(e.stripeLoading()?1:-1)}}function Rr(n,t){n&1&&(o(0,"button",39),a(1," No funds available "),i())}function Ar(n,t){n&1&&h(0,"mat-spinner",87)}function Br(n,t){if(n&1){let e=C();o(0,"button",89),u("click",function(){g(e);let s=c(2);return x(s.connectStripe())}),m(1,Ar,1,0,"mat-spinner",87),a(2," Complete Stripe Setup "),i()}if(n&2){let e=c(2);v("disabled",e.stripeLoading()),l(),d(e.stripeLoading()?1:-1)}}function Or(n,t){n&1&&h(0,"mat-spinner",91)}function Nr(n,t){n&1&&(o(0,"mat-icon",92),a(1,"dashboard"),i())}function Lr(n,t){n&1&&h(0,"mat-spinner",91)}function $r(n,t){n&1&&(o(0,"mat-icon",92),a(1,"link_off"),i())}function qr(n,t){if(n&1){let e=C();o(0,"div",8)(1,"button",90),u("click",function(){g(e);let s=c(2);return x(s.openStripeDashboard())}),m(2,Or,1,0,"mat-spinner",91)(3,Nr,2,0,"mat-icon",92),a(4," Dashboard "),i(),o(5,"button",93),u("click",function(){g(e);let s=c(2);return x(s.disconnectStripe())}),m(6,Lr,1,0,"mat-spinner",91)(7,$r,2,0,"mat-icon",92),a(8," Disconnect "),i()()}if(n&2){let e=c(2);l(),v("disabled",e.stripeLoading()),l(),d(e.stripeLoading()?2:3),l(3),v("disabled",e.stripeLoading()),l(),d(e.stripeLoading()?6:7)}}function Ur(n,t){n&1&&a(0," Connected to Stripe Express account. You can access your dashboard or disconnect anytime. ")}function Gr(n,t){n&1&&a(0," Connect Stripe to withdraw funds ")}function zr(n,t){if(n&1){let e=C();o(0,"button",94),u("click",function(){g(e);let s=c(2);return x(s.clearFilters())}),o(1,"mat-icon"),a(2,"clear"),i(),a(3," Clear Filters "),i()}}function Wr(n,t){n&1&&(o(0,"div",78),h(1,"mat-spinner",95),o(2,"p",96),a(3,"Loading transactions..."),i()())}function Hr(n,t){if(n&1){let e=C();o(0,"div",79)(1,"mat-icon",97),a(2,"filter_list_off"),i(),o(3,"h3",98),a(4,"No Transactions Match Your Filters"),i(),o(5,"p",99),a(6,"Try adjusting your date range or activity type filters."),i(),o(7,"button",100),u("click",function(){g(e);let s=c(2);return x(s.clearFilters())}),a(8," Clear Filters "),i()()}}function Yr(n,t){n&1&&(o(0,"div",79)(1,"mat-icon",97),a(2,"receipt_long"),i(),o(3,"h3",98),a(4,"No Transactions Yet"),i(),o(5,"p",101),a(6,"Your transaction history will appear here once you start earning."),i()())}function Xr(n,t){n&1&&(o(0,"th",116),a(1,"Date"),i())}function Qr(n,t){if(n&1&&(o(0,"td",117),a(1),i()),n&2){let e=t.$implicit,r=c(4);l(),f(" ",r.formatDate(e.createdAt)," ")}}function Kr(n,t){n&1&&(o(0,"th",116),a(1,"Activity"),i())}function Zr(n,t){if(n&1&&(o(0,"td",118)(1,"span",119),a(2),i()()),n&2){let e=t.$implicit,r=c(4);l(),E(r.getTransactionTypeColor(e.transaction_type)),l(),f(" ",r.getTransactionTypeLabel(e.transaction_type)," ")}}function Jr(n,t){n&1&&(o(0,"th",116),a(1,"Description"),i())}function el(n,t){if(n&1&&(o(0,"p",120),a(1),i()),n&2){let e=c().$implicit;l(),f("Project: ",e.project_id.title,"")}}function tl(n,t){if(n&1&&(o(0,"p",120),a(1),i()),n&2){let e=c().$implicit;l(),f("From: ",e.business_id.name,"")}}function il(n,t){if(n&1&&(o(0,"td",117)(1,"div")(2,"p",119),a(3),i(),m(4,el,2,1,"p",120)(5,tl,2,1,"p",120),i()()),n&2){let e=t.$implicit;l(3),_(e.description||"No description"),l(),d(e.project_id?4:-1),l(),d(e.business_id?5:-1)}}function nl(n,t){n&1&&(o(0,"th",121),a(1,"Amount"),i())}function ol(n,t){if(n&1&&(o(0,"td",122)(1,"span",123),a(2),i()()),n&2){let e=t.$implicit,r=c(4);l(),E(e.amount>=0?"text-green-600":"text-red-600"),l(),f(" ",r.formatCurrency(e.amount)," ")}}function al(n,t){n&1&&(o(0,"th",116),a(1,"Status"),i())}function rl(n,t){if(n&1&&(o(0,"td",118)(1,"span",124),a(2),M(3,"titlecase"),i()()),n&2){let e=t.$implicit,r=c(4);l(),E(r.getStatusColor(e.status)),l(),f(" ",I(3,3,e.status)," ")}}function ll(n,t){n&1&&h(0,"tr",125)}function sl(n,t){n&1&&h(0,"tr",126)}function cl(n,t){if(n&1&&(o(0,"div",81)(1,"table",103),U(2,104),m(3,Xr,2,0,"th",105)(4,Qr,2,1,"td",106),G(),U(5,107),m(6,Kr,2,0,"th",105)(7,Zr,3,3,"td",108),G(),U(8,109),m(9,Jr,2,0,"th",105)(10,il,6,3,"td",106),G(),U(11,110),m(12,nl,2,0,"th",111)(13,ol,3,3,"td",112),G(),U(14,113),m(15,al,2,0,"th",105)(16,rl,4,5,"td",108),G(),m(17,ll,1,0,"tr",114)(18,sl,1,0,"tr",115),i()()),n&2){let e=c(3);l(),v("dataSource",e.filteredTransactions()),l(16),v("matHeaderRowDef",e.displayedColumns),l(),v("matRowDefColumns",e.displayedColumns)}}function dl(n,t){if(n&1&&(o(0,"p",134),a(1),i()),n&2){let e=c().$implicit;l(),f("Project: ",e.project_id.title,"")}}function ml(n,t){if(n&1&&(o(0,"p",46),a(1),i()),n&2){let e=c().$implicit;l(),f("From: ",e.business_id.name,"")}}function pl(n,t){if(n&1&&(o(0,"div",127)(1,"div",128)(2,"div",129)(3,"h4",130),a(4),i(),o(5,"p",29),a(6),i()(),o(7,"span",131),a(8),i()(),o(9,"div",132)(10,"p",133),a(11),i(),m(12,dl,2,1,"p",134)(13,ml,2,1,"p",46),i(),o(14,"div",135)(15,"span",136),a(16),i(),o(17,"span",124),a(18),M(19,"titlecase"),i()()()),n&2){let e=t.$implicit,r=c(4);l(4),f(" ",r.getTransactionTypeLabel(e.transaction_type)," "),l(2),_(r.formatDate(e.createdAt)),l(),E(e.amount>=0?"text-green-600":"text-red-600"),l(),f(" ",r.formatCurrency(e.amount)," "),l(3),_(e.description||"No description"),l(),d(e.project_id?12:-1),l(),d(e.business_id?13:-1),l(2),E(r.getTransactionTypeColor(e.transaction_type)),l(),f(" ",r.getTransactionTypeLabel(e.transaction_type)," "),l(),E(r.getStatusColor(e.status)),l(),f(" ",I(19,14,e.status)," ")}}function _l(n,t){if(n&1&&(o(0,"div",102),T(1,pl,20,16,"div",127,rr),i()),n&2){let e=c(3);l(),k(e.filteredTransactions())}}function ul(n,t){if(n&1&&m(0,cl,19,3,"div",81)(1,_l,3,0,"div",102),n&2){let e=c(2);d(e.viewMode()==="list"?0:1)}}function gl(n,t){n&1&&(o(0,"div",78),h(1,"mat-spinner",95),o(2,"p",96),a(3,"Loading withdrawals..."),i()())}function xl(n,t){if(n&1){let e=C();o(0,"button",139),u("click",function(){g(e);let s=c(3);return x(s.connectStripe())}),a(1," Connect Stripe to Start "),i()}}function fl(n,t){if(n&1){let e=C();o(0,"div",138)(1,"div",140)(2,"mat-icon",141),a(3,"info"),i(),o(4,"span",142),a(5,"Stripe Account Connected"),i()(),o(6,"p",143),a(7," Your withdrawals will appear here. You can manage your Stripe account using the buttons above. "),i(),o(8,"div",8)(9,"button",144),u("click",function(){g(e);let s=c(3);return x(s.openStripeDashboard())}),a(10," View Dashboard "),i(),o(11,"button",145),u("click",function(){g(e);let s=c(3);return x(s.disconnectStripe())}),a(12," Disconnect "),i()()()}if(n&2){let e=c(3);l(9),v("disabled",e.stripeLoading()),l(2),v("disabled",e.stripeLoading())}}function hl(n,t){if(n&1&&(o(0,"div",79)(1,"mat-icon",97),a(2,"account_balance_wallet"),i(),o(3,"h3",98),a(4,"No Withdrawals Yet"),i(),o(5,"p",99),a(6,"Your withdrawal history will appear here once you make your first withdrawal."),i(),m(7,xl,2,0,"button",137)(8,fl,13,2,"div",138),i()),n&2){let e=c(2);l(7),d(e.hasStripeAccount()?8:7)}}function Cl(n,t){n&1&&(o(0,"th",116),a(1,"Date"),i())}function vl(n,t){if(n&1&&(o(0,"td",117),a(1),i()),n&2){let e=t.$implicit,r=c(3);l(),f(" ",r.formatDate(e.createdAt)," ")}}function bl(n,t){n&1&&(o(0,"th",116),a(1,"Method"),i())}function wl(n,t){if(n&1&&(o(0,"td",118)(1,"div",32)(2,"mat-icon",43),a(3,"payment"),i(),o(4,"span",119),a(5),M(6,"titlecase"),i()()()),n&2){let e=t.$implicit;l(5),_(I(6,1,e.method))}}function yl(n,t){n&1&&(o(0,"th",116),a(1,"Description"),i())}function Sl(n,t){if(n&1&&(o(0,"p",120),a(1),i()),n&2){let e=c().$implicit;l(),f("Stripe Account: ",e.stripe_account_id,"")}}function El(n,t){if(n&1&&(o(0,"p",147),a(1),i()),n&2){let e=c().$implicit;l(),f("Transfer ID: ",e.stripe_transfer_id,"")}}function jl(n,t){if(n&1&&(o(0,"p",120),a(1),i()),n&2){let e=c().$implicit;l(),f("To: ",e.paypal_account.email,"")}}function Pl(n,t){if(n&1&&(o(0,"p",147),a(1),i()),n&2){let e=c().$implicit;l(),f("PayPal ID: ",e.paypal_transaction_id,"")}}function Tl(n,t){if(n&1&&(o(0,"td",117)(1,"div")(2,"p",119),a(3),i(),m(4,Sl,2,1,"p",120)(5,El,2,1,"p",147)(6,jl,2,1,"p",120)(7,Pl,2,1,"p",147),i()()),n&2){let e=t.$implicit;l(3),_(e.description||"Withdrawal via Stripe"),l(),d(e.stripe_account_id?4:-1),l(),d(e.stripe_transfer_id?5:-1),l(),d(e.paypal_account!=null&&e.paypal_account.email?6:-1),l(),d(e.paypal_transaction_id?7:-1)}}function kl(n,t){n&1&&(o(0,"th",121),a(1,"Amount"),i())}function Ml(n,t){if(n&1&&(o(0,"p",46),a(1),M(2,"currency"),i(),o(3,"p",149),a(4),M(5,"currency"),i()),n&2){let e=c().$implicit;l(),f("Fee: ",I(2,2,e.fee),""),l(3),f("Net: ",I(5,4,e.net_amount),"")}}function Dl(n,t){if(n&1&&(o(0,"td",122)(1,"div")(2,"span",148),a(3),M(4,"currency"),i(),m(5,Ml,6,6),i()()),n&2){let e=t.$implicit;l(3),f("-",I(4,2,e.amount),""),l(2),d(e.fee>0?5:-1)}}function Il(n,t){n&1&&(o(0,"th",116),a(1,"Status"),i())}function Fl(n,t){if(n&1&&(o(0,"td",118)(1,"span",150),a(2),M(3,"titlecase"),i()()),n&2){let e=t.$implicit;l(),v("ngClass",Vt(4,ar,e.status==="pending",e.status==="processing",e.status==="completed",e.status==="failed",e.status==="cancelled")),l(),f(" ",I(3,2,e.status)," ")}}function Vl(n,t){n&1&&h(0,"tr",125)}function Rl(n,t){n&1&&h(0,"tr",126)}function Al(n,t){if(n&1&&(o(0,"div",81)(1,"table",103),U(2,104),m(3,Cl,2,0,"th",105)(4,vl,2,1,"td",106),G(),U(5,146),m(6,bl,2,0,"th",105)(7,wl,7,3,"td",108),G(),U(8,109),m(9,yl,2,0,"th",105)(10,Tl,8,5,"td",106),G(),U(11,110),m(12,kl,2,0,"th",111)(13,Dl,6,4,"td",112),G(),U(14,113),m(15,Il,2,0,"th",105)(16,Fl,4,10,"td",108),G(),m(17,Vl,1,0,"tr",114)(18,Rl,1,0,"tr",115),i()()),n&2){let e=c(2);l(),v("dataSource",e.withdrawals()),l(16),v("matHeaderRowDef",Ee(3,Ui)),l(),v("matRowDefColumns",Ee(4,Ui))}}function Bl(n,t){n&1&&(o(0,"div",82)(1,"mat-icon",97),a(2,"account_balance_wallet"),i(),o(3,"h3",98),a(4,"Start Earning Today"),i(),o(5,"p",151),a(6,"Complete projects and build your portfolio to start earning money."),i(),o(7,"button",152)(8,"mat-icon",13),a(9,"business"),i(),a(10," Create Your Business Profile "),i()())}function Ol(n,t){if(n&1){let e=C();o(0,"div",23)(1,"mat-card",24)(2,"div",25)(3,"h3",26),a(4,"Available funds"),i(),o(5,"mat-icon",27),a(6,"account_balance_wallet"),i()(),o(7,"div",28)(8,"p",29),a(9,"Balance available for withdrawal"),i(),o(10,"p",30),a(11),M(12,"currency"),i()(),o(13,"div",31)(14,"div",32)(15,"mat-icon",33),m(16,vr,1,0)(17,br,1,0)(18,wr,1,0)(19,yr,1,0),i(),o(20,"span",34),m(21,Sr,1,0)(22,Er,1,0)(23,jr,1,0)(24,Pr,1,0),i(),m(25,Mr,3,2,"button",35),i()(),o(26,"div",36),m(27,Ir,3,2,"button",37)(28,Vr,3,2,"button",38)(29,Rr,2,0,"button",39)(30,Br,3,2,"button",40)(31,qr,9,4,"div",8),i(),o(32,"p",41),m(33,Ur,1,0)(34,Gr,1,0),i()(),o(35,"mat-card",42)(36,"div",25)(37,"h3",26),a(38,"Future payments"),i(),o(39,"mat-icon",43),a(40,"schedule"),i()(),o(41,"div",44)(42,"div")(43,"p",29),a(44,"Payments being cleared"),i(),o(45,"p",45),a(46),M(47,"currency"),i(),o(48,"p",46),a(49,"Funds from completed projects awaiting clearance."),i()(),o(50,"div")(51,"p",29),a(52,"Active project earnings"),i(),o(53,"p",45),a(54),M(55,"currency"),i(),o(56,"p",46),a(57,"Earnings from ongoing projects."),i()()()(),o(58,"mat-card",42)(59,"div",25)(60,"h3",26),a(61,"Earnings to date"),i(),o(62,"mat-icon",47),a(63,"trending_up"),i()(),o(64,"p",30),a(65),M(66,"currency"),i(),o(67,"p",48),a(68,"Your total earnings since joining."),i()()(),o(69,"div",49)(70,"div",50)(71,"div",51)(72,"mat-form-field",52)(73,"mat-label"),a(74,"Date Range"),i(),o(75,"mat-date-range-input",53)(76,"input",54),u("dateChange",function(){g(e);let s=c();return x(s.onDateFilterChange())}),i(),o(77,"input",55),u("dateChange",function(){g(e);let s=c();return x(s.onDateFilterChange())}),i()(),o(78,"mat-hint"),a(79,"MM/DD/YYYY \u2013 MM/DD/YYYY"),i(),h(80,"mat-datepicker-toggle",56)(81,"mat-date-range-picker",null,0),i(),o(83,"mat-form-field",57)(84,"mat-label"),a(85,"Activity Type"),i(),o(86,"mat-select",58),u("selectionChange",function(s){g(e);let p=c();return x(p.onActivityFilterChange(s))}),o(87,"mat-option",59),a(88,"All Activities"),i(),o(89,"mat-option",60),a(90,"Project Started"),i(),o(91,"mat-option",61),a(92,"Project Completed"),i(),o(93,"mat-option",62),a(94,"Additional Payment"),i(),o(95,"mat-option",63),a(96,"Payment Cleared"),i(),o(97,"mat-option",64),a(98,"Withdrawal"),i(),o(99,"mat-option",65),a(100,"Refund"),i(),o(101,"mat-option",66),a(102,"Platform Fee"),i()()(),m(103,zr,4,0,"button",67),i(),o(104,"div",68)(105,"button",69),u("click",function(){g(e);let s=c();return x(s.setViewMode("grid"))}),o(106,"mat-icon"),a(107,"grid_view"),i()(),o(108,"button",70),u("click",function(){g(e);let s=c();return x(s.setViewMode("list"))}),o(109,"mat-icon"),a(110,"view_list"),i()(),o(111,"button",71),u("click",function(){g(e);let s=c();return x(s.emailActivityReport())}),o(112,"mat-icon",13),a(113,"email"),i(),a(114," Email Report "),i(),o(115,"button",72),u("click",function(){g(e);let s=c();return x(s.debugFilters())}),a(116," Debug "),i()()()(),o(117,"mat-card",73)(118,"div",74)(119,"h2",75),a(120,"Transaction History"),i(),o(121,"p",4),a(122,"View your earnings and withdrawal history"),i()(),o(123,"mat-tab-group",76)(124,"mat-tab",77),m(125,Wr,4,0,"div",78)(126,Hr,9,0,"div",79)(127,Yr,7,0,"div",79)(128,ul,2,1),i(),o(129,"mat-tab",80),m(130,gl,4,0,"div",78)(131,hl,9,1,"div",79)(132,Al,19,5,"div",81),i()()(),m(133,Bl,11,0,"div",82)}if(n&2){let e,r,s=Oe(82),p=c();l(11),_(I(12,25,p.earningsSummary().available)),l(2),v("ngClass",Ne(33,ir,p.stripeConnectionStatus()==="connected",p.stripeConnectionStatus()==="pending",p.stripeConnectionStatus()==="failed",p.stripeConnectionStatus()==="not-connected")),l(2),v("ngClass",Ne(38,nr,p.stripeConnectionStatus()==="connected",p.stripeConnectionStatus()==="pending",p.stripeConnectionStatus()==="failed",p.stripeConnectionStatus()==="not-connected")),l(),d((e=p.stripeConnectionStatus())==="connected"?16:e==="pending"?17:e==="failed"?18:19),l(4),v("ngClass",Ne(43,or,p.stripeConnectionStatus()==="connected",p.stripeConnectionStatus()==="pending",p.stripeConnectionStatus()==="failed",p.stripeConnectionStatus()==="not-connected")),l(),d((r=p.stripeConnectionStatus())==="connected"?21:r==="pending"?22:r==="failed"?23:24),l(4),d(p.stripeConnectionStatus()==="failed"||p.stripeConnectionStatus()==="pending"?25:-1),l(2),d(p.stripeConnectionStatus()==="connected"&&p.earningsSummary().available>0?27:p.stripeConnectionStatus()==="not-connected"?28:p.earningsSummary().available<=0?29:30),l(4),d(p.stripeConnectionStatus()==="connected"?31:-1),l(2),d(p.hasStripeAccount()?33:34),l(13),_(I(47,27,p.earningsSummary().payments_clearing)),l(8),_(I(55,29,p.earningsSummary().active_orders)),l(11),_(I(66,31,p.earningsSummary().total_earnings)),l(10),v("rangePicker",s)("formGroup",p.filterForm),l(5),v("for",s),l(23),d(p.hasActiveFilters()?103:-1),l(2),ee("bg-gray-200",p.viewMode()==="grid"),l(3),ee("bg-gray-200",p.viewMode()==="list"),l(3),v("disabled",p.loading()),l(14),d(p.loadingTransactions()?125:p.filteredTransactions().length===0&&p.hasActiveFilters()?126:p.transactions().length===0?127:128),l(5),d(p.stripeLoading()?130:p.withdrawals().length===0?131:132),l(3),d(p.showEmptyState()?133:-1)}}var mt=class n{http=b($e);stripeConnectService=b(ui);withdrawalService=b(ct);dialog=b(Je);snackBar=b(ye);fb=b(re);apiUrl=`${Ge.api.baseUrl}/wallets`;loading=y(!1);loadingTransactions=y(!1);earningsSummary=y(null);transactions=y([]);filteredTransactions=y([]);error=y(null);viewMode=y("list");stripeAccountStatus=y({has_account:!1,payouts_enabled:!1,requirements_due:!1});withdrawals=y([]);stripeLoading=y(!1);filterForm=this.fb.group({startDate:[null],endDate:[null],activityFilter:[""]});hasEarnings=S(()=>{let t=this.earningsSummary();return t&&t.total_earnings>0});canWithdraw=S(()=>{let t=this.earningsSummary();return t&&t.available>0});showEmptyState=S(()=>{let t=this.earningsSummary(),e=this.transactions();return!this.loading()&&t&&e.length===0});hasActiveFilters=S(()=>{let t=this.filterForm.value;return!!(t.startDate||t.endDate||t.activityFilter&&t.activityFilter!=="")});hasStripeAccount=S(()=>{let t=this.stripeAccountStatus();return t.has_account&&t.payouts_enabled&&!t.requirements_due});canWithdrawToStripe=S(()=>this.canWithdraw()&&this.hasStripeAccount());stripeConnectionStatus=S(()=>{let t=this.stripeAccountStatus();return t.has_account?t.requirements_due?"pending":t.payouts_enabled?"connected":"failed":"not-connected"});displayedColumns=["date","type","description","amount","status"];ngOnInit(){return w(this,null,function*(){yield this.loadEarningsSummary(),yield this.loadTransactions(),yield this.loadStripeAccountStatus(),yield this.loadWithdrawals(),this.filterForm.valueChanges.subscribe(()=>{this.applyFilters()})})}loadEarningsSummary(){return w(this,null,function*(){console.log("\u{1F504} Loading earnings summary..."),this.loading.set(!0),this.error.set(null);try{console.log("\u{1F4E1} Making API call to:",`${this.apiUrl}/summary`);let t=yield q(this.http.get(`${this.apiUrl}/summary`));if(console.log("\u2705 API Response:",t),t)this.earningsSummary.set(t),console.log("\u{1F4B0} Earnings summary set:",t);else{console.log("\u{1F3D7}\uFE0F No earnings data, setting default...");let e={active_orders:0,payments_clearing:0,available:0,total_earnings:0};this.earningsSummary.set(e)}}catch(t){if(console.error("\u274C Error loading earnings summary:",t),console.error("Error details:",{status:t.status,statusText:t.statusText,message:t.message,url:t.url}),t.status===401)this.error.set("Authentication failed. Please log in again.");else if(t.status===404){console.log("\u{1F3D7}\uFE0F Wallets not found, setting default summary...");let e={active_orders:0,payments_clearing:0,available:0,total_earnings:0};this.earningsSummary.set(e)}else this.error.set("Failed to load earnings data")}finally{this.loading.set(!1),console.log("\u{1F3C1} Loading complete. Summary:",this.earningsSummary())}})}loadTransactions(){return w(this,null,function*(){this.loadingTransactions.set(!0);try{let e=(yield q(this.http.get(`${this.apiUrl}/transactions`)))||[];this.transactions.set(e);let r=[...new Set(e.map(s=>s.transaction_type))];console.log("Available transaction types in data:",r),this.applyFilters()}catch(t){console.error("Error loading transactions:",t),this.transactions.set([]),this.filteredTransactions.set([])}finally{this.loadingTransactions.set(!1)}})}formatCurrency(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)}formatDate(t){return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}getTransactionTypeLabel(t){return{project_started:"Project Started",project_completed:"Project Completed",additional_payment:"Additional Payment",payment_cleared:"Payment Cleared",withdrawal:"Withdrawal",refund:"Refund",platform_fee:"Platform Fee"}[t]||t}getStatusColor(t){return{completed:"text-green-600",pending:"text-yellow-600",failed:"text-red-600",cancelled:"text-gray-600"}[t]||"text-gray-600"}getTransactionTypeColor(t){return{project_started:"text-blue-600",project_completed:"text-green-600",additional_payment:"text-green-600",payment_cleared:"text-purple-600",withdrawal:"text-red-600",platform_fee:"text-orange-600",refund:"text-purple-600"}[t]||"text-gray-600"}retryLoad(){return w(this,null,function*(){yield this.loadEarningsSummary(),yield this.loadTransactions()})}loadStripeAccountStatus(){return w(this,null,function*(){try{this.stripeLoading.set(!0);let t=yield q(this.stripeConnectService.getAccountStatus());this.stripeAccountStatus.set(t)}catch(t){console.error("Error loading Stripe account status:",t)}finally{this.stripeLoading.set(!1)}})}refreshStripeAccountStatus(){return w(this,null,function*(){try{this.stripeLoading.set(!0);let t=yield q(this.stripeConnectService.refreshAccountStatus());this.stripeAccountStatus.set(t),this.snackBar.open("Stripe account status refreshed","Close",{duration:3e3})}catch(t){console.error("Error refreshing Stripe account status:",t),this.snackBar.open("Failed to refresh Stripe status","Close",{duration:3e3})}finally{this.stripeLoading.set(!1)}})}loadWithdrawals(){return w(this,null,function*(){try{let t=yield q(this.withdrawalService.getWithdrawals());this.withdrawals.set(t.withdrawals)}catch(t){console.error("Error loading withdrawals:",t)}})}connectStripe(){return w(this,null,function*(){try{this.stripeLoading.set(!0);let t=yield q(this.stripeConnectService.createOrGetAccount());t.onboarding_url?window.location.href=t.onboarding_url:(yield this.loadStripeAccountStatus(),this.snackBar.open("Stripe account already connected","Close",{duration:3e3}))}catch(t){console.error("Error connecting Stripe:",t),this.snackBar.open("Failed to connect Stripe account","Close",{duration:3e3})}finally{this.stripeLoading.set(!1)}})}withdrawToStripe(){return w(this,null,function*(){let t=this.earningsSummary();if(!t||t.available<=0){this.snackBar.open("No funds available for withdrawal","Close",{duration:3e3});return}if(!this.hasStripeAccount()){this.snackBar.open("Please complete your Stripe account setup first","Close",{duration:3e3});return}try{let e={amount:t.available,method:"stripe"},r=yield q(this.withdrawalService.createWithdrawal(e));this.snackBar.open(`Withdrawal of $${t.available.toFixed(2)} initiated successfully`,"Close",{duration:5e3}),yield this.loadEarningsSummary(),yield this.loadWithdrawals()}catch(e){console.error("Error initiating withdrawal:",e),e.error?.message?.includes("payouts not enabled")||e.error?.message?.includes("Stripe payouts not enabled")?(this.snackBar.open("Stripe payouts not enabled. Refreshing account status...","Close",{duration:5e3}),yield this.refreshStripeAccountStatus()):this.snackBar.open("Failed to initiate withdrawal","Close",{duration:3e3})}})}disconnectStripe(){return w(this,null,function*(){if(!this.hasStripeAccount()){this.snackBar.open("No Stripe account connected","Close",{duration:3e3});return}let t={title:"Disconnect Stripe Account",message:"Are you sure you want to disconnect your Stripe account? You will not be able to withdraw funds until you reconnect. Any pending withdrawals will continue to process normally.",confirmText:"Disconnect",cancelText:"Keep Connected",type:"warning",icon:"warning"},e=this.dialog.open(dt,{width:"450px",data:t,disableClose:!0});if(yield q(e.afterClosed()))try{this.stripeLoading.set(!0);let s=yield q(this.stripeConnectService.disconnectAccount());s.success?(this.snackBar.open("Stripe account disconnected successfully","Close",{duration:3e3}),yield this.loadStripeAccountStatus()):this.snackBar.open(s.message||"Failed to disconnect Stripe account","Close",{duration:3e3})}catch(s){console.error("Error disconnecting Stripe:",s),this.snackBar.open("Failed to disconnect Stripe account","Close",{duration:3e3})}finally{this.stripeLoading.set(!1)}})}openStripeDashboard(){return w(this,null,function*(){if(!this.hasStripeAccount()){this.snackBar.open("No Stripe account connected","Close",{duration:3e3});return}try{this.stripeLoading.set(!0);let t=yield q(this.stripeConnectService.createLoginLink());t.url&&window.open(t.url,"_blank")}catch(t){console.error("Error opening Stripe dashboard:",t),this.snackBar.open("Failed to open Stripe dashboard","Close",{duration:3e3})}finally{this.stripeLoading.set(!1)}})}onDateFilterChange(){console.log("Date filter changed:",this.filterForm.value),this.applyFilters()}onActivityFilterChange(t){console.log("Activity filter changed:",this.filterForm.value,t),this.applyFilters()}clearFilters(){this.filterForm.reset({startDate:null,endDate:null,activityFilter:""}),this.applyFilters()}applyFilters(){let t=this.filterForm.value,e=[...this.transactions()];if(console.log("Applying filters with form value:",t),console.log("Original transactions count:",e.length),t.startDate||t.endDate){let r=e.length;e=e.filter(s=>{let p=new Date(s.createdAt);return!(t.startDate&&p<new Date(t.startDate)||t.endDate&&p>new Date(t.endDate))}),console.log("After date filter:",e.length,"removed:",r-e.length)}if(t.activityFilter&&t.activityFilter!==""){let r=e.length;e=e.filter(s=>{let p=s.transaction_type===t.activityFilter;return console.log("Transaction type:",s.transaction_type,"Filter:",t.activityFilter,"Matches:",p),p}),console.log("After activity filter:",e.length,"removed:",r-e.length)}console.log("Final filtered transactions count:",e.length),this.filteredTransactions.set(e)}setViewMode(t){this.viewMode.set(t)}emailActivityReport(){return w(this,null,function*(){try{this.loading.set(!0),this.snackBar.open("Activity report sent to your email","Close",{duration:3e3})}catch(t){console.error("Error sending email report:",t),this.snackBar.open("Failed to send email report","Close",{duration:3e3})}finally{this.loading.set(!1)}})}debugFilters(){console.log("=== FILTER DEBUG ==="),console.log("Form value:",this.filterForm.value),console.log("Total transactions:",this.transactions().length),console.log("Filtered transactions:",this.filteredTransactions().length),console.log("Has active filters:",this.hasActiveFilters());let t=[...new Set(this.transactions().map(e=>e.transaction_type))];console.log("Available transaction types:",t),this.applyFilters()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=D({type:n,selectors:[["app-earnings"]],decls:14,vars:3,consts:[["picker",""],[1,"earnings-container","p-6","space-y-6","bg-gray-50","min-h-screen"],[1,"flex","justify-between","items-center"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-gray-600","mt-1"],[1,"flex","gap-3"],[1,"bg-green-600","hover:bg-green-700","text-white","px-6","py-3","rounded-lg","font-medium","transition-colors","disabled:opacity-50",3,"disabled"],[1,"bg-blue-600","hover:bg-blue-700","text-white","px-6","py-3","rounded-lg","font-medium","transition-colors","disabled:opacity-50",3,"disabled"],[1,"flex","gap-2"],[1,"flex","items-center","justify-center","py-12"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-6","text-center"],[1,"bg-green-600","hover:bg-green-700","text-white","px-6","py-3","rounded-lg","font-medium","transition-colors","disabled:opacity-50",3,"click","disabled"],["diameter","20",1,"inline-block","mr-2"],[1,"mr-2"],[1,"bg-blue-600","hover:bg-blue-700","text-white","px-6","py-3","rounded-lg","font-medium","transition-colors","disabled:opacity-50",3,"click","disabled"],["matTooltip","Open Stripe Dashboard",1,"bg-gray-100","hover:bg-gray-200","text-gray-700","px-4","py-3","rounded-lg","font-medium","transition-colors","disabled:opacity-50",3,"click","disabled"],["matTooltip","Disconnect Stripe Account",1,"bg-red-100","hover:bg-red-200","text-red-700","px-4","py-3","rounded-lg","font-medium","transition-colors","disabled:opacity-50",3,"click","disabled"],["diameter","40"],[1,"ml-3","text-gray-600"],[1,"text-red-600","mb-2",2,"font-size","48px","width","48px","height","48px"],[1,"text-lg","font-semibold","text-red-900","mb-2"],[1,"text-red-700","mb-4"],[1,"bg-red-600","hover:bg-red-700","text-white","px-4","py-2","rounded-lg","font-medium","transition-colors",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"p-6","hover:shadow-lg","transition-shadow"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-sm","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"text-green-600"],[1,"space-y-2"],[1,"text-sm","text-gray-600"],[1,"text-4xl","font-bold","text-gray-900"],[1,"mt-4","p-3","rounded-lg","border",3,"ngClass"],[1,"flex","items-center","space-x-2"],[1,"text-lg",3,"ngClass"],[1,"text-sm","font-medium",3,"ngClass"],[1,"ml-2","text-xs","bg-gray-100","hover:bg-gray-200","text-gray-600","px-2","py-1","rounded","transition-colors","disabled:opacity-50",3,"disabled"],[1,"mt-4","space-y-2"],[1,"w-full","bg-green-600","text-white","px-4","py-2","rounded-lg","hover:bg-green-700","transition-colors","disabled:opacity-50",3,"disabled"],[1,"w-full","bg-blue-600","text-white","px-4","py-2","rounded-lg","hover:bg-blue-700","transition-colors","disabled:opacity-50",3,"disabled"],["disabled","",1,"w-full","bg-gray-300","text-gray-500","px-4","py-2","rounded-lg","cursor-not-allowed"],[1,"w-full","bg-orange-600","text-white","px-4","py-2","rounded-lg","hover:bg-orange-700","transition-colors","disabled:opacity-50",3,"disabled"],[1,"mt-3","text-xs","text-gray-500"],[1,"p-6"],[1,"text-blue-600"],[1,"space-y-4"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"text-purple-600"],[1,"text-sm","text-gray-600","mt-2"],[1,"bg-white","rounded-lg","border","border-gray-200","p-6"],[1,"flex","flex-wrap","gap-4","items-center"],[1,"flex","gap-4","flex-wrap"],["appearance","outline",1,"min-w-[250px]"],[3,"rangePicker","formGroup"],["matStartDate","","formControlName","startDate","placeholder","Start date",3,"dateChange"],["matEndDate","","formControlName","endDate","placeholder","End date",3,"dateChange"],["matIconSuffix","",3,"for"],["appearance","outline",1,"min-w-[200px]"],["formControlName","activityFilter",3,"selectionChange"],["value",""],["value","project_started"],["value","project_completed"],["value","additional_payment"],["value","payment_cleared"],["value","withdrawal"],["value","refund"],["value","platform_fee"],["mat-stroked-button","",1,"self-start","mt-2"],[1,"ml-auto","flex","gap-2"],["mat-icon-button","","matTooltip","Grid View",1,"hover:bg-gray-100","transition-colors",3,"click"],["mat-icon-button","","matTooltip","List View",1,"hover:bg-gray-100","transition-colors",3,"click"],["mat-raised-button","","color","primary",1,"ml-2",3,"click","disabled"],["mat-stroked-button","",1,"ml-2","text-xs",3,"click"],[1,"overflow-hidden"],[1,"p-6","border-b","border-gray-200"],[1,"text-xl","font-semibold","text-gray-900"],[1,"transaction-tabs"],["label","Earnings"],[1,"p-6","text-center"],[1,"p-12","text-center"],["label","Withdrawals"],[1,"overflow-x-auto"],[1,"bg-white","rounded-lg","border","border-gray-200","p-12","text-center"],[1,"ml-2","text-xs","bg-gray-100","hover:bg-gray-200","text-gray-600","px-2","py-1","rounded","transition-colors","disabled:opacity-50",3,"click","disabled"],["diameter","12",1,"inline-block"],[1,"text-xs"],[1,"w-full","bg-green-600","text-white","px-4","py-2","rounded-lg","hover:bg-green-700","transition-colors","disabled:opacity-50",3,"click","disabled"],["diameter","16",1,"inline-block","mr-2"],[1,"w-full","bg-blue-600","text-white","px-4","py-2","rounded-lg","hover:bg-blue-700","transition-colors","disabled:opacity-50",3,"click","disabled"],[1,"w-full","bg-orange-600","text-white","px-4","py-2","rounded-lg","hover:bg-orange-700","transition-colors","disabled:opacity-50",3,"click","disabled"],[1,"flex-1","bg-gray-100","text-gray-700","px-3","py-2","rounded-lg","hover:bg-gray-200","transition-colors","disabled:opacity-50","text-sm",3,"click","disabled"],["diameter","14",1,"inline-block","mr-2"],[1,"mr-1","text-sm"],[1,"flex-1","bg-red-100","text-red-700","px-3","py-2","rounded-lg","hover:bg-red-200","transition-colors","disabled:opacity-50","text-sm",3,"click","disabled"],["mat-stroked-button","",1,"self-start","mt-2",3,"click"],["diameter","30"],[1,"mt-2","text-gray-600"],[1,"text-gray-400","mb-4",2,"font-size","64px","width","64px","height","64px"],[1,"text-lg","font-semibold","text-gray-900","mb-2"],[1,"text-gray-600","mb-4"],["mat-raised-button","","color","primary",3,"click"],[1,"text-gray-600"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4","p-6"],["mat-table","",1,"w-full",3,"dataSource"],["matColumnDef","date"],["mat-header-cell","","class","font-semibold text-gray-900",4,"matHeaderCellDef"],["mat-cell","","class","text-gray-600",4,"matCellDef"],["matColumnDef","type"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","amount"],["mat-header-cell","","class","font-semibold text-gray-900 text-right",4,"matHeaderCellDef"],["mat-cell","","class","text-right",4,"matCellDef"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","hover:bg-gray-50",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"font-semibold","text-gray-900"],["mat-cell","",1,"text-gray-600"],["mat-cell",""],[1,"font-medium"],[1,"text-sm","text-gray-500"],["mat-header-cell","",1,"font-semibold","text-gray-900","text-right"],["mat-cell","",1,"text-right"],[1,"font-semibold"],[1,"px-2","py-1","rounded-full","text-xs","font-medium","bg-gray-100"],["mat-header-row",""],["mat-row","",1,"hover:bg-gray-50"],[1,"bg-white","p-4","rounded-lg","border","border-gray-200","hover:shadow-lg","transition-shadow"],[1,"flex","items-start","justify-between","mb-3"],[1,"flex-1"],[1,"font-medium","text-gray-900","mb-1"],[1,"font-bold","text-lg"],[1,"mb-3"],[1,"text-sm","text-gray-700"],[1,"text-xs","text-gray-500","mt-1"],[1,"flex","items-center","justify-between"],[1,"text-xs","font-medium"],[1,"bg-blue-600","hover:bg-blue-700","text-white","px-4","py-2","rounded-lg","font-medium","transition-colors"],[1,"mt-4","p-4","bg-blue-50","border","border-blue-200","rounded-lg"],[1,"bg-blue-600","hover:bg-blue-700","text-white","px-4","py-2","rounded-lg","font-medium","transition-colors",3,"click"],[1,"flex","items-center","mb-2"],[1,"text-blue-600","mr-2"],[1,"font-medium","text-blue-900"],[1,"text-blue-700","text-sm","mb-3"],[1,"bg-blue-600","hover:bg-blue-700","text-white","px-3","py-2","rounded-lg","text-sm","font-medium","transition-colors","disabled:opacity-50",3,"click","disabled"],[1,"bg-white","border","border-blue-300","text-blue-700","px-3","py-2","rounded-lg","text-sm","font-medium","hover:bg-blue-50","transition-colors","disabled:opacity-50",3,"click","disabled"],["matColumnDef","method"],[1,"text-xs","text-gray-400"],[1,"font-semibold","text-red-600"],[1,"text-xs","text-gray-600","font-medium"],[1,"px-2","py-1","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"text-gray-600","mb-6"],["routerLink","../businesses",1,"bg-gray-900","text-white","px-6","py-3","rounded-lg","font-medium","hover:bg-gray-800","transition-colors"]],template:function(e,r){e&1&&(o(0,"div",1)(1,"div",2)(2,"div")(3,"h1",3),a(4,"Earnings & Payments"),i(),o(5,"p",4),a(6,"Manage your earnings, track payments, and request withdrawals"),i()(),o(7,"div",5),m(8,cr,4,2,"button",6)(9,pr,4,2,"button",7)(10,fr,9,4,"div",8),i()(),m(11,hr,4,0,"div",9)(12,Cr,11,1,"div",10)(13,Ol,134,48),i()),e&2&&(l(8),d(r.canWithdrawToStripe()?8:r.canWithdraw()&&!r.hasStripeAccount()?9:-1),l(2),d(r.hasStripeAccount()?10:-1),l(),d(r.loading()?11:r.error()?12:r.earningsSummary()?13:-1))},dependencies:[V,Bt,te,Le,Ue,Nt,le,We,ie,ne,oe,ae,z,Ce,L,N,ze,O,B,he,fe,we,ve,be,Ii,wi,Si,Ti,Ei,yi,ki,ji,Pi,Mi,Di,et,Se,pe,me,ce,Ye,de,ge,ue,_e,se,ai,ei,ti,ii,ni,oi,ri,di,ci],styles:[".earnings-container[_ngcontent-%COMP%]{min-height:calc(100vh - 64px)}.mat-mdc-card[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f;transition:box-shadow .2s ease-in-out}.mat-mdc-card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.transaction-tabs[_ngcontent-%COMP%]   .mat-mdc-tab-group[_ngcontent-%COMP%]{--mat-tab-header-divider-color: #e5e7eb}.transaction-tabs[_ngcontent-%COMP%]   .mat-mdc-tab[_ngcontent-%COMP%]{min-width:120px}.mat-mdc-table[_ngcontent-%COMP%]{background:transparent}.mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{background:#f9fafb;border-bottom:1px solid #e5e7eb;font-weight:600;color:#374151;padding:16px}.mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{border-bottom:1px solid #f3f4f6;padding:16px}.mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-row[_ngcontent-%COMP%]:hover{background-color:#f9fafb}button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;font-weight:500;transition:all .2s ease-in-out}button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:4px 8px;border-radius:9999px;font-size:12px;font-weight:500}.status-badge.completed[_ngcontent-%COMP%]{background-color:#dcfce7;color:#166534}.status-badge.pending[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.status-badge.failed[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.status-badge.cancelled[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#6b7280}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.animate-pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s cubic-bezier(.4,0,.6,1) infinite}@media (max-width: 768px){.earnings-container[_ngcontent-%COMP%]{padding:16px}.grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.mat-mdc-table[_ngcontent-%COMP%]{font-size:14px}.mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{padding:8px}}"]})};var Te=(n,t)=>{let e=b(A),r=b(Y);return(e.user()?.user_mode||"client")!=="business_owner"?(r.navigate(["/dashboard/projects"]),!1):!0};var m0=[{path:"",redirectTo:"overview",pathMatch:"full"},{path:"overview",component:tt,canActivate:[Te]},{path:"businesses",loadChildren:()=>import("./chunk-EEPSM4WA.js").then(n=>n.BUSINESSES_ROUTES),canActivate:[Te]},{path:"services",loadChildren:()=>import("./chunk-VS2IWVNP.js").then(n=>n.SERVICES_ROUTES),canActivate:[Te]},{path:"notifications",loadChildren:()=>import("./chunk-NZ45VTUN.js").then(n=>n.NOTIFICATION_ROUTES)},{path:"messages",loadChildren:()=>import("./chunk-65QKJTYN.js").then(n=>n.MESSAGES_ROUTES)},{path:"favorites",loadComponent:()=>import("./chunk-2UFV2E4O.js").then(n=>n.FavoritesComponent)},{path:"projects",component:it},{path:"projects/:id",component:nt},{path:"earnings",component:mt,canActivate:[Te]},{path:"profile",component:at},{path:"settings",component:st},{path:"test-notifications",component:ot},{path:"**",redirectTo:""}];export{m0 as DASHBOARD_ROUTES};
