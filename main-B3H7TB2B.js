import{a as nn,b as on,c as rn,d as an}from"./chunk-2TKURCVF.js";import{a as ut,b as Ge}from"./chunk-GM5Q6FEH.js";import{a as Fi,b as Bi,c as dt}from"./chunk-3XPYWHIA.js";import{a as He,b as Hi,c as $i,d as Xi,e as Ji,f as Zi,k as Ki,l as en,m as ln,n as un}from"./chunk-XCDQEQZP.js";import{a as mn,b as ht}from"./chunk-UD3PIWHR.js";import{d as dn}from"./chunk-HRZHOBQF.js";import{a as Gi,b as Ui}from"./chunk-5VMIXC4J.js";import{a as Li}from"./chunk-RCB5IBRW.js";import{a as Me}from"./chunk-GOJTL5ME.js";import{a as Ue,b as sn,c as cn,f as pn}from"./chunk-EZ4Y6422.js";import{a as we,b as Ee,c as Pe,d as re,f as Le,g as ke}from"./chunk-WGXBBWM3.js";import{b as ze,c as mt,d as Ri,e as Ni,f as pt,i as oe}from"./chunk-ZNICEN73.js";import{a as Vi}from"./chunk-XY6L3KPF.js";import{a as qi,b as Qi,c as Yi,d as gt}from"./chunk-35JERL5I.js";import{a as ct,b as Ne}from"./chunk-UY4YEVVR.js";import{a as rt,b as at,c as st,d as lt}from"./chunk-AL4SBIAL.js";import{a as Wi}from"./chunk-7RWCIHFI.js";import{j as zi}from"./chunk-XHLYN5Z3.js";import{g as Ai}from"./chunk-X55ML2VI.js";import{a as ji,b as fe,d as R,g as he,h as xe,k as be,m as ve,n as Ce,t as Di,u as ye,w as Se}from"./chunk-DI6PPV4W.js";import{a as ae,b as se}from"./chunk-F5SVYNC5.js";import{b as Re,d as L,e as D}from"./chunk-Y52DJSVM.js";import{a as j}from"./chunk-GHL2YWZM.js";import{F as Ae,G as N,H as z,U as Ti,V as Ii,W as Oi,X as _t,Z as tn,aa as ft,j as Pi,l as ki,o as Mi,w as We}from"./chunk-DDU4UDPS.js";import{a as ot}from"./chunk-YCEFGLUP.js";import{$a as u,$b as it,Aa as P,Ab as hi,Ba as K,Ca as Ze,Eb as xi,Fa as g,Gb as Ye,Ia as $,Ib as q,Ja as h,Jb as ge,Ka as Ke,La as me,Lb as O,Ma as le,Mb as ne,N as ai,Na as ee,O as de,Oa as m,P as J,Pa as W,Q as qe,Qa as te,R as si,Ra as k,S as b,Sa as M,Sb as tt,T as li,Ta as t,U as ci,Ua as i,Ub as bi,Va as d,X as _,Xb as V,Y as f,Z as C,Za as y,Zb as vi,_ as I,aa as di,ab as c,ac as Ci,ba as mi,bb as Gt,bc as yi,ca as Qe,cb as Ut,cc as Si,d as ti,da as pi,db as $t,e as ii,eb as Ie,ec as Q,f as ni,fa as Ht,fb as pe,fc as nt,gb as ue,gc as A,ha as S,hc as _e,ic as wi,j as oi,jb as ie,jc as Ei,kb as r,kc as De,la as ui,lb as x,m as Je,mb as v,nb as Oe,oa as gi,ob as qt,qa as G,ra as l,tb as et,ua as _i,ub as je,va as Z,x as ri,zb as fi}from"./chunk-OUYPDPRE.js";import{a as Kt,b as ei,d as E}from"./chunk-QEZ3K4DX.js";var xt=class o{authService=b(j);router=b(A);intercept(n,e){let a=this.authService.getAuthToken(),s=n;return a&&(s=n.clone({setHeaders:{Authorization:`Bearer ${a}`}})),e.handle(s).pipe(ri(p=>(p.status===401&&(console.warn("Authentication failed, redirecting to login"),this.authService.signOut(),this.router.navigate(["/auth"],{queryParams:{message:"Your session has expired. Please log in again."}})),oi(()=>p))))}static \u0275fac=function(e){return new(e||o)};static \u0275prov=de({token:o,factory:o.\u0275fac})};var Mn=(o,n)=>n._id;function Tn(o,n){if(o&1&&(t(0,"span",4),r(1),i()),o&2){let e=c();l(),v(" ",e.unreadCount()>99?"99+":e.unreadCount()," ")}}function In(o,n){if(o&1){let e=y();t(0,"button",16),u("click",function(){_(e);let s=c(2);return f(s.markAllAsRead())}),r(1),i()}if(o&2){let e=c(2);h("disabled",e.isMarkingAllRead),l(),v(" ",e.isMarkingAllRead?"Marking...":"Mark all read"," ")}}function On(o,n){o&1&&(t(0,"div",14),d(1,"div",17),i())}function An(o,n){o&1&&(t(0,"div",15),C(),t(1,"svg",18),d(2,"path",3),i(),I(),t(3,"p",19),r(4,"No notifications yet"),i()())}function Fn(o,n){o&1&&d(0,"div",31)}function Bn(o,n){if(o&1){let e=y();t(0,"div",21),u("click",function(){let s=_(e).$implicit,p=c(3);return f(p.handleNotificationClick(s))})("keydown.enter",function(){let s=_(e).$implicit,p=c(3);return f(p.handleNotificationClick(s))})("keydown.space",function(){let s=_(e).$implicit,p=c(3);return f(p.handleNotificationClick(s))}),t(1,"div",22)(2,"div",23)(3,"span",24),r(4),i()(),t(5,"div",25)(6,"div",26)(7,"div",27)(8,"p",28),r(9),i(),t(10,"p",29),r(11),i(),t(12,"p",30),r(13),i()(),g(14,Fn,1,0,"div",31),i()()()()}if(o&2){let e=n.$implicit,a=c(3);le(a.getNotificationStyles(e)),l(4),x(a.getNotificationIcon(e.type)),l(5),v(" ",e.title," "),l(2),v(" ",e.message," "),l(2),v(" ",a.formatTimeAgo(e.createdAt)," "),l(),m(e.is_read?-1:14)}}function Vn(o,n){if(o&1&&k(0,Bn,15,7,"div",20,Mn),o&2){let e=c(2);M(e.recentNotifications())}}function jn(o,n){if(o&1){let e=y();t(0,"div",5)(1,"div",7)(2,"div",8)(3,"h3",9),r(4,"Notifications"),i(),t(5,"div",10),g(6,In,2,2,"button",11),t(7,"a",12),u("click",function(){_(e);let s=c();return f(s.closeDropdown())}),r(8," View all "),i()()()(),t(9,"div",13),g(10,On,2,0,"div",14)(11,An,5,0,"div",15)(12,Vn,2,0),i()()}if(o&2){let e=c();l(6),m(e.unreadCount()>0?6:-1),l(4),m(e.isLoading()?10:e.recentNotifications().length===0?11:12)}}function Dn(o,n){if(o&1){let e=y();t(0,"div",32),u("click",function(){_(e);let s=c();return f(s.closeDropdown())}),i()}}var $e=class o{notificationService=b(Vi);socketService=b(dt);router=b(A);isDropdownOpen=!1;isMarkingAllRead=!1;notifications=this.notificationService.notifications;unreadCount=this.notificationService.unreadCount;isLoading=this.notificationService.isLoading;hasUnreadNotifications=O(()=>this.unreadCount()>0);recentNotifications=O(()=>this.notifications().slice(0,5));constructor(){ne(()=>{this.updatePageTitle()})}ngOnInit(){this.loadNotifications(),this.notificationService.requestNotificationPermission()}loadNotifications(){return E(this,null,function*(){try{yield this.notificationService.getNotifications({limit:20,page:1})}catch(n){console.error("Error loading notifications:",n)}})}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen,this.isDropdownOpen&&this.markUnseenAsSeen()}closeDropdown(){this.isDropdownOpen=!1}markUnseenAsSeen(){return E(this,null,function*(){try{yield this.notificationService.markAllAsSeen()}catch(n){console.error("Error marking notifications as seen:",n)}})}markAllAsRead(){return E(this,null,function*(){this.isMarkingAllRead=!0;try{yield this.notificationService.markAllAsRead()}catch(n){console.error("Error marking all as read:",n)}finally{this.isMarkingAllRead=!1}})}handleNotificationClick(n){return E(this,null,function*(){if(!n.is_read)try{yield this.notificationService.markAsRead(n._id)}catch(e){console.error("Error marking notification as read:",e)}this.navigateFromNotification(n),this.closeDropdown()})}navigateFromNotification(n){switch(n.type){case"project_created":case"project_accepted":case"project_rejected":case"project_started":case"project_completed":n.project_id&&this.router.navigate(["/dashboard/projects",n.project_id._id]);break;case"message_received":n.metadata?.chatId&&this.router.navigate(["/dashboard/messages"],{queryParams:{chat:n.metadata.chatId}});break;default:this.router.navigate(["/dashboard/notifications"]);break}}getNotificationIcon(n){return this.notificationService.getNotificationIcon(n)}getNotificationStyles(n){let e="";return n.priority==="urgent"?e+="bg-red-50 border-l-4 border-red-400 ":n.priority==="high"?e+="bg-orange-50 border-l-4 border-orange-400 ":n.is_read||(e+="bg-blue-50 "),e}formatTimeAgo(n){return this.notificationService.formatTimeAgo(n)}updatePageTitle(){let n=this.unreadCount(),e=document.title.replace(/^\(\d+\)\s/,"");n>0?document.title=`(${n}) ${e}`:document.title=e}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=P({type:o,selectors:[["app-notification-nav"]],decls:7,vars:7,consts:[[1,"relative"],[1,"relative","p-2","text-gray-600","hover:text-gray-900","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","rounded-lg","transition-colors","duration-200",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 17h5l-5.5-7V7a5 5 0 00-4.5-4.5A5 5 0 005.5 7v3L0 17h5m5 0v1a3 3 0 01-6 0v-1m6 0v1a3 3 0 006 0v-1"],[1,"absolute","-top-1","-right-1","inline-flex","items-center","justify-center","px-2","py-1","text-xs","font-bold","leading-none","text-white","transform","translate-x-1/2","-translate-y-1/2","bg-red-500","rounded-full","min-w-[1.25rem]","h-5"],[1,"absolute","right-0","z-50","mt-2","w-80","bg-white","rounded-lg","shadow-lg","border","border-gray-200","max-h-96","overflow-hidden"],[1,"fixed","inset-0","z-40"],[1,"px-4","py-3","border-b","border-gray-200","bg-gray-50"],[1,"flex","items-center","justify-between"],[1,"text-sm","font-semibold","text-gray-900"],[1,"flex","items-center","space-x-2"],[1,"text-xs","text-blue-600","hover:text-blue-800","font-medium",3,"disabled"],["routerLink","/dashboard/notifications",1,"text-xs","text-gray-600","hover:text-gray-800","font-medium",3,"click"],[1,"max-h-64","overflow-y-auto"],[1,"flex","items-center","justify-center","py-8"],[1,"text-center","py-8","text-gray-500"],[1,"text-xs","text-blue-600","hover:text-blue-800","font-medium",3,"click","disabled"],[1,"animate-spin","rounded-full","h-6","w-6","border-b-2","border-blue-600"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","mx-auto","mb-2","text-gray-300"],[1,"text-sm"],["role","button","tabindex","0",1,"px-4","py-3","border-b","border-gray-100","hover:bg-gray-50","cursor-pointer","transition-colors","duration-200",3,"class"],["role","button","tabindex","0",1,"px-4","py-3","border-b","border-gray-100","hover:bg-gray-50","cursor-pointer","transition-colors","duration-200",3,"click","keydown.enter","keydown.space"],[1,"flex","items-start","space-x-3"],[1,"flex-shrink-0","mt-1"],[1,"text-lg"],[1,"flex-1","min-w-0"],[1,"flex","items-start","justify-between"],[1,"flex-1"],[1,"text-sm","font-medium","text-gray-900","truncate","hover:text-blue-600","transition-colors"],[1,"text-xs","text-gray-600","mt-1","line-clamp-2"],[1,"text-xs","text-gray-400","mt-1"],[1,"w-2","h-2","bg-blue-500","rounded-full","ml-2","mt-1","flex-shrink-0"],[1,"fixed","inset-0","z-40",3,"click"]],template:function(e,a){e&1&&(t(0,"div",0)(1,"button",1),u("click",function(){return a.toggleDropdown()}),C(),t(2,"svg",2),d(3,"path",3),i(),g(4,Tn,2,1,"span",4),i(),g(5,jn,13,2,"div",5)(6,Dn,1,0,"div",6),i()),e&2&&(l(),me("text-blue-600",a.hasUnreadNotifications()),l(),me("animate-pulse",a.hasUnreadNotifications()),l(2),m(a.unreadCount()>0?4:-1),l(),m(a.isDropdownOpen?5:-1),l(),m(a.isDropdownOpen?6:-1))},dependencies:[V,De,_e],styles:[".line-clamp-2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}"]})};function zn(o,n){if(o&1){let e=y();t(0,"button",15),u("click",function(){_(e);let s=c(2);return f(s.switchToBusinessMode())}),t(1,"mat-icon"),r(2,"business"),i(),t(3,"span"),r(4,"Switch to Business Owner"),i()()}}function Ln(o,n){if(o&1){let e=y();t(0,"button",15),u("click",function(){_(e);let s=c(2);return f(s.switchToClientMode())}),t(1,"mat-icon"),r(2,"person_outline"),i(),t(3,"span"),r(4,"Switch to Client Mode"),i()()}}function Hn(o,n){if(o&1){let e=y();t(0,"div",8)(1,"button",9),u("click",function(){_(e);let s=c();return f(s.navigateToMessages())}),t(2,"mat-icon",10),r(3," mail "),i()(),d(4,"app-notification-nav"),t(5,"div",11)(6,"button",12)(7,"div",13),r(8),i(),t(9,"mat-icon"),r(10,"expand_more"),i()(),t(11,"mat-menu",null,0)(13,"div",14),r(14),i(),t(15,"button",15),u("click",function(){_(e);let s=c();return f(s.navigateToDashboard())}),t(16,"mat-icon"),r(17,"dashboard"),i(),t(18,"span"),r(19,"Dashboard"),i()(),t(20,"button",15),u("click",function(){_(e);let s=c();return f(s.navigateToProfile())}),t(21,"mat-icon"),r(22,"person"),i(),t(23,"span"),r(24,"Profile"),i()(),g(25,zn,5,0,"button",16)(26,Ln,5,0,"button",16),d(27,"mat-divider"),t(28,"button",15),u("click",function(){_(e);let s=c();return f(s.navigateToSettings())}),t(29,"mat-icon"),r(30,"settings"),i(),t(31,"span"),r(32,"Settings"),i()(),d(33,"mat-divider"),t(34,"button",17),u("click",function(){_(e);let s=c();return f(s.signOut())}),t(35,"mat-icon"),r(36,"logout"),i(),t(37,"span"),r(38,"Sign Out"),i()()()()()}if(o&2){let e=ie(12),a=c();l(2),h("matBadge",a.messageCount())("matBadgeHidden",a.messageCount()===0),l(4),h("matMenuTriggerFor",e),l(2),v(" ",a.getUserInitials()," "),l(6),v(" Mode: ",a.isBusinessOwner()?"Business Owner":"Client"," "),l(11),m(a.isBusinessOwner()?26:25)}}function Gn(o,n){if(o&1){let e=y();t(0,"a",18),u("click",function(){_(e);let s=c();return f(s.navigateToOwnBusiness())}),r(1," Own a Business "),i(),t(2,"a",19),r(3," Sign In "),i(),t(4,"a",20),r(5," Join "),i()}}var Y=class o{authService=b(j);router=b(A);user=this.authService.user;isAuthenticated=this.authService.isAuthenticated;showMobileMenu=S(!1);messageCount=S(3);userMode=O(()=>this.user()?.user_mode||"client");isBusinessOwner=O(()=>this.userMode()==="business_owner");constructor(){ne(()=>{let n=this.user(),e=this.userMode(),a=this.isBusinessOwner();console.log("Header signals updated:",{user:n?.email,mode:e,isBusiness:a})})}getUserInitials(){let n=this.user();if(!n)return"";let e=n.first_name||"",a=n.last_name||"";return e&&a?e.charAt(0).toUpperCase()+a.charAt(0).toUpperCase():e?e.charAt(0).toUpperCase()+(n.email.charAt(0).toUpperCase()||""):a?n.email.charAt(0).toUpperCase()+a.charAt(0).toUpperCase():n.email.charAt(0).toUpperCase()}getUserFullName(){let n=this.user();if(!n)return"";let e=n.first_name||"",a=n.last_name||"";return e&&a?`${e} ${a}`:e||a||n.email}navigateToDashboard(){this.router.navigate(["/dashboard"])}navigateToProfile(){this.router.navigate(["/dashboard/profile"])}navigateToSettings(){this.router.navigate(["/dashboard/settings"])}navigateToMessages(){this.router.navigate(["/dashboard/messages"])}navigateToCreateBusiness(){this.router.navigate(["/dashboard/businesses/create-business"])}navigateToOwnBusiness(){this.router.navigate(["/own-business"])}navigateToBecomeBusiness(){this.router.navigate(["/auth"],{queryParams:{mode:"business"}})}switchToBusinessMode(){return E(this,null,function*(){try{let n=yield this.authService.switchMode("business_owner");n.data?(console.log("Switched to business owner mode successfully"),console.log("Updated user mode:",this.userMode()),this.navigateToDashboard()):console.error("Failed to switch to business mode:",n.error)}catch(n){console.error("Error switching to business mode:",n)}})}switchToClientMode(){return E(this,null,function*(){try{let n=yield this.authService.switchMode("client");n.data?(console.log("Switched to client mode successfully"),console.log("Updated user mode:",this.userMode()),this.router.navigate(["/search"])):console.error("Failed to switch to client mode:",n.error)}catch(n){console.error("Error switching to client mode:",n)}})}toggleMobileMenu(){this.showMobileMenu.update(n=>!n)}signOut(){return E(this,null,function*(){yield this.authService.signOut()})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=P({type:o,selectors:[["app-header"]],decls:16,vars:1,consts:[["userMenu","matMenu"],[1,"relative","z-50","bg-white","shadow-sm"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","items-center","py-4"],[1,"flex","items-center"],["routerLink","/",1,"text-2xl","font-bold","text-blue-600","hover:text-blue-700","transition-colors"],[1,"hidden","md:flex","items-center","space-x-8"],["href","#",1,"text-gray-700","hover:text-blue-600","transition-colors"],[1,"flex","items-center","space-x-4"],["mat-icon-button","",1,"relative","text-gray-700","hover:text-blue-600","transition-colors",3,"click"],["matBadgeColor","warn","matBadgeSize","small",3,"matBadge","matBadgeHidden"],[1,"relative"],["mat-button","",1,"flex","items-center","space-x-2","text-gray-700","hover:text-blue-600","transition-colors",3,"matMenuTriggerFor"],[1,"w-8","h-8","bg-blue-600","text-white","rounded-full","flex","items-center","justify-center","text-sm","font-medium"],[1,"px-4","py-2","text-sm","text-gray-500","border-b"],["mat-menu-item","",3,"click"],["mat-menu-item",""],["mat-menu-item","",1,"text-red-600",3,"click"],[1,"text-gray-700","hover:text-blue-600","transition-colors","cursor-pointer",3,"click"],["routerLink","/auth",1,"text-gray-700","hover:text-blue-600","transition-colors"],["routerLink","/auth",1,"bg-blue-600","text-white","px-4","py-2","rounded-lg","hover:bg-blue-700","transition-colors"]],template:function(e,a){if(e&1&&(t(0,"header",1)(1,"nav",2)(2,"div",3)(3,"div",4)(4,"a",5),r(5," PutHerOn "),i()(),t(6,"div",6)(7,"a",7),r(8,"Browse Categories"),i(),t(9,"a",7),r(10,"How It Works"),i(),t(11,"a",7),r(12,"Success Stories"),i()(),t(13,"div",8),g(14,Hn,39,6,"div",8)(15,Gn,6,0),i()()()()),e&2){let s;l(14),m((s=a.isAuthenticated())?14:15,s)}},dependencies:[V,De,_e,z,N,D,L,Re,lt,at,rt,st,Bi,Fi,Ne,ct,$e],encapsulation:2})};var Un=()=>[],$n=(o,n)=>n.code;function qn(o,n){if(o&1&&(t(0,"mat-option",17),r(1),i()),o&2){let e=n.$implicit;h("value",e.name),l(),v(" ",e.name," ")}}function Qn(o,n){if(o&1&&(t(0,"span",20),r(1),i()),o&2){let e=n.$implicit;l(),v(" ",e," ")}}var vt=class o{fb=b(ye);router=b(A);searchForm;countries=He;ngOnInit(){this.searchForm=this.fb.group({searchQuery:[""],selectedCountries:[[]]})}get isFormValid(){return this.searchForm.valid&&(this.searchForm.get("searchQuery")?.value?.trim()||this.searchForm.get("selectedCountries")?.value?.length>0)}get searchQueryControl(){return this.searchForm.get("searchQuery")}onSearch(){if(console.log("Search initiated with form:",this.isFormValid),!this.isFormValid){this.searchForm.markAllAsTouched();return}let n=this.searchForm.value,e={};n.searchQuery?.trim()&&(e.q=n.searchQuery.trim()),n.selectedCountries&&n.selectedCountries.length>0&&(e.countries=n.selectedCountries.join(",")),this.router.navigate(["/search"],{queryParams:e})}onPopularSearch(n){this.searchForm.patchValue({searchQuery:n}),this.searchForm.get("searchQuery")?.markAsTouched(),this.onSearch()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=P({type:o,selectors:[["hero-section"]],decls:69,vars:3,consts:[[1,"relative","min-h-screen","flex","items-center","justify-center","overflow-hidden"],["autoplay","","muted","","loop","","playsinline","",1,"absolute","inset-0","w-full","h-full","object-cover","hero-video"],["src","https://fiverr-res.cloudinary.com/video/upload/v1/video-attachments/generic_asset/asset/18ad23debdc5ce914d67939eceb5fc27-1738830703211/Desktop%20Header%20new%20version","type","video/mp4"],[1,"absolute","inset-0"],[1,"relative","z-10","max-w-4xl","mx-auto","px-4","sm:px-6","lg:px-8","text-center","fade-in"],[1,"text-5xl","md:text-7xl","font-bold","text-white","mb-6","leading-tight"],[1,"text-blue-400"],[1,"text-xl","md:text-2xl","text-gray-200","mb-12","max-w-3xl","mx-auto"],[1,"max-w-6xl","mx-auto","mb-8"],[3,"ngSubmit","formGroup"],[1,"relative"],[1,"flex","flex-col","lg:flex-row","bg-white","rounded-xl","shadow-2xl","overflow-hidden","search-input"],[1,"flex-1","relative"],["type","text","placeholder","Search businesses, services, or locations.","formControlName","searchQuery",1,"w-full","px-6","py-4","text-gray-700","text-lg","focus:outline-none"],[1,"relative","lg:w-40","border-t","lg:border-t-0","lg:border-l","border-gray-200"],["appearance","outline","subscriptSizing","dynamic",1,"w-full","no-border","custom-mat-select"],["formControlName","selectedCountries","multiple","","placeholder","Select heritage",1,"custom-select"],[3,"value"],["type","submit",1,"cta-button","text-white","px-8","py-4","font-semibold","text-lg","disabled:opacity-50","disabled:cursor-not-allowed","transition-opacity",3,"disabled"],[1,"mt-4","flex","flex-wrap","gap-2","justify-center"],[1,"country-tag","bg-blue-100","text-blue-800","px-3","py-1","rounded-full","text-sm","font-medium"],[1,"flex","flex-wrap","justify-center","gap-3","mb-12"],[1,"text-gray-300","text-sm"],["type","button",1,"bg-white/20","backdrop-blur-sm","text-white","px-4","py-2","rounded-full","text-sm","hover:bg-white/30","transition-all",3,"click"],[1,"flex","flex-col","sm:flex-row","gap-4","justify-center"],[1,"cta-button","text-white","px-8","py-4","rounded-xl","font-semibold","text-lg"],[1,"bg-white/20","backdrop-blur-sm","border-2","border-white","text-white","px-8","py-4","rounded-xl","font-semibold","text-lg","hover:bg-white","hover:text-gray-800","transition-all"],[1,"mt-16","grid","grid-cols-3","gap-8","text-white/80"],[1,"text-center"],[1,"text-3xl","font-bold","text-blue-400"],[1,"text-sm"],[1,"absolute","bottom-8","left-1/2","transform","-translate-x-1/2","text-white/60"],[1,"animate-bounce"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 14l-7 7m0 0l-7-7m7 7V3"]],template:function(e,a){if(e&1&&(t(0,"section",0)(1,"video",1),d(2,"source",2)(3,"source",2)(4,"source",2),r(5," Your browser does not support the video tag. "),i(),d(6,"div",3),t(7,"div",4)(8,"h2",5),r(9," Find Her Business"),d(10,"br"),t(11,"span",6),r(12,"Back Her Roots"),i()(),t(13,"p",7),r(14," Connect with verified women-owned and minority-owned businesses across America. "),i(),t(15,"div",8)(16,"form",9),u("ngSubmit",function(){return a.onSearch()}),t(17,"div",10)(18,"div",11)(19,"div",12),d(20,"input",13),i(),t(21,"div",14)(22,"mat-form-field",15)(23,"mat-select",16),k(24,qn,2,2,"mat-option",17,$n),i()()(),t(26,"button",18),r(27," Search "),i()()()(),t(28,"div",19),k(29,Qn,2,1,"span",20,te),i()(),t(31,"div",21)(32,"span",22),r(33,"Popular:"),i(),t(34,"button",23),u("click",function(){return a.onPopularSearch("Bookeping & Tax prep")}),r(35," Bookeping & Tax prep "),i(),t(36,"button",23),u("click",function(){return a.onPopularSearch("Quickbooks")}),r(37," Quickbooks "),i(),t(38,"button",23),u("click",function(){return a.onPopularSearch("eCommerce")}),r(39," eCommerce "),i(),t(40,"button",23),u("click",function(){return a.onPopularSearch("Grant Writing")}),r(41," Grant Writing "),i(),t(42,"button",23),u("click",function(){return a.onPopularSearch("Consulting")}),r(43," Consulting "),i()(),t(44,"div",24)(45,"button",25),r(46," Find Businesses "),i(),t(47,"button",26),r(48," List Your Business "),i()(),t(49,"div",27)(50,"div",28)(51,"div",29),r(52,"50K+"),i(),t(53,"div",30),r(54,"Women Entrepreneurs"),i()(),t(55,"div",28)(56,"div",29),r(57,"100K+"),i(),t(58,"div",30),r(59,"Businesses Listed"),i()(),t(60,"div",28)(61,"div",29),r(62,"1million+"),i(),t(63,"div",30),r(64,"Verified WBE MBE Certified"),i()()()(),t(65,"div",31)(66,"div",32),C(),t(67,"svg",33),d(68,"path",34),i()()()()),e&2){let s;l(16),h("formGroup",a.searchForm),l(8),M(a.countries),l(2),h("disabled",!a.isFormValid),l(3),M(((s=a.searchForm.get("selectedCountries"))==null?null:s.value)||je(2,Un))}},dependencies:[V,Se,be,fe,he,xe,ve,Ce,re,oe,Pe,we,Ee,ke,D],styles:["[_ngcontent-%COMP%]:root{--mat-select-panel-background-color: orange}[_ngcontent-%COMP%]:root{--mat-select-enabled-trigger-text-color: red}.mdc-text-field[_ngcontent-%COMP%]{background-color:#fff!important;border-radius:4px}"]})};var Ct=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=P({type:o,selectors:[["how-it-works-section"]],decls:46,vars:0,consts:[[1,"py-20","bg-gradient-to-br","from-gray-50","to-blue-50"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"text-center","mb-16"],[1,"text-4xl","md:text-5xl","font-bold","text-gray-900","mb-6"],[1,"text-xl","text-gray-600","max-w-3xl","mx-auto"],[1,"grid","md:grid-cols-3","gap-8","lg:gap-12","mb-16"],[1,"text-center","group"],[1,"relative","mb-8"],[1,"absolute","-top-4","-left-4","w-12","h-12","bg-blue-600","text-white","rounded-full","flex","items-center","justify-center","font-bold","text-lg","z-10"],[1,"w-24","h-24","mx-auto","bg-white","rounded-2xl","shadow-lg","flex","items-center","justify-center","group-hover:shadow-xl","transition-all","duration-300","group-hover:scale-105"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"text-2xl","font-bold","text-gray-900","mb-4"],[1,"text-gray-600","leading-relaxed"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-center"],[1,"cta-button","text-white","px-10","py-4","rounded-xl","font-semibold","text-lg","shadow-lg","hover:shadow-xl","transition-all","duration-300"],[1,"text-gray-500","text-sm","mt-4"]],template:function(e,a){e&1&&(t(0,"section",0)(1,"div",1)(2,"div",2)(3,"h3",3),r(4," How It Works "),i(),t(5,"p",4),r(6," Connecting with talented women in business has never been easier. Follow these simple steps to find the perfect business for your needs. "),i()(),t(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),r(11," 1 "),i(),t(12,"div",9),C(),t(13,"svg",10),d(14,"path",11),i()()(),I(),t(15,"h4",12),r(16," Find "),i(),t(17,"p",13),r(18," Find Your Perfect Match Description: Browse by industry, location, or heritage. Use our advanced filters to discover exactly what you need. "),i()(),t(19,"div",6)(20,"div",7)(21,"div",8),r(22," 2 "),i(),t(23,"div",9),C(),t(24,"svg",10),d(25,"path",14),i()()(),I(),t(26,"h4",12),r(27," Connect "),i(),t(28,"p",13),r(29," View detailed business profiles, read reviews, and contact owners directly through our platform."),i()(),t(30,"div",6)(31,"div",7)(32,"div",8),r(33," 3 "),i(),t(34,"div",9),C(),t(35,"svg",10),d(36,"path",15),i()()(),I(),t(37,"h4",12),r(38," Support "),i(),t(39,"p",13),r(40," Hire their services, buy their products, and help grow our community of diverse business owners. "),i()()(),t(41,"div",16)(42,"button",17),r(43," Get Started Today "),i(),t(44,"p",18),r(45," Join our growing community of Women and MBE in business changing the game. "),i()()()())},encapsulation:2})};var yt=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=P({type:o,selectors:[["popular-services-section"]],decls:39,vars:0,consts:[[1,"py-20","bg-white"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"text-center","mb-12"],[1,"text-4xl","md:text-5xl","font-bold","text-gray-900","mb-4"],[1,"text-xl","text-gray-600","max-w-2xl","mx-auto"],[1,"grid","gap-8","md:grid-cols-2","lg:grid-cols-4"],[1,"bg-blue-50","rounded-2xl","shadow-lg","hover:shadow-xl","transition-all","duration-300","overflow-hidden","flex","flex-col"],["src","https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?auto=format&fit=crop&w=400&q=80","alt","Web Design",1,"h-40","w-full","object-cover"],[1,"p-6","flex-1","flex","flex-col"],[1,"text-xl","font-semibold","text-blue-700","mb-2"],[1,"text-gray-600","flex-1"],["src","https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=400&q=80","alt","Marketing",1,"h-40","w-full","object-cover"],["src","https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=400&q=80","alt","Photography",1,"h-40","w-full","object-cover"],["src","https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=crop&w=400&q=80","alt","Writing",1,"h-40","w-full","object-cover"],[1,"mt-10","flex","justify-center"],[1,"border-2","border-blue-600","text-blue-700","font-semibold","px-8","py-3","rounded-lg","text-lg","hover:bg-blue-50","transition-all"]],template:function(e,a){e&1&&(t(0,"section",0)(1,"div",1)(2,"div",2)(3,"h3",3),r(4,"More Than Just a Directory"),i(),t(5,"p",4),r(6,"Explore top services offered by talented women entrepreneurs from diverse backgrounds."),i()(),t(7,"div",5)(8,"div",6),d(9,"img",7),t(10,"div",8)(11,"h4",9),r(12,"Business Law & Contracts"),i(),t(13,"p",10),r(14,"Modern, responsive websites to help your business stand out online."),i()()(),t(15,"div",6),d(16,"img",11),t(17,"div",8)(18,"h4",9),r(19,"Quickbooks"),i(),t(20,"p",10),r(21,"Creative strategies to grow your brand and reach new audiences."),i()()(),t(22,"div",6),d(23,"img",12),t(24,"div",8)(25,"h4",9),r(26,"Digital Marketing"),i(),t(27,"p",10),r(28,"Professional photoshoots for products, events, and personal branding."),i()()(),t(29,"div",6),d(30,"img",13),t(31,"div",8)(32,"h4",9),r(33,"Grant Writing"),i(),t(34,"p",10),r(35,"Engaging content, copywriting, and storytelling for your business needs."),i()()()(),t(36,"div",14)(37,"button",15),r(38," View All Services "),i()()()())},encapsulation:2})};var St=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=P({type:o,selectors:[["success-stories-section"]],decls:32,vars:0,consts:[[1,"py-20","bg-gradient-to-br","from-blue-50","to-white"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"text-center","mb-12"],[1,"text-4xl","md:text-5xl","font-bold","text-blue-700","mb-4"],[1,"text-xl","text-gray-600","max-w-2xl","mx-auto"],[1,"grid","gap-8","md:grid-cols-2","lg:grid-cols-3"],[1,"bg-white","rounded-2xl","shadow-lg","hover:shadow-xl","transition-all","duration-300","p-8","flex","flex-col","items-center","text-center"],["src","https://randomuser.me/api/portraits/women/68.jpg","alt","Success Story 1",1,"w-20","h-20","rounded-full","mb-4","border-4","border-blue-200","object-cover"],[1,"text-lg","font-semibold","text-blue-700","mb-1"],[1,"text-sm","text-blue-400","mb-2"],[1,"text-gray-600"],["src","https://randomuser.me/api/portraits/women/65.jpg","alt","Success Story 2",1,"w-20","h-20","rounded-full","mb-4","border-4","border-blue-200","object-cover"],["src","https://randomuser.me/api/portraits/women/43.jpg","alt","Success Story 3",1,"w-20","h-20","rounded-full","mb-4","border-4","border-blue-200","object-cover"]],template:function(e,a){e&1&&(t(0,"section",0)(1,"div",1)(2,"div",2)(3,"h3",3),r(4,"Success Stories"),i(),t(5,"p",4),r(6,"See how women entrepreneurs are thriving and making an impact through PutHerOn."),i()(),t(7,"div",5)(8,"div",6),d(9,"img",7),t(10,"h4",8),r(11,"Amina Bello"),i(),t(12,"span",9),r(13,"Web Designer, Nigeria"),i(),t(14,"p",10),r(15,'"PutHerOn helped me connect with clients who value my heritage and skills. My business has grown beyond my expectations!"'),i()(),t(16,"div",6),d(17,"img",11),t(18,"h4",8),r(19,"Janelle Carter"),i(),t(20,"span",9),r(21,"Marketing Consultant, Jamaica"),i(),t(22,"p",10),r(23,`"I've found amazing collaborators and clients through this platform. It's empowering to be part of such a supportive community."`),i()(),t(24,"div",6),d(25,"img",12),t(26,"h4",8),r(27,"Priya Singh"),i(),t(28,"span",9),r(29,"Photographer, India"),i(),t(30,"p",10),r(31,`"The exposure and support I've received here has been incredible. My client base is now truly global!"`),i()()()()())},encapsulation:2})};var wt=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=P({type:o,selectors:[["footer-component"]],decls:119,vars:0,consts:[[1,"bg-blue-900","text-white","py-12","mt-12"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"grid","grid-cols-1","md:grid-cols-5","gap-10"],[1,"text-lg","font-semibold","mb-4","tracking-wide"],[1,"space-y-2","text-sm","text-blue-100"],[1,"mt-10","border-t","border-blue-800","pt-6","text-center","text-xs","text-blue-200"]],template:function(e,a){e&1&&(t(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h5",3),r(5,"Categories"),i(),t(6,"ul",4)(7,"li"),r(8,"Graphics & Design"),i(),t(9,"li"),r(10,"Digital Marketing"),i(),t(11,"li"),r(12,"Writing & Translation"),i(),t(13,"li"),r(14,"Video & Animation"),i(),t(15,"li"),r(16,"Music & Audio"),i(),t(17,"li"),r(18,"Programming & Tech"),i(),t(19,"li"),r(20,"AI Services"),i(),t(21,"li"),r(22,"Consulting"),i(),t(23,"li"),r(24,"Data"),i(),t(25,"li"),r(26,"Business"),i(),t(27,"li"),r(28,"Personal Growth & Hobbies"),i(),t(29,"li"),r(30,"Photography"),i(),t(31,"li"),r(32,"Finance"),i(),t(33,"li"),r(34,"End-to-End Projects"),i(),t(35,"li"),r(36,"Service Catalog"),i()()(),t(37,"div")(38,"h5",3),r(39,"For Clients"),i(),t(40,"ul",4)(41,"li"),r(42,"How Fiverr Works"),i(),t(43,"li"),r(44,"Customer Success Stories"),i(),t(45,"li"),r(46,"Trust & Safety"),i(),t(47,"li"),r(48,"Quality Guide"),i()()(),t(49,"div")(50,"h5",3),r(51,"Business Solutions"),i(),t(52,"ul",4)(53,"li"),r(54,"Project Management Service"),i(),t(55,"li"),r(56,"Expert Sourcing Service"),i(),t(57,"li"),r(58,"ClearVoice - Content Marketing"),i(),t(59,"li"),r(60,"Working Not Working - Creative Talent"),i()()(),t(61,"div")(62,"h5",3),r(63,"About Fiverr"),i(),t(64,"ul",4)(65,"li"),r(66,"Help & Support"),i(),t(67,"li"),r(68,"Social Impact"),i(),t(69,"li"),r(70,"Careers"),i(),t(71,"li"),r(72,"Terms of Service"),i(),t(73,"li"),r(74,"Privacy Policy"),i(),t(75,"li"),r(76,"Do not sell or share my personal information"),i(),t(77,"li"),r(78,"Partnerships"),i(),t(79,"li"),r(80,"Creator Network"),i(),t(81,"li"),r(82,"Affiliates"),i(),t(83,"li"),r(84,"Invite a Friend"),i(),t(85,"li"),r(86,"Press & News"),i(),t(87,"li"),r(88,"Investor Relations"),i()()(),t(89,"div")(90,"h5",3),r(91,"About Putheron"),i(),t(92,"ul",4)(93,"li"),r(94,"Help & Support"),i(),t(95,"li"),r(96,"Social Impact"),i(),t(97,"li"),r(98,"Careers"),i(),t(99,"li"),r(100,"Terms of Service"),i(),t(101,"li"),r(102,"Privacy Policy"),i(),t(103,"li"),r(104,"Do not sell or share my personal information"),i(),t(105,"li"),r(106,"Partnerships"),i(),t(107,"li"),r(108,"Creator Network"),i(),t(109,"li"),r(110,"Affiliates"),i(),t(111,"li"),r(112,"Invite a Friend"),i(),t(113,"li"),r(114,"Press & News"),i(),t(115,"li"),r(116,"Investor Relations"),i()()()(),t(117,"div",5),r(118," \xA9 2024 PutHerOn. All rights reserved. "),i()()())},encapsulation:2})};var Et=class o{authService=b(j);router=b(A);constructor(){ne(()=>{let n=this.authService.isAuthenticated(),e=this.authService.user();n&&e&&(e.user_mode==="business_owner"?(console.log("Redirecting business owner to dashboard"),this.router.navigate(["/dashboard"])):(console.log("Redirecting client to search page"),this.router.navigate(["/search"])))})}ngOnInit(){}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=P({type:o,selectors:[["app-home"]],decls:6,vars:0,template:function(e,a){e&1&&d(0,"app-header")(1,"hero-section")(2,"how-it-works-section")(3,"popular-services-section")(4,"success-stories-section")(5,"footer-component")},dependencies:[Y,vt,Ct,yt,St,wt],encapsulation:2})};var Yn=["input"],Wn=["formField"],Xn=["*"],Pt=class{source;value;constructor(n,e){this.source=n,this.value=e}},Jn={provide:ji,useExisting:ai(()=>Wt),multi:!0},gn=new qe("MatRadioGroup"),Zn=new qe("mat-radio-default-options",{providedIn:"root",factory:Kn});function Kn(){return{color:"accent",disabledInteractive:!1}}var Wt=(()=>{class o{_changeDetector=b(Ye);_value=null;_name=b(We).getId("mat-radio-group-");_selected=null;_isInitialized=!1;_labelPosition="after";_disabled=!1;_required=!1;_buttonChanges;_controlValueAccessorChangeFn=()=>{};onTouched=()=>{};change=new Qe;_radios;color;get name(){return this._name}set name(e){this._name=e,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(e){this._labelPosition=e==="before"?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._markRadiosForCheck()}get required(){return this._required}set required(e){this._required=e,this._markRadiosForCheck()}get disabledInteractive(){return this._disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e,this._markRadiosForCheck()}_disabledInteractive=!1;constructor(){}ngAfterContentInit(){this._isInitialized=!0,this._buttonChanges=this._radios.changes.subscribe(()=>{this.selected&&!this._radios.find(e=>e===this.selected)&&(this._selected=null)})}ngOnDestroy(){this._buttonChanges?.unsubscribe()}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(e=>{e.name=this.name,e._markForCheck()})}_updateSelectedRadioFromValue(){let e=this._selected!==null&&this._selected.value===this._value;this._radios&&!e&&(this._selected=null,this._radios.forEach(a=>{a.checked=this.value===a.value,a.checked&&(this._selected=a)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new Pt(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(e=>e._markForCheck())}writeValue(e){this.value=e,this._changeDetector.markForCheck()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetector.markForCheck()}static \u0275fac=function(a){return new(a||o)};static \u0275dir=Ze({type:o,selectors:[["mat-radio-group"]],contentQueries:function(a,s,p){if(a&1&&$t(p,kt,5),a&2){let w;pe(w=ue())&&(s._radios=w)}},hostAttrs:["role","radiogroup",1,"mat-mdc-radio-group"],inputs:{color:"color",name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:[2,"disabled","disabled",q],required:[2,"required","required",q],disabledInteractive:[2,"disabledInteractive","disabledInteractive",q]},outputs:{change:"change"},exportAs:["matRadioGroup"],features:[et([Jn,{provide:gn,useExisting:o}])]})}return o})(),kt=(()=>{class o{_elementRef=b(Ht);_changeDetector=b(Ye);_focusMonitor=b(Pi);_radioDispatcher=b(zi);_defaultOptions=b(Zn,{optional:!0});_ngZone=b(pi);_renderer=b(_i);_uniqueId=b(We).getId("mat-radio-");_cleanupClick;id=this._uniqueId;name;ariaLabel;ariaLabelledby;ariaDescribedby;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(e){this._checked!==e&&(this._checked=e,e&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!e&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),e&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(e){this._value!==e&&(this._value=e,this.radioGroup!==null&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(e){this._labelPosition=e}_labelPosition;get disabled(){return this._disabled||this.radioGroup!==null&&this.radioGroup.disabled}set disabled(e){this._setDisabled(e)}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(e){e!==this._required&&this._changeDetector.markForCheck(),this._required=e}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._defaultOptions&&this._defaultOptions.color||"accent"}set color(e){this._color=e}_color;get disabledInteractive(){return this._disabledInteractive||this.radioGroup!==null&&this.radioGroup.disabledInteractive}set disabledInteractive(e){this._disabledInteractive=e}_disabledInteractive;change=new Qe;radioGroup;get inputId(){return`${this.id||this._uniqueId}-input`}_checked=!1;_disabled;_required;_value=null;_removeUniqueSelectionListener=()=>{};_previousTabIndex;_inputElement;_rippleTrigger;_noopAnimations;_injector=b(di);constructor(){b(ki).load(Ii);let e=b(gn,{optional:!0}),a=b(ui,{optional:!0}),s=b(new mi("tabindex"),{optional:!0});this.radioGroup=e,this._noopAnimations=a==="NoopAnimations",this._disabledInteractive=this._defaultOptions?.disabledInteractive??!1,s&&(this.tabIndex=ge(s,0))}focus(e,a){a?this._focusMonitor.focusVia(this._inputElement,a,e):this._inputElement.nativeElement.focus(e)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name),this._removeUniqueSelectionListener=this._radioDispatcher.listen((e,a)=>{e!==this.id&&a===this.name&&(this.checked=!1)})}ngDoCheck(){this._updateTabIndex()}ngAfterViewInit(){this._updateTabIndex(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{!e&&this.radioGroup&&this.radioGroup._touch()}),this._ngZone.runOutsideAngular(()=>{this._cleanupClick=this._renderer.listen(this._inputElement.nativeElement,"click",this._onInputClick)})}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new Pt(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputInteraction(e){if(e.stopPropagation(),!this.checked&&!this.disabled){let a=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),a&&this.radioGroup._emitChangeEvent())}}_onTouchTargetClick(e){this._onInputInteraction(e),(!this.disabled||this.disabledInteractive)&&this._inputElement?.nativeElement.focus()}_setDisabled(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}_onInputClick=e=>{this.disabled&&this.disabledInteractive&&e.preventDefault()};_updateTabIndex(){let e=this.radioGroup,a;if(!e||!e.selected||this.disabled?a=this.tabIndex:a=e.selected===this?this.tabIndex:-1,a!==this._previousTabIndex){let s=this._inputElement?.nativeElement;s&&(s.setAttribute("tabindex",a+""),this._previousTabIndex=a,gi(()=>{queueMicrotask(()=>{e&&e.selected&&e.selected!==this&&document.activeElement===s&&(e.selected?._inputElement.nativeElement.focus(),document.activeElement===s&&this._inputElement.nativeElement.blur())})},{injector:this._injector}))}}static \u0275fac=function(a){return new(a||o)};static \u0275cmp=P({type:o,selectors:[["mat-radio-button"]],viewQuery:function(a,s){if(a&1&&(Ie(Yn,5),Ie(Wn,7,Ht)),a&2){let p;pe(p=ue())&&(s._inputElement=p.first),pe(p=ue())&&(s._rippleTrigger=p.first)}},hostAttrs:[1,"mat-mdc-radio-button"],hostVars:19,hostBindings:function(a,s){a&1&&u("focus",function(){return s._inputElement.nativeElement.focus()}),a&2&&($("id",s.id)("tabindex",null)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),me("mat-primary",s.color==="primary")("mat-accent",s.color==="accent")("mat-warn",s.color==="warn")("mat-mdc-radio-checked",s.checked)("mat-mdc-radio-disabled",s.disabled)("mat-mdc-radio-disabled-interactive",s.disabledInteractive)("_mat-animation-noopable",s._noopAnimations))},inputs:{id:"id",name:"name",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],disableRipple:[2,"disableRipple","disableRipple",q],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:ge(e)],checked:[2,"checked","checked",q],value:"value",labelPosition:"labelPosition",disabled:[2,"disabled","disabled",q],required:[2,"required","required",q],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",q]},outputs:{change:"change"},exportAs:["matRadioButton"],ngContentSelectors:Xn,decls:13,vars:17,consts:[["formField",""],["input",""],["mat-internal-form-field","",3,"labelPosition"],[1,"mdc-radio"],[1,"mat-mdc-radio-touch-target",3,"click"],["type","radio","aria-invalid","false",1,"mdc-radio__native-control",3,"change","id","checked","disabled","required"],[1,"mdc-radio__background"],[1,"mdc-radio__outer-circle"],[1,"mdc-radio__inner-circle"],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mdc-label",3,"for"]],template:function(a,s){if(a&1){let p=y();Gt(),t(0,"div",2,0)(2,"div",3)(3,"div",4),u("click",function(F){return _(p),f(s._onTouchTargetClick(F))}),i(),t(4,"input",5,1),u("change",function(F){return _(p),f(s._onInputInteraction(F))}),i(),t(6,"div",6),d(7,"div",7)(8,"div",8),i(),t(9,"div",9),d(10,"div",10),i()(),t(11,"label",11),Ut(12),i()()}a&2&&(h("labelPosition",s.labelPosition),l(2),me("mdc-radio--disabled",s.disabled),l(2),h("id",s.inputId)("checked",s.checked)("disabled",s.disabled&&!s.disabledInteractive)("required",s.required),$("name",s.name)("value",s.value)("aria-label",s.ariaLabel)("aria-labelledby",s.ariaLabelledby)("aria-describedby",s.ariaDescribedby)("aria-disabled",s.disabled&&s.disabledInteractive?"true":null),l(5),h("matRippleTrigger",s._rippleTrigger.nativeElement)("matRippleDisabled",s._isRippleDisabled())("matRippleCentered",!0),l(2),h("for",s.inputId))},dependencies:[Ti,Li],styles:[`.mat-mdc-radio-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-radio-button .mdc-radio{display:inline-block;position:relative;flex:0 0 auto;box-sizing:content-box;width:20px;height:20px;cursor:pointer;will-change:opacity,transform,border-color,color;padding:calc((var(--mdc-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled]):not(:focus)~.mdc-radio__background::before{opacity:.04;transform:scale(1)}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:not([disabled])~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-hover-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:hover>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-hover-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-pressed-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio:active>.mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-pressed-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__background{display:inline-block;position:relative;box-sizing:border-box;width:20px;height:20px}.mat-mdc-radio-button .mdc-radio__background::before{position:absolute;transform:scale(0, 0);border-radius:50%;opacity:0;pointer-events:none;content:"";transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px);top:calc(-1*(var(--mdc-radio-state-layer-size, 40px) - 20px)/2);left:calc(-1*(var(--mdc-radio-state-layer-size, 40px) - 20px)/2)}.mat-mdc-radio-button .mdc-radio__outer-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;border-width:2px;border-style:solid;border-radius:50%;transition:border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__inner-circle{position:absolute;top:0;left:0;box-sizing:border-box;width:100%;height:100%;transform:scale(0, 0);border-width:10px;border-style:solid;border-radius:50%;transition:transform 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-radio-button .mdc-radio__native-control{position:absolute;margin:0;padding:0;opacity:0;top:0;right:0;left:0;cursor:inherit;z-index:1;width:var(--mdc-radio-state-layer-size, 40px);height:var(--mdc-radio-state-layer-size, 40px)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle{transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:focus+.mdc-radio__background::before{transform:scale(1);opacity:.12;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 1),transform 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button .mdc-radio__native-control:disabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background{cursor:default}.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:disabled+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button .mdc-radio__native-control:enabled:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:checked+.mdc-radio__background>.mdc-radio__inner-circle{border-color:var(--mdc-radio-selected-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button .mdc-radio__native-control:enabled:focus:checked+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-selected-focus-icon-color, var(--mat-sys-primary))}.mat-mdc-radio-button .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle{transform:scale(0.5);transition:transform 90ms cubic-bezier(0, 0, 0.2, 1),border-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled{pointer-events:auto}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:not(:checked)+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-unselected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-unselected-icon-opacity, 0.38)}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled:hover .mdc-radio__native-control:checked+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control:checked:focus+.mdc-radio__background>.mdc-radio__outer-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__inner-circle,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__native-control+.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-disabled-selected-icon-color, var(--mat-sys-on-surface));opacity:var(--mdc-radio-disabled-selected-icon-opacity, 0.38)}.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__background::before,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__outer-circle,.mat-mdc-radio-button._mat-animation-noopable .mdc-radio__inner-circle{transition:none !important}.mat-mdc-radio-button .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.mat-mdc-radio-checked .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-checked .mdc-radio__background::before{background-color:var(--mat-radio-checked-ripple-color, var(--mat-sys-primary))}.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mat-ripple-element,.mat-mdc-radio-button.mat-mdc-radio-disabled-interactive .mdc-radio--disabled .mdc-radio__background::before{background-color:var(--mat-radio-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button .mat-internal-form-field{color:var(--mat-radio-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-radio-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-radio-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-radio-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-radio-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-radio-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-radio-button .mdc-radio--disabled+label{color:var(--mat-radio-disabled-label-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-radio-button .mat-radio-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:50%}.mat-mdc-radio-button .mat-radio-ripple>.mat-ripple-element{opacity:.14}.mat-mdc-radio-button .mat-radio-ripple::before{border-radius:50%}.mat-mdc-radio-button .mdc-radio>.mdc-radio__native-control:focus:enabled:not(:checked)~.mdc-radio__background>.mdc-radio__outer-circle{border-color:var(--mdc-radio-unselected-focus-icon-color, var(--mat-sys-on-surface))}.mat-mdc-radio-button.cdk-focused .mat-focus-indicator::before{content:""}.mat-mdc-radio-disabled{cursor:default;pointer-events:none}.mat-mdc-radio-disabled.mat-mdc-radio-disabled-interactive{pointer-events:auto}.mat-mdc-radio-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-radio-touch-target-display, block)}[dir=rtl] .mat-mdc-radio-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}
`],encapsulation:2,changeDetection:0})}return o})(),_n=(()=>{class o{static \u0275fac=function(a){return new(a||o)};static \u0275mod=K({type:o});static \u0275inj=J({imports:[Ae,Oi,kt,Ae]})}return o})();var hn=(o,n)=>n.code,to=(o,n)=>n.name;function io(o,n){o&1&&(t(0,"mat-error"),r(1,"Required"),i())}function no(o,n){o&1&&(t(0,"mat-error"),r(1,"Required"),i())}function oo(o,n){o&1&&(t(0,"mat-error"),r(1,"Phone number is required"),i())}function ro(o,n){if(o&1&&(t(0,"mat-error"),r(1),i()),o&2){let e=c(2);l(),x(e.phoneControl==null||e.phoneControl.errors==null||e.phoneControl.errors.usaPhone==null?null:e.phoneControl.errors.usaPhone.message)}}function ao(o,n){if(o&1&&(t(0,"mat-option",40),r(1),i()),o&2){let e=n.$implicit;h("value",e.code),l(),x(e.name)}}function so(o,n){o&1&&(t(0,"mat-error"),r(1,"Required"),i())}function lo(o,n){o&1&&(t(0,"mat-option",39),r(1,"Select state first"),i())}function co(o,n){if(o&1&&(t(0,"mat-option",40),r(1),i()),o&2){let e=n.$implicit;h("value",e.name),l(),x(e.name)}}function mo(o,n){if(o&1&&(t(0,"mat-option",39),r(1,"Select city"),i(),k(2,co,2,2,"mat-option",40,to)),o&2){let e=c(2);l(2),M(e.availableCities())}}function po(o,n){o&1&&(t(0,"mat-error"),r(1,"Required"),i())}function uo(o,n){if(o&1){let e=y();t(0,"div",9)(1,"div",10)(2,"mat-form-field",11)(3,"mat-label"),r(4,"First Name"),i(),d(5,"input",34),t(6,"mat-icon",35),r(7,"person"),i(),g(8,io,2,0,"mat-error"),i(),t(9,"mat-form-field",11)(10,"mat-label"),r(11,"Last Name"),i(),d(12,"input",36),g(13,no,2,0,"mat-error"),i()(),t(14,"mat-form-field",11)(15,"mat-label"),r(16,"Phone Number"),i(),d(17,"input",37),t(18,"mat-icon",35),r(19,"phone"),i(),g(20,oo,2,0,"mat-error")(21,ro,2,1,"mat-error"),i(),t(22,"div",10)(23,"mat-form-field",11)(24,"mat-label"),r(25,"State"),i(),t(26,"mat-select",38),u("selectionChange",function(s){_(e);let p=c();return f(p.onStateSelected(s.value))}),t(27,"mat-option",39),r(28,"Select state"),i(),k(29,ao,2,2,"mat-option",40,hn),i(),t(31,"mat-icon",35),r(32,"location_on"),i(),g(33,so,2,0,"mat-error"),i(),t(34,"mat-form-field",11)(35,"mat-label"),r(36,"City"),i(),t(37,"mat-select",41),g(38,lo,2,0,"mat-option",39)(39,mo,4,0),i(),t(40,"mat-icon",35),r(41,"location_city"),i(),g(42,po,2,0,"mat-error"),i()(),t(43,"div",42)(44,"h4",43),r(45,"I want to:"),i(),t(46,"mat-radio-group",44)(47,"div",45)(48,"mat-radio-button",46),r(49," Find women-owned businesses "),i(),t(50,"mat-radio-button",47),r(51," Offer services through my business "),i()()()()()}if(o&2){let e=c();l(5),h("disabled",e.loading()),l(3),m(e.firstNameControl!=null&&e.firstNameControl.invalid&&(e.firstNameControl!=null&&e.firstNameControl.touched)?8:-1),l(4),h("disabled",e.loading()),l(),m(e.lastNameControl!=null&&e.lastNameControl.invalid&&(e.lastNameControl!=null&&e.lastNameControl.touched)?13:-1),l(4),h("disabled",e.loading()),l(3),m(e.phoneControl!=null&&e.phoneControl.hasError("required")&&(e.phoneControl!=null&&e.phoneControl.touched)?20:-1),l(),m(e.phoneControl!=null&&e.phoneControl.hasError("usaPhone")&&(e.phoneControl!=null&&e.phoneControl.touched)?21:-1),l(5),h("disabled",e.loading()),l(3),M(e.usStates),l(4),m(e.stateControl!=null&&e.stateControl.invalid&&(e.stateControl!=null&&e.stateControl.touched)?33:-1),l(4),h("disabled",e.loading()||e.availableCities().length===0),l(),m(e.availableCities().length===0?38:39),l(4),m(e.cityControl!=null&&e.cityControl.invalid&&(e.cityControl!=null&&e.cityControl.touched)?42:-1),l(4),h("disabled",e.loading())}}function go(o,n){o&1&&r(0," Email is required ")}function _o(o,n){o&1&&r(0," Invalid email format ")}function fo(o,n){if(o&1&&(t(0,"mat-error"),g(1,go,1,0)(2,_o,1,0),i()),o&2){let e=c(2);l(),m(e.emailControl!=null&&e.emailControl.hasError("required")?1:e.emailControl!=null&&e.emailControl.hasError("email")?2:-1)}}function ho(o,n){if(o&1&&(t(0,"mat-option",40),r(1),i()),o&2){let e=n.$implicit;h("value",e.name),l(),x(e.name)}}function xo(o,n){o&1&&(t(0,"mat-error"),r(1,"Required"),i())}function bo(o,n){if(o&1&&(t(0,"div",10)(1,"mat-form-field",11)(2,"mat-label"),r(3,"Email Address"),i(),d(4,"input",48),t(5,"mat-icon",35),r(6,"email"),i(),g(7,fo,3,1,"mat-error"),i(),t(8,"mat-form-field",11)(9,"mat-label"),r(10,"Country of Origin"),i(),t(11,"mat-select",49)(12,"mat-option",39),r(13,"Select country"),i(),k(14,ho,2,2,"mat-option",40,hn),i(),t(16,"mat-icon",35),r(17,"public"),i(),g(18,xo,2,0,"mat-error"),i()()),o&2){let e=c();l(4),h("disabled",e.loading()),l(3),m(e.emailControl!=null&&e.emailControl.invalid&&(e.emailControl!=null&&e.emailControl.touched)?7:-1),l(4),h("disabled",e.loading()),l(3),M(e.countries),l(4),m(e.countryOfOriginControl!=null&&e.countryOfOriginControl.invalid&&(e.countryOfOriginControl!=null&&e.countryOfOriginControl.touched)?18:-1)}}function vo(o,n){o&1&&r(0," Email is required ")}function Co(o,n){o&1&&r(0," Invalid email format ")}function yo(o,n){if(o&1&&(t(0,"mat-error"),g(1,vo,1,0)(2,Co,1,0),i()),o&2){let e=c(2);l(),m(e.emailControl!=null&&e.emailControl.hasError("required")?1:e.emailControl!=null&&e.emailControl.hasError("email")?2:-1)}}function So(o,n){if(o&1&&(t(0,"mat-form-field",11)(1,"mat-label"),r(2,"Email Address"),i(),d(3,"input",48),t(4,"mat-icon",35),r(5,"email"),i(),g(6,yo,3,1,"mat-error"),i()),o&2){let e=c();l(3),h("disabled",e.loading()),l(3),m(e.emailControl!=null&&e.emailControl.invalid&&(e.emailControl!=null&&e.emailControl.touched)?6:-1)}}function wo(o,n){o&1&&r(0," Password is required ")}function Eo(o,n){o&1&&r(0," Minimum 6 characters ")}function Po(o,n){if(o&1&&(t(0,"mat-error"),g(1,wo,1,0)(2,Eo,1,0),i()),o&2){let e=c();l(),m(e.passwordControl!=null&&e.passwordControl.hasError("required")?1:e.passwordControl!=null&&e.passwordControl.hasError("minlength")?2:-1)}}function ko(o,n){if(o&1&&(t(0,"div",14)(1,"div",50)(2,"mat-icon",51),r(3,"info"),i(),t(4,"span",52),r(5),i()()()),o&2){let e=c();l(5),x(e.authMessage())}}function Mo(o,n){if(o&1&&(t(0,"div",15)(1,"div",53)(2,"mat-icon",51),r(3,"error"),i(),t(4,"span",52),r(5),i()()()),o&2){let e=c();l(5),x(e.error())}}function To(o,n){if(o&1&&(t(0,"div",16)(1,"div",54)(2,"mat-icon",51),r(3,"check_circle"),i(),t(4,"span",52),r(5),i()()()),o&2){let e=c();l(5),x(e.successMessage())}}function Io(o,n){if(o&1&&r(0),o&2){let e=c();v(" ",e.isSignUp()?"Create Account":"Sign In"," ")}}function Oo(o,n){if(o&1&&(t(0,"span",18),d(1,"mat-spinner",55),r(2),i()),o&2){let e=c();l(2),v(" ",e.isSignUp()?"Creating...":"Signing In..."," ")}}function Ao(o,n){if(o&1){let e=y();t(0,"button",56),u("click",function(){_(e);let s=c();return f(s.resetPassword())}),r(1," Forgot your password? "),i(),t(2,"div",57)(3,"p",58),r(4," Don't have an account? "),t(5,"button",59),u("click",function(){_(e);let s=c();return f(s.toggleMode())}),r(6," Sign up "),i()()()}}var Mt=class o{authService=b(j);router=b(A);route=b(Q);fb=b(ye);citiesService=b(Hi);isSignUp=S(!1);error=S("");successMessage=S("");authMessage=S("");filteredCities=S([]);availableCities=S([]);showPassword=S(!1);showConfirmPassword=S(!1);authForm;countries=He;usStates=$i;loading=this.authService.loading;isFormValid=O(()=>this.authForm?.valid??!1);constructor(){this.authForm=this.fb.group({email:["",[R.required,R.email]],password:["",[R.required,R.minLength(6)]],firstName:[""],lastName:[""],phone:[""],city:[""],state:[""],countryOfOrigin:[""],userType:["buyer"]}),ne(()=>{let n=this.authForm.get("firstName"),e=this.authForm.get("lastName"),a=this.authForm.get("phone"),s=this.authForm.get("city"),p=this.authForm.get("state"),w=this.authForm.get("countryOfOrigin"),F=this.authForm.get("userType");this.isSignUp()?(n?.setValidators([R.required]),e?.setValidators([R.required]),a?.setValidators([R.required,Gi.usaPhone()]),s?.setValidators([R.required]),p?.setValidators([R.required]),w?.setValidators([R.required]),F?.setValidators([R.required])):(n?.clearValidators(),e?.clearValidators(),a?.clearValidators(),s?.clearValidators(),p?.clearValidators(),w?.clearValidators(),F?.clearValidators()),n?.updateValueAndValidity(),e?.updateValueAndValidity(),a?.updateValueAndValidity(),s?.updateValueAndValidity(),p?.updateValueAndValidity(),w?.updateValueAndValidity(),F?.updateValueAndValidity()})}get firstNameControl(){return this.authForm.get("firstName")}get lastNameControl(){return this.authForm.get("lastName")}get phoneControl(){return this.authForm.get("phone")}get cityControl(){return this.authForm.get("city")}get stateControl(){return this.authForm.get("state")}get countryOfOriginControl(){return this.authForm.get("countryOfOrigin")}ngOnInit(){this.route.queryParams.subscribe(n=>{n.action==="login"?this.isSignUp.set(!1):n.action==="signup"&&this.isSignUp.set(!0),n.mode==="business"&&(this.isSignUp.set(!0),this.authForm.patchValue({userType:"seller"})),n.message&&this.authMessage.set(n.message)})}onCityInput(n){let e=this.citiesService.searchCities(n);this.filteredCities.set(e)}onCitySelected(n){this.authForm.patchValue({city:n.name,state:n.stateCode}),this.filteredCities.set([])}onStateSelected(n,e=!1){if(n){let a=this.citiesService.getCitiesByState(n);this.availableCities.set(a),e||this.authForm.patchValue({city:""})}else this.availableCities.set([])}displayCity(n){return n?n.name:""}toggleMode(){this.isSignUp.update(n=>!n),this.clearMessages(),this.authForm.reset()}onSubmit(){return E(this,null,function*(){if(this.clearMessages(),!this.authForm.valid){this.error.set("Please fill in all required fields correctly");return}let{email:n,password:e,firstName:a,lastName:s,phone:p,city:w,state:F,countryOfOrigin:U,userType:X}=this.authForm.value;try{if(this.isSignUp()){let Te={email:n,password:e,first_name:a,last_name:s,phone:p,city:w,state:F,country:"USA",country_of_origin:U,is_buyer:X==="buyer",is_seller:X==="seller",user_mode:X==="seller"?"business_owner":"client"},{data:Ve,error:ce}=yield this.authService.signUp(Te);ce?this.error.set(ce.message):(this.successMessage.set("Account created successfully! You are now logged in."),this.router.navigate(["/"]))}else{let{data:Te,error:Ve}=yield this.authService.signIn(n,e);Ve?this.error.set(Ve.message):(this.successMessage.set("Successfully signed in!"),setTimeout(()=>{let ce=sessionStorage.getItem("returnUrl");ce?(sessionStorage.removeItem("returnUrl"),this.router.navigate([ce])):this.router.navigate(["/"])},100))}}catch(Te){this.error.set(Te?.message||"An unexpected error occurred")}})}resetPassword(){return E(this,null,function*(){if(this.clearMessages(),!this.authForm.get("email")?.value){this.error.set("Please enter your email address");return}this.successMessage.set("Password reset functionality will be available soon. Please contact support if needed.")})}clearMessages(){this.error.set(""),this.successMessage.set("")}getRedirectUrl(n){return(n?.user_mode||"client")==="business_owner"?"/dashboard":"/search"}togglePasswordVisibility(){this.showPassword.set(!this.showPassword())}toggleConfirmPasswordVisibility(){this.showConfirmPassword.set(!this.showConfirmPassword())}get emailControl(){return this.authForm.get("email")}get passwordControl(){return this.authForm.get("password")}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=P({type:o,selectors:[["app-auth"]],decls:60,vars:17,consts:[[1,"auth-container","min-h-screen","flex"],[1,"w-full","lg:w-1/2","flex","items-center","justify-center","p-8","bg-white"],[1,"w-full","max-w-lg"],[1,"p-8"],[1,"text-center","mb-8","p-0"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"p-0"],[3,"ngSubmit","formGroup"],[1,"space-y-4","mb-6"],[1,"grid","grid-cols-2","gap-4"],["appearance","outline"],["matInput","","formControlName","password","placeholder","Enter password",3,"type","disabled"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[1,"mb-4","p-3","bg-blue-50","border","border-blue-200","rounded-lg"],[1,"mb-4","p-3","bg-red-50","border","border-red-200","rounded-lg"],[1,"mb-4","p-3","bg-green-50","border","border-green-200","rounded-lg"],["mat-raised-button","","color","primary","type","submit",1,"w-full","py-3","text-base","font-medium","mb-4",3,"disabled"],[1,"flex","items-center","justify-center","gap-2"],[1,"space-y-3","text-center"],[1,"w-full","lg:w-1/2","relative","overflow-hidden"],[1,"absolute","inset-0","bg-cover","bg-center","bg-no-repeat",2,"background-image","url('https://images.pexels.com/photos/3184339/pexels-photo-3184339.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2')"],[1,"absolute","inset-0","bg-gradient-to-br","from-purple-600/90","via-pink-600/90","to-indigo-700/90"],[1,"relative","z-10","h-full","flex","flex-col","justify-center","items-center","p-12","text-white","text-center"],[1,"max-w-lg"],[1,"text-4xl","font-bold","mb-6"],[1,"text-3xl","font-semibold","mb-8","text-yellow-300"],[1,"space-y-6","text-lg"],[1,"flex","items-center","justify-center","space-x-3"],[1,"text-2xl","text-green-400"],[1,"text-2xl","text-blue-400"],[1,"text-2xl","text-pink-400"],[1,"mt-8","p-4","backdrop-blur-sm","rounded-lg"],[1,"text-base","opacity-90"],["matInput","","formControlName","firstName","placeholder","First name",3,"disabled"],["matSuffix",""],["matInput","","formControlName","lastName","placeholder","Last name",3,"disabled"],["matInput","","type","tel","appPhoneFormat","","formControlName","phone","placeholder","(555) 123-4567",3,"disabled"],["formControlName","state",3,"selectionChange","disabled"],["value",""],[3,"value"],["formControlName","city",3,"disabled"],[1,"space-y-3","p-4","bg-gray-50","rounded-lg"],[1,"text-sm","font-medium","text-gray-700","mb-3"],["formControlName","userType",1,"radio-group-inline",3,"disabled"],[1,"radio-options"],["value","buyer",1,"radio-option"],["value","seller",1,"radio-option"],["matInput","","type","email","formControlName","email","placeholder","your@email.com",3,"disabled"],["formControlName","countryOfOrigin",3,"disabled"],[1,"flex","items-center","text-blue-700"],[1,"mr-2","text-sm"],[1,"text-sm"],[1,"flex","items-center","text-red-700"],[1,"flex","items-center","text-green-700"],["diameter","16"],["mat-button","","type","button","color","primary",1,"text-sm",3,"click"],[1,"mt-4","pt-4","border-t","border-gray-200"],[1,"text-sm","text-gray-600"],["mat-button","","type","button","color","primary",1,"text-sm","font-medium","ml-1",3,"click"]],template:function(e,a){e&1&&(d(0,"app-header"),t(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h2",5),r(7),i(),t(8,"p",6),r(9),i()(),t(10,"div",7)(11,"form",8),u("ngSubmit",function(){return a.onSubmit()}),g(12,uo,52,13,"div",9),t(13,"div",9),g(14,bo,19,4,"div",10)(15,So,7,2,"mat-form-field",11),t(16,"mat-form-field",11)(17,"mat-label"),r(18,"Password"),i(),d(19,"input",12),t(20,"button",13),u("click",function(){return a.togglePasswordVisibility()}),t(21,"mat-icon"),r(22),i()(),g(23,Po,3,1,"mat-error"),i()(),g(24,ko,6,1,"div",14)(25,Mo,6,1,"div",15)(26,To,6,1,"div",16),t(27,"button",17),g(28,Io,1,1)(29,Oo,3,1,"span",18),i(),t(30,"div",19),g(31,Ao,7,0),i()()()()()(),t(32,"div",20),d(33,"div",21)(34,"div",22),t(35,"div",23)(36,"div",24)(37,"h2",25),r(38,"Discover & Support"),i(),t(39,"h3",26),r(40,"Women-Owned Businesses"),i(),t(41,"div",27)(42,"div",28)(43,"mat-icon",29),r(44,"search"),i(),t(45,"span"),r(46,"Find amazing local services"),i()(),t(47,"div",28)(48,"mat-icon",30),r(49,"business_center"),i(),t(50,"span"),r(51,"Grow your business reach"),i()(),t(52,"div",28)(53,"mat-icon",31),r(54,"favorite"),i(),t(55,"span"),r(56,"Empower women entrepreneurs"),i()()(),t(57,"div",32)(58,"p",33),r(59," Join our community of empowered women and supportive customers building a stronger economy together. "),i()()()()()()),e&2&&(l(7),v(" ",a.isSignUp()?"Join Our Community":"Welcome Back"," "),l(2),v(" ",a.isSignUp()?"Create your account to get started":"Sign in to your account"," "),l(2),h("formGroup",a.authForm),l(),m(a.isSignUp()?12:-1),l(2),m(a.isSignUp()?14:15),l(5),h("type",a.showPassword()?"text":"password")("disabled",a.loading()),l(),$("aria-label","Toggle password visibility")("aria-pressed",a.showPassword()),l(2),x(a.showPassword()?"visibility_off":"visibility"),l(),m(a.passwordControl!=null&&a.passwordControl.invalid&&(a.passwordControl!=null&&a.passwordControl.touched)?23:-1),l(),m(a.authMessage()?24:-1),l(),m(a.error()?25:-1),l(),m(a.successMessage()?26:-1),l(),h("disabled",a.loading()||!a.authForm.valid),l(),m(a.loading()?29:28),l(3),m(a.isSignUp()?-1:31))},dependencies:[V,Se,be,fe,he,xe,ve,Ce,Ee,oe,ze,mt,pt,ke,Le,re,Pe,we,D,L,Re,z,N,Ge,_n,Wt,kt,se,ae,Y,Ui],styles:["app-header[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:1000}.auth-container[_ngcontent-%COMP%]{padding-top:80px;min-height:100vh}.auth-container[_ngcontent-%COMP%]   .service-icon[_ngcontent-%COMP%]{transition:all .3s ease}.auth-container[_ngcontent-%COMP%]   .service-icon[_ngcontent-%COMP%]:hover{background:#ffffff80!important;transform:scale(1.1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}  .mat-mdc-form-field{width:100%}  .mat-mdc-form-field .mat-mdc-text-field-wrapper .mdc-text-field{border-radius:12px}  .mat-mdc-form-field .mat-mdc-form-field-focus-overlay{border-radius:12px}  .mat-mdc-raised-button.mat-primary{background:linear-gradient(135deg,#6366f1,#8b5cf6);border:none;color:#fff;font-weight:600;border-radius:12px;transition:all .3s cubic-bezier(.4,0,.2,1);height:48px}  .mat-mdc-raised-button.mat-primary:hover:not(:disabled){background:linear-gradient(135deg,#5856eb,#7c3aed);transform:translateY(-2px);box-shadow:0 12px 24px #6366f166}  .mat-mdc-raised-button.mat-primary:active:not(:disabled){transform:translateY(-1px);box-shadow:0 8px 16px #6366f14d}  .mat-mdc-raised-button.mat-primary:disabled{background:#e5e7eb;color:#9ca3af;transform:none;box-shadow:none}  .mat-mdc-outlined-button{border-radius:12px;border-color:#d1d5db;height:44px;transition:all .3s ease}  .mat-mdc-outlined-button:hover:not(:disabled){border-color:#6366f1;background:#6366f10d}  .mat-mdc-outlined-button:disabled{opacity:.6}  .auth-container .w-full.max-w-lg>div{background:#fff;border-radius:20px;border:none;overflow:hidden}  .mat-mdc-checkbox .mdc-checkbox .mdc-checkbox__background{border-color:#6366f1;border-radius:4px}  .mat-mdc-checkbox .mdc-checkbox.mdc-checkbox--selected .mdc-checkbox__background{background-color:#6366f1;border-color:#6366f1}  .mat-mdc-checkbox .mdc-form-field{align-items:flex-start}  .mat-mdc-radio-button .mdc-radio .mdc-radio__background .mdc-radio__outer-circle{border-color:#6366f1}  .mat-mdc-radio-button .mdc-radio .mdc-radio__background .mdc-radio__inner-circle{border-color:#6366f1}  .mat-mdc-radio-button .mdc-radio.mdc-radio--selected .mdc-radio__background .mdc-radio__outer-circle{border-color:#6366f1}  .mat-mdc-radio-button .mdc-radio.mdc-radio--selected .mdc-radio__background .mdc-radio__inner-circle{border-color:#6366f1;background-color:#6366f1}  .mat-mdc-radio-button .mdc-form-field{align-items:center}  .radio-group-inline .radio-options{display:flex;gap:1rem;flex-wrap:wrap}  .radio-group-inline .radio-options .radio-option{flex:1;min-width:0}  .radio-group-inline .radio-options .radio-option .mdc-form-field{display:flex;align-items:center;width:100%}  .radio-group-inline .radio-options .radio-option .mdc-form-field .mdc-form-field__label{font-size:.875rem;font-weight:500;color:#374151;white-space:normal;line-height:1.4}  .radio-group-inline .radio-options .radio-option.mat-mdc-radio-checked .mdc-form-field__label{color:#6366f1;font-weight:600}  .auth-container .space-y-3.p-4.bg-gray-50.rounded-lg{background:linear-gradient(135deg,#f8fafc,#f1f5f9);border:1px solid #e2e8f0;border-radius:12px;padding:1.25rem}  .auth-container .space-y-3.p-4.bg-gray-50.rounded-lg h4{margin:0 0 .75rem;font-weight:600;color:#1f2937}  .mat-mdc-select-panel{border-radius:12px;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;border:1px solid rgba(0,0,0,.05);max-height:280px}  .mat-mdc-option:hover{background:#6366f114}  .mat-mdc-option.mdc-list-item--selected{background:#6366f11f}  .mat-mdc-form-field.mat-focused .mat-mdc-text-field-wrapper .mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,   .mat-mdc-form-field.mat-focused .mat-mdc-text-field-wrapper .mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,   .mat-mdc-form-field.mat-focused .mat-mdc-text-field-wrapper .mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-color:#6366f1;border-width:2px}  .mat-mdc-form-field.mat-form-field-invalid .mat-mdc-text-field-wrapper .mdc-text-field--invalid .mdc-notched-outline .mdc-notched-outline__leading,   .mat-mdc-form-field.mat-form-field-invalid .mat-mdc-text-field-wrapper .mdc-text-field--invalid .mdc-notched-outline .mdc-notched-outline__notch,   .mat-mdc-form-field.mat-form-field-invalid .mat-mdc-text-field-wrapper .mdc-text-field--invalid .mdc-notched-outline .mdc-notched-outline__trailing{border-color:#ef4444}  .mat-mdc-progress-spinner circle{stroke:currentColor}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.7}}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.service-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 3s ease-in-out infinite}.service-icon[_ngcontent-%COMP%]:nth-child(odd){animation-delay:.5s}.service-icon[_ngcontent-%COMP%]:nth-child(2n){animation-delay:1s}@media (max-width: 1024px){.auth-container[_ngcontent-%COMP%]{padding:60px 1rem 1rem}}@media (max-width: 768px){.auth-container[_ngcontent-%COMP%]{padding:60px .5rem 1rem}.auth-container[_ngcontent-%COMP%]   .w-full.max-w-lg[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:0;border-radius:16px}  .mat-mdc-form-field .mat-mdc-text-field-wrapper .mdc-text-field{border-radius:8px}.radio-group-inline[_ngcontent-%COMP%]   .radio-options[_ngcontent-%COMP%]{flex-direction:column;gap:.75rem}.radio-group-inline[_ngcontent-%COMP%]   .radio-options[_ngcontent-%COMP%]   .radio-option[_ngcontent-%COMP%]   .mdc-form-field__label[_ngcontent-%COMP%]{font-size:.8rem}}"]})};var Fo=()=>({exact:!0});function Bo(o,n){if(o&1&&d(0,"img",17),o&2){let e=c();h("src",e.user().avatar_url,G)("alt",(e.user().first_name+" "+(e.user().last_name||"")).trim()+" avatar")}}function Vo(o,n){if(o&1&&(t(0,"div",18),r(1),i()),o&2){let e=c();l(),v(" ",e.getUserInitials()," ")}}function jo(o,n){if(o&1){let e=y();t(0,"button",20),u("click",function(){_(e);let s=c();return f(s.switchToBusinessMode())}),t(1,"mat-icon"),r(2,"business"),i(),t(3,"span"),r(4,"Switch to Business Owner"),i()()}}function Do(o,n){if(o&1){let e=y();t(0,"button",20),u("click",function(){_(e);let s=c();return f(s.switchToClientMode())}),t(1,"mat-icon"),r(2,"person_outline"),i(),t(3,"span"),r(4,"Switch to Client Mode"),i()()}}function Ro(o,n){if(o&1){let e=y();t(0,"li")(1,"a",54),u("click",function(){_(e);let s=c();return f(s.onNavigationClick())}),C(),t(2,"svg",37),d(3,"path",55),i(),r(4," Overview "),i()()}o&2&&(l(),h("routerLinkActiveOptions",je(1,Fo)))}function No(o,n){if(o&1){let e=y();t(0,"li")(1,"a",56),u("click",function(){_(e);let s=c();return f(s.onNavigationClick())}),C(),t(2,"svg",37),d(3,"path",57),i(),r(4," Businesses "),I(),t(5,"span",39),r(6),i()()()}if(o&2){let e=c();l(6),v(" ",e.userBusinessCount()," ")}}function zo(o,n){if(o&1){let e=y();t(0,"li")(1,"a",58),u("click",function(){_(e);let s=c();return f(s.onNavigationClick())}),C(),t(2,"svg",37),d(3,"path",59)(4,"path",60),i(),r(5," Services "),I(),t(6,"span",39),r(7),i()()()}if(o&2){let e=c();l(7),v(" ",e.totalServices()," ")}}function Lo(o,n){if(o&1){let e=y();t(0,"li")(1,"a",61),u("click",function(){_(e);let s=c();return f(s.onNavigationClick())}),C(),t(2,"svg",37),d(3,"path",62),i(),r(4," Earnings & Payments "),i()()}}function Ho(o,n){if(o&1){let e=y();t(0,"button",63),u("click",function(){_(e);let s=c();return f(s.switchToBusinessMode())}),t(1,"mat-icon",64),r(2,"business"),i(),r(3," Switch to Business Owner "),i()}}function Go(o,n){if(o&1){let e=y();t(0,"button",65),u("click",function(){_(e);let s=c();return f(s.switchToClientMode())}),t(1,"mat-icon",64),r(2,"person_outline"),i(),r(3," Switch to Client Mode "),i()}}function Uo(o,n){if(o&1){let e=y();t(0,"div",50)(1,"p",47),r(2,"Quick Actions"),i(),t(3,"button",66),u("click",function(){_(e);let s=c();return f(s.navigateToCreateBusiness())}),C(),t(4,"svg",37),d(5,"path",67),i(),r(6," New Business "),i(),I(),t(7,"button",66),u("click",function(){_(e);let s=c();return f(s.createService())}),C(),t(8,"svg",37),d(9,"path",67),i(),r(10," New Service "),i()()}}var It=class o{authService=b(j);router=b(A);businessService=b(Me);projectService=b(Ue);socketService=b(dt);breakpointObserver=b(Mi);sidenavOpened=S(!1);isMobile=S(!1);userBusinessCount=S(0);totalServices=S(0);totalProjects=S(0);user=this.authService.user;isAuthenticated=this.authService.isAuthenticated;userMode=O(()=>this.user()?.user_mode||"client");isBusinessOwner=O(()=>this.userMode()==="business_owner");isAdmin=O(()=>this.user()?.email?.includes("admin")||!1);mobileSubscription;userModeEffect=ne(()=>{let n=this.userMode(),e=this.user(),a=this.isBusinessOwner();console.log("Dashboard signals updated:",{user:e?.email,mode:n,isBusiness:a}),e&&this.loadDashboardCounts()});ngOnInit(){this.setupMobileDetection(),this.loadDashboardCounts(),this.socketService.connect()}ngOnDestroy(){this.mobileSubscription&&this.mobileSubscription.unsubscribe()}setupMobileDetection(){this.mobileSubscription=this.breakpointObserver.observe([Wi.Handset]).subscribe(n=>{this.isMobile.set(n.matches),n.matches?this.sidenavOpened.set(!1):this.sidenavOpened.set(!0)})}loadDashboardCounts(){return E(this,null,function*(){try{let n=yield this.businessService.getMyBusinessesAsync();this.userBusinessCount.set(n.length);let e=0;for(let a of n)try{let s=yield this.businessService.getBusinessServicesAsync(a._id);e+=s.length}catch(s){console.warn(`Failed to load services for business ${a._id}:`,s)}this.totalServices.set(e);try{let a=yield this.projectService.getAllMyProjectsAsync();this.totalProjects.set(a.length)}catch(a){console.warn("Failed to load projects:",a),this.totalProjects.set(0)}}catch(n){console.error("Error loading dashboard counts:",n)}})}toggleSidenav(){this.sidenavOpened.set(!this.sidenavOpened())}onNavigationClick(){this.isMobile()&&this.sidenavOpened.set(!1)}navigateToCreateBusiness(){this.router.navigate(["/dashboard/businesses/create-business"])}createService(){this.router.navigate(["/dashboard/services/create-service"])}getActiveTabTitle(){let n=this.router.url.split("/");switch(n[n.length-1]){case"dashboard":case"":return this.isBusinessOwner()?"Dashboard Overview":"My Projects";case"overview":return"Dashboard Overview";case"businesses":return"My Businesses";case"services":return"My Services";case"projects":return"My Projects";case"notifications":return"Notifications";case"profile":return"Profile";case"settings":return"Settings";default:return this.router.url.includes("/messages")?"Messages":this.isBusinessOwner()?"Dashboard":"My Projects"}}getUserInitials(){let n=this.user();if(!n)return"";if(n.first_name||n.last_name){let e=n.first_name?.charAt(0).toUpperCase()||"",a=n.last_name?.charAt(0).toUpperCase()||"";return e+a}return n.email.charAt(0).toUpperCase()}navigateToDashboard(){this.router.navigate(["/dashboard"])}navigateToProfile(){this.router.navigate(["/dashboard/profile"])}navigateToSettings(){this.router.navigate(["/dashboard/settings"])}navigateToAdmin(){this.router.navigate(["/admin"])}switchToBusinessMode(){return E(this,null,function*(){try{let n=yield this.authService.switchMode("business_owner");n.data?(console.log("Switched to business owner mode successfully"),console.log("Updated user mode:",this.userMode()),this.loadDashboardCounts()):console.error("Failed to switch to business mode:",n.error)}catch(n){console.error("Error switching to business mode:",n)}})}switchToClientMode(){return E(this,null,function*(){try{let n=yield this.authService.switchMode("client");n.data?(console.log("Switched to client mode successfully"),console.log("Updated user mode:",this.userMode()),this.router.navigate(["/search"])):console.error("Failed to switch to client mode:",n.error)}catch(n){console.error("Error switching to client mode:",n)}})}viewProfile(){this.navigateToProfile()}logout(){this.authService.logout(),this.router.navigate(["/auth"])}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=P({type:o,selectors:[["app-dashboard"]],decls:119,vars:23,consts:[["userMenu","matMenu"],["sidenav",""],[1,"h-screen","flex","flex-col","bg-gray-50"],[1,"bg-white","border-b","border-gray-200","shadow-sm","z-50","relative"],[1,"px-6","py-4"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","space-x-4"],[1,"p-2","rounded-lg","hover:bg-gray-100","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h16M4 18h16"],[1,"flex","items-center","space-x-3"],[1,"text-xl","font-semibold","text-gray-900"],[1,"relative","p-2","text-gray-600","hover:text-blue-600","rounded-lg","transition-colors"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],[1,"relative"],["mat-button","",1,"flex","items-center","space-x-2","text-gray-700","hover:text-blue-600","transition-colors",3,"matMenuTriggerFor"],[1,"h-8","w-8","rounded-full","object-cover","border-2","border-gray-200",3,"src","alt"],[1,"h-8","w-8","rounded-full","bg-blue-600","text-white","flex","items-center","justify-center","text-sm","font-medium"],[1,"px-4","py-2","text-sm","text-gray-500","border-b"],["mat-menu-item","",3,"click"],["mat-menu-item",""],["mat-menu-item","",1,"text-red-600",3,"click"],[1,"flex-1","flex"],[1,"sidenav-container"],["position","start",1,"custom-sidenav",3,"opened","mode","disableClose"],[1,"sidebar-content","bg-white","h-full","shadow-lg"],[1,"p-4","border-b","border-gray-200"],[1,"w-10","h-10","bg-blue-500","rounded-full","flex","items-center","justify-center","text-white","font-semibold"],[1,"flex-1"],[1,"font-semibold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"flex","items-center","mt-1"],[1,"w-3","h-3","mr-1","!text-xs"],[1,"p-4","bg-white","flex-1"],[1,"space-y-2"],["routerLink","projects","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"],[1,"ml-auto","bg-gray-200","text-gray-700","py-0.5","px-2","rounded-full","text-xs"],["routerLink","/search",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["routerLink","notifications","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"],["routerLink","./messages","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click"],[1,"my-6","border-t","border-gray-200"],[1,"space-y-3","mb-6"],[1,"text-xs","font-semibold","text-gray-500","uppercase","tracking-wider"],[1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","rounded-lg","transition-all","duration-200"],[1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","text-gray-600","bg-gray-100","hover:bg-gray-200","rounded-lg","transition-all","duration-200"],[1,"space-y-3"],[1,"absolute","bottom-0","left-0","right-0","p-4","border-t","border-gray-200","bg-white"],[1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","text-gray-600","hover:bg-red-50","hover:text-red-700","rounded-lg","transition-all","duration-200",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"],["routerLink","overview","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click","routerLinkActiveOptions"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],["routerLink","businesses","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],["routerLink","services","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["routerLink","earnings","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"],[1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","rounded-lg","transition-all","duration-200",3,"click"],[1,"w-5","h-5","mr-3"],[1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","text-gray-600","bg-gray-100","hover:bg-gray-200","rounded-lg","transition-all","duration-200",3,"click"],[1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","text-gray-600","hover:bg-gray-100","hover:text-gray-900","rounded-lg","transition-all","duration-200",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"]],template:function(e,a){if(e&1){let s=y();t(0,"div",2)(1,"header",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"button",7),u("click",function(){return _(s),f(a.toggleSidenav())}),C(),t(6,"svg",8),d(7,"path",9),i()(),I(),t(8,"div",10)(9,"h1",11),r(10),i()()(),t(11,"div",10)(12,"button",12),C(),t(13,"svg",13),d(14,"path",14),i()(),I(),d(15,"app-notification-nav"),t(16,"div",15)(17,"button",16),g(18,Bo,1,2,"img",17)(19,Vo,2,1,"div",18),t(20,"mat-icon"),r(21,"expand_more"),i()(),t(22,"mat-menu",null,0)(24,"div",19),r(25),i(),t(26,"button",20),u("click",function(){return _(s),f(a.navigateToDashboard())}),t(27,"mat-icon"),r(28,"dashboard"),i(),t(29,"span"),r(30,"Dashboard"),i()(),t(31,"button",20),u("click",function(){return _(s),f(a.navigateToProfile())}),t(32,"mat-icon"),r(33,"person"),i(),t(34,"span"),r(35,"Profile"),i()(),t(36,"button",20),u("click",function(){return _(s),f(a.navigateToAdmin())}),t(37,"mat-icon"),r(38,"admin_panel_settings"),i(),t(39,"span"),r(40,"Admin Dashboard"),i()(),g(41,jo,5,0,"button",21)(42,Do,5,0,"button",21),d(43,"mat-divider"),t(44,"button",20),u("click",function(){return _(s),f(a.navigateToSettings())}),t(45,"mat-icon"),r(46,"settings"),i(),t(47,"span"),r(48,"Settings"),i()(),d(49,"mat-divider"),t(50,"button",22),u("click",function(){return _(s),f(a.logout())}),t(51,"mat-icon"),r(52,"logout"),i(),t(53,"span"),r(54,"Sign Out"),i()()()()()()()(),t(55,"div",23)(56,"mat-sidenav-container",24)(57,"mat-sidenav",25,1)(59,"div",26)(60,"div",27)(61,"div",10)(62,"div",28),r(63),i(),t(64,"div",29)(65,"h3",30),r(66),i(),t(67,"p",31),r(68),i(),t(69,"div",32)(70,"span")(71,"mat-icon",33),r(72),i(),r(73),i()()()()(),t(74,"nav",34)(75,"ul",35),g(76,Ro,5,2,"li")(77,No,7,1,"li")(78,zo,8,1,"li"),t(79,"li")(80,"a",36),u("click",function(){return _(s),f(a.onNavigationClick())}),C(),t(81,"svg",37),d(82,"path",38),i(),r(83," Projects "),I(),t(84,"span",39),r(85),i()()(),t(86,"li")(87,"a",40),u("click",function(){return _(s),f(a.onNavigationClick())}),C(),t(88,"svg",37),d(89,"path",41),i(),r(90," Find Business "),i()(),g(91,Lo,5,0,"li"),I(),t(92,"li")(93,"a",42),u("click",function(){return _(s),f(a.onNavigationClick())}),C(),t(94,"svg",37),d(95,"path",43),i(),r(96," Notifications "),i()(),I(),t(97,"li")(98,"a",44),u("click",function(){return _(s),f(a.onNavigationClick())}),C(),t(99,"svg",37),d(100,"path",14),i(),r(101," Messages "),I(),t(102,"span",39),r(103," 0 "),i()()()(),d(104,"div",45),t(105,"div",46)(106,"p",47),r(107,"Account Mode"),i(),g(108,Ho,4,0,"button",48)(109,Go,4,0,"button",49),i(),g(110,Uo,11,0,"div",50),i(),t(111,"div",51)(112,"button",52),u("click",function(){return _(s),f(a.logout())}),C(),t(113,"svg",37),d(114,"path",53),i(),r(115," Sign Out "),i()()()(),I(),t(116,"mat-sidenav-content")(117,"main"),d(118,"router-outlet"),i()()()()()}if(e&2){let s,p,w,F=ie(23);l(10),v(" ",a.getActiveTabTitle()," "),l(7),h("matMenuTriggerFor",F),l(),m((s=a.user())!=null&&s.avatar_url?18:19),l(7),v(" Mode: ",a.isBusinessOwner()?"Business Owner":"Client"," "),l(16),m(a.isBusinessOwner()?42:41),l(16),h("opened",a.sidenavOpened())("mode",a.isMobile()?"over":"side")("disableClose",!a.isMobile()),l(6),v(" ",a.getUserInitials()," "),l(3),x((((p=a.user())==null?null:p.first_name)+" "+(((p=a.user())==null?null:p.last_name)||"")).trim()||((p=a.user())==null?null:p.email)),l(2),x((w=a.user())==null?null:w.email),l(2),ee("inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ",a.isBusinessOwner()?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800",""),l(2),x(a.isBusinessOwner()?"business":"person"),l(),v(" ",a.isBusinessOwner()?"Business Owner":"Client"," "),l(3),m(a.isBusinessOwner()?76:-1),l(),m(a.isBusinessOwner()?77:-1),l(),m(a.isBusinessOwner()?78:-1),l(7),v(" ",a.totalProjects()," "),l(6),m(a.isBusinessOwner()?91:-1),l(17),m(a.isBusinessOwner()?109:108),l(2),m(a.isBusinessOwner()?110:-1)}},dependencies:[V,gt,Qi,Yi,qi,lt,at,rt,st,z,N,D,L,Ne,ct,nt,_e,wi,$e],styles:[".mat-drawer{background-color:#fff!important;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f!important;border-radius:0!important}  .mat-drawer-container{background-color:#f9fafb!important}  mat-sidenav{background-color:#fff!important;border-right:1px solid #e5e7eb!important;border-radius:0!important}  .mat-drawer-inner-container{border-radius:0!important}  .mat-drawer-backdrop{background-color:#0009!important}  .mat-drawer-content{flex:1!important;width:100%!important;overflow:auto!important;display:flex!important;flex-direction:column!important}  mat-sidenav-content{flex:1!important;width:100%!important;display:flex!important;flex-direction:column!important;overflow:hidden!important}  .mat-drawer-container{background-color:#f9fafb!important;width:100%!important;height:100%!important;display:flex!important;flex-direction:row!important}.sidenav-container[_ngcontent-%COMP%]{width:100%!important;height:100%!important;flex:1!important;display:flex!important}main[_ngcontent-%COMP%]{width:100%!important;flex:1!important;overflow-y:auto!important;padding:1.5rem!important}.dashboard-loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:3rem 0}.dashboard-loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite;border-radius:50%;height:3rem;width:3rem;border:2px solid #e5e7eb;border-top:2px solid #2563eb}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.business-item[_ngcontent-%COMP%]:hover{background-color:#f9fafb;transition:background-color .15s ease-in-out}.status-approved[_ngcontent-%COMP%]{background-color:#dcfce7;color:#166534}.status-pending[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.status-rejected[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.status-suspended[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#374151}.create-business-btn[_ngcontent-%COMP%]:hover{background-color:#1d4ed8;transform:translateY(-1px);transition:all .2s ease-in-out}.action-btn[_ngcontent-%COMP%]:hover{background-color:#f9fafb;transform:translateY(-1px);transition:all .15s ease-in-out}.action-btn-danger[_ngcontent-%COMP%]:hover{background-color:#fef2f2;transform:translateY(-1px);transition:all .15s ease-in-out}.stat-card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;transition:box-shadow .2s ease-in-out}.empty-state[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:.6}@media (max-width: 640px){.business-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.75rem}.action-buttons[_ngcontent-%COMP%]{margin-left:0;width:100%;justify-content:flex-end}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.create-business-btn[_ngcontent-%COMP%]:focus, .action-btn[_ngcontent-%COMP%]:focus, .action-btn-danger[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;box-shadow:0 0 0 2px #2563eb}@media print{.action-buttons[_ngcontent-%COMP%], .create-business-btn[_ngcontent-%COMP%]{display:none}}"]})};var xn=(()=>{class o{static \u0275fac=function(a){return new(a||o)};static \u0275mod=K({type:o});static \u0275inj=J({imports:[Ae]})}return o})();var Qo=["paymentElement"],Yo=["stepper"],bn=(o,n)=>n._id;function Wo(o,n){o&1&&(t(0,"div",6),d(1,"div",9),i())}function Xo(o,n){if(o&1){let e=y();t(0,"div",7)(1,"div",10)(2,"div",11)(3,"mat-icon",12),r(4,"error_outline"),i()(),t(5,"h3",13),r(6),i(),t(7,"div",14)(8,"button",15),u("click",function(){_(e);let s=c();return f(s.onBackToBusiness())}),r(9," Go Back "),i(),t(10,"button",16),u("click",function(){_(e);let s=c();return f(s.ngOnInit())}),r(11," Try Again "),i()()()()}if(o&2){let e=c();l(6),x(e.error())}}function Jo(o,n){if(o&1&&d(0,"img",67),o&2){let e=c(3);h("src",e.business().logo_url,G)("alt",e.business().name)}}function Zo(o,n){o&1&&(t(0,"div",68)(1,"mat-icon",71),r(2,"business"),i()())}function Ko(o,n){if(o&1&&(t(0,"mat-card",23)(1,"mat-card-content")(2,"div",66),g(3,Jo,1,2,"img",67)(4,Zo,3,0,"div",68),t(5,"div",69)(6,"h3",70),r(7),i(),t(8,"p",22),r(9),i()()()()()),o&2){let e,a,s,p=c(2);l(3),m((e=p.business())!=null&&e.logo_url?3:4),l(4),x((a=p.business())==null?null:a.name),l(2),x(((s=p.business())==null?null:s.short_description)||((s=p.business())==null?null:s.description)||"No description available")}}function er(o,n){if(o&1&&(t(0,"mat-error"),r(1),i()),o&2){let e=c(2);l(),x(e.getFieldError(e.projectInfoForm,"title"))}}function tr(o,n){if(o&1&&(t(0,"mat-error"),r(1),i()),o&2){let e=c(2);l(),x(e.getFieldError(e.projectInfoForm,"description"))}}function ir(o,n){o&1&&(t(0,"div",34),d(1,"mat-spinner",72),i())}function nr(o,n){o&1&&(t(0,"div",35)(1,"mat-icon",73),r(2,"info"),i(),t(3,"p"),r(4,"No services available for this business"),i()())}function or(o,n){if(o&1&&(t(0,"span",83),r(1),i()),o&2){let e=c().$implicit;l(),v(" ",e.pricing_type," ")}}function rr(o,n){if(o&1){let e=y();t(0,"div",75)(1,"label",77)(2,"input",78),u("change",function(){let s=_(e).$implicit,p=c(3);return f(p.onServiceToggle(s._id))}),i(),t(3,"div",69)(4,"h4",79),r(5),i(),t(6,"p",80),r(7),i(),t(8,"div",81)(9,"span",82),r(10),i(),g(11,or,2,1,"span",83),i()()()()}if(o&2){let e=n.$implicit,a=c(3);l(2),h("value",e._id)("checked",a.isServiceSelected()(e._id)),l(3),x(e.name),l(2),x(e.description),l(3),v(" ",a.formatPrice(e.price||0)," "),l(),m(e.pricing_type?11:-1)}}function ar(o,n){if(o&1&&(t(0,"div",76),r(1),i()),o&2){let e=c(3);l(),v(" ",e.getFieldError(e.projectInfoForm,"selectedServices")," ")}}function sr(o,n){if(o&1&&(t(0,"div",74),k(1,rr,12,6,"div",75,bn),i(),g(3,ar,2,1,"div",76)),o&2){let e=c(2);l(),M(e.services()),l(2),m(e.isFieldInvalid(e.projectInfoForm,"selectedServices")?3:-1)}}function lr(o,n){if(o&1&&(t(0,"div",36)(1,"div",84)(2,"div")(3,"h4",85),r(4,"Estimated Total"),i(),t(5,"p",86),r(6),i()(),t(7,"div",87),r(8),i()()()),o&2){let e=c(2);l(6),v("",e.selectedServices().length," service(s) selected"),l(2),v(" ",e.formatPrice(e.totalEstimatedCost())," ")}}function cr(o,n){if(o&1){let e=y();t(0,"div",41),d(1,"img",88),t(2,"button",89),u("click",function(){_(e);let s=c(2);return f(s.removeImage())}),t(3,"mat-icon",90),r(4,"close"),i()()()}if(o&2){let e=c(2);l(),h("src",e.imagePreview(),G)}}function dr(o,n){if(o&1){let e=y();t(0,"div",42)(1,"input",91,3),u("change",function(s){_(e);let p=c(2);return f(p.onImageSelect(s))}),i(),t(3,"mat-icon",44),r(4,"cloud_upload"),i(),t(5,"p",45),r(6,"Click to upload project image"),i(),t(7,"button",92),u("click",function(){_(e);let s=ie(2);return f(s.click())}),r(8," Choose Image "),i(),t(9,"p",47),r(10,"JPG, PNG up to 5MB"),i()()}}function mr(o,n){if(o&1){let e=y();t(0,"div",93)(1,"div",94)(2,"mat-icon",95),r(3),i(),t(4,"div")(5,"p",96),r(6),i(),t(7,"p",97),r(8),i()()(),t(9,"button",98),u("click",function(){let s=_(e).$index,p=c(3);return f(p.removeAttachment(s))}),t(10,"mat-icon",90),r(11,"delete"),i()()()}if(o&2){let e=n.$implicit,a=c(3);l(3),x(a.getFileIcon(e.type)),l(3),x(e.name),l(2),x(a.formatFileSize(e.size))}}function pr(o,n){if(o&1&&(t(0,"div",48)(1,"h5",79),r(2,"Attached Files:"),i(),k(3,mr,12,3,"div",93,W),i()),o&2){let e=c(2);l(3),M(e.attachmentPreviews())}}function ur(o,n){o&1&&(d(0,"mat-spinner",99),r(1," Creating Project... "))}function gr(o,n){o&1&&r(0," Continue to Payment ")}function _r(o,n){if(o&1&&(t(0,"div",56)(1,"span",22),r(2),i(),t(3,"span"),r(4),i()()),o&2){let e=n.$implicit,a=c(2);l(2),x(e.name),l(2),x(a.formatPrice(e.price||0))}}function fr(o,n){o&1&&(t(0,"div",61),d(1,"div",100,4),i())}function hr(o,n){o&1&&(t(0,"div",34),d(1,"mat-spinner",72),t(2,"span",101),r(3,"Initializing payment..."),i()())}function xr(o,n){if(o&1&&(t(0,"div",64),r(1),i()),o&2){let e=c(2);l(),v(" ",e.getFieldError(e.paymentForm,"termsAccepted")," ")}}function br(o,n){o&1&&(d(0,"mat-spinner",99),r(1," Processing Payment... "))}function vr(o,n){if(o&1&&r(0),o&2){let e=c(2);v(" Pay ",e.formatPrice(e.totalEstimatedCost())," ")}}function Cr(o,n){if(o&1){let e=y();t(0,"div",8)(1,"div",17)(2,"button",18),u("click",function(){_(e);let s=c();return f(s.onCancel())}),t(3,"mat-icon",19),r(4,"arrow_back"),i(),r(5," Back "),i(),t(6,"div",20)(7,"h1",21),r(8," Start a New Project "),i(),t(9,"p",22),r(10," Submit your project details and complete payment to get started "),i()(),g(11,Ko,10,3,"mat-card",23),i(),t(12,"div",24)(13,"mat-stepper",25,0)(15,"mat-step",26)(16,"form",27),u("ngSubmit",function(){_(e);let s=c();return f(s.onProjectInfoSubmit())}),t(17,"div",28)(18,"mat-form-field",29)(19,"mat-label"),r(20,"Project Title"),i(),d(21,"input",30),t(22,"mat-hint"),r(23,"Be specific about what you need"),i(),g(24,er,2,1,"mat-error"),i(),t(25,"mat-form-field",29)(26,"mat-label"),r(27,"Project Description"),i(),t(28,"textarea",31),r(29,"                  "),i(),t(30,"mat-hint"),r(31,"Provide as much detail as possible to help the business understand your needs"),i(),g(32,tr,2,1,"mat-error"),i(),t(33,"div",32)(34,"h3",33),r(35,"Select Services"),i(),g(36,ir,2,0,"div",34)(37,nr,5,0,"div",35)(38,sr,4,1),i(),g(39,lr,9,2,"div",36),t(40,"mat-form-field",29)(41,"mat-label"),r(42,"Project Deadline (Optional)"),i(),d(43,"input",37)(44,"mat-datepicker-toggle",38)(45,"mat-datepicker",null,1),t(47,"mat-hint"),r(48,"When would you like this project completed?"),i()(),t(49,"mat-form-field",29)(50,"mat-label"),r(51,"Additional Notes (Optional)"),i(),t(52,"textarea",39),r(53,"                  "),i(),t(54,"mat-hint"),r(55,"Special requirements, preferences, or additional context"),i()(),t(56,"div",32)(57,"h4",33),r(58,"Project Image (Optional)"),i(),t(59,"p",40),r(60,"Add an image to help illustrate your project requirements"),i(),g(61,cr,5,1,"div",41)(62,dr,11,0,"div",42),i(),t(63,"div",32)(64,"h4",33),r(65,"Attachments (Optional)"),i(),t(66,"p",40),r(67,"Attach files that provide more details about your project"),i(),t(68,"div",42)(69,"input",43,2),u("change",function(s){_(e);let p=c();return f(p.onFilesSelect(s))}),i(),t(71,"mat-icon",44),r(72,"attach_file"),i(),t(73,"p",45),r(74,"Click to attach files"),i(),t(75,"button",46),u("click",function(){_(e);let s=ie(70);return f(s.click())}),r(76," Choose Files "),i(),t(77,"p",47),r(78,"Documents, images, PDFs up to 10MB each (max 5 files)"),i()(),g(79,pr,5,0,"div",48),i(),t(80,"div",49)(81,"button",50),u("click",function(){_(e);let s=c();return f(s.onCancel())}),r(82," Cancel "),i(),t(83,"button",51),g(84,ur,2,0)(85,gr,1,0),i()()()()(),t(86,"mat-step",52)(87,"form",27),u("ngSubmit",function(){_(e);let s=c();return f(s.onPaymentSubmit())}),t(88,"div",28)(89,"div",53)(90,"h3",54),r(91,"Order Summary"),i(),t(92,"div",55)(93,"div",56)(94,"span",22),r(95,"Project:"),i(),t(96,"span",57),r(97),i()(),k(98,_r,5,2,"div",56,bn),d(100,"hr",58),t(101,"div",59)(102,"span"),r(103,"Total:"),i(),t(104,"span",60),r(105),i()()()(),t(106,"div",32)(107,"h3",33),r(108,"Payment Information"),i(),g(109,fr,3,0,"div",61)(110,hr,4,0,"div",34),i(),t(111,"div",32)(112,"mat-checkbox",62)(113,"span",40),r(114," I agree to the "),t(115,"a",63),r(116,"Terms of Service"),i(),r(117," and "),t(118,"a",63),r(119,"Privacy Policy"),i()()(),g(120,xr,2,1,"div",64),i(),t(121,"div",49)(122,"button",65),r(123," Back to Details "),i(),t(124,"button",51),g(125,br,2,0)(126,vr,1,1),i()()()()()()()()}if(o&2){let e,a=ie(46),s=c();l(11),m(s.business()?11:-1),l(2),h("linear",!0),l(2),h("stepControl",s.projectInfoForm),l(),h("formGroup",s.projectInfoForm),l(8),m(s.isFieldInvalid(s.projectInfoForm,"title")?24:-1),l(8),m(s.isFieldInvalid(s.projectInfoForm,"description")?32:-1),l(4),m(s.servicesLoading()?36:s.services().length===0?37:38),l(3),m(s.selectedServices().length>0?39:-1),l(4),h("matDatepicker",a),l(),h("for",a),l(17),m(s.imagePreview()?61:62),l(18),m(s.attachmentPreviews().length>0?79:-1),l(4),h("disabled",!s.canContinue()),l(),m(s.submitting()?84:85),l(2),h("stepControl",s.paymentForm),l(),h("formGroup",s.paymentForm),l(10),x((e=s.projectInfoForm.get("title"))==null?null:e.value),l(),M(s.selectedServices()),l(7),x(s.formatPrice(s.totalEstimatedCost())),l(4),m(s.clientSecret()?109:110),l(11),m(s.isFieldInvalid(s.paymentForm,"termsAccepted")?120:-1),l(2),h("disabled",s.paymentProcessing()),l(2),h("disabled",s.paymentProcessing()||s.paymentForm.invalid||!s.clientSecret()),l(),m(s.paymentProcessing()?125:126)}}var Ot=class o{paymentElementRef;formBuilder=b(ye);projectService=b(Ue);businessService=b(Me);authService=b(j);stripeService=b(sn);router=b(A);route=b(Q);dashboardRefreshService=b(ln);loading=S(!1);error=S(null);business=S(null);services=S([]);servicesLoading=S(!1);submitting=S(!1);paymentProcessing=S(!1);clientSecret=S(null);paymentIntentId=S(null);createdProject=S(null);imagePreview=S(null);attachmentPreviews=S([]);imageFile=null;attachmentFiles=[];projectFormData=null;elements=null;paymentElement=null;stepper;projectInfoForm;paymentForm;user=this.authService.user;selectedServiceIds=S([]);selectedServices=O(()=>{let n=this.selectedServiceIds();return this.services().filter(e=>n.includes(e._id))});isServiceSelected=O(()=>{let n=this.selectedServiceIds();return e=>n.includes(e)});totalEstimatedCost=O(()=>this.selectedServices().reduce((n,e)=>n+(e.price||0),0));canContinue=O(()=>{let n=this.projectInfoForm?.valid||!1,e=this.selectedServices().length>0,a=!this.submitting();return n&&e&&a});atLeastOneService(n){let e=n.value;return!e||!Array.isArray(e)||e.length===0?{atLeastOneService:!0}:null}constructor(){this.projectInfoForm=this.formBuilder.group({title:["",[R.required,R.maxLength(200)]],description:["",[R.maxLength(1e3)]],selectedServices:[[],[R.required,this.atLeastOneService]],deadline:[""],additionalNotes:["",[R.maxLength(500)]]}),this.paymentForm=this.formBuilder.group({termsAccepted:[!1,[R.requiredTrue]]})}ngOnInit(){if(!this.user()){this.router.navigate(["/auth"]);return}let n=this.route.snapshot.params.businessId;if(!n){this.error.set("Business ID is required"),this.router.navigate(["/"]);return}this.loadBusinessAndServices(n),this.projectInfoForm.get("selectedServices")?.valueChanges.subscribe(e=>{this.selectedServiceIds.set(e||[])})}loadBusinessAndServices(n){return E(this,null,function*(){this.loading.set(!0),this.error.set(null);try{let e=yield this.businessService.getBusinessAsync(n);this.business.set(e),this.servicesLoading.set(!0);let a=yield this.businessService.getBusinessServicesAsync(n);this.services.set(a.filter(s=>s.is_active))}catch(e){console.error("Error loading business data:",e),this.error.set("Failed to load business information")}finally{this.loading.set(!1),this.servicesLoading.set(!1)}})}onProjectInfoSubmit(){return E(this,null,function*(){if(this.projectInfoForm.invalid){this.markFormGroupTouched(this.projectInfoForm);return}this.submitting.set(!0),this.error.set(null);try{let n=this.projectInfoForm.value,e=this.business();if(!e)throw new Error("Business information not loaded");let a=n.selectedServices,p=this.services().filter(F=>a.includes(F._id)).reduce((F,U)=>F+(U.price||0),0);console.log("Creating payment intent for services:",a),console.log("Total cost:",p);let w=yield this.projectService.calculatePaymentIntentAsync(a);console.log("Payment intent created:",w),this.clientSecret.set(w.clientSecret),this.paymentIntentId.set(w.paymentIntentId),this.projectFormData={title:n.title,description:n.description,business_id:e._id,selected_services:n.selectedServices,deadline:n.deadline?new Date(n.deadline).toISOString():void 0,additional_notes:n.additionalNotes},console.log("Project form data stored for after payment:",this.projectFormData),yield this.initializePaymentElement(w.clientSecret),this.stepper.next()}catch(n){console.error("Error preparing payment:",n),this.error.set(n.error?.message||n.message||"Failed to prepare payment")}finally{this.submitting.set(!1)}})}initializePaymentElement(n){return E(this,null,function*(){try{let{elements:e,paymentElement:a}=yield this.stripeService.createElement(n);this.elements=e,this.paymentElement=a,setTimeout(()=>{this.paymentElementRef?.nativeElement&&this.paymentElement.mount(this.paymentElementRef.nativeElement)},100)}catch(e){console.error("Error initializing payment element:",e),this.error.set("Failed to initialize payment system")}})}onPaymentSubmit(){return E(this,null,function*(){if(this.paymentForm.invalid){this.markFormGroupTouched(this.paymentForm);return}if(!this.elements||!this.clientSecret()){this.error.set("Payment system not properly initialized");return}if(!this.projectFormData||!this.paymentIntentId()){this.error.set("Project data not found. Please go back and fill the form again.");return}this.paymentProcessing.set(!0),this.error.set(null);try{console.log("=== Starting Payment Process ==="),console.log("Client Secret:",this.clientSecret()),console.log("Payment Intent ID:",this.paymentIntentId()),console.log("Project Form Data ready for creation:",this.projectFormData),console.log("Confirming payment with Stripe...");let n=yield this.stripeService.confirmPaymentWithoutRedirect(this.clientSecret(),this.elements);if(console.log("Stripe payment confirmation result:",n),n.error)throw console.error("Payment confirmation failed:",n.error),new Error(n.error.message||"Payment confirmation failed");if("paymentIntent"in n){let a=n.paymentIntent;if(console.log("Payment Intent Status:",a?.status),a?.status!=="succeeded")throw console.error("Payment not succeeded. Status:",a?.status),new Error("Payment was not completed successfully")}else console.log("Payment confirmation successful, no paymentIntent in result");console.log("\u2705 Payment confirmed successfully!"),console.log("Now creating project with payment intent:",this.paymentIntentId());let e=yield this.projectService.createProjectAfterPaymentAsync(this.projectFormData,this.paymentIntentId());if(console.log("\u2705 Project created successfully:",e),this.createdProject.set(e),this.imageFile)try{console.log("Uploading project image..."),yield this.projectService.uploadProjectImageAsync(e._id,this.imageFile),console.log("\u2705 Project image uploaded successfully")}catch(a){console.warn("\u26A0\uFE0F Failed to upload project image:",a)}if(this.attachmentFiles.length>0)try{console.log("Uploading project attachments..."),yield this.projectService.uploadProjectAttachmentsAsync(e._id,this.attachmentFiles),console.log("\u2705 Project attachments uploaded successfully")}catch(a){console.warn("\u26A0\uFE0F Failed to upload project attachments:",a)}console.log("Refreshing dashboard and navigating..."),this.dashboardRefreshService.triggerRefresh(),this.router.navigate(["/dashboard/projects",e._id],{queryParams:{payment:"success"}}),console.log("=== Payment and Project Creation Process Completed Successfully ===")}catch(n){console.error("\u274C Error in payment/project creation process:",n),console.error("Full error object:",n);let e="Payment failed. Please try again.";n.error&&n.error.message?e=n.error.message:n.message&&(e=n.message),e.includes("payment")||e.includes("Payment")?console.error("This appears to be a payment-related error"):console.error("This appears to be a project creation error"),this.error.set(e)}finally{this.paymentProcessing.set(!1)}})}onCancel(){this.router.navigate(["/"])}onBackToBusiness(){let n=this.business();n?this.router.navigate(["/business",n.slug]):this.router.navigate(["/"])}markFormGroupTouched(n){Object.keys(n.controls).forEach(e=>{n.get(e)?.markAsTouched()})}formatPrice(n){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n)}isFieldInvalid(n,e){let a=n.get(e);return!!(a&&a.invalid&&a.touched)}getFieldError(n,e){let a=n.get(e);if(a&&a.errors&&a.touched){if(a.errors.required)return`${e} is required`;if(a.errors.maxlength)return`${e} is too long`;if(a.errors.requiredTrue)return"You must accept the terms"}return""}onServiceToggle(n){let e=this.projectInfoForm.get("selectedServices"),a=e.value||[],s;a.includes(n)?s=a.filter(p=>p!==n):s=[...a,n],e.setValue(s),e.markAsTouched(),this.selectedServiceIds.set(s)}onImageSelect(n){let e=n.target;if(e.files&&e.files.length>0){let a=e.files[0];if(!a.type.startsWith("image/")){this.error.set("Please select an image file.");return}if(a.size>5*1024*1024){this.error.set("Image file size must be less than 5MB.");return}this.imageFile=a;let s=new FileReader;s.onload=p=>{this.imagePreview.set(p.target?.result)},s.readAsDataURL(a),this.error.set(null)}}removeImage(){this.imageFile=null,this.imagePreview.set(null)}onFilesSelect(n){let e=n.target;if(e.files&&e.files.length>0){let a=Array.from(e.files);for(let w of a)if(w.size>10*1024*1024){this.error.set(`File "${w.name}" is too large. Maximum size is 10MB.`);return}if(this.attachmentFiles.length+a.length>5){this.error.set("Maximum 5 files allowed.");return}this.attachmentFiles.push(...a);let s=this.attachmentPreviews(),p=a.map(w=>({name:w.name,url:URL.createObjectURL(w),type:w.type,size:w.size}));this.attachmentPreviews.set([...s,...p]),this.error.set(null)}}removeAttachment(n){this.attachmentFiles.splice(n,1);let e=this.attachmentPreviews();URL.revokeObjectURL(e[n].url),e.splice(n,1),this.attachmentPreviews.set([...e])}formatFileSize(n){if(n===0)return"0 Bytes";let e=1024,a=["Bytes","KB","MB","GB"],s=Math.floor(Math.log(n)/Math.log(e));return parseFloat((n/Math.pow(e,s)).toFixed(2))+" "+a[s]}getFileIcon(n){return n.startsWith("image/")?"image":n.includes("pdf")?"picture_as_pdf":n.includes("word")||n.includes("document")?"description":n.includes("sheet")||n.includes("excel")?"table_chart":n.includes("presentation")||n.includes("powerpoint")?"slideshow":n.includes("text")?"text_snippet":"attach_file"}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=P({type:o,selectors:[["app-create-project-steps"]],viewQuery:function(e,a){if(e&1&&(Ie(Qo,5),Ie(Yo,5)),e&2){let s;pe(s=ue())&&(a.paymentElementRef=s.first),pe(s=ue())&&(a.stepper=s.first)}},decls:4,vars:1,consts:[["stepper",""],["picker",""],["fileInput",""],["imageInput",""],["paymentElement",""],[1,"min-h-screen","bg-gray-50"],[1,"flex","justify-center","items-center","py-20"],[1,"max-w-2xl","mx-auto","px-4","sm:px-6","lg:px-8","py-12"],[1,"max-w-4xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-blue-600"],[1,"text-center","py-12","bg-white","rounded-lg","shadow-sm","border","border-gray-200"],[1,"text-red-400","mb-4"],[1,"text-6xl"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"space-x-4"],[1,"bg-gray-600","text-white","px-4","py-2","rounded-lg","hover:bg-gray-700","transition-colors",3,"click"],[1,"bg-blue-600","text-white","px-4","py-2","rounded-lg","hover:bg-blue-700","transition-colors",3,"click"],[1,"mb-8"],[1,"mb-4","flex","items-center","text-gray-600","hover:text-gray-800","transition-colors",3,"click"],[1,"mr-2"],[1,"text-center"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"mt-6"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200"],[1,"project-stepper",3,"linear"],["label","Project Details",3,"stepControl"],[3,"ngSubmit","formGroup"],[1,"p-8","space-y-6"],["appearance","outline",1,"w-full"],["matInput","","formControlName","title","placeholder","Enter your project title","maxlength","200"],["matInput","","formControlName","description","placeholder","Describe your project requirements in detail","rows","4","maxlength","1000"],[1,"space-y-4"],[1,"text-lg","font-medium","text-gray-900"],[1,"flex","justify-center","py-8"],[1,"text-center","py-8","text-gray-500"],[1,"bg-blue-50","border","border-blue-200","rounded-lg","p-4"],["matInput","","formControlName","deadline","placeholder","Choose a deadline",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","additionalNotes","placeholder","Any additional requirements or special instructions","rows","3","maxlength","500"],[1,"text-sm","text-gray-600"],[1,"relative","inline-block"],[1,"border-2","border-dashed","border-gray-300","rounded-lg","p-6","text-center","hover:border-gray-400","transition-colors"],["type","file","multiple","",1,"hidden",3,"change"],[1,"text-gray-400","text-4xl","mb-2"],[1,"text-gray-600","mb-2"],["type","button",1,"bg-gray-600","text-white","px-4","py-2","rounded-lg","hover:bg-gray-700","transition-colors",3,"click"],[1,"text-xs","text-gray-500","mt-2"],[1,"space-y-2"],[1,"flex","justify-between","pt-6"],["type","button","mat-stroked-button","",1,"px-6","py-2",3,"click"],["type","submit","mat-raised-button","","color","primary",1,"px-8","py-2",3,"disabled"],["label","Payment",3,"stepControl"],[1,"bg-gray-50","rounded-lg","p-6","mb-6"],[1,"text-lg","font-medium","text-gray-900","mb-4"],[1,"space-y-3"],[1,"flex","justify-between"],[1,"font-medium"],[1,"my-3"],[1,"flex","justify-between","text-lg","font-semibold"],[1,"text-blue-600"],[1,"border","rounded-lg","p-4"],["formControlName","termsAccepted",1,"w-full"],["href","#",1,"text-blue-600","hover:underline"],[1,"text-red-600","text-sm"],["type","button","mat-stroked-button","","matStepperPrevious","",1,"px-6","py-2",3,"disabled"],[1,"flex","items-center","space-x-4"],[1,"w-16","h-16","rounded-lg","object-cover",3,"src","alt"],[1,"w-16","h-16","rounded-lg","bg-gray-200","flex","items-center","justify-center"],[1,"flex-1"],[1,"text-xl","font-semibold","text-gray-900"],[1,"text-gray-500","text-2xl"],["diameter","32"],[1,"text-4xl","mb-2"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"border","rounded-lg","p-4","hover:border-blue-300","transition-colors"],[1,"text-red-600","text-sm","mt-2"],[1,"flex","items-start","space-x-3","cursor-pointer"],["type","checkbox",1,"mt-1","h-4","w-4","text-blue-600","border-gray-300","rounded","focus:ring-blue-500",3,"change","value","checked"],[1,"font-medium","text-gray-900"],[1,"text-sm","text-gray-600","mt-1"],[1,"flex","justify-between","items-center","mt-2"],[1,"text-lg","font-semibold","text-blue-600"],[1,"text-xs","text-gray-500","bg-gray-100","px-2","py-1","rounded"],[1,"flex","justify-between","items-center"],[1,"font-medium","text-blue-900"],[1,"text-sm","text-blue-700"],[1,"text-2xl","font-bold","text-blue-900"],["alt","Project preview",1,"w-32","h-32","object-cover","rounded-lg","border","border-gray-200",3,"src"],["type","button",1,"absolute","-top-2","-right-2","bg-red-100","text-red-600","rounded-full","p-1","hover:bg-red-200","transition-colors",3,"click"],[1,"text-sm"],["type","file","accept","image/*",1,"hidden",3,"change"],["type","button",1,"bg-blue-600","text-white","px-4","py-2","rounded-lg","hover:bg-blue-700","transition-colors",3,"click"],[1,"flex","items-center","justify-between","p-3","bg-gray-50","rounded-lg","border","border-gray-200"],[1,"flex","items-center","space-x-3"],[1,"text-gray-500"],[1,"text-sm","font-medium","text-gray-900","truncate","max-w-xs"],[1,"text-xs","text-gray-500"],["type","button",1,"text-red-600","hover:text-red-700","p-1",3,"click"],["diameter","20",1,"mr-2"],[1,"stripe-payment-element"],[1,"ml-3","text-gray-600"]],template:function(e,a){e&1&&(t(0,"div",5),g(1,Wo,2,0,"div",6)(2,Xo,12,1,"div",7)(3,Cr,127,23,"div",8),i()),e&2&&(l(),m(a.loading()?1:a.error()?2:3))},dependencies:[V,Se,be,fe,he,xe,Di,ve,Ce,Ee,oe,ze,Ri,mt,pt,ke,Le,re,Ge,ut,Ki,Xi,Ji,Zi,en,D,L,z,N,se,ae,ft,_t,tn,an,nn,on,rn,xn],styles:[".project-stepper[_ngcontent-%COMP%]   .mat-stepper-horizontal-line[_ngcontent-%COMP%]{background-color:#e5e7eb;height:2px}.project-stepper[_ngcontent-%COMP%]   .mat-step-header[_ngcontent-%COMP%]{padding:16px 24px}.project-stepper[_ngcontent-%COMP%]   .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon[_ngcontent-%COMP%]{background-color:#6b7280;color:#fff}.project-stepper[_ngcontent-%COMP%]   .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon.mat-step-icon-selected[_ngcontent-%COMP%]{background-color:#3b82f6}.project-stepper[_ngcontent-%COMP%]   .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon.mat-step-icon-state-done[_ngcontent-%COMP%]{background-color:#10b981}.project-stepper[_ngcontent-%COMP%]   .mat-step-header[_ngcontent-%COMP%]   .mat-step-label[_ngcontent-%COMP%]{font-weight:500;color:#374151}.project-stepper[_ngcontent-%COMP%]   .mat-step-header[_ngcontent-%COMP%]   .mat-step-label.mat-step-label-active[_ngcontent-%COMP%], .project-stepper[_ngcontent-%COMP%]   .mat-step-header[_ngcontent-%COMP%]   .mat-step-label.mat-step-label-selected[_ngcontent-%COMP%]{color:#3b82f6}.business-info-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;box-shadow:0 1px 3px #0000001a}.stripe-payment-element[_ngcontent-%COMP%]{min-height:200px}.mat-mdc-checkbox[_ngcontent-%COMP%]   .mat-mdc-checkbox-frame[_ngcontent-%COMP%]{border-color:#d1d5db}.mat-mdc-checkbox.mat-mdc-checkbox-checked[_ngcontent-%COMP%]   .mat-mdc-checkbox-background[_ngcontent-%COMP%]{background-color:#3b82f6}.mat-mdc-form-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{border-radius:8px}.mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mdc-notched-outline__leading[_ngcontent-%COMP%], .mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mdc-notched-outline__notch[_ngcontent-%COMP%], .mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mdc-notched-outline__trailing[_ngcontent-%COMP%]{border-color:#3b82f6}.mat-mdc-raised-button[_ngcontent-%COMP%]{border-radius:8px;font-weight:600;text-transform:none;box-shadow:0 1px 3px #0000001a}.mat-mdc-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#3b82f6}.mat-mdc-raised-button.mat-primary[_ngcontent-%COMP%]:hover{background-color:#2563eb}.mat-mdc-outlined-button[_ngcontent-%COMP%]{border-radius:8px;font-weight:500;text-transform:none;border-color:#d1d5db;color:#374151}.mat-mdc-outlined-button[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.service-card[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.service-card[_ngcontent-%COMP%]:hover{border-color:#3b82f6;box-shadow:0 4px 6px -1px #0000001a}.service-card.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background-color:#eff6ff}.loading-spinner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:2rem}.error-message[_ngcontent-%COMP%]{background-color:#fef2f2;border:1px solid #fecaca;color:#dc2626;padding:1rem;border-radius:8px;margin-bottom:1rem}"]})};var At=(o,n)=>{let e=b(j),a=b(A);return e.isAuthenticated$.pipe(Je(s=>s?!0:(a.navigate(["/auth"],{queryParams:{returnUrl:n.url}}),!1)))};var vn=(o,n)=>{let e=b(j),a=b(A);return e.isAuthenticated$.pipe(Je(s=>s?(a.navigate(["/"]),!1):!0))};var Bt=(o,n)=>n._id;function yr(o,n){o&1&&(t(0,"div",1)(1,"div",2)(2,"div",3),d(3,"div",4),t(4,"span",5),r(5,"Loading business profile..."),i()()()())}function Sr(o,n){if(o&1){let e=y();t(0,"div",1)(1,"div",2)(2,"div",6)(3,"div",7),C(),t(4,"svg",8),d(5,"path",9),i(),I(),t(6,"div")(7,"h3",10),r(8,"Error Loading Business"),i(),t(9,"p",11),r(10),i(),t(11,"button",12),u("click",function(){_(e);let s=c();return f(s.goBack())}),r(12," Go Back "),i()()()()()()}if(o&2){let e=c();l(10),x(e.error())}}function wr(o,n){if(o&1&&d(0,"div",72)(1,"div",73),o&2){let e,a=c(2);Ke("background-image","url("+((e=a.business())==null?null:e.banner_url)+")")}}function Er(o,n){o&1&&d(0,"div",14)}function Pr(o,n){if(o&1&&d(0,"img",20),o&2){let e=c(2);h("src",e.business().logo_url,G)("alt",e.business().name+" logo")}}function kr(o,n){o&1&&(t(0,"div",21),C(),t(1,"svg",74),d(2,"path",75),i()())}function Mr(o,n){if(o&1&&(t(0,"p",27),r(1),i()),o&2){let e,a=c(2);l(),v(" ",(e=a.business())==null?null:e.short_description," ")}}function Tr(o,n){if(o&1){let e=y();t(0,"button",76),u("click",function(){_(e);let s=c(2);return f(s.editBusiness())}),C(),t(1,"svg",77),d(2,"path",78),i(),r(3," Edit Business "),i(),I(),t(4,"button",79),u("click",function(){_(e);let s=c(2);return f(s.addService())}),C(),t(5,"svg",77),d(6,"path",80),i(),r(7," Add Service "),i()}}function Ir(o,n){if(o&1){let e=y();t(0,"button",83),u("click",function(){_(e);let s=c(3);return f(s.startProject())}),C(),t(1,"svg",77),d(2,"path",84),i(),r(3),i()}if(o&2){let e=c(3);le(e.activeServices().length===0?"inline-flex items-center px-6 py-3 bg-gray-400 text-gray-200 rounded-xl cursor-not-allowed shadow-lg font-medium":"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-all shadow-lg font-medium"),h("disabled",e.activeServices().length===0),l(3),v(" ",e.activeServices().length===0?"No Services Available":"Start a Project"," ")}}function Or(o,n){if(o&1){let e=y();t(0,"button",76),u("click",function(){_(e);let s=c(3);return f(s.visitWebsite())}),C(),t(1,"svg",77),d(2,"path",85),i(),r(3," Visit Website "),i()}}function Ar(o,n){if(o&1&&(t(0,"button",82),C(),t(1,"svg",77),d(2,"path",86),i(),r(3),i()),o&2){let e,a=c(3);l(3),v(" ",(e=a.business())==null?null:e.contact_phone," ")}}function Fr(o,n){if(o&1&&g(0,Ir,4,4,"button",81)(1,Or,4,0,"button",82)(2,Ar,4,1,"button",82),o&2){let e,a,s,p=c(2);m(!p.isOwner()&&((e=p.business())!=null&&e.contact_email)?0:-1),l(),m((a=p.business())!=null&&a.website?1:-1),l(),m((s=p.business())!=null&&s.contact_phone?2:-1)}}function Br(o,n){if(o&1&&r(0),o&2){let e=c(2);v(" \u2B50",e.formatRating(e.averageRating())," ")}}function Vr(o,n){if(o&1&&(t(0,"p",53),r(1),i()),o&2){let e,a=c(2);l(),x((e=a.business())==null?null:e.description)}}function jr(o,n){o&1&&(t(0,"p",54),r(1,"No description provided."),i())}function Dr(o,n){if(o&1&&(t(0,"span",89),r(1),i()),o&2){let e=n.$implicit;l(),v(" ",e," ")}}function Rr(o,n){if(o&1&&(t(0,"div",55)(1,"h4",87),r(2,"Tags"),i(),t(3,"div",88),k(4,Dr,2,1,"span",89,te),i()()),o&2){let e=c(2);l(4),M(e.businessTags())}}function Nr(o,n){if(o&1&&(t(0,"div",33),r(1),i()),o&2){let e,a=c(3);l(),qt(" ",(e=a.business())==null?null:e.city,"",(e=a.business())!=null&&e.city&&((e=a.business())!=null&&e.state)?", ":"","",(e=a.business())==null?null:e.state," ")}}function zr(o,n){if(o&1&&(t(0,"div",59),C(),t(1,"svg",90),d(2,"path",91)(3,"path",92),i(),I(),t(4,"div")(5,"div",93),r(6),i(),g(7,Nr,2,3,"div",33),i()()),o&2){let e,a,s=c(2);l(6),x((e=s.business())==null?null:e.address),l(),m((a=s.business())!=null&&a.city||(a=s.business())!=null&&a.state?7:-1)}}function Lr(o,n){if(o&1&&(t(0,"div",60),C(),t(1,"svg",94),d(2,"path",95),i(),I(),t(3,"span",93),r(4),i()()),o&2){let e,a=c(2);l(4),x((e=a.business())==null?null:e.contact_email)}}function Hr(o,n){if(o&1&&(t(0,"div",60),C(),t(1,"svg",94),d(2,"path",86),i(),I(),t(3,"span",93),r(4),i()()),o&2){let e,a=c(2);l(4),x((e=a.business())==null?null:e.contact_phone)}}function Gr(o,n){if(o&1&&(t(0,"div",60),C(),t(1,"svg",94),d(2,"path",85),i(),I(),t(3,"a",96),r(4),i()()),o&2){let e,a,s=c(2);l(3),h("href",(e=s.business())==null?null:e.website,G),l(),v(" ",(a=s.business())==null?null:a.website," ")}}function Ur(o,n){o&1&&(t(0,"div",61),d(1,"div",97),t(2,"span",98),r(3,"Loading owner..."),i()())}function $r(o,n){if(o&1&&d(0,"img",99),o&2){let e=c(3);h("src",e.owner().avatar_url,G)("alt",(e.owner().first_name+" "+(e.owner().last_name||"")).trim()+" profile")}}function qr(o,n){o&1&&(t(0,"div",100),C(),t(1,"svg",104),d(2,"path",105),i()())}function Qr(o,n){if(o&1&&(t(0,"p",102),r(1),i()),o&2){let e,a=c(3);l(),x((e=a.owner())==null?null:e.bio)}}function Yr(o,n){if(o&1&&(t(0,"div",70),C(),t(1,"svg",106),d(2,"path",91)(3,"path",92),i(),I(),t(4,"span",107),r(5),i()()),o&2){let e,a=c(3);l(5),qt(" ",(e=a.owner())==null?null:e.city,"",(e=a.owner())!=null&&e.city&&((e=a.owner())!=null&&e.country)?", ":"","",(e=a.owner())==null?null:e.country," ")}}function Wr(o,n){if(o&1){let e=y();t(0,"button",108),u("click",function(){_(e);let s=c(3);return f(s.contactOwner())}),C(),t(1,"svg",40),d(2,"path",109),i(),r(3," Contact Owner "),i()}}function Xr(o,n){if(o&1&&(t(0,"div",58)(1,"div",60),g(2,$r,1,2,"img",99)(3,qr,3,0,"div",100),t(4,"div")(5,"h4",101),r(6),i(),t(7,"p",33),r(8,"Business Owner"),i()()(),g(9,Qr,2,1,"p",102)(10,Yr,6,3,"div",70)(11,Wr,4,0,"button",103),i()),o&2){let e,a,s,p,w=c(2);l(2),m((e=w.owner())!=null&&e.avatar_url?2:3),l(4),x((((a=w.owner())==null?null:a.first_name)+" "+(((a=w.owner())==null?null:a.last_name)||"")).trim()),l(3),m((s=w.owner())!=null&&s.bio?9:-1),l(),m((p=w.owner())!=null&&p.city||(p=w.owner())!=null&&p.country?10:-1),l(),m(w.isOwner()?-1:11)}}function Jr(o,n){o&1&&(t(0,"p",62),r(1,"Owner information not available"),i())}function Zr(o,n){o&1&&(t(0,"div",3),d(1,"div",110),t(2,"span",5),r(3,"Loading services..."),i()())}function Kr(o,n){if(o&1){let e=y();t(0,"button",117),u("click",function(){_(e);let s=c(3);return f(s.addService())}),C(),t(1,"svg",40),d(2,"path",80),i(),r(3," Add Your First Service "),i()}}function ea(o,n){if(o&1&&(t(0,"div",64)(1,"div",111),C(),t(2,"svg",112),d(3,"path",42)(4,"path",113),i()(),I(),t(5,"h3",114),r(6,"No Services Yet"),i(),t(7,"p",115),r(8,"This business hasn't added any services yet."),i(),g(9,Kr,4,0,"button",116),i()),o&2){let e=c(2);l(9),m(e.isOwner()?9:-1)}}function ta(o,n){if(o&1&&(t(0,"p",129),r(1),i()),o&2){let e=c().$implicit;l(),x(e.short_description)}}function ia(o,n){if(o&1&&(t(0,"span",33),r(1),i()),o&2){let e=c().$implicit,a=c(4);l(),x(a.formatDuration(e.duration))}}function na(o,n){if(o&1&&(t(0,"li",7),C(),t(1,"svg",136),d(2,"path",137),i(),r(3),i()),o&2){let e=n.$implicit;l(3),v(" ",e," ")}}function oa(o,n){if(o&1&&(t(0,"div",131)(1,"ul",135),k(2,na,4,1,"li",7,te),i()()),o&2){let e=c().$implicit;l(2),M(e.features.slice(0,3))}}function ra(o,n){if(o&1){let e=y();t(0,"button",138),u("click",function(){_(e);let s=c().$implicit,p=c(4);return f(p.editService(s._id))}),C(),t(1,"svg",40),d(2,"path",78),i(),r(3," Edit Service "),i()}}function aa(o,n){if(o&1){let e=y();t(0,"button",139),u("click",function(){_(e);let s=c().$implicit,p=c(4);return f(p.startProjectWithService(s._id))}),C(),t(1,"svg",40),d(2,"path",109),i(),r(3," Start Project "),i()}}function sa(o,n){if(o&1&&(t(0,"div",124)(1,"div",125)(2,"div",126)(3,"h4",57),r(4),i(),t(5,"span",127),r(6," Featured "),i()()(),t(7,"div",128),g(8,ta,2,1,"p",129),t(9,"div",130)(10,"span",57),r(11),i(),g(12,ia,2,1,"span",33),i(),g(13,oa,4,0,"div",131),i(),t(14,"div",132),g(15,ra,4,0,"button",133)(16,aa,4,0,"button",134),i()()),o&2){let e=n.$implicit,a=c(4);l(4),x(e.name),l(4),m(e.short_description?8:-1),l(3),v(" ",a.formatPrice(e.price,e.pricing_type)," "),l(),m(e.duration?12:-1),l(),m(e.features&&e.features.length>0?13:-1),l(2),m(a.isOwner()?15:16)}}function la(o,n){if(o&1&&(t(0,"div",118)(1,"div",119)(2,"h3",120),r(3,"Featured Services"),i(),t(4,"span",33),r(5),i()(),t(6,"div",123),k(7,sa,17,6,"div",124,Bt),i()()),o&2){let e=c(3);l(5),v("",e.featuredServices().length," service(s)"),l(2),M(e.featuredServices())}}function ca(o,n){if(o&1){let e=y();t(0,"button",140),u("click",function(){_(e);let s=c(3);return f(s.addService())}),C(),t(1,"svg",40),d(2,"path",80),i(),r(3," Add Service "),i()}}function da(o,n){if(o&1&&(t(0,"p",129),r(1),i()),o&2){let e=c().$implicit;l(),x(e.short_description)}}function ma(o,n){if(o&1&&(t(0,"span",33),r(1),i()),o&2){let e=c().$implicit,a=c(3);l(),x(a.formatDuration(e.duration))}}function pa(o,n){if(o&1&&(t(0,"li",7),C(),t(1,"svg",136),d(2,"path",137),i(),r(3),i()),o&2){let e=n.$implicit;l(3),v(" ",e," ")}}function ua(o,n){if(o&1&&(t(0,"div",131)(1,"ul",135),k(2,pa,4,1,"li",7,te),i()()),o&2){let e=c().$implicit;l(2),M(e.features.slice(0,3))}}function ga(o,n){if(o&1){let e=y();t(0,"button",138),u("click",function(){_(e);let s=c().$implicit,p=c(3);return f(p.editService(s._id))}),C(),t(1,"svg",40),d(2,"path",78),i(),r(3," Edit Service "),i()}}function _a(o,n){if(o&1){let e=y();t(0,"button",139),u("click",function(){_(e);let s=c().$implicit,p=c(3);return f(p.startProjectWithService(s._id))}),C(),t(1,"svg",40),d(2,"path",109),i(),r(3," Start Project "),i()}}function fa(o,n){if(o&1&&(t(0,"div",124)(1,"div",125)(2,"h4",57),r(3),i()(),t(4,"div",128),g(5,da,2,1,"p",129),t(6,"div",130)(7,"span",57),r(8),i(),g(9,ma,2,1,"span",33),i(),g(10,ua,4,0,"div",131),i(),t(11,"div",132),g(12,ga,4,0,"button",133)(13,_a,4,0,"button",134),i()()),o&2){let e=n.$implicit,a=c(3);l(3),x(e.name),l(2),m(e.short_description?5:-1),l(3),v(" ",a.formatPrice(e.price,e.pricing_type)," "),l(),m(e.duration?9:-1),l(),m(e.features&&e.features.length>0?10:-1),l(2),m(a.isOwner()?12:13)}}function ha(o,n){if(o&1&&(g(0,la,9,1,"div",118),t(1,"div")(2,"div",119)(3,"div")(4,"h3",120),r(5,"All Services"),i(),t(6,"p",121),r(7),i()(),g(8,ca,4,0,"button",122),i(),t(9,"div",123),k(10,fa,14,6,"div",124,Bt),i()()),o&2){let e=c(2);m(e.featuredServices().length>0?0:-1),l(7),v("",e.activeServices().length," service(s) available"),l(),m(e.isOwner()?8:-1),l(2),M(e.activeServices())}}function xa(o,n){o&1&&(t(0,"div",3),d(1,"div",110),t(2,"span",5),r(3,"Loading portfolio..."),i()())}function ba(o,n){o&1&&(t(0,"div",66)(1,"div",111),C(),t(2,"svg",112),d(3,"path",43),i()(),I(),t(4,"h3",141),r(5,"No Completed Projects Yet"),i(),t(6,"p",142),r(7,"Completed projects will appear here to showcase this business's work."),i()())}function va(o,n){if(o&1&&d(0,"img",146),o&2){let e=c().$implicit;h("src",e.image_url,G)("alt",e.title)}}function Ca(o,n){o&1&&(t(0,"div",147),C(),t(1,"svg",161),d(2,"path",84),i()())}function ya(o,n){if(o&1&&(t(0,"span",164),r(1),i()),o&2){let e=n.$implicit,a=c(5);l(),v(" ",a.getServiceName(e)," ")}}function Sa(o,n){if(o&1&&(t(0,"span",165),r(1),i()),o&2){let e=c(2).$implicit;l(),v(" +",e.selected_services.length-3," more ")}}function wa(o,n){if(o&1&&(t(0,"div",160)(1,"p",162),r(2,"Services Used:"),i(),t(3,"div",163),k(4,ya,2,1,"span",164,W),g(6,Sa,2,1,"span",165),i()()),o&2){let e=c().$implicit;l(4),M(e.selected_services.slice(0,3)),l(2),m(e.selected_services.length>3?6:-1)}}function Ea(o,n){if(o&1){let e=y();t(0,"div",144),u("click",function(){let s=_(e).$implicit,p=c(3);return f(p.viewProject(s))}),t(1,"div",145),g(2,va,1,2,"img",146)(3,Ca,3,0,"div",147),t(4,"div",148)(5,"span",149),C(),t(6,"svg",150),d(7,"path",151),i(),r(8," Completed "),i()()(),I(),t(9,"div",52)(10,"div",152)(11,"h3",153),r(12),i()(),t(13,"p",154),r(14),i(),t(15,"div",155)(16,"div",156)(17,"span",142),r(18,"Client:"),i(),t(19,"span",157),r(20),i()(),t(21,"div",156)(22,"span",142),r(23,"Project Value:"),i(),t(24,"span",158),r(25),i()(),t(26,"div",156)(27,"span",142),r(28,"Completed:"),i(),t(29,"span",159),r(30),i()()(),g(31,wa,7,1,"div",160),i()()}if(o&2){let e=n.$implicit,a=c(3);l(2),m(e.image_url?2:3),l(10),x(e.title),l(2),v(" ",e.description||"No description provided"," "),l(6),x(a.getClientName(e)),l(5),x(a.formatProjectPrice(e.offered_price)),l(5),x(a.formatProjectDate(e.completed_at||e.updatedAt)),l(),m(e.selected_services&&e.selected_services.length>0?31:-1)}}function Pa(o,n){if(o&1&&(t(0,"div",67),k(1,Ea,32,7,"div",143,Bt),i()),o&2){let e=c(2);l(),M(e.completedProjects())}}function ka(o,n){if(o&1&&(C(),t(0,"svg",167),d(1,"path",168),i()),o&2){let e=n.$implicit;ee("w-5 h-5 ",e?"text-yellow-400":"text-gray-300","")}}function Ma(o,n){if(o&1&&(t(0,"div",70)(1,"div",7),k(2,ka,2,3,":svg:svg",166,W),i(),t(4,"span",57),r(5),i(),t(6,"span",33),r(7),i()()),o&2){let e=c(2);l(2),M(e.getStarArray(e.averageRating())),l(3),x(e.formatRating(e.averageRating())),l(2),Oe("(",e.totalReviews()," ",e.totalReviews()===1?"review":"reviews",")")}}function Ta(o,n){o&1&&(t(0,"div",71),d(1,"div",110),t(2,"span",5),r(3,"Loading reviews..."),i()())}function Ia(o,n){o&1&&(t(0,"div",66)(1,"div",111),C(),t(2,"svg",112),d(3,"path",44),i()(),I(),t(4,"h3",141),r(5,"No Reviews Yet"),i(),t(6,"p",142),r(7,"This business hasn't received any reviews yet."),i()())}function Oa(o,n){if(o&1&&(C(),t(0,"svg",167),d(1,"path",168),i()),o&2){let e=n.$implicit;ee("w-6 h-6 ",e?"text-yellow-400":"text-gray-300","")}}function Aa(o,n){if(o&1&&(C(),t(0,"svg",167),d(1,"path",168),i()),o&2){let e=n.$implicit;ee("w-4 h-4 ",e?"text-yellow-400":"text-gray-300","")}}function Fa(o,n){if(o&1&&(t(0,"div",156)(1,"span",177),r(2,"Service Quality"),i(),t(3,"div",7)(4,"div",178),k(5,Aa,2,3,":svg:svg",166,W),i(),t(7,"span",179),r(8),i()()()),o&2){let e=c(4);l(5),M(e.getStarArray(e.reviewStats().service_quality_avg)),l(3),x(e.formatRating(e.reviewStats().service_quality_avg))}}function Ba(o,n){if(o&1&&(C(),t(0,"svg",167),d(1,"path",168),i()),o&2){let e=n.$implicit;ee("w-4 h-4 ",e?"text-yellow-400":"text-gray-300","")}}function Va(o,n){if(o&1&&(t(0,"div",156)(1,"span",177),r(2,"Communication"),i(),t(3,"div",7)(4,"div",178),k(5,Ba,2,3,":svg:svg",166,W),i(),t(7,"span",179),r(8),i()()()),o&2){let e=c(4);l(5),M(e.getStarArray(e.reviewStats().communication_avg)),l(3),x(e.formatRating(e.reviewStats().communication_avg))}}function ja(o,n){if(o&1&&(C(),t(0,"svg",167),d(1,"path",168),i()),o&2){let e=n.$implicit;ee("w-4 h-4 ",e?"text-yellow-400":"text-gray-300","")}}function Da(o,n){if(o&1&&(t(0,"div",156)(1,"span",177),r(2,"Timeliness"),i(),t(3,"div",7)(4,"div",178),k(5,ja,2,3,":svg:svg",166,W),i(),t(7,"span",179),r(8),i()()()),o&2){let e=c(4);l(5),M(e.getStarArray(e.reviewStats().timeliness_avg)),l(3),x(e.formatRating(e.reviewStats().timeliness_avg))}}function Ra(o,n){if(o&1&&(C(),t(0,"svg",167),d(1,"path",168),i()),o&2){let e=n.$implicit;ee("w-4 h-4 ",e?"text-yellow-400":"text-gray-300","")}}function Na(o,n){if(o&1&&(t(0,"div",156)(1,"span",177),r(2,"Value for Money"),i(),t(3,"div",7)(4,"div",178),k(5,Ra,2,3,":svg:svg",166,W),i(),t(7,"span",179),r(8),i()()()),o&2){let e=c(4);l(5),M(e.getStarArray(e.reviewStats().value_for_money_avg)),l(3),x(e.formatRating(e.reviewStats().value_for_money_avg))}}function za(o,n){if(o&1&&(t(0,"div",155)(1,"h4",176),r(2,"Rating Breakdown"),i(),g(3,Fa,9,1,"div",156)(4,Va,9,1,"div",156)(5,Da,9,1,"div",156)(6,Na,9,1,"div",156),i()),o&2){let e=c(3);l(3),m(e.reviewStats().service_quality_avg?3:-1),l(),m(e.reviewStats().communication_avg?4:-1),l(),m(e.reviewStats().timeliness_avg?5:-1),l(),m(e.reviewStats().value_for_money_avg?6:-1)}}function La(o,n){if(o&1&&(C(),t(0,"svg",167),d(1,"path",168),i()),o&2){let e=n.$implicit;ee("w-4 h-4 ",e?"text-yellow-400":"text-gray-300","")}}function Ha(o,n){if(o&1&&(t(0,"p",187),r(1),i()),o&2){let e=c().$implicit;l(),x(e.review_text||e.comment)}}function Ga(o,n){if(o&1&&(t(0,"div",171)(1,"div",101),r(2),i(),t(3,"div",189),r(4,"Service Quality"),i()()),o&2){let e=c(2).$implicit;l(2),v("",e.service_quality,"/5")}}function Ua(o,n){if(o&1&&(t(0,"div",171)(1,"div",101),r(2),i(),t(3,"div",189),r(4,"Communication"),i()()),o&2){let e=c(2).$implicit;l(2),v("",e.communication,"/5")}}function $a(o,n){if(o&1&&(t(0,"div",171)(1,"div",101),r(2),i(),t(3,"div",189),r(4,"Timeliness"),i()()),o&2){let e=c(2).$implicit;l(2),v("",e.timeliness,"/5")}}function qa(o,n){if(o&1&&(t(0,"div",171)(1,"div",101),r(2),i(),t(3,"div",189),r(4,"Value for Money"),i()()),o&2){let e=c(2).$implicit;l(2),v("",e.value_for_money,"/5")}}function Qa(o,n){if(o&1&&(t(0,"div",188),g(1,Ga,5,1,"div",171)(2,Ua,5,1,"div",171)(3,$a,5,1,"div",171)(4,qa,5,1,"div",171),i()),o&2){let e=c().$implicit;l(),m(e.service_quality?1:-1),l(),m(e.communication?2:-1),l(),m(e.timeliness?3:-1),l(),m(e.value_for_money?4:-1)}}function Ya(o,n){if(o&1&&(t(0,"div",175)(1,"div",180)(2,"div",7)(3,"div",181)(4,"div",182),C(),t(5,"svg",183),d(6,"path",184),i()()(),I(),t(7,"div",185)(8,"h4",101),r(9),i(),t(10,"p",33),r(11),i()()(),t(12,"div",7),k(13,La,2,3,":svg:svg",166,W),t(15,"span",186),r(16),i()()(),g(17,Ha,2,1,"p",187)(18,Qa,5,4,"div",188),i()),o&2){let e=n.$implicit,a=c(3);l(9),x(a.getReviewerName(e)),l(2),Oe("",a.formatReviewDate(e.createdAt)," \u2022 ",a.getProjectTitle(e),""),l(2),M(a.getStarArray(e.rating)),l(3),v("",e.rating,"/5"),l(),m(e.review_text||e.comment?17:-1),l(),m(e.service_quality||e.communication||e.timeliness||e.value_for_money?18:-1)}}function Wa(o,n){if(o&1&&(t(0,"div",171)(1,"button",190),r(2),i()()),o&2){let e=c(3);l(2),v(" View All ",e.totalReviews()," Reviews ")}}function Xa(o,n){if(o&1&&(t(0,"div",169)(1,"div",170)(2,"div",171)(3,"div",172),r(4),i(),t(5,"div",173),k(6,Oa,2,3,":svg:svg",166,W),i(),t(8,"div",107),r(9),i(),t(10,"div",121),r(11),i()(),g(12,za,7,4,"div",155),i()(),t(13,"div",56)(14,"h3",174),r(15,"Recent Reviews"),i(),k(16,Ya,19,6,"div",175,Bt),g(18,Wa,3,1,"div",171),i()),o&2){let e=c(2);l(4),x(e.formatRating(e.averageRating())),l(2),M(e.getStarArray(e.averageRating())),l(3),x(e.getRatingLabel(e.averageRating())),l(2),Oe("",e.totalReviews()," ",e.totalReviews()===1?"review":"reviews",""),l(),m(e.reviewStats()?12:-1),l(4),M(e.recentReviews()),l(2),m(e.totalReviews()>5?18:-1)}}function Ja(o,n){if(o&1){let e=y();t(0,"div",13),g(1,wr,2,2)(2,Er,1,0,"div",14),t(3,"div",15)(4,"div",16)(5,"div",17)(6,"div",18)(7,"div",19),g(8,Pr,1,2,"img",20)(9,kr,3,0,"div",21),i(),t(10,"div",22)(11,"div",23)(12,"div",24)(13,"h1",25),r(14),i(),t(15,"p",26),r(16),i(),g(17,Mr,2,1,"p",27),i(),t(18,"div",28),g(19,Tr,8,0)(20,Fr,3,3),i()()()()()()()(),t(21,"div",29)(22,"div",30)(23,"div",31)(24,"div",32),r(25),i(),t(26,"div",33),r(27,"Rating"),i()(),t(28,"div",31)(29,"div",34),r(30),i(),t(31,"div",33),r(32,"Reviews"),i()(),t(33,"div",31)(34,"div",35),r(35),i(),t(36,"div",33),r(37,"Views"),i()(),t(38,"div",31)(39,"div",36),r(40),i(),t(41,"div",33),r(42,"Services"),i()()(),t(43,"div",37)(44,"div",29)(45,"nav",38)(46,"button",39),u("click",function(){_(e);let s=c();return f(s.scrollToSection("about"))}),C(),t(47,"svg",40),d(48,"path",41),i(),r(49," About "),i(),I(),t(50,"button",39),u("click",function(){_(e);let s=c();return f(s.scrollToSection("services"))}),C(),t(51,"svg",40),d(52,"path",42),i(),r(53),i(),I(),t(54,"button",39),u("click",function(){_(e);let s=c();return f(s.scrollToSection("portfolio"))}),C(),t(55,"svg",40),d(56,"path",43),i(),r(57),i(),I(),t(58,"button",39),u("click",function(){_(e);let s=c();return f(s.scrollToSection("reviews"))}),C(),t(59,"svg",40),d(60,"path",44),i(),r(61),g(62,Br,1,1),i()()()(),I(),t(63,"div",45)(64,"section",46)(65,"div",47)(66,"div",48)(67,"div",49)(68,"div",50)(69,"h2",51),r(70,"About This Business"),i()(),t(71,"div",52),g(72,Vr,2,1,"p",53)(73,jr,2,0,"p",54)(74,Rr,6,0,"div",55),i()()(),t(75,"div",56)(76,"div",49)(77,"div",50)(78,"h3",57),r(79,"Business Information"),i()(),t(80,"div",52)(81,"div",58),g(82,zr,8,2,"div",59)(83,Lr,5,1,"div",60)(84,Hr,5,1,"div",60)(85,Gr,5,2,"div",60),i()()(),t(86,"div",49)(87,"div",50)(88,"h3",57),r(89,"Business Owner"),i()(),t(90,"div",52),g(91,Ur,4,0,"div",61)(92,Xr,12,5,"div",58)(93,Jr,2,0,"p",62),i()()()()(),t(94,"section",63)(95,"div",49)(96,"div",50)(97,"h2",51),r(98),i()(),t(99,"div",52),g(100,Zr,4,0,"div",3)(101,ea,10,1,"div",64)(102,ha,12,3),i()()(),t(103,"section",65)(104,"div",49)(105,"div",50)(106,"h2",51),r(107),i()(),t(108,"div",52),g(109,xa,4,0,"div",3)(110,ba,8,0,"div",66)(111,Pa,3,0,"div",67),i()()(),t(112,"section",68)(113,"div",49)(114,"div",50)(115,"div",69)(116,"h2",51),r(117,"Reviews & Ratings"),i(),g(118,Ma,8,3,"div",70),i()(),t(119,"div",52),g(120,Ta,4,0,"div",71)(121,Ia,8,0,"div",66)(122,Xa,19,6),i()()()()()}if(o&2){let e,a,s,p,w,F,U,X,Te,Ve,ce,Jt,Zt,T=c();l(),m((e=T.business())!=null&&e.banner_url?1:2),l(7),m((a=T.business())!=null&&a.logo_url?8:9),l(6),v(" ",(s=T.business())==null?null:s.name," "),l(2),v(" ",T.getBusinessTypeDisplay(((p=T.business())==null?null:p.business_type)||"")," "),l(),m((w=T.business())!=null&&w.short_description?17:-1),l(2),m(T.isOwner()?19:20),l(6),v("",((F=T.business())==null?null:F.rating)||0,"/5"),l(5),x(((U=T.business())==null?null:U.review_count)||0),l(5),x(((X=T.business())==null?null:X.view_count)||0),l(5),x(T.activeServices().length),l(6),le(T.activeSection()==="about"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),l(4),le(T.activeSection()==="services"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),l(3),v(" ",T.getServicesLabel()," "),l(),le(T.activeSection()==="portfolio"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),l(3),v(" ",T.getPortfolioLabel()," "),l(),le(T.activeSection()==="reviews"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),l(3),v(" Reviews (",T.totalReviews(),") "),l(),m(T.averageRating()>0?62:-1),l(10),m((Te=T.business())!=null&&Te.description?72:73),l(2),m(T.businessTags().length>0?74:-1),l(8),m((Ve=T.business())!=null&&Ve.address?82:-1),l(),m((ce=T.business())!=null&&ce.contact_email?83:-1),l(),m((Jt=T.business())!=null&&Jt.contact_phone?84:-1),l(),m((Zt=T.business())!=null&&Zt.website?85:-1),l(6),m(T.loading()?91:T.owner()?92:93),l(7),v("Services (",T.activeServices().length,")"),l(2),m(T.servicesLoading()?100:T.activeServices().length===0?101:102),l(7),v("Portfolio (",T.completedProjects().length,")"),l(2),m(T.portfolioLoading()?109:T.completedProjects().length===0?110:111),l(9),m(T.hasReviews()?118:-1),l(2),m(T.reviewsLoading()?120:T.hasReviews()?122:121)}}var Ft=class o{route=b(Q);router=b(A);businessService=b(Me);authService=b(j);projectService=b(Ue);reviewService=b(cn);loading=S(!1);servicesLoading=S(!1);portfolioLoading=S(!1);reviewsLoading=S(!1);error=S(null);businessId=null;business=S(null);owner=S(null);services=S([]);projects=S([]);reviews=S([]);reviewStats=S(null);isOwner=O(()=>{let n=this.authService.user(),e=this.business();if(!n||!e)return!1;let a=typeof e.owner_id=="string"?e.owner_id:e.owner_id?._id;return n._id===a});activeServices=O(()=>this.services().filter(n=>n.is_active));featuredServices=O(()=>this.services().filter(n=>n.is_featured&&n.is_active));businessTags=O(()=>this.business()?.tags||[]);completedProjects=O(()=>this.projects().filter(n=>n.status==="completed"));averageRating=O(()=>this.reviewStats()?.average_rating||0);totalReviews=O(()=>this.reviews().length);hasReviews=O(()=>this.reviews().length>0);recentReviews=O(()=>this.reviews().sort((n,e)=>new Date(e.createdAt).getTime()-new Date(n.createdAt).getTime()).slice(0,5));activeSection=S("about");navigationSections=O(()=>[{id:"about",label:"About",icon:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},{id:"services",label:`Services (${this.activeServices().length})`,icon:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"},{id:"portfolio",label:`Portfolio (${this.completedProjects().length})`,icon:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"},{id:"reviews",label:`Reviews (${this.totalReviews()}) ${this.averageRating()>0?"\u2B50"+this.averageRating().toFixed(1):""}`,icon:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"}]);ngOnInit(){this.route.params.subscribe(n=>{let e=n.id;e&&(this.businessId=e,this.loadBusiness(),this.loadServices(e),this.loadProjects(e),this.loadReviews(e))})}loadBusiness(){return E(this,null,function*(){if(this.businessId){this.loading.set(!0);try{let n=yield this.businessService.getBusinessAsync(this.businessId);n&&(this.business.set(n),n.owner_id&&typeof n.owner_id=="object"&&this.owner.set(n.owner_id))}catch(n){console.error("Error loading business:",n)}finally{this.loading.set(!1)}}})}loadServices(n){return E(this,null,function*(){try{this.servicesLoading.set(!0);let e=yield this.businessService.getBusinessServicesAsync(n,!1);this.services.set(e)}catch(e){console.error("Error loading services:",e)}finally{this.servicesLoading.set(!1)}})}loadProjects(n){return E(this,null,function*(){try{this.portfolioLoading.set(!0);let e=yield this.projectService.getBusinessPortfolioAsync(n);this.projects.set(e)}catch(e){console.error("Error loading projects:",e)}finally{this.portfolioLoading.set(!1)}})}loadReviews(n){return E(this,null,function*(){try{this.reviewsLoading.set(!0);let e=yield this.reviewService.getBusinessReviewsAsync(n);this.reviews.set(e);let a=yield this.reviewService.getBusinessRatingStatsAsync(n);this.reviewStats.set(a)}catch(e){console.error("Error loading reviews:",e)}finally{this.reviewsLoading.set(!1)}})}formatPrice(n,e){if(!n)return"Contact for pricing";let a=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n);switch(e){case"hourly":return`${a}/hour`;case"project":return`${a}/project`;case"custom":return`Starting at ${a}`;default:return a}}formatDuration(n){return n||"Duration varies"}getBusinessTypeDisplay(n){switch(n){case"service":return"Service Business";case"product":return"Product Business";case"both":return"Service & Product Business";default:return"Business"}}goBack(){this.router.navigate(["/search"])}editBusiness(){let n=this.business();n&&this.router.navigate(["dashboard","businesses","edit",n._id])}addService(){let n=this.business();n&&this.router.navigate(["dashboard","services","create-service"],{queryParams:{businessId:n._id}})}editService(n){this.router.navigate(["/dashboard/services/edit-service",n])}contactBusiness(){let n=this.business();n?.contact_email&&(window.location.href=`mailto:${n.contact_email}`)}startProject(){let n=this.business(),e=this.authService.user();if(!e){this.router.navigate(["/auth"]);return}if(!n)return;if(this.activeServices().length===0){alert("This business has no active services available for projects. Please contact them directly or check back later.");return}let a=typeof n.owner_id=="string"?n.owner_id:n.owner_id?._id;if(e._id===a){alert("You cannot start a project with your own business.");return}this.router.navigate(["/create-project",n._id])}startProjectWithService(n){let e=this.business(),a=this.authService.user();if(!a){this.router.navigate(["/auth"]);return}if(!e)return;let s=typeof e.owner_id=="string"?e.owner_id:e.owner_id?._id;if(a._id===s){alert("You cannot start a project with your own business.");return}this.router.navigate(["/create-project",e._id],{queryParams:{serviceId:n}})}contactOwner(){let n=this.owner();n?.email&&(window.location.href=`mailto:${n.email}`)}visitWebsite(){let n=this.business();n?.website&&window.open(n.website,"_blank")}scrollToSection(n){this.activeSection.set(n);let e=document.getElementById(n);if(e){let s=e.getBoundingClientRect().top+window.pageYOffset+-100;window.scrollTo({top:s,behavior:"smooth"})}}getServicesLabel(){return`Services (${this.activeServices().length})`}getPortfolioLabel(){return`Portfolio (${this.completedProjects().length})`}getClientName(n){return typeof n.client_id=="object"&&n.client_id?`${n.client_id.first_name} ${n.client_id.last_name}`:"Unknown Client"}getServiceName(n){return typeof n=="object"&&n&&"name"in n?n.name:"Service"}getStarArray(n){let e=[];for(let a=1;a<=5;a++)e.push(a<=Math.round(n));return e}formatReviewDate(n){if(!n)return"Date not specified";let e=new Date(n),s=new Date().getTime()-e.getTime(),p=Math.floor(s/(1e3*60*60*24));return p===0?"Today":p===1?"Yesterday":p<7?`${p} days ago`:p<30?`${Math.floor(p/7)} weeks ago`:p<365?`${Math.floor(p/30)} months ago`:e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}formatRating(n){return n.toFixed(1)}getRatingLabel(n){return n>=4.5?"Excellent":n>=4?"Very Good":n>=3.5?"Good":n>=3?"Fair":n>=2.5?"Poor":"Very Poor"}getReviewerName(n){if(n.user_id&&typeof n.user_id=="object"){let e=n.user_id.first_name||"",a=n.user_id.last_name||"";return`${e} ${a}`.trim()||"Anonymous"}return"Anonymous"}getProjectTitle(n){return n.project_id&&typeof n.project_id=="object"&&n.project_id.title?n.project_id.title:"Project"}formatProjectDate(n){return n?new Date(n).toLocaleDateString():"Unknown"}formatProjectPrice(n){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n)}viewProject(n){this.router.navigate(["/dashboard/projects",n._id])}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=P({type:o,selectors:[["app-business-profile"]],decls:5,vars:1,consts:[[1,"min-h-screen","bg-gray-50"],[1,"bg-white"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"flex","justify-center","items-center","h-32"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-blue-600"],[1,"ml-3","text-gray-600"],[1,"bg-red-50","border-l-4","border-red-400","p-6","rounded-r-lg"],[1,"flex","items-center"],["fill","currentColor","viewBox","0 0 20 20",1,"w-6","h-6","text-red-400","mr-3"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"text-lg","font-medium","text-red-900","mb-2"],[1,"text-red-700","mb-4"],[1,"inline-flex","items-center","px-4","py-2","bg-red-100","text-red-800","rounded-lg","hover:bg-red-200","transition-colors",3,"click"],[1,"relative","h-80","w-full"],[1,"absolute","inset-0","bg-gradient-to-r","from-blue-600","to-indigo-700"],[1,"relative","z-10","h-full","flex","flex-col","justify-end"],[1,"p-8"],[1,"max-w-7xl","mx-auto"],[1,"flex","flex-col","lg:flex-row","lg:items-end","lg:space-x-8"],[1,"flex-shrink-0","mb-6","lg:mb-0"],[1,"h-24","w-24","rounded-2xl","object-cover","border-4","border-white","shadow-xl",3,"src","alt"],[1,"h-24","w-24","rounded-2xl","bg-white","bg-opacity-90","flex","items-center","justify-center","border-4","border-white","shadow-xl"],[1,"flex-1","min-w-0"],[1,"flex","flex-col","lg:flex-row","lg:items-end","lg:justify-between"],[1,"flex-1"],[1,"text-3xl","lg:text-4xl","font-bold","text-white","mb-2","banner-text"],[1,"text-xl","text-white","mb-2","banner-text"],[1,"text-lg","text-white","banner-text","max-w-2xl"],[1,"mt-6","lg:mt-0","lg:ml-8","flex","flex-col","sm:flex-row","space-y-3","sm:space-y-0","sm:space-x-4"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"mt-6","grid","grid-cols-2","md:grid-cols-4","gap-4"],[1,"bg-white","rounded-lg","p-4","text-center","border","border-gray-200","shadow-sm"],[1,"text-2xl","font-bold","text-blue-600"],[1,"text-sm","text-gray-500"],[1,"text-2xl","font-bold","text-green-600"],[1,"text-2xl","font-bold","text-purple-600"],[1,"text-2xl","font-bold","text-indigo-600"],[1,"sticky","top-0","z-40","bg-white","border-b","border-gray-200","shadow-sm","mt-8"],[1,"flex","space-x-8","overflow-x-auto"],[1,"whitespace-nowrap","py-4","px-1","border-b-2","font-medium","text-sm","transition-colors","duration-200","flex","items-center",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8","space-y-16"],["id","about",1,"scroll-mt-24"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-8"],[1,"lg:col-span-2"],[1,"bg-white","rounded-xl","border","border-gray-200","shadow-sm","overflow-hidden"],[1,"px-6","py-4","border-b","border-gray-200"],[1,"text-2xl","font-bold","text-gray-900"],[1,"p-6"],[1,"text-gray-700","leading-relaxed","text-lg"],[1,"text-gray-500","italic"],[1,"mt-6"],[1,"space-y-6"],[1,"text-lg","font-semibold","text-gray-900"],[1,"space-y-4"],[1,"flex","items-start","space-x-3"],[1,"flex","items-center","space-x-3"],[1,"flex","items-center","justify-center","py-4"],[1,"text-gray-500","text-sm"],["id","services",1,"scroll-mt-24"],[1,"text-center","py-16"],["id","portfolio",1,"scroll-mt-24"],[1,"text-center","py-12"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6","portfolio-grid"],["id","reviews",1,"scroll-mt-24"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","space-x-2"],[1,"flex","justify-center","items-center","py-8"],[1,"absolute","inset-0","w-full","h-full","bg-cover","bg-center","bg-no-repeat"],[1,"absolute","inset-0"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-10","h-10","text-gray-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],[1,"inline-flex","items-center","px-6","py-3","bg-white","bg-opacity-90","hover:bg-opacity-100","rounded-xl","text-gray-800","transition-all","shadow-lg","font-medium","banner-button",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"inline-flex","items-center","px-6","py-3","bg-blue-600","hover:bg-blue-700","text-white","rounded-xl","transition-all","shadow-lg","font-medium",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[3,"disabled","class"],[1,"inline-flex","items-center","px-6","py-3","bg-white","bg-opacity-90","hover:bg-opacity-100","rounded-xl","text-gray-800","transition-all","shadow-lg","font-medium","banner-button"],[3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"],[1,"text-sm","font-medium","text-gray-900","mb-3"],[1,"flex","flex-wrap","gap-2"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-sm","bg-blue-50","text-blue-700","border","border-blue-200"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400","mt-0.5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],[1,"text-sm","text-gray-900"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["target","_blank",1,"text-sm","text-blue-600","hover:text-blue-800","transition-colors",3,"href"],[1,"animate-spin","rounded-full","h-6","w-6","border-b-2","border-gray-600"],[1,"ml-2","text-gray-600","text-sm"],[1,"h-12","w-12","rounded-full","object-cover",3,"src","alt"],[1,"h-12","w-12","rounded-full","bg-gray-100","flex","items-center","justify-center"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-700"],[1,"w-full","inline-flex","items-center","justify-center","px-4","py-2","border","border-gray-300","rounded-lg","text-gray-700","hover:bg-gray-50","transition-colors"],["fill","currentColor","viewBox","0 0 20 20",1,"w-6","h-6","text-gray-400"],["fill-rule","evenodd","d","M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule","evenodd"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-400"],[1,"text-sm","text-gray-600"],[1,"w-full","inline-flex","items-center","justify-center","px-4","py-2","border","border-gray-300","rounded-lg","text-gray-700","hover:bg-gray-50","transition-colors",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],[1,"p-4","bg-gray-50","rounded-full","w-20","h-20","mx-auto","mb-6","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-10","h-10","text-gray-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"text-xl","font-medium","text-gray-900","mb-2"],[1,"text-gray-500","mb-6"],[1,"inline-flex","items-center","px-6","py-3","bg-gray-900","text-white","rounded-lg","hover:bg-gray-800","transition-colors","font-medium"],[1,"inline-flex","items-center","px-6","py-3","bg-gray-900","text-white","rounded-lg","hover:bg-gray-800","transition-colors","font-medium",3,"click"],[1,"mb-10"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-xl","font-semibold","text-gray-900"],[1,"text-sm","text-gray-500","mt-1"],[1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","rounded-lg","text-gray-700","hover:bg-gray-50","transition-colors"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"bg-white","rounded-xl","border","border-gray-200","shadow-sm","hover:shadow-lg","transition-all","overflow-hidden"],[1,"p-6","pb-3"],[1,"flex","items-center","justify-between","mb-3"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800"],[1,"px-6","pb-6"],[1,"text-gray-600","mb-4","text-sm","leading-relaxed"],[1,"flex","items-center","justify-between","mb-4"],[1,"border-t","border-gray-100","pt-3"],[1,"px-6","py-4","border-t","border-gray-100","bg-gray-50"],[1,"w-full","inline-flex","items-center","justify-center","px-4","py-2","border","border-gray-300","rounded-lg","text-gray-700","hover:bg-gray-100","transition-colors"],[1,"w-full","inline-flex","items-center","justify-center","px-4","py-2","bg-gray-900","text-white","rounded-lg","hover:bg-gray-800","transition-colors"],[1,"text-sm","text-gray-600","space-y-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-green-500","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"w-full","inline-flex","items-center","justify-center","px-4","py-2","border","border-gray-300","rounded-lg","text-gray-700","hover:bg-gray-100","transition-colors",3,"click"],[1,"w-full","inline-flex","items-center","justify-center","px-4","py-2","bg-gray-900","text-white","rounded-lg","hover:bg-gray-800","transition-colors",3,"click"],[1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","rounded-lg","text-gray-700","hover:bg-gray-50","transition-colors",3,"click"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-500"],[1,"bg-white","rounded-xl","border","border-gray-200","shadow-sm","hover:shadow-lg","transition-all","duration-200","overflow-hidden","project-card","cursor-pointer"],[1,"bg-white","rounded-xl","border","border-gray-200","shadow-sm","hover:shadow-lg","transition-all","duration-200","overflow-hidden","project-card","cursor-pointer",3,"click"],[1,"relative","h-48","bg-gradient-to-br","from-blue-50","to-indigo-100","overflow-hidden"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"w-full","h-full","flex","items-center","justify-center"],[1,"absolute","top-3","right-3"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-green-100","text-green-800"],["fill","currentColor","viewBox","0 0 20 20",1,"w-3","h-3","mr-1"],["fill-rule","evenodd","d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd"],[1,"flex","items-start","justify-between","mb-3"],[1,"text-lg","font-semibold","text-gray-900","line-clamp-1"],[1,"text-sm","text-gray-600","mb-4","line-clamp-2"],[1,"space-y-2"],[1,"flex","items-center","justify-between","text-sm"],[1,"font-medium","text-gray-900"],[1,"font-semibold","text-green-600"],[1,"text-gray-700"],[1,"mt-4","pt-4","border-t","border-gray-100"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","text-gray-300"],[1,"text-xs","text-gray-500","mb-2"],[1,"flex","flex-wrap","gap-1"],[1,"inline-flex","items-center","px-2","py-1","rounded-md","text-xs","bg-blue-50","text-blue-700"],[1,"inline-flex","items-center","px-2","py-1","rounded-md","text-xs","bg-gray-100","text-gray-600"],["fill","currentColor","viewBox","0 0 20 20",3,"class"],["fill","currentColor","viewBox","0 0 20 20"],["d","M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"],[1,"bg-gray-50","rounded-lg","p-6","mb-8"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"text-center"],[1,"text-4xl","font-bold","text-gray-900","mb-2"],[1,"flex","justify-center","items-center","mb-2"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[1,"border","border-gray-200","rounded-lg","p-6"],[1,"font-medium","text-gray-900","mb-3"],[1,"text-gray-600"],[1,"flex","mr-2"],[1,"font-medium"],[1,"flex","items-start","justify-between","mb-4"],[1,"flex-shrink-0"],[1,"w-10","h-10","bg-gray-200","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"ml-3"],[1,"ml-2","text-sm","font-medium","text-gray-900"],[1,"text-gray-700","mb-4"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-4","pt-4","border-t","border-gray-100"],[1,"text-xs","text-gray-500"],[1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50"]],template:function(e,a){e&1&&(d(0,"app-header"),t(1,"div",0),g(2,yr,6,0,"div",1)(3,Sr,13,1,"div",1)(4,Ja,123,35),i()),e&2&&(l(2),m(a.loading()?2:a.error()?3:a.business()?4:-1))},dependencies:[V,Y],styles:[`.mat-mdc-tab-group[_ngcontent-%COMP%]     .mat-mdc-tab-header{border-bottom:1px solid #e5e7eb}.mat-mdc-tab-group[_ngcontent-%COMP%]     .mat-mdc-tab-label{font-weight:500;color:#6b7280}.mat-mdc-tab-group[_ngcontent-%COMP%]     .mat-mdc-tab-label.mdc-tab--active{color:#2563eb}.mat-mdc-tab-group[_ngcontent-%COMP%]     .mat-mdc-tab-body-wrapper{min-height:400px}.banner-text[_ngcontent-%COMP%]{text-shadow:2px 2px 4px rgba(0,0,0,.7),1px 1px 2px rgba(0,0,0,.5)}.banner-button[_ngcontent-%COMP%]{backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.service-card[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px -5px #0000001a,0 10px 10px -5px #0000000a}.project-card[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease;cursor:pointer}.project-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a}.project-card[_ngcontent-%COMP%]   .project-image[_ngcontent-%COMP%]{position:relative;overflow:hidden}.project-card[_ngcontent-%COMP%]   .project-image[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:#0000;transition:background .3s ease}.project-card[_ngcontent-%COMP%]   .project-image[_ngcontent-%COMP%]:hover:after{background:#0000001a}.featured-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;font-size:.75rem;padding:.25rem .5rem;border-radius:9999px;font-weight:600}.testimonial[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f5f7fa,#c3cfe2);border-left:4px solid #2563eb}.testimonial[_ngcontent-%COMP%]:before{content:'"';font-size:1.5rem;color:#2563eb;font-weight:700}.line-clamp-1[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:1;line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.line-clamp-2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.line-clamp-3[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}@media (max-width: 768px){.business-header[_ngcontent-%COMP%]   .flex-col[_ngcontent-%COMP%]{text-align:center}.service-card[_ngcontent-%COMP%], .project-card[_ngcontent-%COMP%]{margin-bottom:1rem}.portfolio-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (min-width: 768px) and (max-width: 1024px){.portfolio-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px){.portfolio-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}`]})};function Za(o,n){if(o&1&&(t(0,"mat-option",17),r(1),i()),o&2){let e=n.$implicit;h("value",e),l(),v(" ",e," ")}}function Ka(o,n){if(o&1){let e=y();t(0,"mat-form-field",14)(1,"mat-select",16,0),u("selectionChange",function(s){_(e);let p=c(2);return f(p._changePageSize(s.value))}),k(3,Za,2,2,"mat-option",17,te),i(),t(5,"div",18),u("click",function(){_(e);let s=ie(2);return f(s.open())}),i()()}if(o&2){let e=c(2);h("appearance",e._formFieldAppearance)("color",e.color),l(),h("value",e.pageSize)("disabled",e.disabled)("aria-labelledby",e._pageSizeLabelId)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering),l(2),M(e._displayedPageSizeOptions)}}function es(o,n){if(o&1&&(t(0,"div",15),r(1),i()),o&2){let e=c(2);l(),x(e.pageSize)}}function ts(o,n){if(o&1&&(t(0,"div",3)(1,"div",13),r(2),i(),g(3,Ka,6,7,"mat-form-field",14)(4,es,2,1,"div",15),i()),o&2){let e=c();l(),$("id",e._pageSizeLabelId),l(),v(" ",e._intl.itemsPerPageLabel," "),l(),m(e._displayedPageSizeOptions.length>1?3:-1),l(),m(e._displayedPageSizeOptions.length<=1?4:-1)}}function is(o,n){if(o&1){let e=y();t(0,"button",19),u("click",function(){_(e);let s=c();return f(s._buttonClicked(0,s._previousButtonsDisabled()))}),C(),t(1,"svg",8),d(2,"path",20),i()()}if(o&2){let e=c();h("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("disabled",e._previousButtonsDisabled())("tabindex",e._previousButtonsDisabled()?-1:null),$("aria-label",e._intl.firstPageLabel)}}function ns(o,n){if(o&1){let e=y();t(0,"button",21),u("click",function(){_(e);let s=c();return f(s._buttonClicked(s.getNumberOfPages()-1,s._nextButtonsDisabled()))}),C(),t(1,"svg",8),d(2,"path",22),i()()}if(o&2){let e=c();h("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("disabled",e._nextButtonsDisabled())("tabindex",e._nextButtonsDisabled()?-1:null),$("aria-label",e._intl.lastPageLabel)}}var Vt=(()=>{class o{changes=new ti;itemsPerPageLabel="Items per page:";nextPageLabel="Next page";previousPageLabel="Previous page";firstPageLabel="First page";lastPageLabel="Last page";getRangeLabel=(e,a,s)=>{if(s==0||a==0)return`0 of ${s}`;s=Math.max(s,0);let p=e*a,w=p<s?Math.min(p+a,s):p+a;return`${p+1} \u2013 ${w} of ${s}`};static \u0275fac=function(a){return new(a||o)};static \u0275prov=de({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function os(o){return o||new Vt}var rs={provide:Vt,deps:[[new li,new ci,Vt]],useFactory:os},as=50;var ss=new qe("MAT_PAGINATOR_DEFAULT_OPTIONS"),Xt=(()=>{class o{_intl=b(Vt);_changeDetectorRef=b(Ye);_formFieldAppearance;_pageSizeLabelId=b(We).getId("mat-paginator-page-size-label-");_intlChanges;_isInitialized=!1;_initializedStream=new ni(1);color;get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(e||0,0),this._changeDetectorRef.markForCheck()}_pageIndex=0;get length(){return this._length}set length(e){this._length=e||0,this._changeDetectorRef.markForCheck()}_length=0;get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(e||0,0),this._updateDisplayedPageSizeOptions()}_pageSize;get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(a=>ge(a,0)),this._updateDisplayedPageSizeOptions()}_pageSizeOptions=[];hidePageSize=!1;showFirstLastButtons=!1;selectConfig={};disabled=!1;page=new Qe;_displayedPageSizeOptions;initialized=this._initializedStream;constructor(){let e=this._intl,a=b(ss,{optional:!0});if(this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),a){let{pageSize:s,pageSizeOptions:p,hidePageSize:w,showFirstLastButtons:F}=a;s!=null&&(this._pageSize=s),p!=null&&(this._pageSizeOptions=p),w!=null&&(this.hidePageSize=w),F!=null&&(this.showFirstLastButtons=F)}this._formFieldAppearance=a?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){this.hasNextPage()&&this._navigate(this.pageIndex+1)}previousPage(){this.hasPreviousPage()&&this._navigate(this.pageIndex-1)}firstPage(){this.hasPreviousPage()&&this._navigate(0)}lastPage(){this.hasNextPage()&&this._navigate(this.getNumberOfPages()-1)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let e=this.getNumberOfPages()-1;return this.pageIndex<e&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){let a=this.pageIndex*this.pageSize,s=this.pageIndex;this.pageIndex=Math.floor(a/e)||0,this.pageSize=e,this._emitPageEvent(s)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:as),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,a)=>e-a),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}_navigate(e){let a=this.pageIndex;e!==a&&(this.pageIndex=e,this._emitPageEvent(a))}_buttonClicked(e,a){a||this._navigate(e)}static \u0275fac=function(a){return new(a||o)};static \u0275cmp=P({type:o,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",ge],length:[2,"length","length",ge],pageSize:[2,"pageSize","pageSize",ge],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",q],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",q],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",q]},outputs:{page:"page"},exportAs:["matPaginator"],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","disabled","tabindex"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","disabled","tabindex"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(a,s){a&1&&(t(0,"div",1)(1,"div",2),g(2,ts,5,4,"div",3),t(3,"div",4)(4,"div",5),r(5),i(),g(6,is,3,5,"button",6),t(7,"button",7),u("click",function(){return s._buttonClicked(s.pageIndex-1,s._previousButtonsDisabled())}),C(),t(8,"svg",8),d(9,"path",9),i()(),I(),t(10,"button",10),u("click",function(){return s._buttonClicked(s.pageIndex+1,s._nextButtonsDisabled())}),C(),t(11,"svg",8),d(12,"path",11),i()(),g(13,ns,3,5,"button",12),i()()()),a&2&&(l(2),m(s.hidePageSize?-1:2),l(3),v(" ",s._intl.getRangeLabel(s.pageIndex,s.pageSize,s.length)," "),l(),m(s.showFirstLastButtons?6:-1),l(),h("matTooltip",s._intl.previousPageLabel)("matTooltipDisabled",s._previousButtonsDisabled())("disabled",s._previousButtonsDisabled())("tabindex",s._previousButtonsDisabled()?-1:null),$("aria-label",s._intl.previousPageLabel),l(3),h("matTooltip",s._intl.nextPageLabel)("matTooltipDisabled",s._nextButtonsDisabled())("disabled",s._nextButtonsDisabled())("tabindex",s._nextButtonsDisabled()?-1:null),$("aria-label",s._intl.nextPageLabel),l(3),m(s.showFirstLastButtons?13:-1))},dependencies:[oe,Pe,we,Re,mn],styles:[`.mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-sys-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-sys-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-sys-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-sys-body-small-tracking));--mat-form-field-container-height:var(--mat-paginator-form-field-container-height, 40px);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding, 8px)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-sys-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size, 56px)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}@media(forced-colors: active){.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon,.mat-mdc-paginator-icon{fill:currentColor}.mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-range-actions .mat-mdc-icon-button[aria-disabled]{color:GrayText}}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display, block);position:absolute;top:50%;left:50%;width:84px;height:48px;background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}
`],encapsulation:2,changeDetection:0})}return o})(),Cn=(()=>{class o{static \u0275fac=function(a){return new(a||o)};static \u0275mod=K({type:o});static \u0275inj=J({providers:[rs],imports:[D,re,ht,Xt]})}return o})();var yn=(()=>{class o{static \u0275fac=function(a){return new(a||o)};static \u0275mod=K({type:o});static \u0275inj=J({})}return o})();var Sn=(()=>{class o{static \u0275fac=function(a){return new(a||o)};static \u0275mod=K({type:o});static \u0275inj=J({imports:[Ae,yn,Ai]})}return o})();var jt=class o{http=b(it);apiUrl=ot.api.baseUrl;categoriesSubject=new ii([]);categories$=this.categoriesSubject.asObservable();getCategories(){return this.http.get(`${this.apiUrl}/categories`)}getSubcategories(n){let e=n?`${this.apiUrl}/subcategories?categoryId=${n}`:`${this.apiUrl}/subcategories`;return this.http.get(e)}loadCategories(){return E(this,null,function*(){try{let n=yield this.getCategories().toPromise();return n?.success&&n.data?(this.categoriesSubject.next(n.data),n.data):[]}catch(n){return console.error("Error loading categories:",n),[]}})}static \u0275fac=function(e){return new(e||o)};static \u0275prov=de({token:o,factory:o.\u0275fac,providedIn:"root"})};var ds=()=>[12,24,48],En=(o,n)=>n._id,ms=(o,n)=>n.code;function ps(o,n){if(o&1&&(t(0,"mat-option",11),r(1),i()),o&2){let e=n.$implicit;h("value",e._id),l(),x(e.name)}}function us(o,n){if(o&1&&(t(0,"mat-option",11),r(1),i()),o&2){let e=n.$implicit;h("value",e.name),l(),x(e.name)}}function gs(o,n){if(o&1){let e=y();t(0,"button",30),u("click",function(){_(e);let s=c();return f(s.clearFilters())}),t(1,"mat-icon"),r(2,"clear"),i(),r(3," Clear all filters "),i()}}function _s(o,n){o&1&&(t(0,"div",27),d(1,"mat-spinner",31),t(2,"span",32),r(3,"Finding services..."),i()())}function fs(o,n){if(o&1&&(t(0,"div",28)(1,"div",33)(2,"mat-icon",34),r(3,"error"),i(),t(4,"span",35),r(5),i()()()),o&2){let e=c();l(5),x(e.error())}}function hs(o,n){if(o&1){let e=y();t(0,"div",29)(1,"mat-icon",36),r(2,"search_off"),i(),t(3,"h3",37),r(4,"No services found"),i(),t(5,"p",38),r(6,"Try adjusting your search terms or filters"),i(),t(7,"button",39),u("click",function(){_(e);let s=c();return f(s.clearFilters())}),r(8," Clear filters "),i()()}}function xs(o,n){if(o&1&&d(0,"img",45),o&2){let e=c().$implicit;h("src",e.banner_url,G)("alt",e.name+" banner")}}function bs(o,n){o&1&&(t(0,"div",46)(1,"mat-icon",72),r(2,"business"),i()())}function vs(o,n){o&1&&(t(0,"div",47)(1,"span",73)(2,"mat-icon",74),r(3,"star"),i(),r(4," PRO "),i()())}function Cs(o,n){if(o&1&&d(0,"img",53),o&2){let e=c().$implicit;h("src",e.logo_url,G)("alt",e.name+" logo")}}function ys(o,n){o&1&&(t(0,"div",54)(1,"mat-icon",75),r(2,"business"),i()())}function Ss(o,n){if(o&1&&(t(0,"p",58)(1,"mat-icon",76),r(2,"location_on"),i(),r(3),i()),o&2){let e=c().$implicit;l(3),Oe(" ",e.city,", ",e.state," ")}}function ws(o,n){if(o&1&&(t(0,"div",61)(1,"mat-icon",77),r(2,"star"),i(),t(3,"span",78),r(4),i(),t(5,"span",70),r(6),i()()),o&2){let e=c().$implicit;l(4),x(e.rating.toFixed(1)),l(2),Oe("(",e.review_count||0," ",(e.review_count||0)===1?"review":"reviews",")")}}function Es(o,n){o&1&&(t(0,"span",62),r(1,"New business"),i())}function Ps(o,n){if(o&1&&(t(0,"span",80),r(1),i()),o&2){let e=n.$implicit;l(),v(" ",e," ")}}function ks(o,n){if(o&1&&(t(0,"span",80),r(1),i()),o&2){let e=c(2).$implicit;l(),v(" +",e.tags.length-2," ")}}function Ms(o,n){if(o&1&&(t(0,"div",63)(1,"div",79),k(2,Ps,2,1,"span",80,te),g(4,ks,2,1,"span",80),i()()),o&2){let e=c().$implicit;l(2),M(e.tags.slice(0,2)),l(2),m(e.tags.length>2?4:-1)}}function Ts(o,n){if(o&1&&d(0,"img",53),o&2){let e=c().$implicit,a=c(2);h("src",a.getOwnerAvatar(e),G)("alt",a.getOwnerName(e))}}function Is(o,n){o&1&&(t(0,"div",67)(1,"mat-icon",81),r(2,"person"),i()())}function Os(o,n){if(o&1&&(t(0,"div",71)(1,"mat-icon",76),r(2,"visibility"),i(),r(3),i()),o&2){let e=c().$implicit;l(3),v(" ",e.view_count," ")}}function As(o,n){if(o&1){let e=y();t(0,"div",43),u("click",function(){let s=_(e).$implicit,p=c(2);return f(p.onBusinessClick(s))}),t(1,"div",44),g(2,xs,1,2,"img",45)(3,bs,3,0,"div",46)(4,vs,5,0,"div",47),t(5,"div",48)(6,"span",49),r(7),fi(8,"titlecase"),i()()(),t(9,"div",50)(10,"div",51)(11,"div",52),g(12,Cs,1,2,"img",53)(13,ys,3,0,"div",54),i()(),t(14,"div",55)(15,"h3",56),r(16),i(),t(17,"p",57),r(18),i(),g(19,Ss,4,2,"p",58),i(),t(20,"p",59),r(21),i(),t(22,"div",60),g(23,ws,7,3,"div",61)(24,Es,2,0,"span",62),i(),g(25,Ms,5,1,"div",63),t(26,"div",64)(27,"div",65)(28,"div",66),g(29,Ts,1,2,"img",53)(30,Is,3,0,"div",67),i(),t(31,"div",68)(32,"p",69),r(33),i(),t(34,"p",70),r(35),i()()(),g(36,Os,4,1,"div",71),i()()()}if(o&2){let e=n.$implicit,a=c(2);l(2),m(e.banner_url&&e.banner_url.trim()!==""?2:3),l(2),m(e.is_featured?4:-1),l(3),v(" ",hi(8,14,e.business_type)," "),l(5),m(e.logo_url?12:13),l(4),v(" ",e.name," "),l(2),x(a.getCategoryName(e)),l(),m(e.city&&e.state?19:-1),l(2),v(" ",e.short_description||e.description||"Professional service provider"," "),l(2),m(e.rating!=null&&e.rating>0?23:24),l(2),m(e.tags&&e.tags.length>0?25:-1),l(4),m(a.getOwnerAvatar(e)?29:30),l(4),x(a.getOwnerName(e)),l(2),x(a.getOwnerCountry(e)),l(),m(e.view_count>0?36:-1)}}function Fs(o,n){if(o&1){let e=y();t(0,"div",42)(1,"mat-paginator",82),u("page",function(s){_(e);let p=c(2);return f(p.onPageChange(s.pageIndex+1))}),i()()}if(o&2){let e=c(2);l(),h("length",e.total())("pageSize",12)("pageIndex",e.currentPage()-1)("pageSizeOptions",je(4,ds))}}function Bs(o,n){if(o&1&&(t(0,"div",40),k(1,As,37,16,"div",41,En),i(),g(3,Fs,2,5,"div",42)),o&2){let e=c();l(),M(e.businesses()),l(2),m(e.totalPages()>1?3:-1)}}var Dt=class o{route=b(Q);router=b(A);fb=b(ye);businessService=b(Me);categoryService=b(jt);authService=b(j);searchQuery=S("");selectedCountries=S([]);selectedCategories=S([]);selectedBusinessTypes=S([]);selectedRating=S(0);businesses=S([]);categories=S([]);loading=S(!1);error=S(null);total=S(0);currentPage=S(1);totalPages=S(0);filtersOpen=S(!1);isClientMode=O(()=>{let n=this.authService.user();return!n||n.user_mode==="client"});filterForm;countries=He;businessTypes=[{value:"service",label:"Service"},{value:"product",label:"Product"},{value:"both",label:"Both"}];ratingOptions=[{value:0,label:"All ratings"},{value:1,label:"1+ stars"},{value:2,label:"2+ stars"},{value:3,label:"3+ stars"},{value:4,label:"4+ stars"},{value:5,label:"5 stars"}];hasResults=O(()=>this.businesses().length>0);hasSearched=O(()=>this.searchQuery()||this.selectedCountries().length>0||this.selectedCategories().length>0||this.selectedBusinessTypes().length>0||this.selectedRating()>0);hasActiveFilters=O(()=>{let n=this.filterForm?.value;return!!(n?.selectedCountries?.length>0||n?.businessType||n?.location||n?.featuredOnly||n?.selectedCategories?.length>0||n?.selectedBusinessTypes?.length>0||n?.selectedRating>0)});ngOnInit(){this.initializeForm(),this.loadCategories(),this.route.queryParams.subscribe(n=>{this.searchQuery.set(n.q||""),this.selectedCountries.set(n.countries?n.countries.split(","):[]),this.selectedCategories.set(n.categories?n.categories.split(","):[]),this.selectedBusinessTypes.set(n.businessTypes?n.businessTypes.split(","):[]),this.selectedRating.set(parseInt(n.rating)||0),this.currentPage.set(parseInt(n.page)||1),this.filterForm.patchValue({searchQuery:this.searchQuery(),selectedCountries:this.selectedCountries(),selectedCategories:this.selectedCategories(),selectedBusinessTypes:this.selectedBusinessTypes(),selectedRating:this.selectedRating()},{emitEvent:!1}),this.performSearch()})}initializeForm(){this.filterForm=this.fb.group({searchQuery:[this.searchQuery()],selectedCountries:[this.selectedCountries()],selectedCategories:[this.selectedCategories()],selectedBusinessTypes:[this.selectedBusinessTypes()],selectedRating:[this.selectedRating()],businessType:[""],location:[""],featuredOnly:[!1]})}loadCategories(){return E(this,null,function*(){try{let n=yield this.categoryService.loadCategories();this.categories.set(n)}catch(n){console.error("Error loading categories:",n)}})}performSearch(){return E(this,null,function*(){let n=this.searchQuery(),e=this.selectedCountries(),a=this.currentPage();if(!n&&e.length===0&&this.isClientMode()){this.loadVerifiedBusinesses();return}if(!n&&e.length===0){this.businesses.set([]),this.total.set(0),this.totalPages.set(0);return}try{this.loading.set(!0),this.error.set(null);let s=yield this.businessService.searchBusinesses(n||void 0,e.length>0?e:void 0,a,12).toPromise();s?.success&&s.data?(this.businesses.set(s.data.businesses),this.total.set(s.data.total),this.totalPages.set(s.data.totalPages)):this.error.set("Failed to search businesses")}catch(s){console.error("Search error:",s),this.error.set("An error occurred while searching")}finally{this.loading.set(!1)}})}loadVerifiedBusinesses(){return E(this,null,function*(){try{this.loading.set(!0),this.error.set(null);let n=yield this.businessService.searchBusinesses(void 0,void 0,this.currentPage(),12,{featured:!0}).toPromise();n?.success&&n.data?(this.businesses.set(n.data.businesses),this.total.set(n.data.total),this.totalPages.set(n.data.totalPages)):this.error.set("Failed to load verified businesses")}catch(n){console.error("Load verified businesses error:",n),this.error.set("An error occurred while loading verified businesses")}finally{this.loading.set(!1)}})}onSearch(){let n=this.filterForm.value,e={page:1};n.searchQuery?.trim()&&(e.q=n.searchQuery.trim()),n.selectedCountries&&n.selectedCountries.length>0&&(e.countries=n.selectedCountries.join(",")),n.selectedCategories&&n.selectedCategories.length>0&&(e.categories=n.selectedCategories.join(",")),n.selectedBusinessTypes&&n.selectedBusinessTypes.length>0&&(e.businessTypes=n.selectedBusinessTypes.join(",")),n.selectedRating&&n.selectedRating>0&&(e.rating=n.selectedRating),this.router.navigate(["/search"],{queryParams:e})}clearFilters(){this.filterForm.reset({searchQuery:"",selectedCountries:[],selectedCategories:[],selectedBusinessTypes:[],selectedRating:0,businessType:"",location:"",featuredOnly:!1}),this.onSearch()}toggleFilters(){this.filtersOpen.update(n=>!n)}onPageChange(n){let e=this.route.snapshot.queryParams;this.router.navigate(["/search"],{queryParams:ei(Kt({},e),{page:n})})}getOwnerName(n){let e=n.owner_id;return e?.first_name&&e?.last_name?`${e.first_name} ${e.last_name}`:e?.first_name?e.first_name:e?.email?e.email:"Business Owner"}getOwnerCountry(n){return n.owner_id?.country_of_origin||"Unknown"}getCategoryName(n){return n.category_id?.name||"Uncategorized"}getOwnerAvatar(n){return n.owner_id?.profile_image_url||null}onBusinessClick(n){this.router.navigate(["/business",n._id])}generatePageNumbers(){let n=this.totalPages(),e=this.currentPage(),a=5;if(n<=a)return Array.from({length:n},(w,F)=>F+1);let s=Math.max(1,e-Math.floor(a/2)),p=Math.min(n,s+a-1);return Array.from({length:p-s+1},(w,F)=>s+F)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=P({type:o,selectors:[["app-search"]],decls:73,vars:13,consts:[[1,"min-h-screen","bg-gray-50"],[1,"bg-white","border-b","border-gray-200"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-6"],[1,"space-y-6",3,"formGroup"],[1,"relative"],["appearance","outline",1,"w-full"],["matInput","","formControlName","searchQuery","placeholder","Search for services, products, or businesses",3,"input"],["matPrefix",""],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","xl:grid-cols-5","gap-4"],["appearance","outline"],["formControlName","selectedCategories","multiple","",3,"selectionChange"],[3,"value"],["formControlName","businessType",3,"selectionChange"],["value",""],["value","service"],["value","product"],["value","both"],["formControlName","selectedCountries","multiple","",3,"selectionChange"],["matInput","","formControlName","location","placeholder","City, State",3,"input"],["formControlName","selectedRating",3,"selectionChange"],[1,"flex","flex-wrap","items-center","gap-4","justify-between"],[1,"flex","items-center","gap-4"],["formControlName","featuredOnly","color","primary",3,"change"],["mat-stroked-button","","type","button","color","warn"],[1,"text-sm","text-gray-600"],[1,"font-medium"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"flex","justify-center","items-center","py-12"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-4","mb-6"],[1,"text-center","py-12"],["mat-stroked-button","","type","button","color","warn",3,"click"],["diameter","50"],[1,"ml-4","text-gray-600"],[1,"flex","items-center"],[1,"text-red-500","mr-2"],[1,"text-red-700"],[1,"text-6xl","text-gray-400","mb-4"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-600","mb-4"],["mat-raised-button","","color","primary",3,"click"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-6","mb-8"],[1,"bg-white","rounded-xl","border","border-gray-200","shadow-sm","hover:shadow-lg","transition-all","duration-200","overflow-hidden","group","cursor-pointer"],[1,"flex","justify-center"],[1,"bg-white","rounded-xl","border","border-gray-200","shadow-sm","hover:shadow-lg","transition-all","duration-200","overflow-hidden","group","cursor-pointer",3,"click"],[1,"relative","h-32","bg-gradient-to-br","from-gray-100","to-gray-200","overflow-hidden"],[1,"w-full","h-full","object-cover","group-hover:scale-105","transition-transform","duration-300",3,"src","alt"],[1,"w-full","h-full","bg-gradient-to-br","from-green-400","to-blue-500","flex","items-center","justify-center"],[1,"absolute","top-3","left-3"],[1,"absolute","top-3","right-3"],[1,"bg-green-100","text-green-800","inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","backdrop-blur-sm"],[1,"relative","px-6","pb-6"],[1,"flex","justify-center","-mt-8","mb-4"],[1,"w-16","h-16","rounded-full","bg-white","shadow-lg","ring-2","ring-white","overflow-hidden"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"w-full","h-full","bg-gray-100","flex","items-center","justify-center"],[1,"text-center","mb-4"],[1,"text-lg","font-semibold","text-gray-900","truncate","mb-1","group-hover:text-green-600","transition-colors"],[1,"text-sm","text-gray-600","mb-1"],[1,"text-xs","text-gray-500","flex","items-center","justify-center"],[1,"text-sm","text-gray-600","mb-4","line-clamp-2","text-center"],[1,"flex","items-center","justify-center","mb-4"],[1,"flex","items-center","gap-1"],[1,"text-xs","text-gray-500","bg-gray-100","px-2","py-1","rounded-full"],[1,"mb-4"],[1,"flex","items-center","justify-between","pt-4","border-t","border-gray-100"],[1,"flex","items-center","gap-2"],[1,"w-8","h-8","rounded-full","overflow-hidden","flex-shrink-0"],[1,"w-full","h-full","bg-gray-200","flex","items-center","justify-center"],[1,"flex-1","min-w-0"],[1,"text-sm","font-medium","text-gray-900","truncate"],[1,"text-xs","text-gray-500"],[1,"text-xs","text-gray-500","flex","items-center"],[1,"text-white","text-4xl","opacity-60"],[1,"bg-yellow-100","text-yellow-800","inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","backdrop-blur-sm"],[1,"w-3","h-3","mr-1"],[1,"text-gray-400","text-lg"],[1,"w-3","h-3","mr-1","text-xs"],[1,"text-yellow-400","text-sm"],[1,"text-sm","font-bold","text-gray-900"],[1,"flex","flex-wrap","gap-1","justify-center"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","bg-gray-100","text-gray-800"],[1,"text-gray-400","text-sm"],["showFirstLastButtons","",3,"page","length","pageSize","pageIndex","pageSizeOptions"]],template:function(e,a){e&1&&(d(0,"app-header"),t(1,"div",0)(2,"div",1)(3,"div",2)(4,"form",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),r(8,"Find women-owned businesses and services..."),i(),t(9,"input",6),u("input",function(){return a.onSearch()}),i(),t(10,"mat-icon",7),r(11,"search"),i()()(),t(12,"div",8)(13,"mat-form-field",9)(14,"mat-label"),r(15,"Category"),i(),t(16,"mat-select",10),u("selectionChange",function(){return a.onSearch()}),k(17,ps,2,2,"mat-option",11,En),i()(),t(19,"mat-form-field",9)(20,"mat-label"),r(21,"Service Type"),i(),t(22,"mat-select",12),u("selectionChange",function(){return a.onSearch()}),t(23,"mat-option",13),r(24,"All Types"),i(),t(25,"mat-option",14),r(26,"Services"),i(),t(27,"mat-option",15),r(28,"Products"),i(),t(29,"mat-option",16),r(30,"Both"),i()()(),t(31,"mat-form-field",9)(32,"mat-label"),r(33,"Heritage/Origin"),i(),t(34,"mat-select",17),u("selectionChange",function(){return a.onSearch()}),k(35,us,2,2,"mat-option",11,ms),i()(),t(37,"mat-form-field",9)(38,"mat-label"),r(39,"Location"),i(),t(40,"input",18),u("input",function(){return a.onSearch()}),i(),t(41,"mat-icon",7),r(42,"location_on"),i()(),t(43,"mat-form-field",9)(44,"mat-label"),r(45,"Minimum Rating"),i(),t(46,"mat-select",19),u("selectionChange",function(){return a.onSearch()}),t(47,"mat-option",11),r(48,"All ratings"),i(),t(49,"mat-option",11),r(50,"1+ stars"),i(),t(51,"mat-option",11),r(52,"2+ stars"),i(),t(53,"mat-option",11),r(54,"3+ stars"),i(),t(55,"mat-option",11),r(56,"4+ stars"),i(),t(57,"mat-option",11),r(58,"5 stars"),i()()()(),t(59,"div",20)(60,"div",21)(61,"mat-checkbox",22),u("change",function(){return a.onSearch()}),r(62," Pro services only "),i(),g(63,gs,4,0,"button",23),i(),t(64,"div",24)(65,"span",25),r(66),i(),r(67," services found "),i()()()()(),t(68,"div",26),g(69,_s,4,0,"div",27)(70,fs,6,1,"div",28)(71,hs,9,0,"div",29)(72,Bs,4,1),i()()),e&2&&(l(4),h("formGroup",a.filterForm),l(13),M(a.categories()),l(18),M(a.countries),l(12),h("value",0),l(2),h("value",1),l(2),h("value",2),l(2),h("value",3),l(2),h("value",4),l(2),h("value",5),l(6),m(a.hasActiveFilters()?63:-1),l(3),x(a.total()),l(3),m(a.loading()?69:-1),l(),m(a.error()?70:-1),l(),m(!a.loading()&&a.hasSearched()&&!a.hasResults()?71:-1),l(),m(!a.loading()&&a.hasResults()?72:-1))},dependencies:[V,bi,Se,be,fe,he,xe,ve,Ce,re,oe,ze,Ni,Pe,we,Ee,ke,Le,D,L,Ge,ut,dn,z,N,Cn,Xt,se,ae,pn,gt,Sn,Ne,ht,Y],styles:[".line-clamp-1[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:1;line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.line-clamp-2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.business-card[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.business-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 25px 50px -12px #00000040}.business-gradient-1[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.business-gradient-2[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c)}.business-gradient-3[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe)}.business-gradient-4[_ngcontent-%COMP%]{background:linear-gradient(135deg,#43e97b,#38f9d7)}.business-gradient-5[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140)}.search-form[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{transition:all .3s ease}.search-form[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{transform:scale(1.02);box-shadow:0 10px 25px -5px #3b82f64d}.filter-pill[_ngcontent-%COMP%]{transition:all .2s ease}.filter-pill[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 8px #0000001a}.rating-stars[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{transition:color .2s ease}.business-type-badge.service[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dbeafe,#bfdbfe);color:#1e40af}.business-type-badge.product[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dcfce7,#bbf7d0);color:#166534}.business-type-badge.both[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a);color:#92400e}.featured-badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_glow 2s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_glow{0%{box-shadow:0 0 5px #fbbf2480}to{box-shadow:0 0 20px #fbbf24cc}}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.business-card[_ngcontent-%COMP%]   .business-header[_ngcontent-%COMP%]{height:120px}.business-card[_ngcontent-%COMP%]   .business-logo[_ngcontent-%COMP%]{width:60px;height:60px}}*[_ngcontent-%COMP%]{transition:color .2s ease,background-color .2s ease,border-color .2s ease,transform .2s ease,box-shadow .2s ease}"]})};var Vs=(o,n)=>n.title,js=(o,n)=>n.number,Ds=(o,n)=>n.name;function Rs(o,n){if(o&1&&(t(0,"mat-card",15)(1,"div",2)(2,"div",36)(3,"mat-icon",37),r(4),i()(),t(5,"h3",38),r(6),i(),t(7,"p",39),r(8),i()()()),o&2){let e=n.$implicit;l(4),x(e.icon),l(2),x(e.title),l(2),x(e.description)}}function Ns(o,n){if(o&1&&(t(0,"div",2)(1,"div",40),r(2),i(),t(3,"h3",41),r(4),i(),t(5,"p",42),r(6),i()()),o&2){let e=n.$implicit;l(2),v(" ",e.number," "),l(2),x(e.title),l(2),x(e.description)}}function zs(o,n){if(o&1&&(t(0,"mat-card",25)(1,"div",2)(2,"div",43)(3,"mat-icon",44),r(4,"person"),i()(),t(5,"blockquote",45),r(6),i(),t(7,"div",46),r(8),i(),t(9,"div",47),r(10),i()()()),o&2){let e=n.$implicit;l(6),v(' "',e.quote,'" '),l(2),x(e.name),l(2),x(e.business)}}var Rt=class o{constructor(n){this.router=n}navigateToSignUp(){this.router.navigate(["/auth"],{queryParams:{mode:"business"}})}navigateToSignIn(){this.router.navigate(["/auth"])}features=[{icon:"store",title:"Showcase Your Business",description:"Create a professional business profile that highlights your services, portfolio, and expertise to attract potential clients."},{icon:"people",title:"Connect with Clients",description:"Reach thousands of customers actively searching for services in your area and industry niche."},{icon:"payment",title:"Secure Payments",description:"Get paid safely and on time with our integrated payment system and escrow protection."},{icon:"trending_up",title:"Grow Your Revenue",description:"Scale your business with our marketing tools, analytics, and customer management features."},{icon:"support",title:"24/7 Support",description:"Get help when you need it with our dedicated support team and comprehensive resource center."},{icon:"verified",title:"Build Trust",description:"Earn verified badges, collect reviews, and build your reputation to attract more high-value clients."}];steps=[{number:"1",title:"Create Your Profile",description:"Sign up and build your professional business profile with your services, portfolio, and credentials."},{number:"2",title:"Get Discovered",description:"Optimize your profile with relevant keywords and showcase your best work to appear in search results."},{number:"3",title:"Connect & Deliver",description:"Respond to client inquiries, negotiate projects, and deliver exceptional work to build your reputation."},{number:"4",title:"Grow & Scale",description:"Use our tools to manage multiple projects, automate workflows, and scale your business operations."}];testimonials=[{name:"Sarah Johnson",business:"Digital Marketing Consultant",quote:"PutHerOn helped me connect with clients I never would have reached otherwise. My revenue increased by 300% in just 6 months!",avatar:"assets/images/testimonial-1.jpg"},{name:"Michael Chen",business:"Web Development Agency",quote:"The platform makes it so easy to showcase our work and manage client relationships. We've landed several major contracts through PutHerOn.",avatar:"assets/images/testimonial-2.jpg"},{name:"Aisha Patel",business:"Graphic Design Studio",quote:"I love how professional my business profile looks. Clients trust us more and we can charge premium rates for our services.",avatar:"assets/images/testimonial-3.jpg"}];static \u0275fac=function(e){return new(e||o)(Z(A))};static \u0275cmp=P({type:o,selectors:[["app-own-business"]],decls:96,vars:0,consts:[[1,"bg-gradient-to-br","from-blue-600","via-blue-700","to-indigo-800","text-white"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-20"],[1,"text-center"],[1,"text-4xl","md:text-6xl","font-bold","mb-6"],[1,"text-yellow-400"],[1,"text-xl","md:text-2xl","mb-8","text-blue-100","max-w-3xl","mx-auto"],[1,"flex","flex-col","sm:flex-row","gap-4","justify-center"],["mat-raised-button","","color","accent",1,"!bg-yellow-500","!text-gray-900","!font-semibold","!px-8","!py-3","!text-lg","hover:!bg-yellow-400","transition-colors",3,"click"],["mat-stroked-button","",1,"!border-white","!text-white","!px-8","!py-3","!text-lg","hover:!bg-white","hover:!text-blue-600","transition-colors",3,"click"],[1,"py-20","bg-gray-50"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"text-center","mb-16"],[1,"text-3xl","md:text-4xl","font-bold","text-gray-900","mb-4"],[1,"text-xl","text-gray-600","max-w-2xl","mx-auto"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-8"],[1,"!p-6","hover:!shadow-lg","transition-shadow","cursor-pointer"],[1,"py-20","bg-white"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-8"],[1,"py-20","bg-blue-600","text-white"],[1,"text-center","mb-12"],[1,"text-3xl","md:text-4xl","font-bold","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-8","text-center"],[1,"text-4xl","font-bold","mb-2"],[1,"text-blue-200"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-8"],[1,"!p-6"],[1,"py-20","bg-gradient-to-r","from-blue-600","to-indigo-700","text-white"],[1,"max-w-4xl","mx-auto","px-4","sm:px-6","lg:px-8","text-center"],[1,"text-3xl","md:text-4xl","font-bold","mb-6"],[1,"text-xl","mb-8","text-blue-100"],["mat-stroked-button","","routerLink","/search",1,"!border-white","!text-white","!px-8","!py-3","!text-lg","hover:!bg-white","hover:!text-blue-600","transition-colors"],[1,"bg-gray-900","text-white","py-12"],[1,"text-2xl","font-bold","text-blue-400","mb-4"],[1,"text-gray-400","mb-4"],[1,"flex","justify-center","space-x-6"],["href","#",1,"text-gray-400","hover:text-white","transition-colors"],[1,"bg-blue-100","rounded-full","w-16","h-16","flex","items-center","justify-center","mx-auto","mb-4"],[1,"!text-blue-600","!text-3xl"],[1,"text-xl","font-semibold","text-gray-900","mb-3"],[1,"text-gray-600","leading-relaxed"],[1,"bg-blue-600","text-white","rounded-full","w-12","h-12","flex","items-center","justify-center","mx-auto","mb-4","font-bold","text-lg"],[1,"text-lg","font-semibold","text-gray-900","mb-3"],[1,"text-gray-600","text-sm","leading-relaxed"],[1,"bg-gray-300","rounded-full","w-16","h-16","flex","items-center","justify-center","mx-auto","mb-4"],[1,"!text-gray-600","!text-2xl"],[1,"text-gray-700","italic","mb-4"],[1,"font-semibold","text-gray-900"],[1,"text-sm","text-gray-600"]],template:function(e,a){e&1&&(d(0,"app-header"),t(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),r(5," Turn Your Skills Into "),t(6,"span",4),r(7,"Success"),i()(),t(8,"p",5),r(9," Join thousands of entrepreneurs who are building thriving businesses on PutHerOn. Start earning from your expertise today. "),i(),t(10,"div",6)(11,"button",7),u("click",function(){return a.navigateToSignUp()}),r(12," Start Your Business Journey "),i(),t(13,"button",8),u("click",function(){return a.navigateToSignIn()}),r(14," Already Have an Account? "),i()()()()(),t(15,"div",9)(16,"div",10)(17,"div",11)(18,"h2",12),r(19," Why Choose PutHerOn? "),i(),t(20,"p",13),r(21," Everything you need to build, grow, and scale your business online "),i()(),t(22,"div",14),k(23,Rs,9,3,"mat-card",15,Vs),i()()(),t(25,"div",16)(26,"div",10)(27,"div",11)(28,"h2",12),r(29," How It Works "),i(),t(30,"p",13),r(31," Getting started is simple. Follow these four easy steps to launch your business "),i()(),t(32,"div",17),k(33,Ns,7,3,"div",2,js),i()()(),t(35,"div",18)(36,"div",10)(37,"div",19)(38,"h2",20),r(39," Join Our Growing Community "),i()(),t(40,"div",21)(41,"div")(42,"div",22),r(43,"50K+"),i(),t(44,"div",23),r(45,"Active Businesses"),i()(),t(46,"div")(47,"div",22),r(48,"$10M+"),i(),t(49,"div",23),r(50,"Earnings Generated"),i()(),t(51,"div")(52,"div",22),r(53,"200K+"),i(),t(54,"div",23),r(55,"Happy Clients"),i()(),t(56,"div")(57,"div",22),r(58,"98%"),i(),t(59,"div",23),r(60,"Success Rate"),i()()()()(),t(61,"div",9)(62,"div",10)(63,"div",11)(64,"h2",12),r(65," Success Stories "),i(),t(66,"p",13),r(67," Hear from entrepreneurs who transformed their businesses with PutHerOn "),i()(),t(68,"div",24),k(69,zs,11,3,"mat-card",25,Ds),i()()(),t(71,"div",26)(72,"div",27)(73,"h2",28),r(74," Ready to Start Your Business Journey? "),i(),t(75,"p",29),r(76," Join thousands of successful entrepreneurs who are already earning on PutHerOn. Your next client is waiting for you. "),i(),t(77,"div",6)(78,"button",7),u("click",function(){return a.navigateToSignUp()}),r(79," Get Started for Free "),i(),t(80,"button",30),r(81," Browse Businesses "),i()()()(),t(82,"div",31)(83,"div",10)(84,"div",2)(85,"div",32),r(86,"PutHerOn"),i(),t(87,"p",33),r(88,"Empowering entrepreneurs to build successful businesses"),i(),t(89,"div",34)(90,"a",35),r(91,"Privacy Policy"),i(),t(92,"a",35),r(93,"Terms of Service"),i(),t(94,"a",35),r(95,"Support"),i()()()()()),e&2&&(l(23),M(a.features),l(10),M(a.steps),l(36),M(a.testimonials))},dependencies:[V,De,_e,D,L,z,N,ft,_t,Y],styles:[".hero-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1e40af,#312e81)}.feature-card[_ngcontent-%COMP%]{transition:all .3s ease}.feature-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 20px 25px -5px #0000001a}.step-number[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1e40af);box-shadow:0 4px 14px #3b82f663}.testimonial-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);transition:transform .3s ease}.stats-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1e40af)}.cta-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#4338ca)}.accent-button[_ngcontent-%COMP%]{background:#fbbf24!important;color:#111827!important;font-weight:600}.accent-button[_ngcontent-%COMP%]:hover{background:#f59e0b!important}.outlined-button[_ngcontent-%COMP%]{border:2px solid #ffffff;color:#fff}.outlined-button[_ngcontent-%COMP%]:hover{background:#fff;color:#3b82f6}@media (max-width: 768px){.hero-section[_ngcontent-%COMP%]{padding:60px 0}.hero-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;line-height:1.2}.hero-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.125rem}.feature-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.steps-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:2rem}}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .6s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.slide-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .8s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}.section-padding[_ngcontent-%COMP%]{padding:5rem 0}@media (max-width: 768px){.section-padding[_ngcontent-%COMP%]{padding:3rem 0}}"]})};var Nt=class o{constructor(n){this.http=n}apiUrl=`${ot.api.baseUrl}/paypal-accounts`;getConnectUrl(){return this.http.get(`${this.apiUrl}/connect-url`)}connectAccount(n){return this.http.post(`${this.apiUrl}/connect`,n)}getAccounts(){return this.http.get(this.apiUrl)}getAccount(n){return this.http.get(`${this.apiUrl}/${n}`)}refreshAccount(n){return this.http.post(`${this.apiUrl}/${n}/refresh`,{})}disconnectAccount(n){return this.http.post(`${this.apiUrl}/${n}/disconnect`,{})}verifyAccount(n){return this.http.post(`${this.apiUrl}/${n}/verify`,{})}initiatePayPalConnection(n){return E(this,null,function*(){try{let e=yield this.getConnectUrl().toPromise();if(!e?.auth_url)throw new Error("Failed to get PayPal OAuth URL");let a=window.open(e.auth_url,"paypal-oauth","width=500,height=600,scrollbars=yes,resizable=yes");if(!a)throw new Error("Popup blocked. Please allow popups for this site.");return new Promise((s,p)=>{let w=setInterval(()=>{a.closed&&(clearInterval(w),p(new Error("PayPal connection was cancelled")))},1e3),F=U=>{U.origin===window.location.origin&&(U.data.type==="PAYPAL_OAUTH_SUCCESS"?(clearInterval(w),window.removeEventListener("message",F),a.close(),this.connectAccount({code:U.data.code,state:U.data.state}).subscribe({next:X=>s(X),error:X=>p(X)})):U.data.type==="PAYPAL_OAUTH_ERROR"&&(clearInterval(w),window.removeEventListener("message",F),a.close(),p(new Error(U.data.error||"PayPal connection failed"))))};window.addEventListener("message",F)})}catch(e){throw console.error("PayPal connection error:",e),e}})}static \u0275fac=function(e){return new(e||o)(si(it))};static \u0275prov=de({token:o,factory:o.\u0275fac,providedIn:"root"})};function Hs(o,n){o&1&&(t(0,"div",4),d(1,"mat-spinner",5),t(2,"h2"),r(3,"Connecting PayPal Account"),i(),t(4,"p"),r(5,"Please wait while we connect your PayPal account..."),i()())}function Gs(o,n){if(o&1&&(t(0,"div",12)(1,"p")(2,"strong"),r(3,"Email:"),i(),r(4),i(),t(5,"p")(6,"strong"),r(7,"Status:"),i(),r(8),i()()),o&2){let e=c(2);l(4),v(" ",e.connectedAccount.email,""),l(4),v(" ",e.connectedAccount.is_verified?"Verified":"Not Verified","")}}function Us(o,n){if(o&1){let e=y();t(0,"div",6)(1,"mat-icon",7),r(2,"check_circle"),i(),t(3,"h2"),r(4,"PayPal Account Connected!"),i(),t(5,"p"),r(6,"Your PayPal account has been successfully connected."),i(),g(7,Gs,9,2,"div",8),t(8,"div",9)(9,"button",10),u("click",function(){_(e);let s=c();return f(s.goToPayPalAccounts())}),r(10," View PayPal Accounts "),i(),t(11,"button",11),u("click",function(){_(e);let s=c();return f(s.goToWithdrawals())}),r(12," Create Withdrawal "),i()()()}if(o&2){let e=c();l(7),h("ngIf",e.connectedAccount)}}function $s(o,n){if(o&1){let e=y();t(0,"div",13)(1,"mat-icon",14),r(2,"error"),i(),t(3,"h2"),r(4,"Connection Failed"),i(),t(5,"p"),r(6),i(),t(7,"div",9)(8,"button",10),u("click",function(){_(e);let s=c();return f(s.retry())}),r(9," Try Again "),i(),t(10,"button",11),u("click",function(){_(e);let s=c();return f(s.goToPayPalAccounts())}),r(11," Go Back "),i()()()}if(o&2){let e=c();l(6),x(e.errorMessage)}}var zt=class o{constructor(n,e,a){this.route=n;this.router=e;this.paypalService=a}processing=!0;success=!1;error=!1;errorMessage="";connectedAccount=null;ngOnInit(){this.handleCallback()}handleCallback(){this.route.queryParams.subscribe(n=>{let e=n.code,a=n.state,s=n.error,p=n.error_description;if(s){this.handleError(p||s);return}if(!e||!a){this.handleError("Missing authorization code or state parameter");return}this.paypalService.connectAccount({code:e,state:a}).subscribe({next:w=>{this.processing=!1,this.success=!0,this.connectedAccount=w,window.opener&&(window.opener.postMessage({type:"PAYPAL_OAUTH_SUCCESS",code:e,state:a,account:w},window.location.origin),window.close())},error:w=>{console.error("PayPal connection error:",w),this.handleError(w.error?.message||"Failed to connect PayPal account"),window.opener&&(window.opener.postMessage({type:"PAYPAL_OAUTH_ERROR",error:w.error?.message||"Failed to connect PayPal account"},window.location.origin),window.close())}})})}handleError(n){this.processing=!1,this.error=!0,this.errorMessage=n}retry(){this.processing=!0,this.error=!1,this.success=!1,this.handleCallback()}goToPayPalAccounts(){this.router.navigate(["/paypal-accounts"])}goToWithdrawals(){this.router.navigate(["/withdrawals"])}static \u0275fac=function(e){return new(e||o)(Z(Q),Z(A),Z(Nt))};static \u0275cmp=P({type:o,selectors:[["app-paypal-callback"]],decls:4,vars:3,consts:[[1,"callback-container"],["class","processing-state",4,"ngIf"],["class","success-state",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"processing-state"],["diameter","48"],[1,"success-state"],[1,"success-icon"],["class","account-info",4,"ngIf"],[1,"actions"],["mat-raised-button","","color","primary",3,"click"],["mat-stroked-button","",3,"click"],[1,"account-info"],[1,"error-state"],[1,"error-icon"]],template:function(e,a){e&1&&(t(0,"div",0),g(1,Hs,6,0,"div",1)(2,Us,13,1,"div",2)(3,$s,12,1,"div",3),i()),e&2&&(l(),h("ngIf",a.processing),l(),h("ngIf",a.success&&!a.processing),l(),h("ngIf",a.error&&!a.processing))},dependencies:[V,tt,se,ae,z,N,D,L],styles:[".callback-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:24px;background:linear-gradient(135deg,#667eea,#764ba2)}.processing-state[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{background:#fff;padding:48px 32px;border-radius:16px;box-shadow:0 20px 40px #0000001a;text-align:center;max-width:500px;width:100%}.processing-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:24px 0 16px;font-size:1.5rem;font-weight:600}.processing-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 24px;color:#666;line-height:1.6}.success-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#4caf50;margin-bottom:16px}.error-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#f44336;margin-bottom:16px}.account-info[_ngcontent-%COMP%]{background:#f5f5f5;padding:16px;border-radius:8px;margin:24px 0;text-align:left}.account-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;color:#333}.actions[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:center;flex-wrap:wrap;margin-top:32px}@media (max-width: 768px){.actions[_ngcontent-%COMP%]{flex-direction:column}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]})};function qs(o,n){o&1&&(t(0,"div",4),d(1,"mat-spinner",5),t(2,"h2"),r(3,"Verifying Stripe Account"),i(),t(4,"p"),r(5,"Please wait while we verify your Stripe account setup..."),i()())}function Qs(o,n){if(o&1){let e=y();t(0,"div",6)(1,"mat-icon",7),r(2,"check_circle"),i(),t(3,"h2"),r(4,"Stripe Account Connected Successfully!"),i(),t(5,"p"),r(6,"Your Stripe account has been set up and is ready for withdrawals."),i(),t(7,"div",8)(8,"button",9),u("click",function(){_(e);let s=c();return f(s.goToEarnings())}),r(9," View Earnings "),i(),t(10,"button",10),u("click",function(){_(e);let s=c();return f(s.goToDashboard())}),r(11," Back to Dashboard "),i()()()}}function Ys(o,n){if(o&1){let e=y();t(0,"div",11)(1,"mat-icon",12),r(2,"error"),i(),t(3,"h2"),r(4,"Setup Incomplete"),i(),t(5,"p"),r(6),i(),t(7,"div",8)(8,"button",13),u("click",function(){_(e);let s=c();return f(s.retrySetup())}),r(9," Try Again "),i(),t(10,"button",10),u("click",function(){_(e);let s=c();return f(s.goToDashboard())}),r(11," Back to Dashboard "),i()()()}if(o&2){let e=c();l(6),x(e.errorMessage)}}var Xe=class o{constructor(n,e,a){this.route=n;this.router=e;this.stripeConnectService=a}processing=!0;success=!1;error=!1;errorMessage="";ngOnInit(){return E(this,null,function*(){this.route.queryParams.subscribe(n=>E(this,null,function*(){n.success==="true"?yield this.handleSuccess():n.success==="false"?yield this.handleError():yield this.checkAccountStatus()}))})}handleSuccess(){return E(this,null,function*(){try{let n=yield this.stripeConnectService.getAccountStatus().toPromise();n?.payouts_enabled&&!n?.requirements_due?(this.processing=!1,this.success=!0):(this.processing=!1,this.error=!0,this.errorMessage="Account setup is not yet complete. Please try the onboarding process again.")}catch{this.processing=!1,this.error=!0,this.errorMessage="Failed to verify account status. Please try again."}})}handleError(){return E(this,null,function*(){this.processing=!1,this.error=!0,this.errorMessage="Account setup was not completed. You can try setting up your Stripe account again."})}checkAccountStatus(){return E(this,null,function*(){try{let n=yield this.stripeConnectService.getAccountStatus().toPromise();n?.payouts_enabled&&!n?.requirements_due?(this.processing=!1,this.success=!0):(this.processing=!1,this.error=!0,this.errorMessage="Account setup is incomplete. Please complete the onboarding process.")}catch{this.processing=!1,this.error=!0,this.errorMessage="Failed to check account status. Please try again."}})}retrySetup(){return E(this,null,function*(){try{this.processing=!0;let n=yield this.stripeConnectService.createOnboardingLink().toPromise();window.location.href=n.url}catch{this.processing=!1,this.errorMessage="Failed to create setup link. Please try again later."}})}goToEarnings(){this.router.navigate(["/dashboard/earnings"])}goToDashboard(){this.router.navigate(["/dashboard"])}static \u0275fac=function(e){return new(e||o)(Z(Q),Z(A),Z(un))};static \u0275cmp=P({type:o,selectors:[["app-stripe-callback"]],decls:4,vars:3,consts:[[1,"callback-container"],["class","processing-state",4,"ngIf"],["class","success-state",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"processing-state"],["diameter","48"],[1,"success-state"],[1,"success-icon"],[1,"actions"],["mat-raised-button","","color","primary",3,"click"],["mat-button","",3,"click"],[1,"error-state"],[1,"error-icon"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,a){e&1&&(t(0,"div",0),g(1,qs,6,0,"div",1)(2,Qs,12,0,"div",2)(3,Ys,12,1,"div",3),i()),e&2&&(l(),h("ngIf",a.processing),l(),h("ngIf",a.success&&!a.processing),l(),h("ngIf",a.error&&!a.processing))},dependencies:[V,tt,se,ae,z,N,D,L],styles:[".callback-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:24px;background:#f5f5f5}.processing-state[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{text-align:center;max-width:400px;padding:48px 32px;background:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a}.success-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#4caf50;margin-bottom:24px}.error-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#f44336;margin-bottom:24px}h2[_ngcontent-%COMP%]{margin:16px 0;color:#333}p[_ngcontent-%COMP%]{margin:16px 0;color:#666;line-height:1.5}.actions[_ngcontent-%COMP%]{margin-top:32px;display:flex;gap:16px;justify-content:center;flex-wrap:wrap}mat-spinner[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.processing-state[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{padding:32px 24px;margin:16px}.actions[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;max-width:200px}}"]})};var Pn=[{path:"",component:Et},{path:"search",component:Dt},{path:"own-business",component:Rt},{path:"auth",component:Mt,canActivate:[vn]},{path:"login",redirectTo:"auth"},{path:"signup",redirectTo:"auth"},{path:"dashboard",component:It,loadChildren:()=>import("./chunk-DEWQCSYZ.js").then(o=>o.DASHBOARD_ROUTES),canActivate:[At]},{path:"admin",loadChildren:()=>import("./chunk-2JXYS6VV.js").then(o=>o.adminRoutes),canActivate:[At]},{path:"business/:id",component:Ft},{path:"create-project/:businessId",component:Ot,canActivate:[At]},{path:"paypal/callback",component:zt},{path:"stripe/return",component:Xe},{path:"stripe/refresh",component:Xe},{path:"**",redirectTo:""}];var kn={providers:[xi({eventCoalescing:!0}),Ei(Pn),yi(Si()),{provide:Ci,useClass:xt,multi:!0}]};var Lt=class o{title="putheron";static \u0275fac=function(e){return new(e||o)};static \u0275cmp=P({type:o,selectors:[["app-root"]],decls:1,vars:0,template:function(e,a){e&1&&d(0,"router-outlet")},dependencies:[nt],encapsulation:2})};vi(Lt,kn).catch(o=>console.error(o));
