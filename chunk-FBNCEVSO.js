import{a as Ni}from"./chunk-GYECS2AA.js";import{a as Fi,b as Oi}from"./chunk-RUVHJHOS.js";import{b as qi,g as Hi,h as Gi,i as Qi}from"./chunk-3PIIE2B4.js";import{a as Ee,b as Li,c as pt,d as ht,f as zi}from"./chunk-QYKB7UEQ.js";import{$ as Pi,A as ce,F as Le,G as Xe,H as _i,I as bi,J as K,K as Y,L as Ft,M as Je,N as gi,O as fi,P as Se,Q as vi,S as yi,T as xi,V as Ci,Z as wi,_ as ki,a as W,aa as Mi,ba as st,ca as ji,e as Rt,ea as ct,f as Fe,ga as lt,h as At,ha as Di,i as li,ia as dt,j as Ze,ja as Ri,ka as Ai,l as di,m as mi,ma as Bi,na as mt,oa as Te,pa as Ie,q as pi,qa as Pe,ra as Me,s as ke,sa as Vi,t as hi,ta as je,u as ui,ua as de,w as Bt,y as U,z as se}from"./chunk-57MLLKVN.js";import{a as Si}from"./chunk-NBL5PL43.js";import{$ as ne,$a as _e,Aa as ae,Ba as H,Bb as ee,Bc as rt,Ca as J,Cb as R,Db as ge,Ea as _,Fb as j,G as Xt,Ga as N,H as We,Ha as k,I as Jt,Ia as ni,Ib as ri,J as pe,Ja as O,Ka as D,M as Et,Ma as m,N as ei,Nb as Ke,O as ie,Oa as Mt,Ob as si,P as q,Pa as B,Pb as Q,Qa as F,R as p,Ra as a,Sa as o,Ta as v,V as Re,W as b,X as g,Xa as x,Xb as Ye,Y as E,Ya as jt,Z as L,Za as u,Zb as we,_ as ve,_a as d,a as fe,aa as Tt,ab as be,ba as V,bb as xe,bc as ci,ca as he,cb as A,d as w,db as I,e as me,ea as $,eb as P,ec as Ei,f as $t,g as G,ga as S,gc as Ti,ha as It,hb as Be,hc as Ii,i as Wt,ib as s,ic as le,j as Ue,jb as f,ka as X,kb as C,lb as ai,lc as et,ma as ti,mc as tt,na as Ae,pa as ue,pc as it,qa as c,ra as ye,rb as oe,rc as nt,s as Kt,sb as oi,sc as at,ta as Pt,u as $e,ub as re,v as Yt,vb as Ce,wa as ii,wb as Dt,y as Zt,z as St,za as T,zc as ot}from"./chunk-IQA6XL4N.js";var Ui=(i,n)=>n._id;function cn(i,n){if(i&1&&(a(0,"div",0)(1,"div",2),E(),a(2,"svg",3),v(3,"path",4),o(),L(),a(4,"div")(5,"h3",5),s(6,"Error"),o(),a(7,"p",6),s(8),o()()()()),i&2){let e=d();c(8),f(e.error())}}function ln(i,n){i&1&&(a(0,"div",1),v(1,"div",7),a(2,"span",8),s(3,"Loading..."),o()())}function dn(i,n){if(i&1){let e=x();a(0,"div",35)(1,"div",47),E(),a(2,"svg",48),v(3,"path",18),o()(),L(),a(4,"h4",49),s(5,"No businesses yet"),o(),a(6,"p",50),s(7,"Get started by creating your first business"),o(),a(8,"button",51),u("click",function(){b(e);let r=d(3);return g(r.navigateToCreateBusiness())}),E(),a(9,"svg",52),v(10,"path",46),o(),s(11," Create Business "),o()()}}function mn(i,n){if(i&1&&v(0,"img",55),i&2){let e=d().$implicit;k("src",e.logo_url,ue)("alt",e.name)}}function pn(i,n){i&1&&(a(0,"div",56),E(),a(1,"svg",63),v(2,"path",18),o()())}function hn(i,n){if(i&1){let e=x();a(0,"div",54),u("click",function(){let r=b(e).$implicit,l=d(4);return g(l.viewBusiness(r._id))}),_(1,mn,1,2,"img",55)(2,pn,3,0,"div",56),a(3,"div",57)(4,"p",58),s(5),o(),a(6,"div",59)(7,"span",60),s(8),re(9,"titlecase"),o()()(),E(),a(10,"svg",61),v(11,"path",62),o()()}if(i&2){let e=n.$implicit,t=d(4);c(),m(e.logo_url?1:2),c(4),f(e.name),c(2),D(t.getStatusColor(e.status)),c(),C(" ",Ce(9,5,e.status)," ")}}function un(i,n){if(i&1&&(a(0,"div",36),B(1,hn,12,7,"div",53,Ui),o()),i&2){let e=d(3);c(),F(e.userBusinesses().slice(0,3))}}function _n(i,n){if(i&1){let e=x();a(0,"div",9)(1,"div",11)(2,"div",12)(3,"div",13)(4,"div")(5,"p",14),s(6,"Total Businesses"),o(),a(7,"p",15),s(8),o()(),a(9,"div",16),E(),a(10,"svg",17),v(11,"path",18),o()()()(),L(),a(12,"div",12)(13,"div",13)(14,"div")(15,"p",14),s(16,"Active Services"),o(),a(17,"p",15),s(18),o()(),a(19,"div",19),E(),a(20,"svg",20),v(21,"path",21)(22,"path",22),o()()()(),L(),a(23,"div",12)(24,"div",13)(25,"div")(26,"p",14),s(27,"Projects"),o(),a(28,"p",15),s(29),o()(),a(30,"div",23),E(),a(31,"svg",24),v(32,"path",25),o()()()(),L(),a(33,"div",12)(34,"div",13)(35,"div")(36,"p",14),s(37,"Messages"),o(),a(38,"p",15),s(39,"0"),o()(),a(40,"div",26),E(),a(41,"svg",27),v(42,"path",28),o()()()()(),L(),a(43,"div",29)(44,"div",30)(45,"div",31)(46,"div",13)(47,"h3",32),s(48,"Recent Businesses"),o(),a(49,"button",33),u("click",function(){b(e);let r=d(2);return g(r.setActiveTab("businesses"))}),s(50," View All \u2192 "),o()()(),a(51,"div",34),_(52,dn,12,0,"div",35)(53,un,3,0,"div",36),o()(),a(54,"div",30)(55,"div",31)(56,"h3",32),s(57,"Quick Actions"),o()(),a(58,"div",34)(59,"div",36)(60,"button",37),u("click",function(){b(e);let r=d(2);return g(r.navigateToCreateBusiness())}),a(61,"div",38)(62,"div",39),E(),a(63,"svg",40),v(64,"path",18),o()(),L(),a(65,"div",41)(66,"p",42),s(67,"Create New Business"),o(),a(68,"p",43),s(69,"Set up a new business profile"),o()()()(),a(70,"button",37),u("click",function(){b(e);let r=d(2);return g(r.createService())}),a(71,"div",38)(72,"div",44),E(),a(73,"svg",45),v(74,"path",46),o()(),L(),a(75,"div",41)(76,"p",42),s(77,"Add New Service"),o(),a(78,"p",43),s(79,"Create a service for your business"),o()()()()()()()()()}if(i&2){let e=d(2);c(8),f(e.userBusinesses().length),c(10),f(e.getTotalServices()),c(11),f(e.getTotalProjects()),c(23),m(e.userBusinesses().length===0?52:53)}}function bn(i,n){if(i&1){let e=x();a(0,"div",67)(1,"div",69),E(),a(2,"svg",70),v(3,"path",18),o()(),L(),a(4,"h3",71),s(5,"No businesses yet"),o(),a(6,"p",50),s(7,"Get started by creating your first business listing."),o(),a(8,"button",72),u("click",function(){b(e);let r=d(3);return g(r.navigateToCreateBusiness())}),E(),a(9,"svg",52),v(10,"path",46),o(),s(11," Create Your First Business "),o()()}}function gn(i,n){if(i&1&&v(0,"img",55),i&2){let e=d().$implicit;k("src",e.logo_url,ue)("alt",e.name+" logo")}}function fn(i,n){i&1&&(a(0,"div",56),E(),a(1,"svg",63),v(2,"path",18),o()())}function vn(i,n){if(i&1){let e=x();a(0,"div",74),u("click",function(){let r=b(e).$implicit,l=d(4);return g(l.viewBusiness(r._id))}),a(1,"div",34)(2,"div",75),_(3,gn,1,2,"img",55)(4,fn,3,0,"div",56),a(5,"div",57)(6,"h4",76),s(7),o(),a(8,"span",60),s(9),re(10,"titlecase"),o()()(),a(11,"p",77),s(12),o(),a(13,"div",78)(14,"span"),s(15),o(),a(16,"span"),s(17),o()()(),a(18,"div",79)(19,"div",13)(20,"div",80)(21,"button",81),u("click",function(r){let l=b(e).$implicit,h=d(4);return r.stopPropagation(),g(h.viewBusiness(l._id))}),E(),a(22,"svg",82),v(23,"path",22)(24,"path",83),o()(),L(),a(25,"button",84),u("click",function(r){let l=b(e).$implicit,h=d(4);return r.stopPropagation(),g(h.editBusiness(l._id))}),E(),a(26,"svg",82),v(27,"path",85),o()()(),L(),a(28,"button",86),u("click",function(r){let l=b(e).$implicit,h=d(4);return r.stopPropagation(),g(h.deleteBusiness(l._id))}),E(),a(29,"svg",87),v(30,"path",88),o()()()()()}if(i&2){let e=n.$implicit,t=d(4);c(3),m(e.logo_url?3:4),c(4),f(e.name),c(),D(t.getStatusColor(e.status)),c(),C(" ",Ce(10,8,e.status)," "),c(3),C(" ",e.short_description||e.description||"No description available"," "),c(3),f(t.getCategoryName(e)),c(2),C("",e.view_count||0," views")}}function yn(i,n){if(i&1&&(a(0,"div",68),B(1,vn,31,10,"div",73,Ui),o()),i&2){let e=d(3);c(),F(e.userBusinesses())}}function xn(i,n){if(i&1){let e=x();a(0,"div",10)(1,"div",13)(2,"div")(3,"h2",64),s(4,"Your Businesses"),o(),a(5,"p",65),s(6,"Manage and monitor your business listings"),o()(),a(7,"button",66),u("click",function(){b(e);let r=d(2);return g(r.navigateToCreateBusiness())}),E(),a(8,"svg",52),v(9,"path",46),o(),s(10," New Business "),o()(),_(11,bn,12,0,"div",67)(12,yn,3,0,"div",68),o()}if(i&2){let e=d(2);c(11),m(e.hasBusinesses()?12:11)}}function Cn(i,n){if(i&1){let e=x();a(0,"div",10)(1,"div",13)(2,"div")(3,"h2",64),s(4,"Your Services"),o(),a(5,"p",65),s(6,"Manage services across all your businesses"),o()(),a(7,"button",66),u("click",function(){b(e);let r=d(2);return g(r.createService())}),E(),a(8,"svg",52),v(9,"path",46),o(),s(10," New Service "),o()(),L(),a(11,"div",67)(12,"div",69),E(),a(13,"svg",70),v(14,"path",21)(15,"path",22),o()(),L(),a(16,"h3",71),s(17,"Services Management"),o(),a(18,"p",50),s(19,"This feature will be available soon. You can manage services from individual business profiles."),o(),a(20,"button",89),u("click",function(){b(e);let r=d(2);return g(r.setActiveTab("businesses"))}),s(21," View Businesses "),o()()()}}function wn(i,n){i&1&&(a(0,"div",10)(1,"div",13)(2,"div")(3,"h2",64),s(4,"Your Projects"),o(),a(5,"p",65),s(6,"Showcase your work and portfolio"),o()()(),a(7,"div",67)(8,"div",69),E(),a(9,"svg",70),v(10,"path",25),o()(),L(),a(11,"h3",71),s(12,"Projects Coming Soon"),o(),a(13,"p",90),s(14,"Portfolio and project management features will be available in a future update."),o()()())}function kn(i,n){i&1&&(a(0,"div",10)(1,"div",13)(2,"div")(3,"h2",64),s(4,"Messages"),o(),a(5,"p",65),s(6,"Communicate with clients and prospects"),o()()(),a(7,"div",67)(8,"div",69),E(),a(9,"svg",70),v(10,"path",28),o()(),L(),a(11,"h3",71),s(12,"Messaging Coming Soon"),o(),a(13,"p",90),s(14,"Direct messaging and communication features will be available in a future update."),o()()())}function Sn(i,n){if(i&1&&_(0,_n,80,4,"div",9)(1,xn,13,1,"div",10)(2,Cn,22,0,"div",10)(3,wn,15,0,"div",10)(4,kn,15,0,"div",10),i&2){let e,t=d();m((e=t.activeTab())==="overview"?0:e==="businesses"?1:e==="services"?2:e==="projects"?3:e==="messages"?4:-1)}}var ut=class i{authService=p(W);router=p(we);route=p(Ye);businessService=p(Fi);projectService=p(Ee);userBusinesses=S([]);userServices=S([]);userProjects=S([]);loading=S(!1);error=S(null);activeTab=S("overview");user=this.authService.user;hasBusinesses=j(()=>this.userBusinesses().length>0);totalServices=j(()=>this.userServices().length);totalProjects=j(()=>this.userProjects().length);ngOnInit(){if(!this.user()){this.router.navigate(["/auth"]);return}let n=this.router.url.split("/"),e=n[n.length-1];e==="dashboard"||e==="overview"||e===""?this.activeTab.set("overview"):this.activeTab.set(e),this.loadDashboardData()}loadDashboardData(){return w(this,null,function*(){this.loading.set(!0),this.error.set(null);try{let n=yield this.businessService.getMyBusinessesAsync();this.userBusinesses.set(n);let e=[];for(let t of n)try{let r=yield this.businessService.getBusinessServicesAsync(t._id);e=[...e,...r]}catch(r){console.warn(`Failed to load services for business ${t._id}:`,r)}this.userServices.set(e);try{let t=yield this.projectService.getAllMyProjectsAsync();this.userProjects.set(t)}catch(t){console.warn("Failed to load projects:",t),this.userProjects.set([])}}catch(n){console.error("Error loading dashboard data:",n),this.error.set(n.message||"Failed to load dashboard data")}finally{this.loading.set(!1)}})}setActiveTab(n){this.activeTab.set(n)}getTotalServices(){return this.totalServices()}getTotalProjects(){return this.totalProjects()}navigateToCreateBusiness(){this.router.navigate(["/dashboard/businesses/create-business"])}createService(){if(this.userBusinesses().length===0){alert("Please create a business first before adding services.");return}this.router.navigate(["/dashboard/services/create"])}viewProjects(){this.router.navigate(["/dashboard/projects"])}viewBusiness(n){this.router.navigate(["/business",n])}editBusiness(n){alert("Edit business functionality will be available soon!")}deleteBusiness(n){confirm("Are you sure you want to delete this business? This action cannot be undone.")&&alert("Delete business functionality will be available soon!")}viewProfile(){alert("Profile page will be available soon!")}viewMessages(){alert("Messages page will be available soon!")}getStatusColor(n){switch(n){case"approved":return"text-green-600";case"pending":return"text-yellow-600";case"rejected":return"text-red-600";case"suspended":return"text-gray-600";default:return"text-gray-600"}}getStatusIcon(n){switch(n){case"approved":return"bg-green-400";case"pending":return"bg-yellow-400";case"rejected":return"bg-red-400";case"suspended":return"bg-gray-400";default:return"bg-gray-400"}}getCategoryName(n){return typeof n.category_id=="object"&&n.category_id?.name?n.category_id.name:"Unknown Category"}getSubcategoryName(n){return typeof n.subcategory_id=="object"&&n.subcategory_id?.name?n.subcategory_id.name:null}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=T({type:i,selectors:[["app-overviews"]],decls:3,vars:2,consts:[[1,"mb-6","bg-red-50","border-l-4","border-red-400","p-4","rounded-r-lg"],[1,"flex","items-center","justify-center","py-12"],[1,"flex"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","text-red-400","mr-3"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"text-sm","font-medium","text-red-800"],[1,"mt-1","text-sm","text-red-700"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-gray-900"],[1,"ml-3","text-gray-600"],[1,"space-y-8"],[1,"space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6"],[1,"bg-white","rounded-xl","border","border-gray-200","p-6","hover:shadow-lg","transition-all","duration-200"],[1,"flex","items-center","justify-between"],[1,"text-sm","font-medium","text-gray-500","mb-1"],[1,"text-3xl","font-bold","text-gray-900"],[1,"p-3","bg-blue-50","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],[1,"p-3","bg-green-50","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"p-3","bg-purple-50","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-purple-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"],[1,"p-3","bg-orange-50","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-orange-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-8"],[1,"bg-white","rounded-xl","border","border-gray-200","overflow-hidden"],[1,"px-6","py-4","border-b","border-gray-200"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-sm","text-blue-600","hover:text-blue-800","font-medium","transition-colors",3,"click"],[1,"p-6"],[1,"text-center","py-12"],[1,"space-y-4"],[1,"w-full","flex","items-center","p-4","border-2","border-dashed","border-gray-300","rounded-lg","hover:border-gray-400","hover:bg-gray-50","transition-all","duration-200","group",3,"click"],[1,"flex","items-center","space-x-4"],[1,"p-3","bg-blue-50","rounded-lg","group-hover:bg-blue-100","transition-colors"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-blue-600"],[1,"text-left"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"p-3","bg-green-50","rounded-lg","group-hover:bg-green-100","transition-colors"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"p-4","bg-gray-50","rounded-full","w-16","h-16","mx-auto","mb-4","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-gray-400"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-500","mb-6"],[1,"inline-flex","items-center","px-4","py-2","bg-gray-900","text-white","rounded-lg","hover:bg-gray-800","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],[1,"flex","items-center","space-x-4","p-3","rounded-lg","hover:bg-gray-50","cursor-pointer","transition-all","duration-200","border","border-transparent","hover:border-gray-200"],[1,"flex","items-center","space-x-4","p-3","rounded-lg","hover:bg-gray-50","cursor-pointer","transition-all","duration-200","border","border-transparent","hover:border-gray-200",3,"click"],[1,"h-12","w-12","rounded-lg","object-cover",3,"src","alt"],[1,"h-12","w-12","rounded-lg","bg-gray-100","flex","items-center","justify-center"],[1,"flex-1","min-w-0"],[1,"text-sm","font-medium","text-gray-900","truncate"],[1,"flex","items-center","space-x-2","mt-1"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-gray-400"],[1,"text-xl","font-semibold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"inline-flex","items-center","px-4","py-2","bg-gray-900","text-white","rounded-lg","hover:bg-gray-800","transition-colors","font-medium","text-sm",3,"click"],[1,"bg-white","rounded-xl","border","border-gray-200","p-12","text-center","shadow-sm"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"p-4","bg-gray-50","rounded-full","w-20","h-20","mx-auto","mb-6","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-10","h-10","text-gray-300"],[1,"text-xl","font-medium","text-gray-900","mb-2"],[1,"inline-flex","items-center","px-6","py-3","bg-gray-900","text-white","rounded-lg","hover:bg-gray-800","transition-colors","font-medium",3,"click"],[1,"bg-white","rounded-xl","border","border-gray-200","shadow-sm","hover:shadow-lg","transition-all","cursor-pointer","overflow-hidden"],[1,"bg-white","rounded-xl","border","border-gray-200","shadow-sm","hover:shadow-lg","transition-all","cursor-pointer","overflow-hidden",3,"click"],[1,"flex","items-center","space-x-4","mb-4"],[1,"text-lg","font-medium","text-gray-900","truncate"],[1,"text-sm","text-gray-600","mb-4","line-clamp-2"],[1,"flex","items-center","justify-between","text-xs","text-gray-500"],[1,"px-6","py-3","border-t","border-gray-200","bg-gray-50"],[1,"flex","space-x-2"],["title","View Business",1,"p-2","hover:bg-gray-200","rounded-lg","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["title","Edit Business",1,"p-2","hover:bg-gray-200","rounded-lg","transition-colors",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["title","Delete Business",1,"p-2","hover:bg-red-50","hover:text-red-700","rounded-lg","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","text-gray-700","rounded-lg","hover:bg-gray-50","transition-colors","font-medium",3,"click"],[1,"text-gray-500"]],template:function(e,t){e&1&&_(0,cn,9,1,"div",0)(1,ln,4,0,"div",1)(2,Sn,5,1),e&2&&(m(t.error()?0:-1),c(),m(t.loading()?1:2))},dependencies:[Q,Ke],styles:["[_nghost-%COMP%]{display:block}"]})};var qt=["*"];function Tn(i,n){i&1&&be(0)}var In=["tabListContainer"],Pn=["tabList"],Mn=["tabListInner"],jn=["nextPaginator"],Dn=["previousPaginator"],Rn=["content"];function An(i,n){}var Bn=["tabBodyWrapper"],Fn=["tabHeader"];function Ln(i,n){}function On(i,n){if(i&1&&_(0,Ln,0,0,"ng-template",12),i&2){let e=d().$implicit;k("cdkPortalOutlet",e.templateLabel)}}function Vn(i,n){if(i&1&&s(0),i&2){let e=d().$implicit;f(e.textLabel)}}function Nn(i,n){if(i&1){let e=x();a(0,"div",7,2),u("click",function(){let r=b(e),l=r.$implicit,h=r.$index,y=d(),M=Be(1);return g(y._handleClick(l,M,h))})("cdkFocusChange",function(r){let l=b(e).$index,h=d();return g(h._tabFocusChanged(r,l))}),v(2,"span",8)(3,"div",9),a(4,"span",10)(5,"span",11),_(6,On,1,1,null,12)(7,Vn,1,1),o()()()}if(i&2){let e=n.$implicit,t=n.$index,r=Be(1),l=d();D(e.labelClass),O("mdc-tab--active",l.selectedIndex===t),k("id",l._getTabLabelId(e,t))("disabled",e.disabled)("fitInkBarToContent",l.fitInkBarToContent),N("tabIndex",l._getTabIndex(t))("aria-posinset",t+1)("aria-setsize",l._tabs.length)("aria-controls",l._getTabContentId(t))("aria-selected",l.selectedIndex===t)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),c(3),k("matRippleTrigger",r)("matRippleDisabled",e.disabled||l.disableRipple),c(3),m(e.templateLabel?6:7)}}function zn(i,n){i&1&&be(0)}function qn(i,n){if(i&1){let e=x();a(0,"mat-tab-body",13),u("_onCentered",function(){b(e);let r=d();return g(r._removeTabBodyWrapperHeight())})("_onCentering",function(r){b(e);let l=d();return g(l._setTabBodyWrapperHeight(r))})("_beforeCentering",function(r){b(e);let l=d();return g(l._bodyCentered(r))}),o()}if(i&2){let e=n.$implicit,t=n.$index,r=d();D(e.bodyClass),k("id",r._getTabContentId(t))("content",e.content)("position",e.position)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),N("tabindex",r.contentTabIndex!=null&&r.selectedIndex===t?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(e,t))("aria-hidden",r.selectedIndex!==t)}}var Hn=new q("MatTabContent"),Gn=(()=>{class i{template=p(ye);constructor(){}static \u0275fac=function(t){return new(t||i)};static \u0275dir=H({type:i,selectors:[["","matTabContent",""]],features:[oe([{provide:Hn,useExisting:i}])]})}return i})(),Qn=new q("MatTabLabel"),Yi=new q("MAT_TAB"),Un=(()=>{class i extends fi{_closestTab=p(Yi,{optional:!0});static \u0275fac=(()=>{let e;return function(r){return(e||(e=ve(i)))(r||i)}})();static \u0275dir=H({type:i,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[oe([{provide:Qn,useExisting:i}]),J]})}return i})(),Zi=new q("MAT_TAB_GROUP"),Ve=(()=>{class i{_viewContainerRef=p(ii);_closestTabGroup=p(Zi,{optional:!0});disabled=!1;get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}_templateLabel;_explicitContent=void 0;_implicitContent;textLabel="";ariaLabel;ariaLabelledby;labelClass;bodyClass;id=null;_contentPortal=null;get content(){return this._contentPortal}_stateChanges=new G;position=null;origin=null;isActive=!1;constructor(){p(Ze).load(Xe)}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Je(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=T({type:i,selectors:[["mat-tab"]],contentQueries:function(t,r,l){if(t&1&&(xe(l,Un,5),xe(l,Gn,7,ye)),t&2){let h;I(h=P())&&(r.templateLabel=h.first),I(h=P())&&(r._explicitContent=h.first)}},viewQuery:function(t,r){if(t&1&&A(ye,7),t&2){let l;I(l=P())&&(r._implicitContent=l.first)}},hostAttrs:["hidden",""],hostVars:1,hostBindings:function(t,r){t&2&&N("id",null)},inputs:{disabled:[2,"disabled","disabled",R],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass",id:"id"},exportAs:["matTab"],features:[oe([{provide:Yi,useExisting:i}]),Re],ngContentSelectors:qt,decls:1,vars:0,template:function(t,r){t&1&&(_e(),_(0,Tn,1,0,"ng-template"))},encapsulation:2})}return i})(),Lt="mdc-tab-indicator--active",$i="mdc-tab-indicator--no-transition",Ot=class{_items;_currentItem;constructor(n){this._items=n}hide(){this._items.forEach(n=>n.deactivateInkBar()),this._currentItem=void 0}alignToElement(n){let e=this._items.find(r=>r.elementRef.nativeElement===n),t=this._currentItem;if(e!==t&&(t?.deactivateInkBar(),e)){let r=t?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(r),this._currentItem=e}}},$n=(()=>{class i{_elementRef=p($);_inkBarElement;_inkBarContentElement;_fitToContent=!1;get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){let t=this._elementRef.nativeElement;if(!e||!t.getBoundingClientRect||!this._inkBarContentElement){t.classList.add(Lt);return}let r=t.getBoundingClientRect(),l=e.width/r.width,h=e.left-r.left;t.classList.add($i),this._inkBarContentElement.style.setProperty("transform",`translateX(${h}px) scaleX(${l})`),t.getBoundingClientRect(),t.classList.remove($i),t.classList.add(Lt),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(Lt)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let e=this._elementRef.nativeElement.ownerDocument||document,t=this._inkBarElement=e.createElement("span"),r=this._inkBarContentElement=e.createElement("span");t.className="mdc-tab-indicator",r.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",t.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let e=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;e.appendChild(this._inkBarElement)}static \u0275fac=function(t){return new(t||i)};static \u0275dir=H({type:i,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",R]}})}return i})();var Xi=(()=>{class i extends $n{elementRef=p($);disabled=!1;focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ve(i)))(r||i)}})();static \u0275dir=H({type:i,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,r){t&2&&(N("aria-disabled",!!r.disabled),O("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:[2,"disabled","disabled",R]},features:[J]})}return i})(),Wi={passive:!0},Wn=650,Kn=100,Yn=(()=>{class i{_elementRef=p($);_changeDetectorRef=p(ee);_viewportRuler=p(xi);_dir=p(Bt,{optional:!0});_ngZone=p(he);_platform=p(Fe);_sharedResizeObserver=p(Mi);_injector=p(ne);_renderer=p(Pt);_animationMode=p(X,{optional:!0});_eventCleanups;_scrollDistance=0;_selectedIndexChanged=!1;_destroyed=new G;_showPaginationControls=!1;_disableScrollAfter=!0;_disableScrollBefore=!0;_tabLabelCount;_scrollDistanceChanged;_keyManager;_currentTextContent;_stopScrolling=new G;disablePagination=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){let t=isNaN(e)?0:e;this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}_selectedIndex=0;selectFocusedIndex=new V;indexFocused=new V;constructor(){this._eventCleanups=this._ngZone.runOutsideAngular(()=>[this._renderer.listen(this._elementRef.nativeElement,"mouseleave",()=>this._stopInterval())])}ngAfterViewInit(){this._eventCleanups.push(Rt(this._renderer,this._previousPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("before"),Wi),Rt(this._renderer,this._nextPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("after"),Wi))}ngAfterContentInit(){let e=this._dir?this._dir.change:Ue("ltr"),t=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(Zt(32),pe(this._destroyed)),r=this._viewportRuler.change(150).pipe(pe(this._destroyed)),l=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new ui(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(Math.max(this._selectedIndex,0)),Ae(l,{injector:this._injector}),$e(e,r,t,this._items.changes,this._itemsResized()).pipe(pe(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),l()})}),this._keyManager?.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(h=>{this.indexFocused.emit(h),this._setTabFocus(h)})}_itemsResized(){return typeof ResizeObserver!="function"?Wt:this._items.changes.pipe(We(this._items),Jt(e=>new $t(t=>this._ngZone.runOutsideAngular(()=>{let r=new ResizeObserver(l=>t.next(l));return e.forEach(l=>r.observe(l.elementRef.nativeElement)),()=>{r.disconnect()}}))),Xt(1),Yt(e=>e.some(t=>t.contentRect.width>0&&t.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!hi(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let t=this._items.get(this.focusIndex);t&&!t.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager?.onKeydown(e)}}_onContentChanges(){let e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return this._items?!!this._items.toArray()[e]:!0}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();let t=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?t.scrollLeft=0:t.scrollLeft=t.scrollWidth-t.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let e=this.scrollDistance,t=this._getLayoutDirection()==="ltr"?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(t)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){let t=this._tabListContainer.nativeElement.offsetWidth,r=(e=="before"?-1:1)*t/3;return this._scrollTo(this._scrollDistance+r)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;let t=this._items?this._items.toArray()[e]:null;if(!t)return;let r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:l,offsetWidth:h}=t.elementRef.nativeElement,y,M;this._getLayoutDirection()=="ltr"?(y=l,M=y+h):(M=this._tabListInner.nativeElement.offsetWidth-l,y=M-h);let z=this.scrollDistance,Z=this.scrollDistance+r;y<z?this.scrollDistance-=z-y:M>Z&&(this.scrollDistance+=Math.min(M-Z,y-z))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let e=this._tabListInner.nativeElement.scrollWidth,t=this._elementRef.nativeElement.offsetWidth,r=e-t>=5;r||(this.scrollDistance=0),r!==this._showPaginationControls&&(this._showPaginationControls=r,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let e=this._tabListInner.nativeElement.scrollWidth,t=this._tabListContainer.nativeElement.offsetWidth;return e-t||0}_alignInkBarToSelectedTab(){let e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,t=e?e.elementRef.nativeElement:null;t?this._inkBar.alignToElement(t):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,t){t&&t.button!=null&&t.button!==0||(this._stopInterval(),Kt(Wn,Kn).pipe(pe($e(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:r,distance:l}=this._scrollHeader(e);(l===0||l>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let t=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(t,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:t,distance:this._scrollDistance}}static \u0275fac=function(t){return new(t||i)};static \u0275dir=H({type:i,inputs:{disablePagination:[2,"disablePagination","disablePagination",R],selectedIndex:[2,"selectedIndex","selectedIndex",ge]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"}})}return i})(),Zn=(()=>{class i extends Yn{_items;_tabListContainer;_tabList;_tabListInner;_nextPaginator;_previousPaginator;_inkBar;ariaLabel;ariaLabelledby;disableRipple=!1;ngAfterContentInit(){this._inkBar=new Ot(this._items),super.ngAfterContentInit()}_itemSelected(e){e.preventDefault()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ve(i)))(r||i)}})();static \u0275cmp=T({type:i,selectors:[["mat-tab-header"]],contentQueries:function(t,r,l){if(t&1&&xe(l,Xi,4),t&2){let h;I(h=P())&&(r._items=h)}},viewQuery:function(t,r){if(t&1&&(A(In,7),A(Pn,7),A(Mn,7),A(jn,5),A(Dn,5)),t&2){let l;I(l=P())&&(r._tabListContainer=l.first),I(l=P())&&(r._tabList=l.first),I(l=P())&&(r._tabListInner=l.first),I(l=P())&&(r._nextPaginator=l.first),I(l=P())&&(r._previousPaginator=l.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(t,r){t&2&&O("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl",r._getLayoutDirection()=="rtl")},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",R]},features:[J],ngContentSelectors:qt,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(t,r){if(t&1){let l=x();_e(),a(0,"div",5,0),u("click",function(){return b(l),g(r._handlePaginatorClick("before"))})("mousedown",function(y){return b(l),g(r._handlePaginatorPress("before",y))})("touchend",function(){return b(l),g(r._stopInterval())}),v(2,"div",6),o(),a(3,"div",7,1),u("keydown",function(y){return b(l),g(r._handleKeydown(y))}),a(5,"div",8,2),u("cdkObserveContent",function(){return b(l),g(r._onContentChanges())}),a(7,"div",9,3),be(9),o()()(),a(10,"div",10,4),u("mousedown",function(y){return b(l),g(r._handlePaginatorPress("after",y))})("click",function(){return b(l),g(r._handlePaginatorClick("after"))})("touchend",function(){return b(l),g(r._stopInterval())}),v(12,"div",6),o()}t&2&&(O("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),k("matRippleDisabled",r._disableScrollBefore||r.disableRipple),c(3),O("_mat-animation-noopable",r._animationMode==="NoopAnimations"),c(2),N("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby||null),c(5),O("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),k("matRippleDisabled",r._disableScrollAfter||r.disableRipple))},dependencies:[Le,mi],styles:[`.mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height, 1px);border-bottom-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height, 1px);border-top-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height, 48px)}.mat-mdc-tab::before{margin:5px}@media(forced-colors: active){.mat-mdc-tab[aria-disabled=true]{color:GrayText}}
`],encapsulation:2})}return i})(),Xn=new q("MAT_TABS_CONFIG"),Ki=(()=>{class i extends Se{_host=p(Vt);_centeringSub=me.EMPTY;_leavingSub=me.EMPTY;constructor(){super()}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(We(this._host._isCenterPosition())).subscribe(e=>{this._host._content&&e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static \u0275fac=function(t){return new(t||i)};static \u0275dir=H({type:i,selectors:[["","matTabBodyHost",""]],features:[J]})}return i})(),Vt=(()=>{class i{_elementRef=p($);_dir=p(Bt,{optional:!0});_ngZone=p(he);_injector=p(ne);_renderer=p(Pt);_animationsModule=p(X,{optional:!0});_eventCleanups;_initialized;_fallbackTimer;_positionIndex;_dirChangeSubscription=me.EMPTY;_position;_previousPosition;_onCentering=new V;_beforeCentering=new V;_afterLeavingCenter=new V;_onCentered=new V(!0);_portalHost;_contentElement;_content;animationDuration="500ms";preserveContent=!1;set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(){if(this._dir){let e=p(ee);this._dirChangeSubscription=this._dir.change.subscribe(t=>{this._computePositionAnimationState(t),e.markForCheck()})}}ngOnInit(){this._bindTransitionEvents(),this._position==="center"&&(this._setActiveClass(!0),Ae(()=>this._onCentering.emit(this._elementRef.nativeElement.clientHeight),{injector:this._injector})),this._initialized=!0}ngOnDestroy(){clearTimeout(this._fallbackTimer),this._eventCleanups?.forEach(e=>e()),this._dirChangeSubscription.unsubscribe()}_bindTransitionEvents(){this._ngZone.runOutsideAngular(()=>{let e=this._elementRef.nativeElement,t=r=>{r.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.remove("mat-tab-body-animating"),r.type==="transitionend"&&this._transitionDone())};this._eventCleanups=[this._renderer.listen(e,"transitionstart",r=>{r.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.add("mat-tab-body-animating"),this._transitionStarted())}),this._renderer.listen(e,"transitionend",t),this._renderer.listen(e,"transitioncancel",t)]})}_transitionStarted(){clearTimeout(this._fallbackTimer);let e=this._position==="center";this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_transitionDone(){this._position==="center"?this._onCentered.emit():this._previousPosition==="center"&&this._afterLeavingCenter.emit()}_setActiveClass(e){this._elementRef.nativeElement.classList.toggle("mat-mdc-tab-body-active",e)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(){return this._positionIndex===0}_computePositionAnimationState(e=this._getLayoutDirection()){this._previousPosition=this._position,this._positionIndex<0?this._position=e=="ltr"?"left":"right":this._positionIndex>0?this._position=e=="ltr"?"right":"left":this._position="center",this._animationsDisabled()?this._simulateTransitionEvents():this._initialized&&(this._position==="center"||this._previousPosition==="center")&&(clearTimeout(this._fallbackTimer),this._fallbackTimer=this._ngZone.runOutsideAngular(()=>setTimeout(()=>this._simulateTransitionEvents(),100)))}_simulateTransitionEvents(){this._transitionStarted(),Ae(()=>this._transitionDone(),{injector:this._injector})}_animationsDisabled(){return this._animationsModule==="NoopAnimations"||this.animationDuration==="0ms"||this.animationDuration==="0s"}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=T({type:i,selectors:[["mat-tab-body"]],viewQuery:function(t,r){if(t&1&&(A(Ki,5),A(Rn,5)),t&2){let l;I(l=P())&&(r._portalHost=l.first),I(l=P())&&(r._contentElement=l.first)}},hostAttrs:[1,"mat-mdc-tab-body"],hostVars:1,hostBindings:function(t,r){t&2&&N("inert",r._position==="center"?null:"")},inputs:{_content:[0,"content","_content"],animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_onCentered:"_onCentered"},decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(t,r){t&1&&(a(0,"div",1,0),_(2,An,0,0,"ng-template",2),o()),t&2&&O("mat-tab-body-content-left",r._position==="left")("mat-tab-body-content-right",r._position==="right")("mat-tab-body-content-can-animate",r._position==="center"||r._previousPosition==="center")},dependencies:[Ki,yi],styles:[`.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto;transform:none;visibility:hidden}.mat-tab-body-animating>.mat-mdc-tab-body-content,.mat-mdc-tab-body-active>.mat-mdc-tab-body-content{visibility:visible}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-tab-body-content-can-animate{transition:transform var(--mat-tab-animation-duration) 1ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable .mat-tab-body-content-can-animate{transition:none}.mat-tab-body-content-left{transform:translate3d(-100%, 0, 0)}.mat-tab-body-content-right{transform:translate3d(100%, 0, 0)}
`],encapsulation:2})}return i})(),_t=(()=>{class i{_elementRef=p($);_changeDetectorRef=p(ee);_ngZone=p(he);_tabsSubscription=me.EMPTY;_tabLabelSubscription=me.EMPTY;_tabBodySubscription=me.EMPTY;_diAnimationsDisabled=p(X,{optional:!0})==="NoopAnimations";_allTabs;_tabBodies;_tabBodyWrapper;_tabHeader;_tabs=new It;_indexToSelect=0;_lastFocusedTabIndex=null;_tabBodyWrapperHeight=0;color;get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=e,this._changeDetectorRef.markForCheck()}_fitInkBarToContent=!1;stretchTabs=!0;alignTabs=null;dynamicHeight=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=isNaN(e)?null:e}_selectedIndex=null;headerPosition="above";get animationDuration(){return this._animationDuration}set animationDuration(e){let t=e+"";this._animationDuration=/^\d+$/.test(t)?e+"ms":t}_animationDuration;get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=isNaN(e)?null:e}_contentTabIndex;disablePagination=!1;disableRipple=!1;preserveContent=!1;get backgroundColor(){return this._backgroundColor}set backgroundColor(e){let t=this._elementRef.nativeElement.classList;t.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&t.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}_backgroundColor;ariaLabel;ariaLabelledby;selectedIndexChange=new V;focusChange=new V;animationDone=new V;selectedTabChange=new V(!0);_groupId;_isServer=!p(Fe).isBrowser;constructor(){let e=p(Xn,{optional:!0});this._groupId=p(ke).getId("mat-tab-group-"),this.animationDuration=e&&e.animationDuration?e.animationDuration:"500ms",this.disablePagination=e&&e.disablePagination!=null?e.disablePagination:!1,this.dynamicHeight=e&&e.dynamicHeight!=null?e.dynamicHeight:!1,e?.contentTabIndex!=null&&(this.contentTabIndex=e.contentTabIndex),this.preserveContent=!!e?.preserveContent,this.fitInkBarToContent=e&&e.fitInkBarToContent!=null?e.fitInkBarToContent:!1,this.stretchTabs=e&&e.stretchTabs!=null?e.stretchTabs:!0,this.alignTabs=e&&e.alignTabs!=null?e.alignTabs:null}ngAfterContentChecked(){let e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){let t=this._selectedIndex==null;if(!t){this.selectedTabChange.emit(this._createChangeEvent(e));let r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,l)=>r.isActive=l===e),t||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((t,r)=>{t.position=r-e,this._selectedIndex!=null&&t.position==0&&!t.origin&&(t.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){let t=this._tabs.toArray(),r;for(let l=0;l<t.length;l++)if(t[l].isActive){this._indexToSelect=this._selectedIndex=l,this._lastFocusedTabIndex=null,r=t[l];break}!r&&t[e]&&Promise.resolve().then(()=>{t[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._tabBodySubscription=this._tabBodies.changes.subscribe(()=>this._bodyCentered(!0))}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(We(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(t=>t._closestTabGroup===this||!t._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe(),this._tabBodySubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){let t=this._tabHeader;t&&(t.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){let t=new Nt;return t.index=e,this._tabs&&this._tabs.length&&(t.tab=this._tabs.toArray()[e]),t}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=$e(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e,t){return e.id||`${this._groupId}-label-${t}`}_getTabContentId(e){return`${this._groupId}-content-${e}`}_setTabBodyWrapperHeight(e){if(!this.dynamicHeight||!this._tabBodyWrapperHeight){this._tabBodyWrapperHeight=e;return}let t=this._tabBodyWrapper.nativeElement;t.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(t.style.height=e+"px")}_removeTabBodyWrapperHeight(){let e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this._ngZone.run(()=>this.animationDone.emit())}_handleClick(e,t,r){t.focusIndex=r,e.disabled||(this.selectedIndex=r)}_getTabIndex(e){let t=this._lastFocusedTabIndex??this.selectedIndex;return e===t?0:-1}_tabFocusChanged(e,t){e&&e!=="mouse"&&e!=="touch"&&(this._tabHeader.focusIndex=t)}_bodyCentered(e){e&&this._tabBodies?.forEach((t,r)=>t._setActiveClass(r===this._selectedIndex))}_animationsDisabled(){return this._diAnimationsDisabled||this.animationDuration==="0"||this.animationDuration==="0ms"}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=T({type:i,selectors:[["mat-tab-group"]],contentQueries:function(t,r,l){if(t&1&&xe(l,Ve,5),t&2){let h;I(h=P())&&(r._allTabs=h)}},viewQuery:function(t,r){if(t&1&&(A(Bn,5),A(Fn,5),A(Vt,5)),t&2){let l;I(l=P())&&(r._tabBodyWrapper=l.first),I(l=P())&&(r._tabHeader=l.first),I(l=P())&&(r._tabBodies=l)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:11,hostBindings:function(t,r){t&2&&(N("mat-align-tabs",r.alignTabs),D("mat-"+(r.color||"primary")),ni("--mat-tab-animation-duration",r.animationDuration),O("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header",r.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",R],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",R],alignTabs:[0,"mat-align-tabs","alignTabs"],dynamicHeight:[2,"dynamicHeight","dynamicHeight",R],selectedIndex:[2,"selectedIndex","selectedIndex",ge],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",ge],disablePagination:[2,"disablePagination","disablePagination",R],disableRipple:[2,"disableRipple","disableRipple",R],preserveContent:[2,"preserveContent","preserveContent",R],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],features:[oe([{provide:Zi,useExisting:i}])],ngContentSelectors:qt,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","class","content","position","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","_beforeCentering","id","content","position","animationDuration","preserveContent"]],template:function(t,r){if(t&1){let l=x();_e(),a(0,"mat-tab-header",3,0),u("indexFocused",function(y){return b(l),g(r._focusChanged(y))})("selectFocusedIndex",function(y){return b(l),g(r.selectedIndex=y)}),B(2,Nn,8,17,"div",4,Mt),o(),_(4,zn,1,0),a(5,"div",5,1),B(7,qn,1,10,"mat-tab-body",6,Mt),o()}t&2&&(k("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby),c(2),F(r._tabs),c(2),m(r._isServer?4:-1),c(),O("_mat-animation-noopable",r._animationsDisabled()),c(2),F(r._tabs))},dependencies:[Zn,Xi,li,Le,Se,Vt],styles:[`.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height, 48px);font-family:var(--mat-tab-header-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-tab-header-label-text-size, var(--mat-sys-title-small-size));letter-spacing:var(--mat-tab-header-label-text-tracking, var(--mat-sys-title-small-tracking));line-height:var(--mat-tab-header-label-text-line-height, var(--mat-sys-title-small-line-height));font-weight:var(--mat-tab-header-label-text-weight, var(--mat-sys-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-tab-indicator-active-indicator-height, 2px);border-radius:var(--mdc-tab-indicator-active-indicator-shape, 0)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color, var(--mat-sys-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}
`],encapsulation:2})}return i})(),Nt=class{index;tab};var bt=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=ae({type:i});static \u0275inj=ie({imports:[U,U]})}return i})();var Jn=new q("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})});var en=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=ae({type:i});static \u0275inj=ie({providers:[Di,{provide:Jn,useValue:{separatorKeyCodes:[13]}}],imports:[U,bi,U]})}return i})();var Ne=(i,n)=>n._id;function ta(i,n){if(i&1&&(a(0,"div",5)(1,"div",8)(2,"mat-icon",9),s(3,"error"),o(),a(4,"div")(5,"h3",10),s(6,"Error"),o(),a(7,"p",11),s(8),o()()()()),i&2){let e=d();c(8),f(e.error())}}function ia(i,n){i&1&&(a(0,"div",6),v(1,"mat-spinner",12),a(2,"span",13),s(3,"Loading projects..."),o()())}function na(i,n){if(i&1){let e=x();a(0,"div",17)(1,"div",19)(2,"mat-icon",20),s(3,"assignment"),o()(),a(4,"h3",21),s(5,"No project requests yet"),o(),a(6,"p",22),s(7,"Start by browsing businesses and creating your first project request."),o(),a(8,"button",23),u("click",function(){b(e);let r=d(2);return g(r.navigateToHome())}),s(9," Browse Businesses "),o()()}}function aa(i,n){if(i&1){let e=x();a(0,"mat-card",26)(1,"mat-card-header")(2,"mat-card-title",27),s(3),o(),a(4,"mat-card-subtitle"),s(5),o()(),a(6,"mat-card-content")(7,"div",28)(8,"span",29),s(9),o()(),a(10,"p",30),s(11),o(),a(12,"div",31)(13,"div",32)(14,"span",33),s(15,"Budget:"),o(),a(16,"span",34),s(17),o()(),a(18,"div",32)(19,"span",33),s(20,"Submitted:"),o(),a(21,"span"),s(22),o()()()(),a(23,"mat-card-actions")(24,"button",35),u("click",function(){let r=b(e).$implicit,l=d(4);return g(l.viewProject(r))}),a(25,"mat-icon"),s(26,"visibility"),o(),s(27," View Details "),o()()()}if(i&2){let e=n.$implicit,t=d(4);c(3),f(e.title),c(2),f(t.getBusinessName(e)),c(3),D(t.getStatusColor(e.status)),c(),C(" ",t.getStatusText(e.status)," "),c(2),f(e.description||"No description"),c(6),f(t.formatPrice(e.offered_price)),c(5),f(t.formatDate(e.createdAt))}}function oa(i,n){if(i&1&&(a(0,"div",2)(1,"h3",24),s(2,"Pending Approval"),o(),a(3,"div",25),B(4,aa,28,8,"mat-card",26,Ne),o()()),i&2){let e=d(3);c(4),F(e.pendingMyProjects())}}function ra(i,n){if(i&1&&(a(0,"div",32)(1,"span",33),s(2,"Deadline:"),o(),a(3,"span"),s(4),o()()),i&2){let e=d().$implicit,t=d(4);c(4),f(t.formatDate(e.deadline))}}function sa(i,n){if(i&1){let e=x();a(0,"mat-card",26)(1,"mat-card-header")(2,"mat-card-title",27),s(3),o(),a(4,"mat-card-subtitle"),s(5),o()(),a(6,"mat-card-content")(7,"div",28)(8,"span",29),s(9),o()(),a(10,"p",30),s(11),o(),a(12,"div",31)(13,"div",32)(14,"span",33),s(15,"Budget:"),o(),a(16,"span",34),s(17),o()(),_(18,ra,5,1,"div",32),o()(),a(19,"mat-card-actions")(20,"button",35),u("click",function(){let r=b(e).$implicit,l=d(4);return g(l.viewProject(r))}),a(21,"mat-icon"),s(22,"visibility"),o(),s(23," View Details "),o()()()}if(i&2){let e=n.$implicit,t=d(4);c(3),f(e.title),c(2),f(t.getBusinessName(e)),c(3),D(t.getStatusColor(e.status)),c(),C(" ",t.getStatusText(e.status)," "),c(2),f(e.description||"No description"),c(6),f(t.formatPrice(e.offered_price)),c(),m(e.deadline?18:-1)}}function ca(i,n){if(i&1&&(a(0,"div",2)(1,"h3",24),s(2,"Active Projects"),o(),a(3,"div",25),B(4,sa,24,8,"mat-card",26,Ne),o()()),i&2){let e=d(3);c(4),F(e.activeMyProjects())}}function la(i,n){if(i&1){let e=x();a(0,"mat-card",26)(1,"mat-card-header")(2,"mat-card-title",27),s(3),o(),a(4,"mat-card-subtitle"),s(5),o()(),a(6,"mat-card-content")(7,"div",28)(8,"span",29),s(9),o()(),a(10,"p",30),s(11),o(),a(12,"div",31)(13,"div",32)(14,"span",33),s(15,"Budget:"),o(),a(16,"span",34),s(17),o()(),a(18,"div",32)(19,"span",33),s(20,"Completed:"),o(),a(21,"span"),s(22),o()()()(),a(23,"mat-card-actions")(24,"button",35),u("click",function(){let r=b(e).$implicit,l=d(4);return g(l.viewProject(r))}),a(25,"mat-icon"),s(26,"visibility"),o(),s(27," View Details "),o()()()}if(i&2){let e=n.$implicit,t=d(4);c(3),f(e.title),c(2),f(t.getBusinessName(e)),c(3),D(t.getStatusColor(e.status)),c(),C(" ",t.getStatusText(e.status)," "),c(2),f(e.description||"No description"),c(6),f(t.formatPrice(e.offered_price)),c(5),f(t.formatDate(e.completed_at||e.updatedAt))}}function da(i,n){if(i&1&&(a(0,"div",2)(1,"h3",24),s(2,"Completed Projects"),o(),a(3,"div",25),B(4,la,28,8,"mat-card",26,Ne),o()()),i&2){let e=d(3);c(4),F(e.completedMyProjects())}}function ma(i,n){if(i&1&&_(0,oa,6,0,"div",2)(1,ca,6,0,"div",2)(2,da,6,0,"div",2),i&2){let e=d(2);m(e.pendingMyProjects().length>0?0:-1),c(),m(e.activeMyProjects().length>0?1:-1),c(),m(e.completedMyProjects().length>0?2:-1)}}function pa(i,n){i&1&&(a(0,"div",17)(1,"div",19)(2,"mat-icon",20),s(3,"business_center"),o()(),a(4,"h3",21),s(5,"No project inquiries yet"),o(),a(6,"p",22),s(7,"When clients are interested in your services, their project requests will appear here."),o()())}function ha(i,n){if(i&1){let e=x();a(0,"mat-card",36)(1,"mat-card-header")(2,"mat-card-title",27),s(3),o(),a(4,"mat-card-subtitle"),s(5),o()(),a(6,"mat-card-content")(7,"div",28)(8,"span",29),s(9),o()(),a(10,"p",30),s(11),o(),a(12,"div",31)(13,"div",32)(14,"span",33),s(15,"Client Budget:"),o(),a(16,"span",34),s(17),o()(),a(18,"div",32)(19,"span",33),s(20,"Received:"),o(),a(21,"span"),s(22),o()()()(),a(23,"mat-card-actions",37)(24,"button",35),u("click",function(){let r=b(e).$implicit,l=d(4);return g(l.viewProject(r))}),a(25,"mat-icon"),s(26,"visibility"),o(),s(27," View "),o(),a(28,"button",23),u("click",function(){let r=b(e).$implicit,l=d(4);return g(l.acceptProject(r))}),a(29,"mat-icon"),s(30,"check"),o(),s(31," Accept "),o(),a(32,"button",38),u("click",function(){let r=b(e).$implicit,l=d(4);return g(l.rejectProject(r))}),a(33,"mat-icon"),s(34,"close"),o(),s(35," Reject "),o()()()}if(i&2){let e=n.$implicit,t=d(4);c(3),f(e.title),c(2),f(t.getClientName(e)),c(3),D(t.getStatusColor(e.status)),c(),C(" ",t.getStatusText(e.status)," "),c(2),f(e.description||"No description"),c(6),f(t.formatPrice(e.offered_price)),c(5),f(t.formatDate(e.createdAt))}}function ua(i,n){if(i&1&&(a(0,"div",2)(1,"h3",24),s(2,"Pending Requests"),o(),a(3,"div",25),B(4,ha,36,8,"mat-card",36,Ne),o()()),i&2){let e=d(3);c(4),F(e.pendingBusinessProjects())}}function _a(i,n){if(i&1&&(a(0,"div",32)(1,"span",33),s(2,"Deadline:"),o(),a(3,"span"),s(4),o()()),i&2){let e=d().$implicit,t=d(4);c(4),f(t.formatDate(e.deadline))}}function ba(i,n){if(i&1){let e=x();a(0,"mat-card",26)(1,"mat-card-header")(2,"mat-card-title",27),s(3),o(),a(4,"mat-card-subtitle"),s(5),o()(),a(6,"mat-card-content")(7,"div",28)(8,"span",29),s(9),o()(),a(10,"p",30),s(11),o(),a(12,"div",31)(13,"div",32)(14,"span",33),s(15,"Budget:"),o(),a(16,"span",34),s(17),o()(),_(18,_a,5,1,"div",32),o()(),a(19,"mat-card-actions")(20,"button",35),u("click",function(){let r=b(e).$implicit,l=d(4);return g(l.viewProject(r))}),a(21,"mat-icon"),s(22,"visibility"),o(),s(23," View Details "),o()()()}if(i&2){let e=n.$implicit,t=d(4);c(3),f(e.title),c(2),f(t.getClientName(e)),c(3),D(t.getStatusColor(e.status)),c(),C(" ",t.getStatusText(e.status)," "),c(2),f(e.description||"No description"),c(6),f(t.formatPrice(e.offered_price)),c(),m(e.deadline?18:-1)}}function ga(i,n){if(i&1&&(a(0,"div",2)(1,"h3",24),s(2,"Active Projects"),o(),a(3,"div",25),B(4,ba,24,8,"mat-card",26,Ne),o()()),i&2){let e=d(3);c(4),F(e.activeBusinessProjects())}}function fa(i,n){if(i&1&&_(0,ua,6,0,"div",2)(1,ga,6,0,"div",2),i&2){let e=d(2);m(e.pendingBusinessProjects().length>0?0:-1),c(),m(e.activeBusinessProjects().length>0?1:-1)}}function va(i,n){if(i&1){let e=x();a(0,"mat-tab-group",14),u("selectedTabChange",function(r){b(e);let l=d();return g(l.onTabChange(r.index))}),a(1,"mat-tab",15)(2,"div",16),_(3,na,10,0,"div",17)(4,ma,3,3),o()(),a(5,"mat-tab",18)(6,"div",16),_(7,pa,8,0,"div",17)(8,fa,2,2),o()()()}if(i&2){let e=d();c(3),m(e.myProjects().length===0?3:4),c(4),m(e.businessProjects().length===0?7:8)}}var gt=class i{authService=p(W);projectService=p(Ee);router=p(we);loading=S(!1);error=S(null);myProjects=S([]);businessProjects=S([]);activeTab=S(0);user=this.authService.user;pendingMyProjects=j(()=>this.myProjects().filter(n=>n.status==="pending"));activeMyProjects=j(()=>this.myProjects().filter(n=>["accepted","in_progress"].includes(n.status)));completedMyProjects=j(()=>this.myProjects().filter(n=>n.status==="completed"));pendingBusinessProjects=j(()=>this.businessProjects().filter(n=>n.status==="pending"));activeBusinessProjects=j(()=>this.businessProjects().filter(n=>["accepted","in_progress"].includes(n.status)));ngOnInit(){if(!this.user()){this.router.navigate(["/auth"]);return}this.loadProjects()}loadProjects(){return w(this,null,function*(){this.loading.set(!0),this.error.set(null);try{let n=yield this.projectService.getMyProjectsAsync("client");this.myProjects.set(n);let e=yield this.projectService.getMyProjectsAsync("business_owner");this.businessProjects.set(e)}catch(n){console.error("Error loading projects:",n),this.error.set("Failed to load projects")}finally{this.loading.set(!1)}})}onTabChange(n){this.activeTab.set(n)}getStatusColor(n){return{pending:"bg-yellow-100 text-yellow-800",accepted:"bg-blue-100 text-blue-800",in_progress:"bg-purple-100 text-purple-800",completed:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800"}[n]||"bg-gray-100 text-gray-800"}getStatusText(n){return{pending:"Pending",accepted:"Accepted",in_progress:"In Progress",completed:"Completed",rejected:"Rejected",cancelled:"Cancelled"}[n]||n}formatPrice(n){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n)}formatDate(n){try{return(typeof n=="string"?new Date(n):n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"Unknown"}}getBusinessName(n){return typeof n.business_id=="object"&&n.business_id.name?n.business_id.name:"Unknown Business"}getClientName(n){if(typeof n.client_id=="object"){let e=n.client_id;return`${e.first_name} ${e.last_name}`}return"Unknown Client"}viewProject(n){this.router.navigate(["/dashboard/projects",n._id])}acceptProject(n){return w(this,null,function*(){try{yield this.projectService.updateProjectAsync(n._id,{status:"accepted"}),this.loadProjects()}catch(e){console.error("Error accepting project:",e),this.error.set("Failed to accept project")}})}rejectProject(n){return w(this,null,function*(){let e=prompt("Please provide a reason for rejection:");if(e)try{yield this.projectService.updateProjectAsync(n._id,{status:"rejected",rejection_reason:e}),this.loadProjects()}catch(t){console.error("Error rejecting project:",t),this.error.set("Failed to reject project")}})}navigateToHome(){this.router.navigate(["/"])}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=T({type:i,selectors:[["app-projects"]],decls:10,vars:2,consts:[[1,"min-h-screen","bg-gray-50","p-6"],[1,"max-w-7xl","mx-auto"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-gray-600"],[1,"mb-6","bg-red-50","border-l-4","border-red-400","p-4","rounded-r-lg"],[1,"flex","items-center","justify-center","py-12"],[1,"projects-tabs"],[1,"flex"],[1,"text-red-400","mr-3"],[1,"text-sm","font-medium","text-red-800"],[1,"mt-1","text-sm","text-red-700"],["diameter","40"],[1,"ml-3","text-gray-600"],[1,"projects-tabs",3,"selectedTabChange"],["label","My Project Requests"],[1,"py-6"],[1,"bg-white","rounded-xl","border","border-gray-200","p-12","text-center"],["label","Business Inquiries"],[1,"p-4","bg-gray-50","rounded-full","w-20","h-20","mx-auto","mb-6","flex","items-center","justify-center"],[1,"text-gray-400","text-4xl"],[1,"text-xl","font-medium","text-gray-900","mb-2"],[1,"text-gray-500","mb-6"],["mat-raised-button","","color","primary",3,"click"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"project-card"],[1,"text-base"],[1,"mb-3"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium"],[1,"text-sm","text-gray-600","mb-3","line-clamp-2"],[1,"space-y-2","text-sm"],[1,"flex","items-center","justify-between"],[1,"text-gray-500"],[1,"font-semibold"],["mat-button","",3,"click"],[1,"project-card","pending-request"],[1,"action-buttons"],["mat-button","","color","warn",3,"click"]],template:function(e,t){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),s(4,"Projects"),o(),a(5,"p",4),s(6,"Manage your project requests and business inquiries"),o()(),_(7,ta,9,1,"div",5)(8,ia,4,0,"div",6)(9,va,9,2,"mat-tab-group",7),o()()),e&2&&(c(7),m(t.error()?7:-1),c(),m(t.loading()?8:9))},dependencies:[Q,ci,bt,Ve,_t,de,Te,Vi,Pe,je,Me,Ie,en,Y,K,ce,se,ht,pt],styles:[".projects-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-body-wrapper{padding-top:0}.project-card[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.project-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026;transform:translateY(-2px)}.project-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{padding-bottom:8px}.project-card[_ngcontent-%COMP%]   .mat-mdc-card-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;line-height:1.4}.project-card[_ngcontent-%COMP%]   .mat-mdc-card-subtitle[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;margin-top:4px}.project-card[_ngcontent-%COMP%]   .mat-mdc-card-content[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.project-card[_ngcontent-%COMP%]   .mat-mdc-card-actions[_ngcontent-%COMP%]{padding-top:8px;display:flex;align-items:center;gap:8px}.project-card[_ngcontent-%COMP%]   .mat-mdc-card-actions.action-buttons[_ngcontent-%COMP%]{flex-wrap:wrap}.project-card[_ngcontent-%COMP%]   .mat-mdc-card-actions.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;min-width:80px}.project-card.pending-request[_ngcontent-%COMP%]{border-left:4px solid #f59e0b;background:linear-gradient(135deg,#fffbeb,#fef3c7)}.line-clamp-2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.status-badge[_ngcontent-%COMP%]{font-weight:500;text-transform:capitalize}@media (max-width: 768px){.project-card[_ngcontent-%COMP%]   .mat-mdc-card-actions.action-buttons[_ngcontent-%COMP%]{flex-direction:column}.project-card[_ngcontent-%COMP%]   .mat-mdc-card-actions.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}.empty-state[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#f1f5f9);border:2px dashed #e2e8f0}"]})};var ya=()=>["pending","accepted","in_progress"],xa=(i,n)=>n.url,Ca=(i,n)=>n.name,nn=(i,n)=>n._id;function wa(i,n){i&1&&(a(0,"button",15)(1,"mat-icon",17),s(2,"hourglass_empty"),o(),s(3," Loading... "),o())}function ka(i,n){if(i&1&&(a(0,"span",19),s(1),o()),i&2){let e=d(3);c(),C(" ",e.chatUnreadCount()," ")}}function Sa(i,n){if(i&1){let e=x();a(0,"button",18),u("click",function(){b(e);let r=d(2);return g(r.goToExistingChat())}),a(1,"mat-icon",17),s(2,"chat"),o(),s(3," Open Chat "),_(4,ka,2,1,"span",19),o()}if(i&2){let e=d(2);c(4),m(e.chatUnreadCount()>0?4:-1)}}function Ea(i,n){i&1&&(a(0,"button",15)(1,"mat-icon",17),s(2,"hourglass_empty"),o(),s(3," Loading... "),o())}function Ta(i,n){if(i&1&&(a(0,"span",19),s(1),o()),i&2){let e=d(5);c(),C(" ",e.chatUnreadCount()," ")}}function Ia(i,n){if(i&1){let e=x();a(0,"button",18),u("click",function(){b(e);let r=d(4);return g(r.goToExistingChat())}),a(1,"mat-icon",17),s(2,"chat"),o(),s(3," Open Chat "),_(4,Ta,2,1,"span",19),o()}if(i&2){let e=d(4);c(4),m(e.chatUnreadCount()>0?4:-1)}}function Pa(i,n){if(i&1){let e=x();a(0,"button",21),u("click",function(){b(e);let r=d(4);return g(r.startChat())}),a(1,"mat-icon",17),s(2,"chat"),o(),s(3," Start Chat "),o()}}function Ma(i,n){if(i&1&&_(0,Ea,4,0,"button",15)(1,Ia,5,1,"button",16)(2,Pa,4,0,"button",20),i&2){let e=d(3);m(e.loadingChat()?0:e.existingChat()?1:2)}}function ja(i,n){if(i&1&&_(0,Ma,3,1),i&2){let e=d(2);m(e.project()&&(e.project().status==="accepted"||e.project().status==="in_progress"||e.project().status==="completed")?0:-1)}}function Da(i,n){if(i&1&&_(0,wa,4,0,"button",15)(1,Sa,5,1,"button",16)(2,ja,1,1),i&2){let e=d();m(e.loadingChat()?0:e.existingChat()?1:2)}}function Ra(i,n){if(i&1&&(a(0,"span",24),s(1),o()),i&2){let e=d(2);c(),C(" ",e.chatUnreadCount()," ")}}function Aa(i,n){if(i&1){let e=x();a(0,"button",22),u("click",function(){b(e);let r=d();return g(r.navigateToChat())}),a(1,"mat-icon",23),s(2,"chat"),o(),s(3," Chat with Client "),_(4,Ra,2,1,"span",24),o(),a(5,"button",25),u("click",function(){b(e);let r=d();return g(r.acceptProject())}),a(6,"mat-icon",23),s(7,"check_circle"),o(),s(8," Accept Project "),o(),a(9,"button",26),u("click",function(){b(e);let r=d();return g(r.rejectProject())}),a(10,"mat-icon",23),s(11,"cancel"),o(),s(12," Reject Project "),o()}if(i&2){let e=d();c(4),m(e.chatUnreadCount()>0?4:-1)}}function Ba(i,n){if(i&1&&(a(0,"span",24),s(1),o()),i&2){let e=d(2);c(),C(" ",e.chatUnreadCount()," ")}}function Fa(i,n){if(i&1){let e=x();a(0,"button",22),u("click",function(){b(e);let r=d();return g(r.navigateToChat())}),a(1,"mat-icon",23),s(2,"chat"),o(),s(3," Chat with Client "),_(4,Ba,2,1,"span",24),o(),a(5,"button",25),u("click",function(){b(e);let r=d();return g(r.markInProgress())}),a(6,"mat-icon",23),s(7,"play_arrow"),o(),s(8," Start Project "),o()}if(i&2){let e=d();c(4),m(e.chatUnreadCount()>0?4:-1)}}function La(i,n){if(i&1&&(a(0,"span",24),s(1),o()),i&2){let e=d(2);c(),C(" ",e.chatUnreadCount()," ")}}function Oa(i,n){if(i&1){let e=x();a(0,"button",22),u("click",function(){b(e);let r=d();return g(r.navigateToChat())}),a(1,"mat-icon",23),s(2,"chat"),o(),s(3," Chat with Client "),_(4,La,2,1,"span",24),o(),a(5,"button",27),u("click",function(){b(e);let r=d();return g(r.markCompleted())}),a(6,"mat-icon",23),s(7,"check"),o(),s(8," Mark as Completed "),o()}if(i&2){let e=d();c(4),m(e.chatUnreadCount()>0?4:-1)}}function Va(i,n){i&1&&s(0," Chat with Business ")}function Na(i,n){i&1&&s(0," Chat with Business Owner ")}function za(i,n){if(i&1&&(a(0,"span",24),s(1),o()),i&2){let e=d(2);c(),C(" ",e.chatUnreadCount()," ")}}function qa(i,n){if(i&1){let e=x();a(0,"div",9)(1,"h3",28),s(2,"Client Actions"),o(),a(3,"div",29)(4,"button",22),u("click",function(){b(e);let r=d();return g(r.navigateToChat())}),a(5,"mat-icon",23),s(6,"chat"),o(),_(7,Va,1,0)(8,Na,1,0)(9,za,2,1,"span",24),o()()()}if(i&2){let e=d();c(7),m(e.project().status==="pending"?7:8),c(2),m(e.chatUnreadCount()>0?9:-1)}}function Ha(i,n){if(i&1&&(a(0,"span",24),s(1),o()),i&2){let e=d(2);c(),C(" ",e.chatUnreadCount()," ")}}function Ga(i,n){if(i&1){let e=x();a(0,"div",10)(1,"h3",28),s(2,"Project Completion Review"),o(),a(3,"p",30),s(4,"The business owner has marked this project as completed. Please review the work and approve or reject the completion."),o(),a(5,"div",29)(6,"button",25),u("click",function(){b(e);let r=d();return g(r.approveCompletion())}),a(7,"mat-icon",23),s(8,"check_circle"),o(),s(9," Approve Completion "),o(),a(10,"button",26),u("click",function(){b(e);let r=d();return g(r.rejectCompletion())}),a(11,"mat-icon",23),s(12,"cancel"),o(),s(13," Request Changes "),o(),a(14,"button",22),u("click",function(){b(e);let r=d();return g(r.navigateToChat())}),a(15,"mat-icon",23),s(16,"chat"),o(),s(17," Discuss with Business Owner "),_(18,Ha,2,1,"span",24),o()()()}if(i&2){let e=d();c(18),m(e.chatUnreadCount()>0?18:-1)}}function Qa(i,n){i&1&&(a(0,"p",30),s(1,"You have already reviewed this project. Click below to view your review."),o())}function Ua(i,n){i&1&&(a(0,"p",30),s(1,"Share your experience with this business to help other clients make informed decisions."),o())}function $a(i,n){if(i&1){let e=x();a(0,"div",11)(1,"h3",28),s(2,"Project Review"),o(),_(3,Qa,2,0,"p",30)(4,Ua,2,0,"p",30),a(5,"div",29)(6,"button",31),u("click",function(){b(e);let r=d();return g(r.handleReviewAction())}),a(7,"mat-icon",23),s(8),o(),s(9),o()()()}if(i&2){let e=d();c(3),m(e.existingReview()?3:4),c(5),f(e.existingReview()?"visibility":"star"),c(),C(" ",e.reviewButtonText()," ")}}function Wa(i,n){if(i&1&&(a(0,"div",12)(1,"div",32)(2,"div",33)(3,"mat-icon",34),s(4,"error"),o()(),a(5,"div",35)(6,"h3",36),s(7,"Error"),o(),a(8,"p",37),s(9),o()()()()),i&2){let e=d();c(9),f(e.error())}}function Ka(i,n){i&1&&(a(0,"div",13),v(1,"mat-spinner",38),a(2,"p",39),s(3,"Loading project details..."),o()())}function Ya(i,n){if(i&1&&s(0),i&2){let e=d(2);C(" Project with ",e.getBusinessName(e.project())," ")}}function Za(i,n){if(i&1&&s(0),i&2){let e=d(2);C(" Project from ",e.getClientName(e.project())," ")}}function Xa(i,n){if(i&1&&(a(0,"div")(1,"h3",62),s(2,"Description"),o(),a(3,"p",63),s(4),o()()),i&2){let e=d(2);c(4),f(e.project().description)}}function Ja(i,n){if(i&1&&(a(0,"div")(1,"h3",62),s(2,"Additional Notes"),o(),a(3,"p",63),s(4),o()()),i&2){let e=d(2);c(4),f(e.project().additional_notes)}}function eo(i,n){if(i&1&&(a(0,"div")(1,"h3",62),s(2,"Project Image"),o(),a(3,"div",64),v(4,"img",65),o()()),i&2){let e=d(2);c(4),k("src",e.project().image_url,ue)("alt",e.project().title)}}function to(i,n){if(i&1&&(a(0,"div",67)(1,"div",69)(2,"div",70)(3,"mat-icon",71),s(4),o()(),a(5,"div",72)(6,"p",73),s(7),o(),a(8,"p",74),s(9),o(),a(10,"p",75),s(11),o()()(),a(12,"a",76)(13,"mat-icon",77),s(14,"download"),o(),s(15," Download "),o()()),i&2){let e=n.$implicit,t=d(3);c(4),f(t.getFileIcon(e.type)),c(3),f(e.name),c(2),f(t.formatFileSize(e.size)),c(2),f(e.type.split("/")[1]||"file"),c(),k("href",e.url,ue)}}function io(i,n){if(i&1&&(a(0,"div")(1,"h3",28),s(2,"Project Documents"),o(),a(3,"div",66),B(4,to,16,5,"div",67,xa),o(),a(6,"p",68),s(7),o()()),i&2){let e=d(2);c(4),F(e.project().attachments),c(3),C("",e.project().attachments.length," document(s) attached to this project")}}function no(i,n){if(i&1&&(a(0,"p",83),s(1),o()),i&2){let e=d().$implicit;c(),f(e.description)}}function ao(i,n){if(i&1&&(a(0,"div",84)(1,"mat-icon",77),s(2,"attach_money"),o(),s(3),o()),i&2){let e=d().$implicit,t=d(3);c(3),C(" ",t.formatServicePrice(e.price,e.pricing_type)," ")}}function oo(i,n){i&1&&(a(0,"div",85)(1,"mat-icon",77),s(2,"help_outline"),o(),s(3," Price not specified "),o())}function ro(i,n){if(i&1&&(a(0,"div",79)(1,"div",43)(2,"div",44)(3,"div",80)(4,"mat-icon",81),s(5,"star"),o(),a(6,"h4",82),s(7),o()(),_(8,no,2,1,"p",83)(9,ao,4,1,"div",84)(10,oo,4,0,"div",85),o()()()),i&2){let e=n.$implicit;c(7),f(e.name),c(),m(e.description?8:-1),c(),m(e.price?9:10)}}function so(i,n){if(i&1&&(a(0,"div")(1,"h3",28),s(2,"Selected Services"),o(),a(3,"div",78),B(4,ro,11,3,"div",79,Ca),o(),a(6,"p",68),s(7),o()()),i&2){let e=d(2);c(4),F(e.getServiceDetails(e.project())),c(3),C("",e.getServiceDetails(e.project()).length," service(s) selected for this project")}}function co(i,n){i&1&&(a(0,"div")(1,"h3",62),s(2,"Selected Services"),o(),a(3,"div",86)(4,"div",87)(5,"mat-icon",88),s(6,"info"),o(),a(7,"p",89),s(8,"No specific services selected for this project"),o()()()())}function lo(i,n){if(i&1&&(a(0,"div",48)(1,"h3",90)(2,"mat-icon",91),s(3,"error_outline"),o(),s(4," Rejection Reason "),o(),a(5,"p",92),s(6),o()()),i&2){let e=d(2);c(6),f(e.project().rejection_reason)}}function mo(i,n){i&1&&s(0," Business Information ")}function po(i,n){i&1&&s(0," Client Information ")}function ho(i,n){if(i&1&&v(0,"img",93),i&2){let e=d();k("src",e.logo_url,ue)("alt",e.name)}}function uo(i,n){i&1&&(a(0,"div",94)(1,"mat-icon",97),s(2,"business"),o()())}function _o(i,n){if(i&1&&(a(0,"div",96)(1,"mat-icon",98),s(2,"link"),o(),a(3,"span",99),s(4),o()()),i&2){let e=d();c(4),C("/business/",e.slug,"")}}function bo(i,n){if(i&1){let e=x();a(0,"div",51),_(1,ho,1,2,"img",93)(2,uo,3,0,"div",94),a(3,"div",44)(4,"button",95),u("click",function(){let r=b(e),l=d(2);return g(l.navigateToBusinessProfile(r.slug))}),s(5),o(),a(6,"p",5),s(7,"Click to view business profile"),o(),_(8,_o,5,1,"div",96),o()()}if(i&2){let e=n;c(),m(e.logo_url?1:2),c(4),C(" ",e.name," "),c(3),m(e.slug?8:-1)}}function go(i,n){if(i&1&&(a(0,"p",5),s(1),o()),i&2){let e=d();c(),f(e.email)}}function fo(i,n){if(i&1&&(a(0,"div",51)(1,"div",100)(2,"mat-icon",97),s(3,"person"),o()(),a(4,"div",44)(5,"h3",101),s(6),o(),_(7,go,2,1,"p",5),a(8,"p",102),s(9,"Project Client"),o()()()),i&2){let e=n;c(6),ai(" ",e.first_name," ",e.last_name," "),c(),m(e.email?7:-1)}}function vo(i,n){if(i&1&&(a(0,"div",59)(1,"p",57),s(2,"Deadline"),o(),a(3,"p",54),s(4),o()()),i&2){let e=d(2);c(4),f(e.formatDate(e.project().deadline))}}function yo(i,n){if(i&1&&(a(0,"div",59)(1,"p",57),s(2,"Accepted"),o(),a(3,"p",54),s(4),o()()),i&2){let e=d(2);c(4),f(e.formatDate(e.project().accepted_at))}}function xo(i,n){if(i&1&&(a(0,"div",59)(1,"p",57),s(2,"Completed"),o(),a(3,"p",54),s(4),o()()),i&2){let e=d(2);c(4),f(e.formatDate(e.project().completed_at))}}function Co(i,n){if(i&1&&(a(0,"div",59)(1,"p",57),s(2,"Rejected"),o(),a(3,"p",54),s(4),o()()),i&2){let e=d(2);c(4),f(e.formatDate(e.project().rejected_at))}}function wo(i,n){i&1&&(a(0,"div",105),v(1,"mat-spinner",107),a(2,"span",108),s(3,"Loading payment requests..."),o()())}function ko(i,n){if(i&1&&(a(0,"p",112),s(1),o()),i&2){let e=d().$implicit;c(),f(e.payment_description)}}function So(i,n){if(i&1&&(a(0,"p",89),s(1),o()),i&2){let e=d().$implicit;c(),f(e.content)}}function Eo(i,n){if(i&1){let e=x();a(0,"div",113)(1,"button",114),u("click",function(){b(e);let r=d().$implicit,l=d(4);return g(l.approvePaymentRequest(r))}),a(2,"mat-icon",77),s(3,"check"),o(),s(4," Approve & Pay "),o(),a(5,"button",115),u("click",function(){b(e);let r=d().$implicit,l=d(4);return g(l.rejectPaymentRequest(r))}),a(6,"mat-icon",77),s(7,"close"),o(),s(8," Reject "),o()()}}function To(i,n){if(i&1&&(a(0,"div",109)(1,"div",110)(2,"div",44)(3,"div",80)(4,"span"),s(5),re(6,"titlecase"),o(),a(7,"span",74),s(8),o()(),a(9,"h4",111),s(10),re(11,"currency"),o(),_(12,ko,2,1,"p",112)(13,So,2,1,"p",89),o()(),_(14,Eo,9,0,"div",113),o()),i&2){let e=n.$implicit,t=d(4);c(4),D("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+t.getPaymentStatusColor(e.payment_status||"pending")),c(),C(" ",Ce(6,8,e.payment_status||"pending")," "),c(3),f(t.formatPaymentTime(e.createdAt)),c(2),C(" ",Dt(11,10,e.payment_amount,"USD","symbol","1.0-0")," "),c(2),m(e.payment_description?12:-1),c(),m(e.content?13:-1),c(),m(e.payment_status==="pending"?14:-1)}}function Io(i,n){if(i&1&&B(0,To,15,15,"div",109,nn),i&2){let e=d(3);F(e.pendingPaymentRequests())}}function Po(i,n){i&1&&(a(0,"div",106)(1,"mat-icon",116),s(2,"payment"),o(),a(3,"p",89),s(4,"No pending payment requests"),o()())}function Mo(i,n){if(i&1&&(a(0,"div",41)(1,"div",53)(2,"h3",103)(3,"mat-icon",104),s(4,"payment"),o(),s(5," Payment Requests "),o()(),a(6,"div",60),_(7,wo,4,0,"div",105)(8,Io,2,0)(9,Po,5,0,"div",106),o()()),i&2){let e=d(2);c(7),m(e.loadingPaymentRequests()?7:8),c(2),m(!e.loadingPaymentRequests()&&e.pendingPaymentRequests().length===0?9:-1)}}function jo(i,n){i&1&&(a(0,"div",105),v(1,"mat-spinner",107),a(2,"span",108),s(3,"Loading payment history..."),o()())}function Do(i,n){if(i&1&&(a(0,"p",122),s(1),o()),i&2){let e=d().$implicit;c(),f(e.payment_description)}}function Ro(i,n){if(i&1&&(a(0,"p",99),s(1),o()),i&2){let e=d().$implicit;c(),f(e.content)}}function Ao(i,n){i&1&&(a(0,"mat-icon",124),s(1,"check_circle"),o())}function Bo(i,n){i&1&&(a(0,"mat-icon",125),s(1,"cancel"),o())}function Fo(i,n){i&1&&(a(0,"mat-icon",126),s(1,"schedule"),o())}function Lo(i,n){if(i&1){let e=x();a(0,"div",113)(1,"button",114),u("click",function(){b(e);let r=d().$implicit,l=d(4);return g(l.approvePaymentRequest(r))}),a(2,"mat-icon",77),s(3,"check"),o(),s(4," Approve & Pay "),o(),a(5,"button",115),u("click",function(){b(e);let r=d().$implicit,l=d(4);return g(l.rejectPaymentRequest(r))}),a(6,"mat-icon",77),s(7,"close"),o(),s(8," Reject "),o()()}}function Oo(i,n){if(i&1&&(a(0,"div",120)(1,"div",110)(2,"div",44)(3,"div",80)(4,"span"),s(5),re(6,"titlecase"),o(),a(7,"span",74),s(8),o()(),a(9,"h4",121),s(10),re(11,"currency"),o(),_(12,Do,2,1,"p",122)(13,Ro,2,1,"p",99),o(),a(14,"div",123),_(15,Ao,2,0,"mat-icon",124)(16,Bo,2,0,"mat-icon",125)(17,Fo,2,0,"mat-icon",126),o()(),_(18,Lo,9,0,"div",113),o()),i&2){let e=n.$implicit,t=d(4);c(4),D("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+t.getPaymentStatusColor(e.payment_status||"pending")),c(),C(" ",Ce(6,9,e.payment_status||"pending")," "),c(3),f(t.formatPaymentTime(e.createdAt)),c(2),C(" ",Dt(11,11,e.payment_amount,"USD","symbol","1.0-0")," "),c(2),m(e.payment_description?12:-1),c(),m(e.content?13:-1),c(2),m(e.payment_status==="approved"?15:e.payment_status==="rejected"?16:17),c(3),m(e.payment_status==="pending"&&t.isClient()?18:-1)}}function Vo(i,n){if(i&1&&(a(0,"div",78),B(1,Oo,19,16,"div",120,nn),o()),i&2){let e=d(3);c(),F(e.paymentRequests())}}function No(i,n){i&1&&(a(0,"div",119)(1,"mat-icon",127),s(2,"payment"),o(),a(3,"p",89),s(4,"No payment requests have been made for this project"),o()())}function zo(i,n){if(i&1&&(a(0,"div",41)(1,"div",53)(2,"h3",103)(3,"mat-icon",117),s(4,"history"),o(),s(5," Payment Request History "),o()(),a(6,"div",118),_(7,jo,4,0,"div",105)(8,Vo,3,0,"div",78)(9,No,5,0,"div",119),o()()),i&2){let e=d(2);c(7),m(e.loadingPaymentRequests()?7:8),c(2),m(!e.loadingPaymentRequests()&&e.paymentRequests().length===0?9:-1)}}function qo(i,n){if(i&1){let e=x();a(0,"div",14)(1,"div",40)(2,"div",41)(3,"div",42)(4,"div",43)(5,"div",44)(6,"h2",45),s(7),o(),a(8,"p",5),_(9,Ya,1,1)(10,Za,1,1),o()(),a(11,"div",46)(12,"span"),s(13),o()()()(),a(14,"div",47),_(15,Xa,5,1,"div")(16,Ja,5,1,"div")(17,eo,5,2,"div")(18,io,8,1,"div")(19,so,8,1,"div")(20,co,9,0,"div")(21,lo,7,1,"div",48),o()(),a(22,"div",41)(23,"div",42)(24,"h2",49),_(25,mo,1,0)(26,po,1,0),o()(),a(27,"div",50),_(28,bo,9,3,"div",51)(29,fo,10,3,"div",51),o()()(),a(30,"div",52)(31,"div",41)(32,"div",53)(33,"h3",54),s(34,"Project Details"),o()(),a(35,"div",55)(36,"div",56)(37,"p",57),s(38,"Budget"),o(),a(39,"p",58),s(40),o()(),_(41,vo,5,1,"div",59),a(42,"div",59)(43,"p",57),s(44,"Created"),o(),a(45,"p",54),s(46),o()(),_(47,yo,5,1,"div",59)(48,xo,5,1,"div",59)(49,Co,5,1,"div",59),o()(),_(50,Mo,10,2,"div",41)(51,zo,10,2,"div",41),a(52,"div",41)(53,"div",53)(54,"h3",54),s(55,"Actions"),o()(),a(56,"div",60)(57,"button",61),u("click",function(){b(e);let r=d();return g(r.goBack())}),a(58,"mat-icon",17),s(59,"arrow_back"),o(),s(60," Back to Projects "),o()()()()()}if(i&2){let e,t,r=d();c(7),f(r.project().title),c(2),m(r.isClient()?9:r.isBusinessOwner()?10:-1),c(3),D("inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold "+r.getStatusColor(r.project().status)),c(),C(" ",r.getStatusText(r.project().status)," "),c(2),m(r.project().description?15:-1),c(),m(r.project().additional_notes?16:-1),c(),m(r.project().image_url?17:-1),c(),m(r.project().attachments&&r.project().attachments.length>0?18:-1),c(),m(r.getServiceDetails(r.project()).length>0?19:20),c(2),m(r.project().rejection_reason?21:-1),c(4),m(r.isClient()?25:r.isBusinessOwner()?26:-1),c(3),m((e=r.isClient()&&r.getBusinessInfo(r.project()))?28:-1,e),c(),m((t=r.isBusinessOwner()&&r.getClientInfo(r.project()))?29:-1,t),c(11),f(r.formatPrice(r.project().offered_price)),c(),m(r.project().deadline?41:-1),c(5),f(r.formatDate(r.project().createdAt)),c(),m(r.project().accepted_at?47:-1),c(),m(r.project().completed_at?48:-1),c(),m(r.project().rejected_at?49:-1),c(),m(r.isClient()&&r.hasPendingPaymentRequests()?50:-1),c(),m(r.paymentRequests().length>0?51:-1)}}var ft=class i{route=p(Ye);router=p(we);projectService=p(Ee);authService=p(W);chatService=p(Hi);reviewService=p(zi);dashboardRefreshService=p(Ni);dialog=p(qi);loading=S(!1);error=S(null);project=S(null);existingChat=S(null);chatUnreadCount=S(0);loadingChat=S(!1);paymentRequests=S([]);loadingPaymentRequests=S(!1);canLeaveReview=S(!1);existingReview=S(null);user=this.authService.user;isClient=j(()=>{let n=this.project(),e=this.user();if(!n||!e)return!1;let t=typeof n.client_id=="string"?n.client_id:n.client_id?._id;return e._id===t});isBusinessOwner=j(()=>{let n=this.project(),e=this.user();if(!n||!e)return!1;let t=typeof n.business_owner_id=="string"?n.business_owner_id:n.business_owner_id?._id;return e._id===t});pendingPaymentRequests=j(()=>this.paymentRequests().filter(n=>n.message_type==="payment_request"&&n.payment_status==="pending"));approvedPaymentRequests=j(()=>this.paymentRequests().filter(n=>n.message_type==="payment_request"&&n.payment_status==="approved"));rejectedPaymentRequests=j(()=>this.paymentRequests().filter(n=>n.message_type==="payment_request"&&n.payment_status==="rejected"));hasPendingPaymentRequests=j(()=>this.pendingPaymentRequests().length>0);hasPaymentHistory=j(()=>this.paymentRequests().length>0);reviewButtonText=j(()=>{let n=this.existingReview(),e=this.canLeaveReview();return n?`View Review (${n.rating}\u2B50)`:e?"Leave Review":""});showReviewButton=j(()=>{let n=this.canLeaveReview(),e=this.existingReview();return!!(n||e)});ngOnInit(){if(!this.user()){this.router.navigate(["/auth"]);return}let n=this.route.snapshot.params.id;if(!n){this.error.set("Project ID is required"),this.router.navigate(["/dashboard/projects"]);return}this.loadProject(n)}loadProject(n){return w(this,null,function*(){this.loading.set(!0),this.error.set(null);try{let e=yield this.projectService.getProjectAsync(n);if(this.project.set(e),e.status==="accepted"||e.status==="in_progress"||e.status==="awaiting_client_approval"||e.status==="completed"){yield this.checkForExistingChat(n);let t=this.existingChat();t&&(yield this.loadPaymentRequests(t._id))}yield this.checkReviewEligibility(),console.log("Review service available:",!!this.reviewService)}catch(e){console.error("Error loading project:",e),this.error.set("Failed to load project details")}finally{this.loading.set(!1)}})}checkForExistingChat(n){return w(this,null,function*(){this.loadingChat.set(!0);try{let e=yield this.chatService.getChatByProjectIdAsync(n);if(this.existingChat.set(e),e){let t=yield this.chatService.getChatUnreadCountAsync(e._id);this.chatUnreadCount.set(t)}}catch(e){console.error("Error checking for existing chat:",e)}finally{this.loadingChat.set(!1)}})}loadPaymentRequests(n){return w(this,null,function*(){this.loadingPaymentRequests.set(!0);try{let t=(yield this.chatService.getChatMessagesAsync(n)).filter(r=>r.message_type==="payment_request");this.paymentRequests.set(t)}catch(e){console.error("Error loading payment requests:",e)}finally{this.loadingPaymentRequests.set(!1)}})}goBack(){this.router.navigate(["/dashboard/projects"])}acceptProject(){return w(this,null,function*(){let n=this.project();if(n)try{yield this.projectService.updateProjectAsync(n._id,{status:"accepted"}),this.loadProject(n._id),this.dashboardRefreshService.triggerRefresh()}catch(e){console.error("Error accepting project:",e),this.error.set("Failed to accept project")}})}rejectProject(){return w(this,null,function*(){let n=this.project();if(!n)return;let e=prompt("Please provide a reason for rejection:");if(e)try{yield this.projectService.updateProjectAsync(n._id,{status:"rejected",rejection_reason:e}),this.loadProject(n._id),this.dashboardRefreshService.triggerRefresh()}catch(t){console.error("Error rejecting project:",t),this.error.set("Failed to reject project")}})}markInProgress(){return w(this,null,function*(){let n=this.project();if(n)try{yield this.projectService.updateProjectAsync(n._id,{status:"in_progress"}),this.loadProject(n._id),this.dashboardRefreshService.triggerRefresh()}catch(e){console.error("Error marking project as in progress:",e),this.error.set("Failed to update project status")}})}markCompleted(){return w(this,null,function*(){let n=this.project();if(n)try{yield this.projectService.updateProjectAsync(n._id,{status:"completed"}),this.loadProject(n._id),this.dashboardRefreshService.triggerRefresh()}catch(e){console.error("Error marking project as completed:",e),this.error.set("Failed to update project status")}})}startChat(){return w(this,null,function*(){let n=this.project();if(n)try{let e=yield this.chatService.createOrGetChatAsync({project_id:n._id});this.router.navigate(["/dashboard/messages/chat",e._id])}catch(e){console.error("Error starting chat:",e),alert("Failed to start chat. Please try again.")}})}goToExistingChat(){return w(this,null,function*(){let n=this.existingChat();n&&this.router.navigate(["/dashboard/messages/chat",n._id])})}getStatusColor(n){return{pending:"bg-yellow-100 text-yellow-800 border-yellow-200",accepted:"bg-blue-100 text-blue-800 border-blue-200",in_progress:"bg-purple-100 text-purple-800 border-purple-200",awaiting_client_approval:"bg-orange-100 text-orange-800 border-orange-200",completed:"bg-green-100 text-green-800 border-green-200",rejected:"bg-red-100 text-red-800 border-red-200",cancelled:"bg-gray-100 text-gray-800 border-gray-200"}[n]||"bg-gray-100 text-gray-800 border-gray-200"}getStatusText(n){return{pending:"Pending",accepted:"Accepted",in_progress:"In Progress",awaiting_client_approval:"Awaiting Your Approval",completed:"Completed",rejected:"Rejected",cancelled:"Cancelled"}[n]||n}approveCompletion(){return w(this,null,function*(){let n=this.project();if(n)try{let e=this.existingChat();if(e){let r=(yield this.chatService.getChatMessagesAsync(e._id)).filter(l=>l.message_type==="completion_request"&&l.completion_status==="pending").sort((l,h)=>new Date(h.createdAt).getTime()-new Date(l.createdAt).getTime())[0];r&&(yield this.chatService.respondToCompletionRequestAsync(e._id,r._id,{status:"approved"}))}else yield this.projectService.updateProjectAsync(n._id,{status:"completed"});yield this.loadProject(n._id),yield this.checkReviewEligibility(),this.dashboardRefreshService.triggerRefresh()}catch(e){console.error("Error approving completion:",e),this.error.set("Failed to approve completion")}})}rejectCompletion(){return w(this,null,function*(){let n=this.project();if(!n)return;let e=prompt("Please provide a reason for rejecting the completion:");if(e)try{let t=this.existingChat();if(t){let l=(yield this.chatService.getChatMessagesAsync(t._id)).filter(h=>h.message_type==="completion_request"&&h.completion_status==="pending").sort((h,y)=>new Date(y.createdAt).getTime()-new Date(h.createdAt).getTime())[0];l&&(yield this.chatService.respondToCompletionRequestAsync(t._id,l._id,{status:"rejected",rejection_reason:e}))}else yield this.projectService.updateProjectAsync(n._id,{status:"in_progress"});yield this.loadProject(n._id),this.dashboardRefreshService.triggerRefresh()}catch(t){console.error("Error rejecting completion:",t),this.error.set("Failed to reject completion")}})}canApproveCompletion(){let n=this.project(),e=this.user();if(!n||!e)return!1;let t=typeof n.client_id=="string"?n.client_id:n.client_id?._id;return n.status==="awaiting_client_approval"&&t===e._id}approvePaymentRequest(n){return w(this,null,function*(){try{let e=this.existingChat(),t=this.project();if(!e||!t)return;let r=typeof t.business_id=="string"?"Business Owner":t.business_id?.name||"Business Owner";this.dialog.open(Gi,{width:"500px",disableClose:!0,data:{amount:n.payment_amount?.toString()||"0",description:n.payment_description||"Additional payment",businessName:r,chatId:e._id,messageId:n._id}}).afterClosed().subscribe(h=>w(this,null,function*(){if(h&&h.paymentIntentId)try{yield this.loadPaymentRequests(e._id),console.log("Payment approved successfully with method:",h.paymentMethod),console.log("Payment completed for amount:",h.amount)}catch(y){console.error("Error approving payment request:",y),this.error.set("Failed to approve payment request")}}))}catch(e){console.error("Error opening payment modal:",e),this.error.set("Failed to open payment modal")}})}rejectPaymentRequest(n){return w(this,null,function*(){let e=prompt("Please provide a reason for rejecting this payment request:");if(e)try{let t=this.existingChat();if(!t)return;yield this.chatService.respondToPaymentRequestAsync(t._id,n._id,{status:"rejected",rejection_reason:e}),yield this.loadPaymentRequests(t._id)}catch(t){console.error("Error rejecting payment request:",t),this.error.set("Failed to reject payment request")}})}getPaymentStatusColor(n){return{pending:"bg-yellow-100 text-yellow-800 border-yellow-200",approved:"bg-green-100 text-green-800 border-green-200",payment_pending:"bg-blue-100 text-blue-800 border-blue-200",paid:"bg-green-100 text-green-800 border-green-200",rejected:"bg-red-100 text-red-800 border-red-200"}[n]||"bg-gray-100 text-gray-800 border-gray-200"}formatPaymentTime(n){let e=new Date(n),r=Math.floor((new Date().getTime()-e.getTime())/1e3);return r<60?"just now":r<3600?`${Math.floor(r/60)}m ago`:r<86400?`${Math.floor(r/3600)}h ago`:e.toLocaleDateString()}formatPrice(n){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n)}formatDate(n){if(!n)return"Not set";try{return(typeof n=="string"?new Date(n):n).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Unknown"}}getBusinessName(n){return typeof n.business_id=="object"&&n.business_id.name?n.business_id.name:"Unknown Business"}getClientName(n){if(typeof n.client_id=="object"){let e=n.client_id;return`${e.first_name} ${e.last_name}`}return"Unknown Client"}getServiceNames(n){return n.selected_services&&Array.isArray(n.selected_services)?n.selected_services.map(e=>{if(typeof e=="object"&&e!==null){if("name"in e&&e.name)return e.name;if("service_id"in e&&typeof e.service_id=="object"&&e.service_id!==null&&"name"in e.service_id)return e.service_id.name}return typeof e=="string"?"Service Details Available":"Unknown Service"}):[]}getServiceDetails(n){return n.selected_services&&Array.isArray(n.selected_services)?n.selected_services.map(e=>typeof e=="object"&&e!==null&&"_id"in e?{name:e.name||"Unnamed Service",price:e.price,pricing_type:e.pricing_type,description:e.short_description||e.description}:typeof e=="string"?{name:"Service Details Not Available",price:void 0,pricing_type:void 0,description:`Service ID: ${e} - Please contact support if this persists`}:{name:"Unknown Service Format",price:void 0,pricing_type:void 0,description:"Service data structure not recognized"}):[]}formatServicePrice(n,e){if(!n)return"Price not specified";let t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n);if(!e)return t;switch(e.toLowerCase()){case"fixed":return`${t} (Fixed)`;case"hourly":return`${t}/hour`;case"daily":return`${t}/day`;case"weekly":return`${t}/week`;case"monthly":return`${t}/month`;case"per_project":return`${t} (Per Project)`;default:return`${t} (${e})`}}navigateToBusinessProfile(n){n&&this.router.navigate(["/business",n])}getBusinessInfo(n){return typeof n.business_id=="object"&&n.business_id?{name:n.business_id.name||"Unknown Business",logo_url:n.business_id.logo_url,slug:n.business_id.slug}:null}getClientInfo(n){return typeof n.client_id=="object"&&n.client_id?{first_name:n.client_id.first_name||"Unknown",last_name:n.client_id.last_name||"Client",email:n.client_id.email}:null}formatFileSize(n){if(n===0)return"0 Bytes";let e=1024,t=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(n)/Math.log(e));return parseFloat((n/Math.pow(e,r)).toFixed(2))+" "+t[r]}getFileIcon(n){return n.startsWith("image/")?"image":n.includes("pdf")?"picture_as_pdf":n.includes("word")||n.includes("document")?"description":n.includes("sheet")||n.includes("excel")?"table_chart":n.includes("presentation")||n.includes("powerpoint")?"slideshow":n.includes("text")?"text_snippet":"attach_file"}navigateToChat(){return w(this,null,function*(){let n=this.project();if(n)try{let e=this.existingChat();e||(e=yield this.chatService.createOrGetChatAsync({project_id:n._id}),this.existingChat.set(e)),e&&this.router.navigate(["/dashboard/messages/chat",e._id])}catch(e){console.error("Error navigating to chat:",e),this.error.set("Failed to open chat. Please try again.")}})}checkReviewEligibility(){return w(this,null,function*(){let n=this.user(),e=this.project();if(!n||!e){this.canLeaveReview.set(!1),this.existingReview.set(null);return}let t=typeof e.client_id=="string"?e.client_id:e.client_id?._id,r=n._id===t,l=e.status==="completed";if(!r||!l){this.canLeaveReview.set(!1),this.existingReview.set(null);return}try{let h=typeof e.business_id=="string"?e.business_id:e.business_id._id,M=(yield this.reviewService.getBusinessReviewsAsync(h)).find(z=>z.project_id._id===e._id&&z.user_id._id===n._id);M?(this.canLeaveReview.set(!1),this.existingReview.set(M)):(this.canLeaveReview.set(!0),this.existingReview.set(null))}catch(h){console.error("Error checking review eligibility:",h),this.canLeaveReview.set(!1),this.existingReview.set(null)}})}handleReviewAction(){this.existingReview()?this.viewExistingReview():this.canLeaveReview()&&this.openReviewDialog()}openReviewDialog(){return w(this,null,function*(){let n=this.project();if(!n)return;let e=typeof n.business_id=="string"?n.business_id:n.business_id._id,t=typeof n.business_id=="object"&&n.business_id.name?n.business_id.name:"Business";this.dialog.open(Qi,{width:"600px",data:{businessId:e,projectId:n._id,businessName:t,projectTitle:n.title}}).afterClosed().subscribe(l=>w(this,null,function*(){l&&(console.log("Review submitted successfully"),yield this.checkReviewEligibility())}))})}viewExistingReview(){let n=this.existingReview();if(!n)return;let e=["Your Review for this Project","",`Overall Rating: ${n.rating}/5 \u2B50`,"","Detailed Ratings:",`\u2022 Service Quality: ${n.service_quality||"N/A"}/5`,`\u2022 Communication: ${n.communication||"N/A"}/5`,`\u2022 Timeliness: ${n.timeliness||"N/A"}/5`,`\u2022 Value for Money: ${n.value_for_money||"N/A"}/5`,"",`Comment: ${n.comment||"No comment provided"}`,"",`Submitted: ${new Date(n.createdAt).toLocaleDateString()}`].join(`
`);alert(e)}testReviewEligibility(){return w(this,null,function*(){console.log("=== Manual Review Eligibility Test ==="),yield this.checkReviewEligibility(),console.log("Current state after test:",{canLeaveReview:this.canLeaveReview(),existingReview:this.existingReview(),showReviewButton:this.showReviewButton()})})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=T({type:i,selectors:[["app-project-details"]],decls:23,vars:10,consts:[[1,"min-h-screen","bg-gray-50","py-8","px-4","sm:px-6","lg:px-8"],[1,"max-w-7xl","mx-auto"],[1,"flex","items-center","justify-between","mb-8"],[1,"flex","items-center","space-x-4"],["mat-icon-button","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","bg-white","shadow-sm","border","border-gray-200","hover:bg-gray-50","transition-colors",3,"click"],[1,"text-gray-600"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-gray-600","mt-1"],[1,"flex","items-center","space-x-3"],[1,"p-6","bg-gray-50","border-b","border-gray-200"],[1,"p-6","bg-orange-50","border-b","border-orange-200"],[1,"p-6","bg-yellow-50","border-b","border-yellow-200"],[1,"mb-8","bg-red-50","border-l-4","border-red-400","p-6","rounded-r-lg","shadow-sm"],[1,"flex","flex-col","items-center","justify-center","py-20"],[1,"grid","grid-cols-1","xl:grid-cols-3","gap-8"],["mat-raised-button","","disabled","",1,"px-6","py-3","text-base","font-semibold","rounded-lg"],["mat-raised-button","","color","primary",1,"px-6","py-3","text-base","font-semibold","rounded-lg","relative"],[1,"mr-2"],["mat-raised-button","","color","primary",1,"px-6","py-3","text-base","font-semibold","rounded-lg","relative",3,"click"],[1,"absolute","-top-2","-right-2","bg-red-500","text-white","text-xs","font-bold","rounded-full","h-6","w-6","flex","items-center","justify-center"],["mat-raised-button","","color","primary",1,"px-6","py-3","text-base","font-semibold","rounded-lg"],["mat-raised-button","","color","primary",1,"px-6","py-3","text-base","font-semibold","rounded-lg",3,"click"],[1,"flex","items-center","px-6","py-3","bg-blue-600","hover:bg-blue-700","text-white","text-base","font-semibold","rounded-lg","transition-colors","shadow-sm",3,"click"],[1,"mr-2","w-5","h-5"],[1,"ml-2","bg-red-500","text-white","text-xs","rounded-full","px-2","py-1","min-w-[20px]","h-5","flex","items-center","justify-center"],[1,"flex","items-center","px-6","py-3","bg-green-600","hover:bg-green-700","text-white","text-base","font-semibold","rounded-lg","transition-colors","shadow-sm",3,"click"],[1,"flex","items-center","px-6","py-3","bg-red-600","hover:bg-red-700","text-white","text-base","font-semibold","rounded-lg","transition-colors","shadow-sm",3,"click"],[1,"flex","items-center","px-6","py-3","bg-purple-600","hover:bg-purple-700","text-white","text-base","font-semibold","rounded-lg","transition-colors","shadow-sm",3,"click"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[1,"flex","flex-wrap","gap-3"],[1,"text-gray-700","mb-4"],[1,"flex","items-center","px-6","py-3","bg-yellow-600","hover:bg-yellow-700","text-white","text-base","font-semibold","rounded-lg","transition-colors","shadow-sm",3,"click"],[1,"flex","items-start"],[1,"flex-shrink-0"],[1,"text-red-400","w-6","h-6"],[1,"ml-3"],[1,"text-lg","font-medium","text-red-800"],[1,"mt-2","text-red-700"],["diameter","48"],[1,"mt-4","text-lg","text-gray-600"],[1,"xl:col-span-2","space-y-8"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-200","overflow-hidden"],[1,"px-8","py-6","border-b","border-gray-200"],[1,"flex","items-start","justify-between"],[1,"flex-1"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],[1,"flex-shrink-0","ml-4"],[1,"px-8","py-6","space-y-6"],[1,"p-6","bg-red-50","border","border-red-200","rounded-xl"],[1,"text-xl","font-semibold","text-gray-900"],[1,"px-8","py-6"],[1,"flex","items-center","space-x-6"],[1,"space-y-8"],[1,"px-6","py-5","border-b","border-gray-200"],[1,"text-lg","font-semibold","text-gray-900"],[1,"px-6","py-6","space-y-6"],[1,"text-center"],[1,"text-sm","font-medium","text-gray-500","uppercase","tracking-wide","mb-2"],[1,"text-3xl","font-bold","text-green-600"],[1,"pt-6","border-t","border-gray-200"],[1,"px-6","py-6","space-y-4"],["mat-stroked-button","",1,"w-full","h-12","text-base","font-semibold","rounded-lg","border-2","border-gray-300","text-gray-700","hover:bg-gray-50",3,"click"],[1,"text-lg","font-semibold","text-gray-900","mb-3"],[1,"text-gray-700","leading-relaxed","text-base"],[1,"rounded-lg","overflow-hidden","border","border-gray-200","max-w-md"],[1,"w-full","h-auto","object-cover",3,"src","alt"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"flex","items-center","justify-between","p-4","bg-gray-50","rounded-xl","border","border-gray-200","hover:bg-gray-100","hover:border-gray-300","transition-all","duration-200"],[1,"text-xs","text-gray-500","mt-3"],[1,"flex","items-center","space-x-3","flex-1","min-w-0"],[1,"p-3","bg-white","rounded-lg","shadow-sm","border","border-gray-200"],[1,"text-blue-600","w-6","h-6"],[1,"flex-1","min-w-0"],[1,"text-sm","font-semibold","text-gray-900","truncate"],[1,"text-xs","text-gray-500"],[1,"text-xs","text-gray-400","capitalize"],["target","_blank","rel","noopener noreferrer",1,"flex","items-center","px-4","py-2","text-sm","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors","shadow-sm","ml-3","flex-shrink-0",3,"href"],[1,"w-4","h-4","mr-1"],[1,"space-y-4"],[1,"bg-blue-50","border","border-blue-200","rounded-xl","p-5","hover:bg-blue-100","transition-colors"],[1,"flex","items-center","space-x-2","mb-2"],[1,"w-5","h-5","text-blue-600"],[1,"text-lg","font-semibold","text-blue-900"],[1,"text-sm","text-blue-700","mb-3","leading-relaxed"],[1,"inline-flex","items-center","px-3","py-1.5","bg-blue-200","text-blue-800","rounded-lg","text-sm","font-semibold"],[1,"inline-flex","items-center","px-3","py-1.5","bg-gray-200","text-gray-600","rounded-lg","text-sm"],[1,"p-4","bg-gray-50","rounded-xl","border","border-gray-200"],[1,"flex","items-center","space-x-2"],[1,"w-5","h-5","text-gray-400"],[1,"text-sm","text-gray-600"],[1,"text-lg","font-semibold","text-red-800","mb-2","flex","items-center"],[1,"w-5","h-5","mr-2","text-red-600"],[1,"text-red-700","leading-relaxed"],[1,"w-20","h-20","rounded-xl","object-cover","border","border-gray-200","shadow-sm",3,"src","alt"],[1,"w-20","h-20","rounded-xl","bg-gradient-to-br","from-blue-500","to-blue-600","flex","items-center","justify-center","border","border-gray-200","shadow-sm"],[1,"text-2xl","font-bold","text-blue-600","hover:text-blue-800","transition-colors","mb-1","text-left","cursor-pointer","underline-offset-4","hover:underline",3,"click"],[1,"mt-2","flex","items-center","space-x-2"],[1,"text-white","w-10","h-10"],[1,"w-4","h-4","text-gray-400"],[1,"text-sm","text-gray-500"],[1,"w-20","h-20","rounded-full","bg-gradient-to-br","from-indigo-400","to-indigo-600","flex","items-center","justify-center","shadow-sm"],[1,"text-2xl","font-bold","text-gray-900","mb-1"],[1,"text-sm","text-gray-500","mt-1"],[1,"text-lg","font-semibold","text-gray-900","flex","items-center"],[1,"mr-2","text-orange-600"],[1,"flex","items-center","justify-center","py-4"],[1,"text-center","py-4"],["diameter","24"],[1,"ml-2","text-sm","text-gray-600"],[1,"border","border-orange-200","rounded-lg","p-4","bg-orange-50"],[1,"flex","items-start","justify-between","mb-3"],[1,"font-semibold","text-lg","text-orange-900"],[1,"text-sm","text-orange-700","mb-2"],[1,"flex","gap-2","mt-4"],[1,"flex-1","px-4","py-2","bg-green-600","hover:bg-green-700","text-white","text-sm","font-medium","rounded-lg","transition-colors",3,"click"],[1,"flex-1","px-4","py-2","bg-red-600","hover:bg-red-700","text-white","text-sm","font-medium","rounded-lg","transition-colors",3,"click"],[1,"text-gray-400","mb-2"],[1,"mr-2","text-blue-600"],[1,"px-6","py-6"],[1,"text-center","py-8"],[1,"border","border-gray-200","rounded-lg","p-4"],[1,"font-semibold","text-lg","text-gray-900"],[1,"text-sm","text-gray-600","mb-2"],[1,"text-right"],[1,"text-green-600"],[1,"text-red-600"],[1,"text-yellow-600"],[1,"text-gray-400","mb-2",2,"font-size","48px","width","48px","height","48px"]],template:function(e,t){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),u("click",function(){return t.goBack()}),a(5,"mat-icon",5),s(6,"arrow_back"),o()(),a(7,"div")(8,"h1",6),s(9,"Project Details"),o(),a(10,"p",7),s(11,"View complete project information"),o()()(),a(12,"div",8),_(13,Da,3,1)(14,Aa,13,1)(15,Fa,9,1)(16,Oa,9,1),o(),_(17,qa,10,2,"div",9)(18,Ga,19,1,"div",10)(19,$a,10,3,"div",11),o(),_(20,Wa,10,1,"div",12)(21,Ka,4,0,"div",13)(22,qo,61,22,"div",14),o()()),e&2&&(c(13),m(t.project()&&(t.project().status==="accepted"||t.project().status==="in_progress"||t.project().status==="completed")?13:-1),c(),m(t.project()&&t.isBusinessOwner()&&t.project().status==="pending"?14:-1),c(),m(t.project()&&t.isBusinessOwner()&&t.project().status==="accepted"?15:-1),c(),m(t.project()&&t.isBusinessOwner()&&t.project().status==="in_progress"?16:-1),c(),m(t.project()&&t.isClient()&&oi(9,ya).includes(t.project().status)?17:-1),c(),m(t.project()&&t.canApproveCompletion()?18:-1),c(),m(t.project()&&t.isClient()&&t.showReviewButton()?19:-1),c(),m(t.error()?20:-1),c(),m(t.loading()?21:t.project()?22:-1))},dependencies:[Q,Ke,si,Y,K,_i,ce,se,ht,pt,de],styles:[".mat-mdc-raised-button.mat-primary{border-radius:.5rem!important}  .mat-mdc-outlined-button{border-radius:.5rem!important}  .mat-icon{width:auto!important;height:auto!important;font-size:inherit!important}  .mat-mdc-progress-spinner circle{stroke:#3b82f6}"]})};var vt=class i{notificationService=p(Si);ngOnInit(){console.log("Test Notifications Component loaded")}createTestProjectNotification(){let n={_id:"test-project-"+Date.now(),recipient_id:"current-user",title:"Test Project Created",message:"A new project has been created for your business.",type:"project_created",priority:"high",is_read:!1,is_seen:!1,project_id:{_id:"test-project-id",title:"Test Project",description:"This is a test project",status:"pending"},business_id:{_id:"test-business-id",name:"Test Business",logo_url:""},createdAt:new Date,updatedAt:new Date};this.notificationService.handleNewNotification(n),console.log("Test project notification created")}createTestMessageNotification(){let n={_id:"test-message-"+Date.now(),recipient_id:"current-user",title:"New Message",message:"You have received a new message.",type:"message_received",priority:"medium",is_read:!1,is_seen:!1,metadata:{chatId:"test-chat-id"},createdAt:new Date,updatedAt:new Date};this.notificationService.handleNewNotification(n),console.log("Test message notification created")}createTestSystemNotification(){let n={_id:"test-system-"+Date.now(),recipient_id:"current-user",title:"System Update",message:"The system has been updated with new features.",type:"system_announcement",priority:"low",is_read:!1,is_seen:!1,createdAt:new Date,updatedAt:new Date};this.notificationService.handleNewNotification(n),console.log("Test system notification created")}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=T({type:i,selectors:[["app-test-notifications"]],decls:10,vars:0,consts:[[1,"p-6"],[1,"text-xl","font-bold","mb-4"],[1,"space-y-2"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","mr-2",3,"click"],[1,"px-4","py-2","bg-green-600","text-white","rounded-lg","hover:bg-green-700","mr-2",3,"click"],[1,"px-4","py-2","bg-purple-600","text-white","rounded-lg","hover:bg-purple-700",3,"click"]],template:function(e,t){e&1&&(a(0,"div",0)(1,"h2",1),s(2,"Test Notifications"),o(),a(3,"div",2)(4,"button",3),u("click",function(){return t.createTestProjectNotification()}),s(5," Create Test Project Notification "),o(),a(6,"button",4),u("click",function(){return t.createTestMessageNotification()}),s(7," Create Test Message Notification "),o(),a(8,"button",5),u("click",function(){return t.createTestSystemNotification()}),s(9," Create Test System Notification "),o()()())},dependencies:[Q],encapsulation:2})};function Ho(i,n){if(i&1){let e=x();a(0,"div",1)(1,"button",2),u("click",function(){b(e);let r=d();return g(r.action())}),s(2),o()()}if(i&2){let e=d();c(2),C(" ",e.data.action," ")}}var Go=["label"];function Qo(i,n){}var Uo=Math.pow(2,31)-1,ze=class{_overlayRef;instance;containerInstance;_afterDismissed=new G;_afterOpened=new G;_onAction=new G;_durationTimeoutId;_dismissedByAction=!1;constructor(n,e){this._overlayRef=e,this.containerInstance=n,n._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(n){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(n,Uo))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},an=new q("MatSnackBarData"),De=class{politeness="assertive";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},$o=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275dir=H({type:i,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return i})(),Wo=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275dir=H({type:i,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return i})(),Ko=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275dir=H({type:i,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return i})(),on=(()=>{class i{snackBarRef=p(ze);data=p(an);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=T({type:i,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(t,r){t&1&&(a(0,"div",0),s(1),o(),_(2,Ho,3,1,"div",1)),t&2&&(c(),C(" ",r.data.message,`
`),c(),m(r.hasAction?2:-1))},dependencies:[K,$o,Wo,Ko],styles:[`.mat-mdc-simple-snack-bar{display:flex}
`],encapsulation:2,changeDetection:0})}return i})(),Qt="_mat-snack-bar-enter",Ut="_mat-snack-bar-exit",Yo=(()=>{class i extends gi{_ngZone=p(he);_elementRef=p($);_changeDetectorRef=p(ee);_platform=p(Fe);_rendersRef;_animationsDisabled=p(X,{optional:!0})==="NoopAnimations";snackBarConfig=p(De);_document=p(ri);_trackedModals=new Set;_enterFallback;_exitFallback;_renders=new G;_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new G;_onExit=new G;_onEnter=new G;_animationState="void";_live;_label;_role;_liveElementId=p(ke).getId("mat-snack-bar-container-live-");constructor(){super();let e=this.snackBarConfig;e.politeness==="assertive"&&!e.announcementMessage?this._live="assertive":e.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert")),this._rendersRef=ti(()=>this._renders.next(),{manualCleanup:!0})}attachComponentPortal(e){this._assertNotAttached();let t=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),t}attachTemplatePortal(e){this._assertNotAttached();let t=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),t}attachDomPortal=e=>{this._assertNotAttached();let t=this._portalOutlet.attachDomPortal(e);return this._afterPortalAttached(),t};onAnimationEnd(e){e===Ut?this._completeExit():e===Qt&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?this._renders.pipe(St(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(Qt)))}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(Qt)},200)))}exit(){return this._destroyed?Ue(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?this._renders.pipe(St(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(Ut)))}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(Ut),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit(),this._renders.complete(),this._rendersRef.destroy()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,t=this.snackBarConfig.panelClass;t&&(Array.isArray(t)?t.forEach(h=>e.classList.add(h)):e.classList.add(t)),this._exposeToModals();let r=this._label.nativeElement,l="mdc-snackbar__label";r.classList.toggle(l,!r.querySelector(`.${l}`))}_exposeToModals(){let e=this._liveElementId,t=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<t.length;r++){let l=t[r],h=l.getAttribute("aria-owns");this._trackedModals.add(l),h?h.indexOf(e)===-1&&l.setAttribute("aria-owns",h+" "+e):l.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let t=e.getAttribute("aria-owns");if(t){let r=t.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let e=this._elementRef.nativeElement,t=e.querySelector("[aria-hidden]"),r=e.querySelector("[aria-live]");if(t&&r){let l=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(l=document.activeElement),t.removeAttribute("aria-hidden"),r.appendChild(t),l?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=T({type:i,selectors:[["mat-snack-bar-container"]],viewQuery:function(t,r){if(t&1&&(A(Se,7),A(Go,7)),t&2){let l;I(l=P())&&(r._portalOutlet=l.first),I(l=P())&&(r._label=l.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(t,r){t&1&&u("animationend",function(h){return r.onAnimationEnd(h.animationName)})("animationcancel",function(h){return r.onAnimationEnd(h.animationName)}),t&2&&O("mat-snack-bar-container-enter",r._animationState==="visible")("mat-snack-bar-container-exit",r._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!r._animationsDisabled)},features:[J],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,r){t&1&&(a(0,"div",1)(1,"div",2,0)(3,"div",3),_(4,Qo,0,0,"ng-template",4),o(),v(5,"div"),o()()),t&2&&(c(5),N("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[Se],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return i})();function Zo(){return new De}var Xo=new q("mat-snack-bar-default-options",{providedIn:"root",factory:Zo}),qe=(()=>{class i{_overlay=p(wi);_live=p(pi);_injector=p(ne);_breakpointObserver=p(di);_parentSnackBar=p(i,{optional:!0,skipSelf:!0});_defaultConfig=p(Xo);_snackBarRefAtThisLevel=null;simpleSnackBarComponent=on;snackBarContainerComponent=Yo;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(){}openFromComponent(e,t){return this._attach(e,t)}openFromTemplate(e,t){return this._attach(e,t)}open(e,t="",r){let l=fe(fe({},this._defaultConfig),r);return l.data={message:e,action:t},l.announcementMessage===e&&(l.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,l)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,t){let r=t&&t.viewContainerRef&&t.viewContainerRef.injector,l=ne.create({parent:r||this._injector,providers:[{provide:De,useValue:t}]}),h=new Ft(this.snackBarContainerComponent,t.viewContainerRef,l),y=e.attach(h);return y.instance.snackBarConfig=t,y.instance}_attach(e,t){let r=fe(fe(fe({},new De),this._defaultConfig),t),l=this._createOverlay(r),h=this._attachSnackBarContainer(l,r),y=new ze(h,l);if(e instanceof ye){let M=new Je(e,null,{$implicit:r.data,snackBarRef:y});y.instance=h.attachTemplatePortal(M)}else{let M=this._createInjector(r,y),z=new Ft(e,void 0,M),Z=h.attachComponentPortal(z);y.instance=Z.instance}return this._breakpointObserver.observe(Li.HandsetPortrait).pipe(pe(l.detachments())).subscribe(M=>{l.overlayElement.classList.toggle(this.handsetCssClass,M.matches)}),r.announcementMessage&&h._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(y,r),this._openedSnackBarRef=y,this._openedSnackBarRef}_animateSnackBar(e,t){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),t.announcementMessage&&this._live.clear()}),t.duration&&t.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(t.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter()}_createOverlay(e){let t=new Ci;t.direction=e.direction;let r=this._overlay.position().global(),l=e.direction==="rtl",h=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!l||e.horizontalPosition==="end"&&l,y=!h&&e.horizontalPosition!=="center";return h?r.left("0"):y?r.right("0"):r.centerHorizontally(),e.verticalPosition==="top"?r.top("0"):r.bottom("0"),t.positionStrategy=r,this._overlay.create(t)}_createInjector(e,t){let r=e&&e.viewContainerRef&&e.viewContainerRef.injector;return ne.create({parent:r||this._injector,providers:[{provide:ze,useValue:t},{provide:an,useValue:e.data}]})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ei({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var yt=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=ae({type:i});static \u0275inj=ie({providers:[qe],imports:[ki,vi,Y,U,on,U]})}return i})();function tr(i,n){i&1&&(a(0,"mat-error"),s(1,"Full name is required"),o())}function ir(i,n){i&1&&(a(0,"mat-error"),s(1,"Email is required"),o())}function nr(i,n){i&1&&(a(0,"mat-error"),s(1,"Please enter a valid email"),o())}function ar(i,n){i&1&&(a(0,"mat-icon",24),s(1,"refresh"),o())}function or(i,n){i&1&&(a(0,"mat-error"),s(1,"Current password is required"),o())}function rr(i,n){i&1&&(a(0,"mat-error"),s(1,"New password is required"),o())}function sr(i,n){i&1&&(a(0,"mat-error"),s(1,"Password must be at least 6 characters"),o())}function cr(i,n){i&1&&(a(0,"mat-error"),s(1,"Please confirm your password"),o())}function lr(i,n){i&1&&(a(0,"mat-error"),s(1,"Passwords do not match"),o())}function dr(i,n){i&1&&(a(0,"mat-icon",24),s(1,"refresh"),o())}var xt=class i{authService=p(W);fb=p(ot);snackBar=p(qe);user=this.authService.user;isLoading=S(!1);profileForm;passwordForm;constructor(){let n=this.user();this.profileForm=this.fb.group({full_name:[n?.full_name||"",[le.required]],email:[n?.email||"",[le.required,le.email]],phone:[n?.phone||""],bio:[n?.bio||""],city:[n?.city||""],country:[n?.country||""],country_of_origin:[n?.country_of_origin||""]}),this.passwordForm=this.fb.group({currentPassword:["",[le.required]],newPassword:["",[le.required,le.minLength(6)]],confirmPassword:["",[le.required]]},{validators:this.passwordMatchValidator})}passwordMatchValidator(n){let e=n.get("newPassword"),t=n.get("confirmPassword");return e&&t&&e.value!==t.value?t.setErrors({mismatch:!0}):t?.setErrors(null),null}updateProfile(){return w(this,null,function*(){if(this.profileForm.invalid){this.snackBar.open("Please fill in all required fields correctly","Close",{duration:3e3,panelClass:["error-snackbar"]});return}this.isLoading.set(!0);try{let n=this.profileForm.value;this.snackBar.open("Profile updated successfully!","Close",{duration:3e3,panelClass:["success-snackbar"]})}catch{this.snackBar.open("Failed to update profile. Please try again.","Close",{duration:3e3,panelClass:["error-snackbar"]})}finally{this.isLoading.set(!1)}})}updatePassword(){return w(this,null,function*(){if(this.passwordForm.invalid){this.snackBar.open("Please fill in all fields correctly","Close",{duration:3e3,panelClass:["error-snackbar"]});return}this.isLoading.set(!0);try{let{currentPassword:n,newPassword:e}=this.passwordForm.value;this.passwordForm.reset(),this.snackBar.open("Password updated successfully!","Close",{duration:3e3,panelClass:["success-snackbar"]})}catch{this.snackBar.open("Failed to update password. Please try again.","Close",{duration:3e3,panelClass:["error-snackbar"]})}finally{this.isLoading.set(!1)}})}getUserInitials(){let n=this.user();if(!n)return"";if(n.full_name){let e=n.full_name.split(" "),t=e[0]?.charAt(0).toUpperCase()||"",r=e[e.length-1]?.charAt(0).toUpperCase()||"";return t+r}return n.email.charAt(0).toUpperCase()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=T({type:i,selectors:[["app-profile"]],decls:108,vars:17,consts:[[1,"max-w-4xl","mx-auto","p-6"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"profile-tabs"],["label","Profile Information"],[1,"tab-content"],[1,"profile-card"],[1,"flex","items-center","space-x-4","mb-6"],[1,"w-16","h-16","bg-blue-600","text-white","rounded-full","flex","items-center","justify-center","text-xl","font-bold"],[1,"text-xl","font-semibold"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["appearance","outline",1,"w-full"],["matInput","","formControlName","full_name","placeholder","Enter your full name"],["matSuffix",""],["matInput","","formControlName","email","type","email","placeholder","Enter your email"],["matInput","","formControlName","phone","placeholder","Enter your phone number"],["matInput","","formControlName","city","placeholder","Enter your city"],["matInput","","formControlName","country","placeholder","Enter your country"],["matInput","","formControlName","country_of_origin","placeholder","Enter your country of origin"],["matInput","","formControlName","bio","rows","4","placeholder","Tell us about yourself"],[1,"flex","justify-end","pt-4"],["mat-raised-button","","color","primary","type","submit",1,"px-8",3,"disabled"],[1,"animate-spin","mr-2"],["label","Change Password"],[1,"password-card"],["matInput","","formControlName","currentPassword","type","password","placeholder","Enter current password"],["matInput","","formControlName","newPassword","type","password","placeholder","Enter new password"],["matInput","","formControlName","confirmPassword","type","password","placeholder","Confirm new password"]],template:function(e,t){if(e&1&&(a(0,"div",0)(1,"div",1)(2,"h1",2),s(3,"Profile Settings"),o(),a(4,"p",3),s(5,"Manage your account information and settings"),o()(),a(6,"mat-tab-group",4)(7,"mat-tab",5)(8,"div",6)(9,"mat-card",7)(10,"mat-card-header")(11,"div",8)(12,"div",9),s(13),o(),a(14,"div")(15,"h2",10),s(16),o(),a(17,"p",3),s(18),o()()()(),a(19,"mat-card-content")(20,"form",11),u("ngSubmit",function(){return t.updateProfile()}),a(21,"div",12)(22,"mat-form-field",13)(23,"mat-label"),s(24,"Full Name"),o(),v(25,"input",14),a(26,"mat-icon",15),s(27,"person"),o(),_(28,tr,2,0,"mat-error"),o(),a(29,"mat-form-field",13)(30,"mat-label"),s(31,"Email"),o(),v(32,"input",16),a(33,"mat-icon",15),s(34,"email"),o(),_(35,ir,2,0,"mat-error")(36,nr,2,0,"mat-error"),o(),a(37,"mat-form-field",13)(38,"mat-label"),s(39,"Phone"),o(),v(40,"input",17),a(41,"mat-icon",15),s(42,"phone"),o()(),a(43,"mat-form-field",13)(44,"mat-label"),s(45,"City"),o(),v(46,"input",18),a(47,"mat-icon",15),s(48,"location_city"),o()(),a(49,"mat-form-field",13)(50,"mat-label"),s(51,"Country"),o(),v(52,"input",19),a(53,"mat-icon",15),s(54,"flag"),o()(),a(55,"mat-form-field",13)(56,"mat-label"),s(57,"Country of Origin"),o(),v(58,"input",20),a(59,"mat-icon",15),s(60,"home"),o()()(),a(61,"mat-form-field",13)(62,"mat-label"),s(63,"Bio"),o(),v(64,"textarea",21),a(65,"mat-icon",15),s(66,"description"),o()(),a(67,"div",22)(68,"button",23),_(69,ar,2,0,"mat-icon",24),s(70," Update Profile "),o()()()()()()(),a(71,"mat-tab",25)(72,"div",6)(73,"mat-card",26)(74,"mat-card-header")(75,"mat-card-title"),s(76,"Change Password"),o(),a(77,"mat-card-subtitle"),s(78,"Update your account password"),o()(),a(79,"mat-card-content")(80,"form",11),u("ngSubmit",function(){return t.updatePassword()}),a(81,"mat-form-field",13)(82,"mat-label"),s(83,"Current Password"),o(),v(84,"input",27),a(85,"mat-icon",15),s(86,"lock"),o(),_(87,or,2,0,"mat-error"),o(),a(88,"mat-form-field",13)(89,"mat-label"),s(90,"New Password"),o(),v(91,"input",28),a(92,"mat-icon",15),s(93,"lock_outline"),o(),_(94,rr,2,0,"mat-error")(95,sr,2,0,"mat-error"),o(),a(96,"mat-form-field",13)(97,"mat-label"),s(98,"Confirm New Password"),o(),v(99,"input",29),a(100,"mat-icon",15),s(101,"lock_outline"),o(),_(102,cr,2,0,"mat-error")(103,lr,2,0,"mat-error"),o(),a(104,"div",22)(105,"button",23),_(106,dr,2,0,"mat-icon",24),s(107," Update Password "),o()()()()()()()()()),e&2){let r,l,h,y,M,z,Z,He,Ge,Qe;c(13),C(" ",t.getUserInitials()," "),c(3),f(((r=t.user())==null?null:r.full_name)||((r=t.user())==null?null:r.email)),c(2),f((l=t.user())==null?null:l.email),c(2),k("formGroup",t.profileForm),c(8),m((h=t.profileForm.get("full_name"))!=null&&h.hasError("required")&&((h=t.profileForm.get("full_name"))!=null&&h.touched)?28:-1),c(7),m((y=t.profileForm.get("email"))!=null&&y.hasError("required")&&((y=t.profileForm.get("email"))!=null&&y.touched)?35:-1),c(),m((M=t.profileForm.get("email"))!=null&&M.hasError("email")&&((M=t.profileForm.get("email"))!=null&&M.touched)?36:-1),c(32),k("disabled",t.isLoading()||t.profileForm.invalid),c(),m(t.isLoading()?69:-1),c(11),k("formGroup",t.passwordForm),c(7),m((z=t.passwordForm.get("currentPassword"))!=null&&z.hasError("required")&&((z=t.passwordForm.get("currentPassword"))!=null&&z.touched)?87:-1),c(7),m((Z=t.passwordForm.get("newPassword"))!=null&&Z.hasError("required")&&((Z=t.passwordForm.get("newPassword"))!=null&&Z.touched)?94:-1),c(),m((He=t.passwordForm.get("newPassword"))!=null&&He.hasError("minlength")&&((He=t.passwordForm.get("newPassword"))!=null&&He.touched)?95:-1),c(7),m((Ge=t.passwordForm.get("confirmPassword"))!=null&&Ge.hasError("required")&&((Ge=t.passwordForm.get("confirmPassword"))!=null&&Ge.touched)?102:-1),c(),m((Qe=t.passwordForm.get("confirmPassword"))!=null&&Qe.hasError("mismatch")&&((Qe=t.passwordForm.get("confirmPassword"))!=null&&Qe.touched)?103:-1),c(2),k("disabled",t.isLoading()||t.passwordForm.invalid),c(),m(t.isLoading()?106:-1)}},dependencies:[Q,rt,it,Ti,et,tt,nt,at,de,Te,Pe,je,Me,Ie,dt,lt,st,ji,ct,mt,Bi,Y,K,ce,se,yt,bt,Ve,_t],styles:[".profile-tabs[_ngcontent-%COMP%]{margin-top:2rem}.profile-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:2rem 0}.profile-tabs[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%], .profile-tabs[_ngcontent-%COMP%]   .password-card[_ngcontent-%COMP%]{box-shadow:0 4px 6px -1px #0000001a;border-radius:12px;border:1px solid #e5e7eb}.profile-tabs[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.profile-tabs[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-bottom:1rem}.profile-tabs[_ngcontent-%COMP%]   .animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}  .mat-mdc-tab-group .mat-mdc-tab-header{border-bottom:1px solid #e5e7eb}  .mat-mdc-tab-group .mat-mdc-tab{font-weight:500}  .mat-mdc-card .mat-mdc-card-header .mat-mdc-card-title{font-size:1.5rem;font-weight:600;color:#111827}  .mat-mdc-card .mat-mdc-card-header .mat-mdc-card-subtitle{color:#6b7280}  .mat-mdc-form-field .mat-mdc-form-field-flex{border-radius:8px}  .mat-mdc-raised-button.mat-primary{background-color:#2563eb}  .mat-mdc-raised-button.mat-primary:hover:not([disabled]){background-color:#1d4ed8}  .error-snackbar{background-color:#dc2626!important;color:#fff!important}  .success-snackbar{background-color:#059669!important;color:#fff!important}"]})};var mr=["switch"],pr=["*"];function hr(i,n){i&1&&(a(0,"span",10),E(),a(1,"svg",12),v(2,"path",13),o(),a(3,"svg",14),v(4,"path",15),o()())}var ur=new q("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),_r={provide:Ei,useExisting:Et(()=>wt),multi:!0},Ct=class{source;checked;constructor(n,e){this.source=n,this.checked=e}},wt=(()=>{class i{_elementRef=p($);_focusMonitor=p(At);_changeDetectorRef=p(ee);defaults=p(ur);_onChange=e=>{};_onTouched=()=>{};_validatorOnChange=()=>{};_uniqueId;_checked=!1;_createChangeEvent(e){return new Ct(this,e)}_labelId;get buttonId(){return`${this.id||this._uniqueId}-button`}_switchElement;focus(){this._switchElement.nativeElement.focus()}_noopAnimations;_focused;name=null;id;labelPosition="after";ariaLabel=null;ariaLabelledby=null;ariaDescribedby;required;color;disabled=!1;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(e){this._checked=e,this._changeDetectorRef.markForCheck()}hideIcon;disabledInteractive;change=new V;toggleChange=new V;get inputId(){return`${this.id||this._uniqueId}-input`}constructor(){p(Ze).load(Xe);let e=p(new Tt("tabindex"),{optional:!0}),t=this.defaults,r=p(X,{optional:!0});this.tabIndex=e==null?0:parseInt(e)||0,this.color=t.color||"accent",this._noopAnimations=r==="NoopAnimations",this.id=this._uniqueId=p(ke).getId("mat-mdc-slide-toggle-"),this.hideIcon=t.hideIcon??!1,this.disabledInteractive=t.disabledInteractive??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e==="keyboard"||e==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(e){e.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorOnChange=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new Ct(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=T({type:i,selectors:[["mat-slide-toggle"]],viewQuery:function(t,r){if(t&1&&A(mr,5),t&2){let l;I(l=P())&&(r._switchElement=l.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(t,r){t&2&&(jt("id",r.id),N("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),D(r.color?"mat-"+r.color:""),O("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",R],color:"color",disabled:[2,"disabled","disabled",R],disableRipple:[2,"disableRipple","disableRipple",R],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:ge(e)],checked:[2,"checked","checked",R],hideIcon:[2,"hideIcon","hideIcon",R],disabledInteractive:[2,"disabledInteractive","disabledInteractive",R]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[oe([_r,{provide:Ii,useExisting:i,multi:!0}]),Re],ngContentSelectors:pr,decls:13,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(t,r){if(t&1){let l=x();_e(),a(0,"div",1)(1,"button",2,0),u("click",function(){return b(l),g(r._handleClick())}),v(3,"span",3),a(4,"span",4)(5,"span",5)(6,"span",6),v(7,"span",7),o(),a(8,"span",8),v(9,"span",9),o(),_(10,hr,5,0,"span",10),o()()(),a(11,"label",11),u("click",function(y){return b(l),g(y.stopPropagation())}),be(12),o()()}if(t&2){let l=Be(2);k("labelPosition",r.labelPosition),c(),O("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled)("mat-mdc-slide-toggle-disabled-interactive",r.disabledInteractive),k("tabIndex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex)("disabled",r.disabled&&!r.disabledInteractive),N("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),c(8),k("matRippleTrigger",l)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),c(),m(r.hideIcon?-1:10),c(),k("for",r.buttonId),N("id",r._labelId)}},dependencies:[Le,Oi],styles:[`.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width, 52px)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height, 32px);border-radius:var(--mdc-switch-track-shape, var(--mat-sys-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity, 0.12)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width, 2px);border-color:var(--mat-switch-track-outline-color, var(--mat-sys-outline))}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width, 2px);border-color:var(--mat-switch-selected-track-outline-color, transparent)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width, 2px);border-color:var(--mat-switch-disabled-unselected-track-outline-color, var(--mat-sys-on-surface))}@media(forced-colors: active){.mdc-switch__track{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color, var(--mat-sys-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity, 0);transition:var(--mat-switch-hidden-track-transition, opacity 75ms)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity, 1);transition:var(--mat-switch-visible-track-transition, opacity 75ms)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, var(--mat-sys-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, var(--mat-sys-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, var(--mat-sys-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, var(--mat-sys-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color, var(--mat-sys-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity, 1);transition:var(--mat-switch-visible-track-transition, opacity 75ms)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity, 0);transition:var(--mat-switch-hidden-track-transition, opacity 75ms)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, var(--mat-sys-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, var(--mat-sys-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, var(--mat-sys-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, var(--mat-sys-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape, var(--mat-sys-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size, 16px);height:var(--mat-switch-unselected-handle-size, 16px);margin:var(--mat-switch-unselected-handle-horizontal-margin, 0 8px)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin, 0 4px)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size, 24px);height:var(--mat-switch-selected-handle-size, 24px);margin:var(--mat-switch-selected-handle-horizontal-margin, 0 24px)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin, 0 24px)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size, 24px);height:var(--mat-switch-with-icon-handle-size, 24px)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size, 28px);height:var(--mat-switch-pressed-handle-size, 28px)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin, 0 22px)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin, 0 2px)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity, 1)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity, 0.38)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media(forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mat-sys-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, var(--mat-sys-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, var(--mat-sys-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, var(--mat-sys-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, var(--mat-sys-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, var(--mat-sys-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, var(--mat-sys-on-surface))}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size, 40px);height:var(--mdc-switch-state-layer-size, 40px)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color, var(--mat-sys-primary));opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1;transform:translateZ(0)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity, 0.38)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity, 0.38)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size, 16px);height:var(--mdc-switch-unselected-icon-size, 16px);fill:var(--mdc-switch-unselected-icon-color, var(--mat-sys-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mat-sys-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size, 16px);height:var(--mdc-switch-selected-icon-size, 16px);fill:var(--mdc-switch-selected-icon-color, var(--mat-sys-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mat-sys-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-switch-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-switch-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-switch-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-switch-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-switch-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}
`],encapsulation:2,changeDetection:0})}return i})();var rn=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=ae({type:i});static \u0275inj=ie({imports:[wt,U,U]})}return i})();function gr(i,n){i&1&&(a(0,"mat-icon",39),s(1,"refresh"),o())}var kt=class i{authService=p(W);fb=p(ot);snackBar=p(qe);user=this.authService.user;isLoading=S(!1);settingsForm;constructor(){let n=this.user();this.settingsForm=this.fb.group({emailNotifications:[!0],pushNotifications:[!0],marketingEmails:[!1],projectUpdates:[!0],messageNotifications:[!0],language:["en"],timezone:["UTC"],theme:["light"]})}saveSettings(){return w(this,null,function*(){this.isLoading.set(!0);try{let n=this.settingsForm.value;this.snackBar.open("Settings saved successfully!","Close",{duration:3e3,panelClass:["success-snackbar"]})}catch{this.snackBar.open("Failed to save settings. Please try again.","Close",{duration:3e3,panelClass:["error-snackbar"]})}finally{this.isLoading.set(!1)}})}resetSettings(){return w(this,null,function*(){this.settingsForm.patchValue({emailNotifications:!0,pushNotifications:!0,marketingEmails:!1,projectUpdates:!0,messageNotifications:!0,language:"en",timezone:"UTC",theme:"light"}),this.snackBar.open("Settings reset to default values","Close",{duration:3e3})})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=T({type:i,selectors:[["app-settings"]],decls:114,vars:4,consts:[[1,"max-w-4xl","mx-auto","p-6"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"settings-card"],[1,"mr-2"],[1,"space-y-4"],[1,"flex","items-center","justify-between"],[1,"font-medium","text-gray-900"],[1,"text-sm","text-gray-600"],["formControlName","emailNotifications","color","primary"],["formControlName","pushNotifications","color","primary"],["formControlName","marketingEmails","color","primary"],["formControlName","projectUpdates","color","primary"],["formControlName","messageNotifications","color","primary"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["appearance","outline"],["formControlName","language"],["value","en"],["value","es"],["value","fr"],["value","de"],["matSuffix",""],["formControlName","timezone"],["value","UTC"],["value","America/New_York"],["value","America/Chicago"],["value","America/Denver"],["value","America/Los_Angeles"],["value","Europe/London"],["value","Europe/Paris"],["formControlName","theme"],["value","light"],["value","dark"],["value","auto"],[1,"flex","justify-between","pt-6"],["mat-stroked-button","","type","button",1,"px-6",3,"click","disabled"],["mat-raised-button","","color","primary","type","submit",1,"px-8",3,"disabled"],[1,"animate-spin","mr-2"]],template:function(e,t){e&1&&(a(0,"div",0)(1,"div",1)(2,"h1",2),s(3,"Settings"),o(),a(4,"p",3),s(5,"Manage your account preferences and notification settings"),o()(),a(6,"form",4),u("ngSubmit",function(){return t.saveSettings()}),a(7,"mat-card",5)(8,"mat-card-header")(9,"mat-card-title")(10,"mat-icon",6),s(11,"notifications"),o(),s(12," Notifications "),o(),a(13,"mat-card-subtitle"),s(14,"Choose how you want to be notified about activity"),o()(),a(15,"mat-card-content")(16,"div",7)(17,"div",8)(18,"div")(19,"h3",9),s(20,"Email Notifications"),o(),a(21,"p",10),s(22,"Receive notifications via email"),o()(),v(23,"mat-slide-toggle",11),o(),a(24,"div",8)(25,"div")(26,"h3",9),s(27,"Push Notifications"),o(),a(28,"p",10),s(29,"Receive push notifications in your browser"),o()(),v(30,"mat-slide-toggle",12),o(),a(31,"div",8)(32,"div")(33,"h3",9),s(34,"Marketing Emails"),o(),a(35,"p",10),s(36,"Receive promotional and marketing emails"),o()(),v(37,"mat-slide-toggle",13),o(),a(38,"div",8)(39,"div")(40,"h3",9),s(41,"Project Updates"),o(),a(42,"p",10),s(43,"Get notified about project status changes"),o()(),v(44,"mat-slide-toggle",14),o(),a(45,"div",8)(46,"div")(47,"h3",9),s(48,"Message Notifications"),o(),a(49,"p",10),s(50,"Get notified when you receive new messages"),o()(),v(51,"mat-slide-toggle",15),o()()()(),a(52,"mat-card",5)(53,"mat-card-header")(54,"mat-card-title")(55,"mat-icon",6),s(56,"tune"),o(),s(57," Preferences "),o(),a(58,"mat-card-subtitle"),s(59,"Customize your experience"),o()(),a(60,"mat-card-content")(61,"div",16)(62,"mat-form-field",17)(63,"mat-label"),s(64,"Language"),o(),a(65,"mat-select",18)(66,"mat-option",19),s(67,"English"),o(),a(68,"mat-option",20),s(69,"Spanish"),o(),a(70,"mat-option",21),s(71,"French"),o(),a(72,"mat-option",22),s(73,"German"),o()(),a(74,"mat-icon",23),s(75,"language"),o()(),a(76,"mat-form-field",17)(77,"mat-label"),s(78,"Timezone"),o(),a(79,"mat-select",24)(80,"mat-option",25),s(81,"UTC"),o(),a(82,"mat-option",26),s(83,"Eastern Time"),o(),a(84,"mat-option",27),s(85,"Central Time"),o(),a(86,"mat-option",28),s(87,"Mountain Time"),o(),a(88,"mat-option",29),s(89,"Pacific Time"),o(),a(90,"mat-option",30),s(91,"London"),o(),a(92,"mat-option",31),s(93,"Paris"),o()(),a(94,"mat-icon",23),s(95,"schedule"),o()(),a(96,"mat-form-field",17)(97,"mat-label"),s(98,"Theme"),o(),a(99,"mat-select",32)(100,"mat-option",33),s(101,"Light"),o(),a(102,"mat-option",34),s(103,"Dark"),o(),a(104,"mat-option",35),s(105,"Auto"),o()(),a(106,"mat-icon",23),s(107,"palette"),o()()()()(),a(108,"div",36)(109,"button",37),u("click",function(){return t.resetSettings()}),s(110," Reset to Default "),o(),a(111,"button",38),_(112,gr,2,0,"mat-icon",39),s(113," Save Settings "),o()()()()),e&2&&(c(6),k("formGroup",t.settingsForm),c(103),k("disabled",t.isLoading()),c(2),k("disabled",t.isLoading()||t.settingsForm.invalid),c(),m(t.isLoading()?112:-1))},dependencies:[Q,rt,it,et,tt,nt,at,de,Te,Pe,je,Me,Ie,dt,lt,st,ct,mt,Y,K,ce,se,rn,wt,Ai,Ri,Pi,yt],styles:[".settings-card[_ngcontent-%COMP%]{box-shadow:0 4px 6px -1px #0000001a;border-radius:12px;border:1px solid #e5e7eb;margin-bottom:1.5rem}.settings-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-bottom:1rem}.settings-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.25rem;font-weight:600;color:#111827}.settings-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#6b7280;margin-top:.5rem}.settings-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding-top:0}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}  .mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected .mdc-switch__track{background-color:#2563eb}  .mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected .mdc-switch__handle .mdc-switch__ripple{background-color:#2563eb}  .mat-mdc-form-field .mat-mdc-form-field-flex{border-radius:8px}  .mat-mdc-raised-button.mat-primary{background-color:#2563eb}  .mat-mdc-raised-button.mat-primary:hover:not([disabled]){background-color:#1d4ed8}  .mat-mdc-outlined-button{border-color:#d1d5db;color:#374151}  .mat-mdc-outlined-button:hover:not([disabled]){background-color:#f9fafb;border-color:#9ca3af}  .error-snackbar{background-color:#dc2626!important;color:#fff!important}  .success-snackbar{background-color:#059669!important;color:#fff!important}"]})};var jl=[{path:"",redirectTo:"overview",pathMatch:"full"},{path:"overview",component:ut},{path:"businesses",loadChildren:()=>import("./chunk-THJKYHOC.js").then(i=>i.BUSINESSES_ROUTES)},{path:"services",loadChildren:()=>import("./chunk-ZGGESTVB.js").then(i=>i.SERVICES_ROUTES)},{path:"notifications",loadChildren:()=>import("./chunk-M6H6PKON.js").then(i=>i.NOTIFICATION_ROUTES)},{path:"messages",loadChildren:()=>import("./chunk-HOUHESSB.js").then(i=>i.MESSAGES_ROUTES)},{path:"projects",component:gt},{path:"projects/:id",component:ft},{path:"profile",component:xt},{path:"settings",component:kt},{path:"test-notifications",component:vt},{path:"**",redirectTo:""}];export{jl as DASHBOARD_ROUTES};
