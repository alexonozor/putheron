import{A as Z,c as K,h as Y,k as q,s as J,t as Q,u as X}from"./chunk-6HVQSJLB.js";import{a as $}from"./chunk-QD7SSFII.js";import{a as N,c as G}from"./chunk-CHN72C3K.js";import"./chunk-GTSDDWM5.js";import{A as R,o as I,q as z,t as W}from"./chunk-Z5YYMG7R.js";import{Db as L,Eb as _,Ec as w,Fb as f,Fc as A,Gc as P,Ib as j,Jb as H,Kb as E,Lb as i,Mb as n,Nb as c,Pc as O,Ub as C,Ya as B,Yb as b,_a as s,_b as d,fa as V,ka as p,la as g,lc as M,ma as m,mc as r,na as h,nc as x,oc as D,pb as F,pc as T,rc as S,sc as k,tc as U,ua as y}from"./chunk-ME5BD2TS.js";import{e as v}from"./chunk-JKOY2XUY.js";var te=(o,t)=>t._id;function ie(o,t){if(o&1){let e=C();i(0,"button",16),b("click",function(){p(e);let a=d();return g(a.toggleEditMode())}),m(),i(1,"svg",17),c(2,"path",18),n(),r(3," Edit User "),n()}}function ne(o,t){if(o&1){let e=C();i(0,"button",16),b("click",function(){p(e);let a=d();return g(a.toggleEditMode())}),m(),i(1,"svg",17),c(2,"path",19),n(),r(3," Cancel "),n(),h(),i(4,"button",20),b("click",function(){p(e);let a=d();return g(a.saveUser())}),m(),i(5,"svg",17),c(6,"path",21),n(),r(7," Save Changes "),n()}if(o&2){let e=d();s(4),E("disabled",e.loading())}}function oe(o,t){o&1&&(i(0,"div",13)(1,"div",22),c(2,"div",23),i(3,"p",24),r(4,"Loading user details..."),n()()())}function re(o,t){if(o&1&&c(0,"img",30),o&2){let e=d(2);E("src",e.user().avatar_url,B)("alt",e.user().first_name+" "+(e.user().last_name||""))}}function ae(o,t){if(o&1&&(i(0,"div",31)(1,"span",63),r(2),n()()),o&2){let e,l=d(2);s(2),x((((e=l.user().first_name)==null?null:e.charAt(0))||l.user().email.charAt(0)).toUpperCase())}}function se(o,t){if(o&1&&(i(0,"p",64),r(1),n()),o&2){let e=d(3);s(),x(e.user().phone)}}function le(o,t){o&1&&(i(0,"span",67),m(),i(1,"svg",69),c(2,"path",70),n(),r(3," Verified "),n())}function de(o,t){o&1&&(i(0,"span",68),m(),i(1,"svg",69),c(2,"path",19),n(),r(3," Unverified "),n())}function ce(o,t){if(o&1&&(i(0,"div")(1,"h2",51),r(2),n(),i(3,"p",64),r(4),n(),_(5,se,2,1,"p",64),i(6,"div",65)(7,"span",66),r(8),n(),i(9,"span",66),r(10),n(),_(11,le,4,0,"span",67)(12,de,4,0,"span",68),n()()),o&2){let e=d(2);s(2),T("",e.user().first_name," ",e.user().last_name),s(2),x(e.user().email),s(),f(e.user().phone?5:-1),s(2),M(e.getRoleBadgeClass(e.user().user_mode||"client")),s(),D(" ",e.getRoleDisplay(e.user().user_mode||"client")," "),s(),M(e.getStatusBadgeClass(e.user())),s(),D(" ",e.getStatusDisplay(e.user())," "),s(),f(e.user().email_verified?11:12)}}function me(o,t){if(o&1){let e=C();i(0,"div",34)(1,"div")(2,"label",71),r(3,"First Name"),n(),i(4,"input",72),U("ngModelChange",function(a){p(e);let u=d(2);return k(u.editForm.first_name,a)||(u.editForm.first_name=a),g(a)}),n()(),i(5,"div")(6,"label",71),r(7,"Last Name"),n(),i(8,"input",72),U("ngModelChange",function(a){p(e);let u=d(2);return k(u.editForm.last_name,a)||(u.editForm.last_name=a),g(a)}),n()(),i(9,"div")(10,"label",71),r(11,"Email"),n(),i(12,"input",73),U("ngModelChange",function(a){p(e);let u=d(2);return k(u.editForm.email,a)||(u.editForm.email=a),g(a)}),n()(),i(13,"div")(14,"label",71),r(15,"Phone"),n(),i(16,"input",74),U("ngModelChange",function(a){p(e);let u=d(2);return k(u.editForm.phone,a)||(u.editForm.phone=a),g(a)}),n()(),i(17,"div")(18,"label",71),r(19,"Role"),n(),i(20,"select",75),U("ngModelChange",function(a){p(e);let u=d(2);return k(u.editForm.user_mode,a)||(u.editForm.user_mode=a),g(a)}),i(21,"option",76),r(22,"Client"),n(),i(23,"option",77),r(24,"Business Owner"),n()()(),i(25,"div")(26,"label",71),r(27,"Status"),n(),i(28,"select",75),U("ngModelChange",function(a){p(e);let u=d(2);return k(u.editForm.is_active,a)||(u.editForm.is_active=a),g(a)}),i(29,"option",78),r(30,"Active"),n(),i(31,"option",78),r(32,"Inactive"),n()()()()}if(o&2){let e=d(2);s(4),S("ngModel",e.editForm.first_name),s(4),S("ngModel",e.editForm.last_name),s(4),S("ngModel",e.editForm.email),s(4),S("ngModel",e.editForm.phone),s(4),S("ngModel",e.editForm.user_mode),s(8),S("ngModel",e.editForm.is_active),s(),E("value",!0),s(2),E("value",!1)}}function ue(o,t){o&1&&(m(),i(0,"svg",17),c(1,"path",86),n(),r(2," Deactivate User "))}function pe(o,t){o&1&&(m(),i(0,"svg",17),c(1,"path",70),n(),r(2," Activate User "))}function ge(o,t){if(o&1){let e=C();i(0,"button",80),b("click",function(){p(e);let a=d(3);return g(a.toggleUserStatus())}),_(1,ue,3,0)(2,pe,3,0),n()}if(o&2){let e=d(3);M(e.user().is_active?"text-red-600 bg-red-50 hover:bg-red-100":"text-green-600 bg-green-50 hover:bg-green-100"),s(),f(e.user().is_active?1:2)}}function _e(o,t){o&1&&(m(),i(0,"svg",17),c(1,"path",87),n(),r(2," Unban User "))}function fe(o,t){o&1&&(m(),i(0,"svg",17),c(1,"path",88),n(),r(2," Ban User "))}function xe(o,t){if(o&1){let e=C();i(0,"button",89),b("click",function(){p(e);let a=d(3);return g(a.resendVerificationEmail())}),m(),i(1,"svg",17),c(2,"path",90),n(),r(3," Resend Verification "),n()}}function be(o,t){if(o&1){let e=C();i(0,"div",35),_(1,ge,3,3,"button",79),i(2,"button",80),b("click",function(){p(e);let a=d(2);return g(a.toggleBanUser())}),_(3,_e,3,0)(4,fe,3,0),n(),i(5,"button",81),b("click",function(){p(e);let a=d(2);return g(a.sendPasswordReset())}),m(),i(6,"svg",17),c(7,"path",82),n(),r(8," Reset Password "),n(),_(9,xe,4,0,"button",83),h(),i(10,"button",84),b("click",function(){p(e);let a=d(2);return g(a.confirmDelete())}),m(),i(11,"svg",17),c(12,"path",85),n(),r(13," Delete User "),n()()}if(o&2){let e=d(2);s(),f(e.user().is_banned?-1:1),s(),M(e.user().is_banned?"text-green-600 bg-green-50 hover:bg-green-100":"text-orange-600 bg-orange-50 hover:bg-orange-100"),s(),f(e.user().is_banned?3:4),s(6),f(e.user().email_verified?-1:9)}}function he(o,t){if(o&1&&(i(0,"p",38),r(1),w(2,"date"),n()),o&2){let e=d(2);s(),x(P(2,1,e.user().updatedAt,"medium"))}}function ve(o,t){o&1&&(i(0,"p",40),r(1,"Never logged in"),n())}function Ce(o,t){if(o&1&&(i(0,"p",59),r(1),w(2,"number"),n()),o&2){let e=d(2);s(),D("",P(2,1,e.userStats().avgRating,"1.1-1"),"\u2605")}}function we(o,t){o&1&&(i(0,"div",61),m(),i(1,"svg",91),c(2,"path",92),n(),h(),i(3,"h3",93),r(4,"No activity found"),n(),i(5,"p",94),r(6,"This user hasn't performed any recent activities."),n()())}function ye(o,t){if(o&1&&(i(0,"span"),r(1),n()),o&2){let e=d().$implicit;s(),x(e.ip_address)}}function Me(o,t){if(o&1&&(i(0,"div",95)(1,"div",96),m(),i(2,"svg",97),c(3,"path",98),n()(),h(),i(4,"div",99)(5,"p",100),r(6),n(),i(7,"div",101)(8,"span"),r(9),w(10,"date"),n(),_(11,ye,2,1,"span"),n()()()),o&2){let e=t.$implicit,l=d(3);s(),M(l.getActivityColor(e.type)),s(2),L("d",l.getActivityIcon(e.type)),s(3),x(e.description),s(3),x(P(10,6,e.created_at,"medium")),s(2),f(e.ip_address?11:-1)}}function Se(o,t){if(o&1&&(i(0,"div",62),j(1,Me,12,9,"div",95,te),n()),o&2){let e=d(2);s(),H(e.activities())}}function ke(o,t){if(o&1&&(i(0,"div",25),c(1,"div",26),i(2,"div",27)(3,"div",28)(4,"div",29),_(5,re,1,2,"img",30)(6,ae,3,1,"div",31),c(7,"div",32),n(),i(8,"div",33),_(9,ce,13,11,"div")(10,me,33,8,"div",34),_(11,be,14,5,"div",35),n()(),i(12,"div",36)(13,"div")(14,"h3",37),r(15,"Account Created"),n(),i(16,"p",38),r(17),w(18,"date"),n(),i(19,"p",39),r(20),n()(),i(21,"div")(22,"h3",37),r(23,"Last Login"),n(),_(24,he,3,4,"p",38)(25,ve,2,0,"p",40),n(),i(26,"div")(27,"h3",37),r(28,"User ID"),n(),i(29,"p",41),r(30),n()()()()(),i(31,"div",42)(32,"div",43)(33,"div",44)(34,"div",45)(35,"div",46),m(),i(36,"svg",47),c(37,"path",48),n()()(),h(),i(38,"div",49)(39,"p",50),r(40,"Businesses"),n(),i(41,"p",51),r(42),w(43,"number"),n()()()(),i(44,"div",43)(45,"div",44)(46,"div",45)(47,"div",52),m(),i(48,"svg",47),c(49,"path",53),n()()(),h(),i(50,"div",49)(51,"p",50),r(52,"Transactions"),n(),i(53,"p",51),r(54),w(55,"number"),n()()()(),i(56,"div",43)(57,"div",44)(58,"div",45)(59,"div",54),m(),i(60,"svg",47),c(61,"path",55),n()()(),h(),i(62,"div",49)(63,"p",50),r(64,"Messages"),n(),i(65,"p",51),r(66),w(67,"number"),n()()()(),i(68,"div",43)(69,"div",44)(70,"div",45)(71,"div",56),m(),i(72,"svg",47),c(73,"path",57),n()()(),h(),i(74,"div",49)(75,"p",50),r(76,"Reviews"),n(),i(77,"div",58)(78,"p",51),r(79),w(80,"number"),n(),_(81,Ce,3,4,"p",59),n()()()()(),i(82,"div",43)(83,"h3",60),r(84,"Recent Activity"),n(),_(85,we,7,0,"div",61)(86,Se,3,0,"div",62),n()),o&2){let e=d();s(5),f(e.user().avatar_url?5:6),s(2),M(e.getUserStatusColor()),s(2),f(e.editMode()?10:9),s(2),f(e.editMode()?-1:11),s(6),x(P(18,15,e.user().createdAt,"medium")),s(3),D("",e.formatAccountAge(e.user().createdAt)," ago"),s(4),f(e.user().updatedAt?24:25),s(6),x(e.user()._id),s(12),x(A(43,18,e.userStats().totalBusinesses)),s(12),x(A(55,20,e.userStats().totalTransactions)),s(12),x(A(67,22,e.userStats().totalMessages)),s(13),x(A(80,24,e.userStats().totalReviews)),s(2),f(e.userStats().totalReviews>0?81:-1),s(4),f(e.activities().length===0?85:86)}}function Ue(o,t){if(o&1){let e=C();i(0,"div",14),m(),i(1,"svg",91),c(2,"path",102),n(),h(),i(3,"h3",93),r(4,"User not found"),n(),i(5,"p",94),r(6,"The user you're looking for doesn't exist or has been deleted."),n(),i(7,"div",103)(8,"button",104),b("click",function(){p(e);let a=d();return g(a.goBack())}),r(9," Go back to users "),n()()()}}function Ee(o,t){o&1&&(i(0,"span",112),m(),i(1,"svg",113),c(2,"circle",114)(3,"path",115),n(),r(4," Deleting... "),n())}function De(o,t){o&1&&r(0," Delete User ")}function Ae(o,t){if(o&1){let e=C();i(0,"div",15)(1,"div",105)(2,"div",106),m(),i(3,"svg",107),c(4,"path",85),n()(),h(),i(5,"h3",108),r(6,"Delete User Account"),n(),i(7,"p",109),r(8),n(),i(9,"div",11)(10,"button",110),b("click",function(){p(e);let a=d();return g(a.cancelDelete())}),r(11," Cancel "),n(),i(12,"button",111),b("click",function(){p(e);let a=d();return g(a.deleteUser())}),_(13,Ee,5,0,"span",112)(14,De,1,0),n()()()()}if(o&2){let e,l=d();s(8),T(" Are you sure you want to permanently delete ",(e=l.user())==null?null:e.first_name," ",(e=l.user())==null?null:e.last_name,"'s account? This action cannot be undone and will remove all associated data including businesses, transactions, and messages. "),s(4),E("disabled",l.loading()),s(),f(l.loading()?13:14)}}var ee=class o{route=V(N);router=V(G);http=V(R);loading=y(!1);user=y(null);userStats=y({totalBusinesses:0,totalTransactions:0,totalSpent:0,totalEarned:0,totalMessages:0,totalReviews:0,avgRating:0,accountAge:0});activities=y([]);editMode=y(!1);showDeleteModal=y(!1);editForm={first_name:"",last_name:"",email:"",phone:"",bio:"",city:"",state:"",country:"",user_mode:"client",is_active:!0};userId=O(()=>this.route.snapshot.paramMap.get("id"));userInitials=O(()=>{let t=this.user();if(!t)return"";let e=t.first_name?.charAt(0).toUpperCase()||"",l=t.last_name?.charAt(0).toUpperCase()||"";return e+l});apiUrl=`${$.api.baseUrl}/admin`;Math=Math;ngOnInit(){let t=this.userId();t&&(this.loadUserDetails(t),this.loadUserActivity(t))}loadUserDetails(t){return v(this,null,function*(){this.loading.set(!0);try{let e=yield this.http.get(`${this.apiUrl}/users/${t}`).toPromise();e&&e.data&&(this.user.set(e.data),this.setEditForm(e.data))}catch(e){console.error("Failed to load user details:",e),e?.status===404&&this.router.navigate(["/admin/dashboard/users"])}finally{this.loading.set(!1)}})}loadUserActivity(t,e=20){return v(this,null,function*(){try{let l=yield this.http.get(`${this.apiUrl}/users/${t}/activity`).toPromise();l&&l.data&&this.activities.set(l.data)}catch(l){console.error("Failed to load user activity:",l);let a=[{_id:"1",user_id:t,action:"Login",description:"User logged in",type:"login",timestamp:new Date(Date.now()-1e3*60*30),created_at:new Date(Date.now()-1e3*60*30),ip_address:"192.168.1.1",user_agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"},{_id:"2",user_id:t,action:"Profile Updated",description:"User updated profile information",type:"update",timestamp:new Date(Date.now()-1e3*60*60*2),created_at:new Date(Date.now()-1e3*60*60*2),ip_address:"192.168.1.1",user_agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"},{_id:"3",user_id:t,action:"Business Created",description:"User created a new business profile",type:"business",timestamp:new Date(Date.now()-1e3*60*60*24),created_at:new Date(Date.now()-1e3*60*60*24),ip_address:"192.168.1.1",user_agent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"}];this.activities.set(a)}})}setEditForm(t){this.editForm={first_name:t.first_name||"",last_name:t.last_name||"",email:t.email,phone:t.phone||"",bio:t.bio||"",city:t.city||"",state:t.state||"",country:t.country||"",user_mode:t.user_mode||"client",is_active:t.is_active!==void 0?t.is_active:!0}}toggleEditMode(){let t=this.user();t&&(this.editMode()&&this.setEditForm(t),this.editMode.set(!this.editMode()))}saveUser(){return v(this,null,function*(){let t=this.user();if(t){this.loading.set(!0);try{let e=yield this.http.patch(`${this.apiUrl}/users/${t._id}/profile`,this.editForm).toPromise();e&&e.data&&(this.user.set(e.data),this.editMode.set(!1))}catch(e){console.error("Failed to update user:",e)}finally{this.loading.set(!1)}}})}toggleUserStatus(){return v(this,null,function*(){let t=this.user();if(!t)return;let e=!t.is_active;if(confirm(`Are you sure you want to ${e?"activate":"deactivate"} this user?`))try{(yield this.http.patch(`${this.apiUrl}/users/${t._id}/status`,{isActive:e}).toPromise())&&(yield this.loadUserDetails(t._id))}catch(a){console.error("Failed to update user status:",a)}})}toggleBanUser(){return v(this,null,function*(){let t=this.user();if(!t)return;let e=!t.is_banned,l=e?"ban":"unban",a="";if(e&&(a=prompt("Enter ban reason:")||"No reason provided"),confirm(`Are you sure you want to ${l} this user?`))try{(yield this.http.patch(`${this.apiUrl}/users/${t._id}/ban`,{isBanned:e,banReason:e?a:void 0}).toPromise())&&(yield this.loadUserDetails(t._id))}catch(u){console.error(`Failed to ${l} user:`,u)}})}verifyUserEmail(){return v(this,null,function*(){let t=this.user();if(!(!t||t.email_verified)&&confirm(`Manually verify email for ${t.email}?`))try{(yield this.http.patch(`${this.apiUrl}/users/${t._id}/verify-email`,{}).toPromise())&&(yield this.loadUserDetails(t._id),alert("Email verified successfully!"))}catch(e){console.error("Failed to verify email:",e),alert("Failed to verify email.")}})}confirmDelete(){this.showDeleteModal.set(!0)}cancelDelete(){this.showDeleteModal.set(!1)}deleteUser(){return v(this,null,function*(){let t=this.user();if(t){this.loading.set(!0);try{yield this.http.delete(`${this.apiUrl}/users/${t._id}`).toPromise(),this.router.navigate(["/admin/dashboard/users"])}catch(e){console.error("Failed to delete user:",e)}finally{this.loading.set(!1)}}})}sendPasswordReset(){return v(this,null,function*(){let t=this.user();if(t&&confirm(`Send password reset email to ${t.email}?`))try{(yield this.http.patch(`${this.apiUrl}/users/${t._id}/reset-password`,{}).toPromise())&&alert("Password reset email sent successfully!")}catch(e){console.error("Failed to send password reset:",e),alert("Failed to send password reset email.")}})}resendVerificationEmail(){return v(this,null,function*(){let t=this.user();if(!(!t||t.email_verified)&&confirm(`Send verification email to ${t.email}?`))try{(yield this.http.patch(`${this.apiUrl}/users/${t._id}/verify-email`,{}).toPromise())&&(yield this.loadUserDetails(t._id),alert("Verification email sent successfully!"))}catch(e){console.error("Failed to send verification email:",e),alert("Failed to send verification email.")}})}goBack(){this.router.navigate(["/admin/dashboard/users"])}getRoleDisplay(t){return{client:"Customer",business_owner:"Business Owner"}[t]||t}getRoleBadgeClass(t){return{client:"bg-blue-100 text-blue-800",business_owner:"bg-green-100 text-green-800"}[t]||"bg-gray-100 text-gray-800"}getStatusDisplay(t){return t.is_banned?"Banned":t.is_active?"Active":"Inactive"}getStatusBadgeClass(t){return t.is_banned?"bg-red-100 text-red-800":t.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}getActivityIcon(t){return{Login:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1",Logout:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1","Profile Updated":"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z","Password Changed":"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z","Business Created":"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"}[t]||"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}getActivityColor(t){return{Login:"text-green-600 bg-green-100",Logout:"text-red-600 bg-red-100","Profile Updated":"text-blue-600 bg-blue-100","Password Changed":"text-purple-600 bg-purple-100","Business Created":"text-indigo-600 bg-indigo-100"}[t]||"text-gray-600 bg-gray-100"}formatAccountAge(t){if(!t)return"Unknown";let e=new Date(t),a=Math.floor((new Date().getTime()-e.getTime())/(1e3*60*60*24));return a<30?a+" days":a<365?Math.floor(a/30)+" months":Math.floor(a/365)+" years"}getUserStatusColor(){let t=this.user();return t?t.is_banned?"bg-red-500":t.is_active?"bg-green-500":"bg-gray-400":"bg-gray-400"}getFullName(t){return t.first_name||t.last_name?`${t.first_name||""} ${t.last_name||""}`.trim():"No name provided"}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=F({type:o,selectors:[["app-admin-user-details"]],decls:20,vars:3,consts:[[1,"min-h-screen","bg-gradient-to-br","from-slate-50","via-blue-50","to-indigo-50"],[1,"p-4","sm:p-6","lg:p-8"],[1,"mb-8"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between"],[1,"mb-4","sm:mb-0"],[1,"flex","items-center","space-x-4"],[1,"inline-flex","items-center","text-gray-600","hover:text-gray-900","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"h-6","w-px","bg-gray-300"],[1,"text-3xl","font-bold","text-gray-900","bg-gradient-to-r","from-blue-600","to-indigo-600","bg-clip-text","text-transparent"],[1,"flex","space-x-3"],[1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","rounded-lg","shadow-sm","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500"],[1,"flex","items-center","justify-center","h-64"],[1,"text-center","py-12"],[1,"fixed","inset-0","bg-gray-600","bg-opacity-50","overflow-y-auto","h-full","w-full","z-50","flex","items-center","justify-center"],[1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","rounded-lg","shadow-sm","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","rounded-lg","shadow-sm","text-sm","font-medium","text-white","bg-gradient-to-r","from-blue-600","to-indigo-600","hover:from-blue-700","hover:to-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"text-center"],[1,"inline-block","animate-spin","rounded-full","h-12","w-12","border-b-2","border-blue-600"],[1,"mt-4","text-sm","text-gray-600"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-100","overflow-hidden","mb-8"],[1,"bg-gradient-to-r","from-blue-600","to-indigo-600","h-32"],[1,"relative","px-6","pb-6"],[1,"flex","flex-col","sm:flex-row","sm:items-end","sm:space-x-6"],[1,"-mt-16","relative"],[1,"w-24","h-24","rounded-full","border-4","border-white","object-cover","shadow-lg",3,"src","alt"],[1,"w-24","h-24","rounded-full","border-4","border-white","bg-gray-300","flex","items-center","justify-center","shadow-lg"],[1,"absolute","bottom-0","right-0","w-6","h-6","rounded-full","border-2","border-white"],[1,"mt-4","sm:mt-0","flex-1"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4"],[1,"flex","flex-wrap","gap-3","mt-6"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6","mt-8","pt-6","border-t","border-gray-200"],[1,"text-sm","font-medium","text-gray-500","mb-2"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"text-lg","font-semibold","text-gray-500"],[1,"text-lg","font-mono","text-gray-900"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-6","mb-8"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-100","p-6"],[1,"flex","items-center"],[1,"flex-shrink-0"],[1,"w-12","h-12","bg-gradient-to-r","from-blue-500","to-blue-600","rounded-xl","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],[1,"ml-4","flex-1"],[1,"text-sm","font-medium","text-gray-500"],[1,"text-2xl","font-bold","text-gray-900"],[1,"w-12","h-12","bg-gradient-to-r","from-green-500","to-green-600","rounded-xl","flex","items-center","justify-center"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"w-12","h-12","bg-gradient-to-r","from-purple-500","to-purple-600","rounded-xl","flex","items-center","justify-center"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],[1,"w-12","h-12","bg-gradient-to-r","from-yellow-500","to-yellow-600","rounded-xl","flex","items-center","justify-center"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"],[1,"flex","items-baseline"],[1,"ml-2","text-sm","font-medium","text-yellow-600"],[1,"text-lg","font-semibold","text-gray-900","mb-6"],[1,"text-center","py-8"],[1,"space-y-4"],[1,"text-2xl","font-bold","text-gray-600"],[1,"text-gray-600"],[1,"flex","items-center","space-x-3","mt-3"],[1,"inline-flex","px-2","py-1","text-xs","font-semibold","rounded-full"],[1,"inline-flex","items-center","px-2","py-1","text-xs","font-semibold","text-green-800","bg-green-100","rounded-full"],[1,"inline-flex","items-center","px-2","py-1","text-xs","font-semibold","text-red-800","bg-red-100","rounded-full"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-3","h-3","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-lg","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],["type","email",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-lg","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],["type","tel",1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-lg","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],[1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-lg","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],["value","client"],["value","business_owner"],[3,"value"],[1,"inline-flex","items-center","px-3","py-2","border","border-transparent","text-sm","font-medium","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"class"],[1,"inline-flex","items-center","px-3","py-2","border","border-transparent","text-sm","font-medium","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],[1,"inline-flex","items-center","px-3","py-2","border","border-transparent","text-sm","font-medium","text-purple-600","bg-purple-50","rounded-lg","hover:bg-purple-100","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-purple-500",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"],[1,"inline-flex","items-center","px-3","py-2","border","border-transparent","text-sm","font-medium","text-blue-600","bg-blue-50","rounded-lg","hover:bg-blue-100","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500"],[1,"inline-flex","items-center","px-3","py-2","border","border-transparent","text-sm","font-medium","text-red-600","bg-red-50","rounded-lg","hover:bg-red-100","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636M5.636 18.364l12.728-12.728"],[1,"inline-flex","items-center","px-3","py-2","border","border-transparent","text-sm","font-medium","text-blue-600","bg-blue-50","rounded-lg","hover:bg-blue-100","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-12","w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"mt-2","text-sm","font-medium","text-gray-900"],[1,"mt-1","text-sm","text-gray-500"],[1,"flex","items-start","space-x-4"],[1,"w-10","h-10","rounded-full","flex","items-center","justify-center","flex-shrink-0"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],[1,"flex-1","min-w-0"],[1,"text-sm","font-medium","text-gray-900"],[1,"mt-1","flex","items-center","space-x-4","text-xs","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"mt-6"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","text-white","bg-blue-600","hover:bg-blue-700",3,"click"],[1,"bg-white","p-6","rounded-lg","shadow-xl","max-w-md","w-full","mx-4"],[1,"flex","items-center","justify-center","w-12","h-12","mx-auto","bg-red-100","rounded-full","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-red-600"],[1,"text-lg","font-medium","text-gray-900","text-center","mb-2"],[1,"text-sm","text-gray-500","text-center","mb-6"],[1,"flex-1","px-4","py-2","border","border-gray-300","rounded-md","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],[1,"flex-1","px-4","py-2","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-red-600","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"inline-flex","items-center"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-2","h-4","w-4","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,l){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"button",6),b("click",function(){return l.goBack()}),m(),i(7,"svg",7),c(8,"path",8),n(),r(9," Back to Users "),n(),h(),c(10,"div",9),i(11,"h1",10),r(12," User Details "),n()()(),i(13,"div",11),_(14,ie,4,0,"button",12)(15,ne,8,1),n()()(),_(16,oe,5,0,"div",13)(17,ke,87,26)(18,Ue,10,0,"div",14),n()(),_(19,Ae,15,4,"div",15)),e&2&&(s(14),f(l.editMode()?15:14),s(2),f(l.loading()&&!l.user()?16:l.user()?17:18),s(3),f(l.showDeleteModal()?19:-1))},dependencies:[W,Z,Q,X,K,J,Y,q,z,I],styles:[".user-profile-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;border:1px solid #f3f4f6;overflow:hidden}.profile-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2563eb,#6366f1);height:128px}.avatar-container[_ngcontent-%COMP%]{position:relative;margin-top:-64px}.avatar-image[_ngcontent-%COMP%]{width:96px;height:96px;border-radius:50%;border:4px solid white;object-fit:cover;box-shadow:0 4px 12px #00000026}.avatar-placeholder[_ngcontent-%COMP%]{width:96px;height:96px;border-radius:50%;border:4px solid white;background:linear-gradient(135deg,#3b82f6,#6366f1);display:flex;align-items:center;justify-content:center;box-shadow:0 4px 12px #00000026;color:#fff;font-weight:700;font-size:24px}.status-indicator[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;width:24px;height:24px;border-radius:50%;border:2px solid white}.status-indicator.active[_ngcontent-%COMP%]{background-color:#10b981}.status-indicator.banned[_ngcontent-%COMP%]{background-color:#ef4444}.status-indicator.inactive[_ngcontent-%COMP%]{background-color:#6b7280}.stats-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;border:1px solid #f3f4f6;padding:24px;transition:box-shadow .2s ease}.stats-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a}.action-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:8px 12px;border:none;text-decoration:none;font-size:14px;font-weight:500;border-radius:8px;transition:all .2s ease;cursor:pointer}.action-button[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 8px #0000001a}.action-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.activity-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px;padding:16px 0;border-bottom:1px solid #f3f4f6}.activity-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.activity-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0}.edit-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:16px}.edit-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:14px;font-weight:500;color:#374151;margin-bottom:4px}.edit-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .edit-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px 12px;border:1px solid #d1d5db;border-radius:8px;box-shadow:0 1px 2px #0000000d;transition:border-color .2s ease,box-shadow .2s ease}.edit-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .edit-form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.loading-spinner[_ngcontent-%COMP%]{display:inline-block;width:48px;height:48px;border:2px solid transparent;border-top:2px solid #2563eb;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#4b556380;display:flex;align-items:center;justify-content:center;z-index:50}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:8px;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;max-width:28rem;width:100%;margin:0 16px}.badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:4px 8px;font-size:12px;font-weight:600;border-radius:9999px}.badge.role-user[_ngcontent-%COMP%]{background-color:#dbeafe;color:#1e40af}.badge.role-business-owner[_ngcontent-%COMP%]{background-color:#d1fae5;color:#065f46}.badge.role-admin[_ngcontent-%COMP%]{background-color:#e9d5ff;color:#7c2d12}.badge.status-active[_ngcontent-%COMP%]{background-color:#d1fae5;color:#065f46}.badge.status-inactive[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#374151}.badge.status-banned[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.badge.status-pending[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.badge.verified[_ngcontent-%COMP%]{background-color:#d1fae5;color:#065f46}.badge.unverified[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}@media (max-width: 768px){.user-profile-card[_ngcontent-%COMP%]   .profile-content[_ngcontent-%COMP%]{padding:16px}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:16px}.stats-card[_ngcontent-%COMP%]{padding:16px}.action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.action-button[_ngcontent-%COMP%]{width:100%;justify-content:center}}@media (max-width: 640px){.avatar-image[_ngcontent-%COMP%], .avatar-placeholder[_ngcontent-%COMP%]{width:80px;height:80px}.avatar-container[_ngcontent-%COMP%]{margin-top:-40px}.profile-header[_ngcontent-%COMP%]{height:96px}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};export{ee as AdminUserDetailsComponent};
