import{a as K,b as Q}from"./chunk-I5NYEOQ7.js";import{h as O,l as j,m as Y}from"./chunk-RXAK7GQU.js";import{d as G,e as q,h as z,k as V}from"./chunk-SQHEFKI2.js";import"./chunk-7RWCIHFI.js";import"./chunk-VRCQRP53.js";import{B as D,c as B,e as f,h as I,i as L,l as N,p as R,r as T,z as A}from"./chunk-MOPYAMLF.js";import"./chunk-RNGT6N3O.js";import"./chunk-TOWFRAUA.js";import{a as H,b as J}from"./chunk-ZH2LY4H3.js";import"./chunk-QVSCKNGL.js";import"./chunk-FX5J5MOS.js";import{c as _,d as M,e as k}from"./chunk-SUTJIGUH.js";import{a as E}from"./chunk-VJC62ZZJ.js";import"./chunk-WZKZJ5DF.js";import{p as S,q as x}from"./chunk-A72LFUZP.js";import"./chunk-IGUJQH2A.js";import"./chunk-GS6LNAK5.js";import"./chunk-QD7SSFII.js";import{a as w,c as b,d as F}from"./chunk-MEFNJ5SS.js";import"./chunk-GUCRBWY4.js";import{t as P}from"./chunk-REOVWAHI.js";import{Bb as m,Ea as C,Gb as p,Lb as o,Mb as a,Nb as u,Vb as h,Wb as v,cb as s,fa as l,gc as r,ob as y,qc as c,ub as d}from"./chunk-BEPULU6C.js";import{e as g}from"./chunk-JKOY2XUY.js";var W=()=>["/auth/login"],X=()=>["/auth/signup"];function Z(t,i){t&1&&r(0," Email is required ")}function $(t,i){t&1&&r(0," Please enter a valid email address ")}function ee(t,i){if(t&1&&(o(0,"mat-error"),d(1,Z,1,0)(2,$,1,0),a()),t&2){let e=v();s(),p(e.emailControl!=null&&e.emailControl.hasError("required")?1:e.emailControl!=null&&e.emailControl.hasError("email")?2:-1)}}function te(t,i){t&1&&r(0," Send Reset Link ")}function oe(t,i){t&1&&(o(0,"span",9),u(1,"mat-spinner",15),r(2," Sending... "),a())}var U=class t{authService=l(E);router=l(b);route=l(w);fb=l(A);snackBar=l(K);loading=C(!1);forgotPasswordForm;constructor(){this.forgotPasswordForm=this.fb.group({email:["",[f.required,f.email]]})}ngOnInit(){this.route.queryParams.subscribe(i=>{i.email&&this.forgotPasswordForm.patchValue({email:i.email})})}onSubmit(){return g(this,null,function*(){if(!this.forgotPasswordForm.valid){this.snackBar.open("Please enter a valid email address","Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-error"]});return}let{email:i}=this.forgotPasswordForm.value;this.loading.set(!0);try{let e=yield this.authService.forgotPassword(i);e.success?(this.snackBar.open(e.message||"If an account with that email exists, we have sent a password reset link.","Close",{duration:8e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-success"]}),this.forgotPasswordForm.reset()):this.snackBar.open(e.message||"Failed to send password reset email. Please try again.","Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-error"]})}catch(e){this.snackBar.open(e?.message||"An unexpected error occurred. Please try again.","Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-error"]})}finally{this.loading.set(!1)}})}get emailControl(){return this.forgotPasswordForm.get("email")}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=y({type:t,selectors:[["app-forgot-password"]],decls:25,vars:9,consts:[[1,"forgot-password-container"],[1,"text-center","mb-8"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"space-y-6",3,"ngSubmit","formGroup"],["appearance","outline",1,"w-full"],["matInput","","type","email","formControlName","email","placeholder","your@email.com",3,"disabled"],["matSuffix",""],["mat-raised-button","","color","primary","type","submit",1,"w-full","py-3","text-base","font-medium","mb-4",3,"disabled"],[1,"flex","items-center","justify-center","gap-2"],[1,"space-y-3","text-center"],["mat-button","","color","primary",1,"text-sm",3,"routerLink"],[1,"mt-4","pt-4","border-t","border-gray-200"],[1,"text-sm","text-gray-600"],["mat-button","","color","primary",1,"text-sm","font-medium","ml-1",3,"routerLink"],["diameter","16"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2),r(3,"Reset Your Password"),a(),o(4,"p",3),r(5,"Enter your email address and we'll send you a link to reset your password."),a()(),o(6,"form",4),h("ngSubmit",function(){return n.onSubmit()}),o(7,"mat-form-field",5)(8,"mat-label"),r(9,"Email Address"),a(),u(10,"input",6),o(11,"mat-icon",7),r(12,"email"),a(),d(13,ee,3,1,"mat-error"),a(),o(14,"button",8),d(15,te,1,0)(16,oe,3,0,"span",9),a(),o(17,"div",10)(18,"a",11),r(19," Remember your password? Back to Login "),a(),o(20,"div",12)(21,"p",13),r(22," Don't have an account? "),o(23,"a",14),r(24," Sign up "),a()()()()()()),e&2&&(s(6),m("formGroup",n.forgotPasswordForm),s(4),m("disabled",n.loading()),s(3),p(n.emailControl!=null&&n.emailControl.invalid&&(n.emailControl!=null&&n.emailControl.touched)?13:-1),s(),m("disabled",!n.forgotPasswordForm.valid||n.loading()),s(),p(n.loading()?16:15),s(3),m("routerLink",c(7,W)),s(5),m("routerLink",c(8,X)))},dependencies:[P,D,N,B,I,L,R,T,F,O,V,G,q,z,Y,j,k,M,_,x,S,J,H,Q],encapsulation:2})};export{U as ForgotPasswordComponent};
