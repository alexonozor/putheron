import{a as l}from"./chunk-GS6LNAK5.js";import{B as p}from"./chunk-REOVWAHI.js";import{$ as u,fa as g,o as i}from"./chunk-BEPULU6C.js";import{e as r}from"./chunk-JKOY2XUY.js";var d=class c{http=g(p);config=g(l);apiUrl=`${this.config.apiBaseUrl}/businesses`;getCategories(){return this.http.get(`${this.config.apiBaseUrl}/categories`)}getCategoriesAsync(){return r(this,null,function*(){try{return(yield i(this.getCategories())).data||[]}catch(s){throw console.error("Error fetching categories:",s),s}})}getSubcategories(s){return this.http.get(`${this.config.apiBaseUrl}/subcategories/category/${s}`)}getSubcategoriesAsync(s){return r(this,null,function*(){try{return(yield i(this.getSubcategories(s))).data||[]}catch(e){throw console.error("Error fetching subcategories:",e),e}})}getMyBusinesses(){return this.http.get(`${this.apiUrl}/my-businesses`)}getMyBusinessesAsync(){return r(this,null,function*(){try{return(yield i(this.getMyBusinesses())).data?.businesses||[]}catch(s){throw console.error("Error fetching my businesses:",s),s}})}getBusiness(s){return this.http.get(`${this.apiUrl}/${s}`)}getBusinessAsync(s){return r(this,null,function*(){try{return(yield i(this.getBusiness(s))).data||null}catch(e){throw console.error("Error fetching business:",e),e}})}createBusiness(s){return this.http.post(this.apiUrl,s)}createBusinessAsync(s){return r(this,null,function*(){try{let e=yield i(this.createBusiness(s));if(!e.success||!e.data)throw new Error(e.error||"Failed to create business");return e.data}catch(e){throw console.error("Error creating business:",e),e}})}updateBusiness(s,e){return this.http.patch(`${this.apiUrl}/${s}`,e)}updateBusinessAsync(s,e){return r(this,null,function*(){try{let t=yield i(this.updateBusiness(s,e));if(!t.success||!t.data)throw new Error(t.error||"Failed to update business");return t.data}catch(t){throw console.error("Error updating business:",t),t}})}deleteBusiness(s){return this.http.delete(`${this.apiUrl}/${s}`)}deleteBusinessAsync(s){return r(this,null,function*(){try{let e=yield i(this.deleteBusiness(s));if(!e.success)throw new Error(e.error||"Failed to delete business")}catch(e){throw console.error("Error deleting business:",e),e}})}getAllBusinesses(s=1,e=20,t,n){let a=`${this.apiUrl}?page=${s}&limit=${e}`;return t&&(a+=`&categoryId=${t}`),n&&(a+=`&subcategoryId=${n}`),this.http.get(a)}searchBusinesses(s,e,t=1,n=20,a={}){let o=new URLSearchParams({page:t.toString(),limit:n.toString()});return s?.trim()&&o.append("q",s.trim()),e&&e.length>0&&o.append("countries",e.join(",")),a.category&&o.append("category",a.category),a.subcategory&&o.append("subcategory",a.subcategory),a.city&&o.append("city",a.city),a.state&&o.append("state",a.state),a.featured!==void 0&&o.append("featured",a.featured.toString()),this.http.get(`${this.apiUrl}/search?${o.toString()}`)}getServices(s=1,e=10,t={}){let n=new URLSearchParams({page:s.toString(),limit:e.toString()});return Object.entries(t).forEach(([a,o])=>{o!=null&&n.append(a,o.toString())}),this.http.get(`${this.config.apiBaseUrl}/services?${n.toString()}`)}getServicesAsync(){return r(this,arguments,function*(s=1,e=10,t={}){try{return(yield i(this.getServices(s,e,t))).data||{services:[],total:0,page:1,totalPages:0}}catch(n){throw console.error("Error fetching services:",n),n}})}getBusinessServices(s,e=!1){let t=e?"?includeInactive=true":"";return this.http.get(`${this.config.apiBaseUrl}/services/business/${s}${t}`)}getBusinessServicesAsync(s,e=!1){return r(this,null,function*(){try{return(yield i(this.getBusinessServices(s,e))).data||[]}catch(t){throw console.error("Error fetching business services:",t),t}})}getService(s){return this.http.get(`${this.config.apiBaseUrl}/services/${s}`)}getServiceAsync(s){return r(this,null,function*(){try{return(yield i(this.getService(s))).data||null}catch(e){throw console.error("Error fetching service:",e),e}})}getServiceBySlug(s){return this.http.get(`${this.config.apiBaseUrl}/services/slug/${s}`)}getServiceBySlugAsync(s){return r(this,null,function*(){try{return(yield i(this.getServiceBySlug(s))).data||null}catch(e){throw console.error("Error fetching service by slug:",e),e}})}createService(s,e){return this.http.post(`${this.config.apiBaseUrl}/services/${s}`,e)}createServiceAsync(s,e){return r(this,null,function*(){try{let t=yield i(this.createService(s,e));if(!t.success||!t.data)throw new Error(t.message||"Failed to create service");return t.data}catch(t){throw console.error("Error creating service:",t),t}})}updateService(s,e){return this.http.patch(`${this.config.apiBaseUrl}/services/${s}`,e)}updateServiceAsync(s,e){return r(this,null,function*(){try{let t=yield i(this.updateService(s,e));if(!t.success||!t.data)throw new Error(t.message||"Failed to update service");return t.data}catch(t){throw console.error("Error updating service:",t),t}})}deleteService(s){return this.http.delete(`${this.config.apiBaseUrl}/services/${s}`)}deleteServiceAsync(s){return r(this,null,function*(){try{let e=yield i(this.deleteService(s));if(!e.success)throw new Error(e.message||"Failed to delete service")}catch(e){throw console.error("Error deleting service:",e),e}})}reorderServices(s,e){return this.http.put(`${this.config.apiBaseUrl}/services/reorder/${s}`,{serviceIds:e})}reorderServicesAsync(s,e){return r(this,null,function*(){try{let t=yield i(this.reorderServices(s,e));if(!t.success)throw new Error(t.message||"Failed to reorder services")}catch(t){throw console.error("Error reordering services:",t),t}})}uploadLogo(s,e){let t=new FormData;return t.append("logo",e),this.http.post(`${this.apiUrl}/${s}/upload-logo`,t)}uploadLogoAsync(s,e){return r(this,null,function*(){return(yield i(this.uploadLogo(s,e))).data})}uploadBanner(s,e){let t=new FormData;return t.append("banner",e),this.http.post(`${this.apiUrl}/${s}/upload-banner`,t)}uploadBannerAsync(s,e){return r(this,null,function*(){return(yield i(this.uploadBanner(s,e))).data})}uploadSosCertification(s,e){let t=new FormData;return t.append("sos_certification",e),this.http.post(`${this.apiUrl}/${s}/upload-sos-certification`,t)}uploadSosCertificationAsync(s,e){return r(this,null,function*(){return(yield i(this.uploadSosCertification(s,e))).data})}uploadMultipleSosCertifications(s,e){let t=new FormData;return e.forEach((n,a)=>{t.append("files",n)}),this.http.post(`${this.apiUrl}/${s}/upload-multiple-sos-certifications`,t)}uploadMultipleSosCertificationsAsync(s,e){return r(this,null,function*(){return(yield i(this.uploadMultipleSosCertifications(s,e))).data})}uploadServiceImages(s,e){let t=new FormData;return e.forEach(n=>{t.append("images",n)}),this.http.post(`${this.config.apiBaseUrl}/services/${s}/upload-images`,t)}uploadServiceImagesAsync(s,e){return r(this,null,function*(){return(yield i(this.uploadServiceImages(s,e))).data})}deleteServiceImage(s,e){return this.http.delete(`${this.config.apiBaseUrl}/services/${s}/delete-image`,{body:{imageUrl:e}})}deleteServiceImageAsync(s,e){return r(this,null,function*(){yield i(this.deleteServiceImage(s,e))})}adminVerifyBusiness(s){return this.http.patch(`${this.config.apiBaseUrl}/admin/businesses/${s}/verify`,{})}adminVerifyBusinessAsync(s){return r(this,null,function*(){let e=yield i(this.adminVerifyBusiness(s));if(!e.success||!e.data)throw new Error(e.error||"Failed to verify business");return e.data})}adminRejectBusiness(s,e){return this.http.patch(`${this.config.apiBaseUrl}/admin/businesses/${s}/reject`,{reason:e})}adminRejectBusinessAsync(s,e){return r(this,null,function*(){let t=yield i(this.adminRejectBusiness(s,e));if(!t.success||!t.data)throw new Error(t.error||"Failed to reject business");return t.data})}adminToggleFeatured(s,e){return this.http.patch(`${this.config.apiBaseUrl}/admin/businesses/${s}/toggle-featured`,{isFeatured:e})}adminToggleFeaturedAsync(s,e){return r(this,null,function*(){let t=yield i(this.adminToggleFeatured(s,e));if(!t.success||!t.data)throw new Error(t.error||"Failed to update featured status");return t.data})}adminDeleteBusiness(s){return this.http.delete(`${this.config.apiBaseUrl}/admin/businesses/${s}`)}adminDeleteBusinessAsync(s){return r(this,null,function*(){let e=yield i(this.adminDeleteBusiness(s));if(!e.success)throw new Error(e.error||"Failed to delete business")})}adminSuspendBusiness(s,e){return this.http.patch(`${this.config.apiBaseUrl}/admin/businesses/${s}/suspend`,{reason:e})}adminSuspendBusinessAsync(s,e){return r(this,null,function*(){let t=yield i(this.adminSuspendBusiness(s,e));if(!t.success||!t.data)throw new Error(t.error||"Failed to suspend business");return t.data})}adminReactivateBusiness(s){return this.http.patch(`${this.config.apiBaseUrl}/admin/businesses/${s}/reactivate`,{})}adminReactivateBusinessAsync(s){return r(this,null,function*(){let e=yield i(this.adminReactivateBusiness(s));if(!e.success||!e.data)throw new Error(e.error||"Failed to reactivate business");return e.data})}adminToggleBusinessStatus(s,e){return this.http.patch(`${this.config.apiBaseUrl}/admin/businesses/${s}/toggle-status`,{isActive:e})}adminToggleBusinessStatusAsync(s,e){return r(this,null,function*(){let t=yield i(this.adminToggleBusinessStatus(s,e));if(!t.success||!t.data)throw new Error(t.error||"Failed to toggle business status");return t.data})}adminBulkVerifyBusinesses(s){return this.http.patch(`${this.config.apiBaseUrl}/admin/businesses/bulk-verify`,{businessIds:s})}adminBulkVerifyBusinessesAsync(s){return r(this,null,function*(){let e=yield i(this.adminBulkVerifyBusinesses(s));if(!e.success||!e.data)throw new Error(e.error||"Failed to bulk verify businesses");return e.data})}adminBulkToggleFeatured(s,e){return this.http.patch(`${this.config.apiBaseUrl}/admin/businesses/bulk-toggle-featured`,{businessIds:s,isFeatured:e})}adminBulkToggleFeaturedAsync(s,e){return r(this,null,function*(){let t=yield i(this.adminBulkToggleFeatured(s,e));if(!t.success||!t.data)throw new Error(t.error||"Failed to bulk update featured status");return t.data})}adminBulkDeleteBusinesses(s){return this.http.delete(`${this.config.apiBaseUrl}/admin/businesses/bulk-delete`,{body:{businessIds:s}})}adminBulkDeleteBusinessesAsync(s){return r(this,null,function*(){let e=yield i(this.adminBulkDeleteBusinesses(s));if(!e.success||!e.data)throw new Error(e.error||"Failed to bulk delete businesses");return e.data})}adminGetAllBusinesses(s=1,e=20,t){let n=`${this.config.apiBaseUrl}/admin/businesses?page=${s}&limit=${e}`;return t?.status&&(n+=`&status=${t.status}`),t?.isFeatured!==void 0&&(n+=`&isFeatured=${t.isFeatured}`),t?.isActive!==void 0&&(n+=`&isActive=${t.isActive}`),t?.categoryId&&(n+=`&categoryId=${t.categoryId}`),t?.search&&(n+=`&search=${t.search}`),this.http.get(n)}static \u0275fac=function(e){return new(e||c)};static \u0275prov=u({token:c,factory:c.\u0275fac,providedIn:"root"})};export{d as a};
