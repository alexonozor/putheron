import{a as zt,b as Gt}from"./chunk-2MSZRFTO.js";import{c as Ut}from"./chunk-4ZMV3ZTA.js";import{a as Lt}from"./chunk-J4I6U27G.js";import{a as At,b as Ht,c as $t,h as qt}from"./chunk-BPBJQFSI.js";import{c as Et,d as Tt,e as jt,f as It}from"./chunk-VTECMAB6.js";import{a as Nt}from"./chunk-NFSNY3TG.js";import{a as pt,b as Ct,c as bt,d as Mt}from"./chunk-XHQQBSXI.js";import{a as yt}from"./chunk-Z53NC4YM.js";import{a as xe}from"./chunk-AB3FMD4J.js";import"./chunk-MAUTWKH5.js";import"./chunk-GLDHM7BE.js";import"./chunk-PVDG46DZ.js";import{a as wt,b as St}from"./chunk-M23MWY4A.js";import{d as Bt,e as Ot,f as Dt,h as Rt,i as Vt,j as Ft,k as Ce}from"./chunk-HQCAXNXF.js";import{b as qe,c as Ue,d as ze,e as Ge,g as nt,h as vt,i as _t,k as ft,l as gt,m as xt,n as oe}from"./chunk-ZJJTJSUN.js";import{b as $e}from"./chunk-EAY5JATJ.js";import"./chunk-IEFGRZDU.js";import"./chunk-7YGFLBJ2.js";import{b as ge,e as ne}from"./chunk-RTVUWSKV.js";import"./chunk-LPGP55NA.js";import{a as Ne,b as Le,c as Ae,d as He}from"./chunk-OVLPSQNG.js";import{a as T,b as L,c as D,d as We,f as A,h as j}from"./chunk-7UZH7J7I.js";import"./chunk-CVVEBNAL.js";import{c as ht}from"./chunk-2CAQAZ7V.js";import{a as Pt,b as kt}from"./chunk-MBUBF4CC.js";import{h as ct,j as dt,l as mt,m as ut}from"./chunk-ZEPG7XYP.js";import"./chunk-667ILHIJ.js";import"./chunk-ZLE5IO2O.js";import{d as ot,e as rt,f as at,h as st,k as lt}from"./chunk-WUPIU6OB.js";import{A as tt,C as it,c as Ye,e as ie,h as Qe,i as Xe,m as Je,q as Ke,s as Ze,z as et}from"./chunk-3JRZMC5D.js";import{a as fe}from"./chunk-UUQHZO7R.js";import{a as _e}from"./chunk-DVEYH5MF.js";import"./chunk-C3KG2QNL.js";import{a as K,b as Z}from"./chunk-2WQD2DAV.js";import{s as Q,t as G,u as N}from"./chunk-IZGM5G4Z.js";import"./chunk-OXNSH2WS.js";import"./chunk-QD7SSFII.js";import{a as O,b as I}from"./chunk-EPCK2AMG.js";import"./chunk-WF7V7INI.js";import{e as pe,g as ve}from"./chunk-HNHRL3LT.js";import"./chunk-S4SH23H7.js";import{w as k}from"./chunk-5TL7AFVW.js";import{$a as Re,Ea as le,Gb as Ve,Hb as m,Jb as u,Kb as V,Lb as te,Mb as S,Nb as y,Ob as f,Pb as r,Qb as o,Rb as C,Vc as E,Yb as h,Za as H,Zc as R,_c as b,ab as s,ac as _,cc as c,ga as B,gc as ce,hc as de,ic as me,la as p,ma as v,mc as z,na as ee,nc as J,oa as se,oc as F,pc as ue,qc as a,rb as P,rc as g,sc as x,tc as $,uc as Fe,va as w}from"./chunk-VCYZZ2B3.js";import{e as Y}from"./chunk-JKOY2XUY.js";var Qt=(i,t)=>t._id;function Xt(i,t){i&1&&(r(0,"div",3),C(1,"div",4),o())}function Jt(i,t){if(i&1){let e=h();r(0,"div",5),a(1,"Error"),o(),r(2,"div",6)(3,"div",7)(4,"div",8)(5,"mat-icon",9),a(6,"error_outline"),o()(),r(7,"h3",10),a(8),o()()(),r(9,"div",11)(10,"button",12),_("click",function(){p(e);let l=c();return v(l.onCancel())}),a(11," Cancel "),o(),r(12,"button",13),_("click",function(){p(e);let l=c();return v(l.ngOnInit())}),a(13," Try Again "),o()()}if(i&2){let e=c();s(8),g(e.error())}}function Kt(i,t){if(i&1&&(r(0,"div",15),a(1),o()),i&2){let e,n=c(2);s(),g((e=n.business())==null?null:e.name)}}function Zt(i,t){if(i&1&&C(0,"img",45),i&2){let e=c(3);f("src",e.business().logo_url,H)("alt",e.business().name)}}function ei(i,t){i&1&&(r(0,"div",46)(1,"mat-icon",50),a(2,"business"),o()())}function ti(i,t){if(i&1&&(r(0,"mat-card",18)(1,"mat-card-content")(2,"div",44),m(3,Zt,1,2,"img",45)(4,ei,3,0,"div",46),r(5,"div",47)(6,"h3",48),a(7),o(),r(8,"p",49),a(9),o()()()()()),i&2){let e,n,l,d=c(2);s(3),u((e=d.business())!=null&&e.logo_url?3:4),s(4),g((n=d.business())==null?null:n.name),s(2),g(((l=d.business())==null?null:l.short_description)||((l=d.business())==null?null:l.description)||"No description available")}}function ii(i,t){if(i&1&&(r(0,"mat-error"),a(1),o()),i&2){let e=c(2);s(),g(e.getFieldError(e.projectInfoForm,"title"))}}function ni(i,t){if(i&1&&(r(0,"mat-error"),a(1),o()),i&2){let e=c(2);s(),g(e.getFieldError(e.projectInfoForm,"description"))}}function oi(i,t){i&1&&(r(0,"div",26),C(1,"mat-spinner",51),o())}function ri(i,t){i&1&&(r(0,"div",27)(1,"mat-icon",52),a(2,"info"),o(),r(3,"p"),a(4,"No services available for this business"),o()())}function ai(i,t){if(i&1&&(r(0,"span",62),a(1),o()),i&2){let e=c().$implicit;s(),x(" ",e.pricing_type," ")}}function si(i,t){if(i&1){let e=h();r(0,"div",54)(1,"label",56)(2,"input",57),_("change",function(){let l=p(e).$implicit,d=c(3);return v(d.onServiceToggle(l._id))}),o(),r(3,"div",47)(4,"h4",58),a(5),o(),r(6,"p",59),a(7),o(),r(8,"div",60)(9,"span",61),a(10),o(),m(11,ai,2,1,"span",62),o()()()()}if(i&2){let e=t.$implicit,n=c(3);s(2),f("value",e._id)("checked",n.isServiceSelected()(e._id)),s(3),g(e.name),s(2),g(e.description),s(3),x(" ",n.formatPrice(e.price||0)," "),s(),u(e.pricing_type?11:-1)}}function li(i,t){if(i&1&&(r(0,"div",55),a(1),o()),i&2){let e=c(3);s(),x(" ",e.getFieldError(e.projectInfoForm,"selectedServices")," ")}}function ci(i,t){if(i&1&&(r(0,"div",53),S(1,si,12,6,"div",54,Qt),o(),m(3,li,2,1,"div",55)),i&2){let e=c(2);s(),y(e.services()),s(2),u(e.isFieldInvalid(e.projectInfoForm,"selectedServices")?3:-1)}}function di(i,t){if(i&1&&(r(0,"div",28)(1,"div",63)(2,"div")(3,"h4",64),a(4,"Estimated Total"),o(),r(5,"p",65),a(6),o()(),r(7,"div",66),a(8),o()()()),i&2){let e=c(2);s(6),x("",e.selectedServices().length," service(s) selected"),s(2),x(" ",e.formatPrice(e.totalEstimatedCost())," ")}}function mi(i,t){if(i&1){let e=h();r(0,"div",33),C(1,"img",67),r(2,"button",68),_("click",function(){p(e);let l=c(2);return v(l.removeImage())}),r(3,"mat-icon",69),a(4,"close"),o()()()}if(i&2){let e=c(2);s(),f("src",e.imagePreview(),H)}}function ui(i,t){if(i&1){let e=h();r(0,"div",34)(1,"input",70,2),_("change",function(l){p(e);let d=c(2);return v(d.onImageSelect(l))}),o(),r(3,"mat-icon",36),a(4,"cloud_upload"),o(),r(5,"p",37),a(6,"Click to upload project image"),o(),r(7,"button",71),_("click",function(){p(e);let l=z(2);return v(l.click())}),r(8,"mat-icon"),a(9,"image"),o(),a(10," Choose Image "),o(),r(11,"p",39),a(12,"JPG, PNG up to 5MB"),o()()}}function pi(i,t){if(i&1){let e=h();r(0,"div",72)(1,"div",73)(2,"mat-icon",74),a(3),o(),r(4,"div")(5,"p",75),a(6),o(),r(7,"p",76),a(8),o()()(),r(9,"button",77),_("click",function(){let l=p(e).$index,d=c(3);return v(d.removeAttachment(l))}),r(10,"mat-icon",69),a(11,"delete"),o()()()}if(i&2){let e=t.$implicit,n=c(3);s(3),g(n.getFileIcon(e.type)),s(3),g(e.name),s(2),g(n.formatFileSize(e.size))}}function vi(i,t){if(i&1&&(r(0,"div",40)(1,"h5",58),a(2,"Attached Files:"),o(),S(3,pi,12,3,"div",72,V),o()),i&2){let e=c(2);s(3),y(e.attachmentPreviews())}}function _i(i,t){if(i&1){let e=h();r(0,"div",14)(1,"div")(2,"span"),a(3,"Request a new service"),o(),m(4,Kt,2,1,"div",15),o(),r(5,"button",16),_("click",function(){p(e);let l=c();return v(l.onCancel())}),r(6,"mat-icon"),a(7,"close"),o()()(),r(8,"mat-dialog-content",17),m(9,ti,10,3,"mat-card",18),r(10,"form",19),_("ngSubmit",function(){p(e);let l=c();return v(l.onProjectSubmit())}),r(11,"div",20)(12,"mat-form-field",21)(13,"mat-label"),a(14,"Project Title"),o(),C(15,"input",22),r(16,"mat-hint"),a(17,"Be specific about what you need"),o(),m(18,ii,2,1,"mat-error"),o(),r(19,"mat-form-field",21)(20,"mat-label"),a(21,"Project Description"),o(),r(22,"textarea",23),a(23,"                  "),o(),r(24,"mat-hint"),a(25,"Provide as much detail as possible to help the business understand your needs"),o(),m(26,ni,2,1,"mat-error"),o(),r(27,"div",24)(28,"h3",25),a(29,"Select Services"),o(),m(30,oi,2,0,"div",26)(31,ri,5,0,"div",27)(32,ci,4,1),o(),m(33,di,9,2,"div",28),r(34,"mat-form-field",21)(35,"mat-label"),a(36,"Project Deadline (Optional)"),o(),C(37,"input",29)(38,"mat-datepicker-toggle",30)(39,"mat-datepicker",null,0),r(41,"mat-hint"),a(42,"When would you like this project completed?"),o()(),r(43,"mat-form-field",21)(44,"mat-label"),a(45,"Additional Notes (Optional)"),o(),r(46,"textarea",31),a(47,"                  "),o(),r(48,"mat-hint"),a(49,"Special requirements, preferences, or additional context"),o()(),r(50,"div",24)(51,"h4",25),a(52,"Project Image (Optional)"),o(),r(53,"p",32),a(54,"Add an image to help illustrate your project requirements"),o(),m(55,mi,5,1,"div",33)(56,ui,13,0,"div",34),o(),r(57,"div",24)(58,"h4",25),a(59,"Attachments (Optional)"),o(),r(60,"p",32),a(61,"Attach files that provide more details about your project"),o(),r(62,"div",34)(63,"input",35,1),_("change",function(l){p(e);let d=c();return v(d.onFilesSelect(l))}),o(),r(65,"mat-icon",36),a(66,"attach_file"),o(),r(67,"p",37),a(68,"Click to attach files"),o(),r(69,"button",38),_("click",function(){p(e);let l=z(64);return v(l.click())}),r(70,"mat-icon"),a(71,"upload_file"),o(),a(72," Choose Files "),o(),r(73,"p",39),a(74,"Documents, images, PDFs up to 10MB each (max 5 files)"),o()(),m(75,vi,5,0,"div",40),o()()()(),r(76,"mat-dialog-actions",41)(77,"button",42),_("click",function(){p(e);let l=c();return v(l.onCancel())}),r(78,"mat-icon"),a(79,"close"),o(),a(80," Cancel "),o(),r(81,"button",43),_("click",function(){p(e);let l=c();return v(l.onProjectSubmit())}),a(82),o()()}if(i&2){let e=z(40),n=c();s(4),u(n.business()?4:-1),s(5),u(n.business()?9:-1),s(),f("formGroup",n.projectInfoForm),s(8),u(n.isFieldInvalid(n.projectInfoForm,"title")?18:-1),s(8),u(n.isFieldInvalid(n.projectInfoForm,"description")?26:-1),s(4),u(n.servicesLoading()?30:n.services().length===0?31:32),s(3),u(n.selectedServices().length>0?33:-1),s(4),f("matDatepicker",e),s(),f("for",e),s(17),u(n.imagePreview()?55:56),s(20),u(n.attachmentPreviews().length>0?75:-1),s(2),f("disabled",n.submitting()),s(4),f("disabled",!n.canSubmit()),s(),x("",n.submitting()?"Submitting...":"Submit Request"," ")}}var be=class i{formBuilder=B(tt);projectService=B(xe);businessService=B(fe);authService=B(_e);router=B(ve);route=B(pe);dashboardRefreshService=B(Lt);dialogRef=B(Bt);dialogData=B(Ot);loading=w(!1);error=w(null);business=w(null);services=w([]);servicesLoading=w(!1);submitting=w(!1);imagePreview=w(null);attachmentPreviews=w([]);imageFile=null;attachmentFiles=[];projectInfoForm;user=this.authService.user;selectedServiceIds=w([]);selectedServices=E(()=>{let t=this.selectedServiceIds();return this.services().filter(e=>t.includes(e._id))});isServiceSelected=E(()=>{let t=this.selectedServiceIds();return e=>t.includes(e)});totalEstimatedCost=E(()=>this.selectedServices().reduce((t,e)=>t+(e.price||0),0));canSubmit=E(()=>{let t=this.projectInfoForm?.valid||!1,e=this.selectedServices().length>0,n=!this.submitting();return t&&e&&n});atLeastOneService(t){let e=t.value;return!e||!Array.isArray(e)||e.length===0?{atLeastOneService:!0}:null}futureDateValidator(t){if(!t.value)return null;let e=new Date(t.value),n=new Date;return n.setHours(0,0,0,0),e<n?{pastDate:!0}:null}constructor(){this.projectInfoForm=this.formBuilder.group({title:["",[ie.required,ie.maxLength(200)]],description:["",[ie.maxLength(1e3)]],selectedServices:[[],[ie.required,this.atLeastOneService]],deadline:["",[this.futureDateValidator]],additionalNotes:["",[ie.maxLength(500)]]})}ngOnInit(){if(!this.user()){this.dialogRef?this.dialogRef.close({error:"Authentication required"}):this.router.navigate(["/auth"]);return}let t=this.dialogData?.businessId||this.route.snapshot.params.businessId;if(!t){this.error.set("Business ID is required"),this.dialogRef?this.dialogRef.close({error:"Business ID is required"}):this.router.navigate(["/"]);return}this.loadBusinessAndServices(t),this.projectInfoForm.get("selectedServices")?.valueChanges.subscribe(e=>{if(this.selectedServiceIds.set(e||[]),this.dialogData?.preSelectedServiceId&&!e?.includes(this.dialogData.preSelectedServiceId)){let n=e||[];if(!n.includes(this.dialogData.preSelectedServiceId)){let l=[...n,this.dialogData.preSelectedServiceId];this.projectInfoForm.get("selectedServices")?.setValue(l,{emitEvent:!1}),this.selectedServiceIds.set(l)}}})}loadBusinessAndServices(t){return Y(this,null,function*(){this.loading.set(!0),this.error.set(null);try{let e=yield this.businessService.getBusinessAsync(t);this.business.set(e),this.servicesLoading.set(!0);let n=yield this.businessService.getBusinessServicesAsync(t);if(this.services.set(n.filter(l=>l.is_active)),this.dialogData?.preSelectedServiceId&&n.find(d=>d._id===this.dialogData?.preSelectedServiceId&&d.is_active)){let d=this.projectInfoForm.get("selectedServices");d.setValue([this.dialogData.preSelectedServiceId]),d.updateValueAndValidity(),this.selectedServiceIds.set([this.dialogData.preSelectedServiceId])}}catch(e){console.error("Error loading business data:",e),this.error.set("Failed to load business information")}finally{this.loading.set(!1),this.servicesLoading.set(!1)}})}onProjectSubmit(){return Y(this,null,function*(){if(this.projectInfoForm.invalid){this.markFormGroupTouched(this.projectInfoForm);return}this.submitting.set(!0),this.error.set(null);try{let t=this.projectInfoForm.value,e=this.business();if(!e)throw new Error("Business information not loaded");let n={title:t.title,description:t.description,business_id:e._id,selected_services:t.selectedServices,deadline:t.deadline?new Date(t.deadline).toISOString():void 0,additional_notes:t.additionalNotes};console.log("Creating project request:",n);let l=yield this.projectService.createProjectAsync(n);if(console.log("\u2705 Project request created successfully:",l),this.imageFile)try{console.log("Uploading project image..."),yield this.projectService.uploadProjectImageAsync(l._id,this.imageFile),console.log("\u2705 Project image uploaded successfully")}catch(d){console.warn("\u26A0\uFE0F Failed to upload project image:",d)}if(this.attachmentFiles.length>0)try{console.log("Uploading project attachments..."),yield this.projectService.uploadProjectAttachmentsAsync(l._id,this.attachmentFiles),console.log("\u2705 Project attachments uploaded successfully")}catch(d){console.warn("\u26A0\uFE0F Failed to upload project attachments:",d)}console.log("Refreshing dashboard and navigating..."),this.dashboardRefreshService.triggerRefresh(),this.dialogRef?this.dialogRef.close({success:!0,project:l,message:"Project request submitted successfully!"}):this.router.navigate(["/dashboard/projects",l._id]),console.log("=== Project Request Submission Process Completed Successfully ===")}catch(t){console.error("\u274C Error in project request submission:",t),console.error("Full error object:",t);let e="Failed to submit project request. Please try again.";t.error&&t.error.message?e=t.error.message:t.message&&(e=t.message),this.error.set(e)}finally{this.submitting.set(!1)}})}onCancel(){this.dialogRef?this.dialogRef.close({cancelled:!0}):this.router.navigate(["/"])}onBackToBusiness(){if(this.dialogRef)this.dialogRef.close({cancelled:!0});else{let t=this.business();t?this.router.navigate(["/business/profile",t._id]):this.router.navigate(["/"])}}markFormGroupTouched(t){Object.keys(t.controls).forEach(e=>{t.get(e)?.markAsTouched()})}formatPrice(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)}isFieldInvalid(t,e){let n=t.get(e);return!!(n&&n.invalid&&n.touched)}getFieldError(t,e){let n=t.get(e);if(n&&n.errors&&n.touched){if(n.errors.required)return`${e} is required`;if(n.errors.maxlength)return`${e} is too long`;if(n.errors.requiredTrue)return"You must accept the terms";if(n.errors.atLeastOneService)return"Please select at least one service";if(n.errors.pastDate)return"Deadline cannot be in the past"}return""}onServiceToggle(t){let e=this.projectInfoForm.get("selectedServices"),n=e.value||[],l;n.includes(t)?l=n.filter(d=>d!==t):l=[...n,t],e.setValue(l),e.markAsTouched(),e.updateValueAndValidity(),this.selectedServiceIds.set(l)}onImageSelect(t){let e=t.target;if(e.files&&e.files.length>0){let n=e.files[0];if(!n.type.startsWith("image/")){this.error.set("Please select an image file.");return}if(n.size>5*1024*1024){this.error.set("Image file size must be less than 5MB.");return}this.imageFile=n;let l=new FileReader;l.onload=d=>{this.imagePreview.set(d.target?.result)},l.readAsDataURL(n),this.error.set(null)}}removeImage(){this.imageFile=null,this.imagePreview.set(null)}onFilesSelect(t){let e=t.target;if(e.files&&e.files.length>0){let n=Array.from(e.files);for(let M of n)if(M.size>10*1024*1024){this.error.set(`File "${M.name}" is too large. Maximum size is 10MB.`);return}if(this.attachmentFiles.length+n.length>5){this.error.set("Maximum 5 files allowed.");return}this.attachmentFiles.push(...n);let l=this.attachmentPreviews(),d=n.map(M=>({name:M.name,url:URL.createObjectURL(M),type:M.type,size:M.size}));this.attachmentPreviews.set([...l,...d]),this.error.set(null)}}removeAttachment(t){this.attachmentFiles.splice(t,1);let e=this.attachmentPreviews();URL.revokeObjectURL(e[t].url),e.splice(t,1),this.attachmentPreviews.set([...e])}formatFileSize(t){if(t===0)return"0 Bytes";let e=1024,n=["Bytes","KB","MB","GB"],l=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,l)).toFixed(2))+" "+n[l]}getFileIcon(t){return t.startsWith("image/")?"image":t.includes("pdf")?"picture_as_pdf":t.includes("word")||t.includes("document")?"description":t.includes("sheet")||t.includes("excel")?"table_chart":t.includes("presentation")||t.includes("powerpoint")?"slideshow":t.includes("text")?"text_snippet":"attach_file"}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=P({type:i,selectors:[["app-create-project-steps"]],decls:3,vars:1,consts:[["picker",""],["fileInput",""],["imageInput",""],["mat-dialog-content","",1,"flex","justify-center","items-center","py-20"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-blue-600"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"text-center","py-8"],[1,"text-red-400","mb-4"],[1,"text-6xl"],[1,"text-lg","font-medium","text-gray-900","mb-2"],["mat-dialog-actions","","align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],["mat-dialog-title","",1,"flex!","items-center!","justify-between!"],[1,"text-sm","font-normal","text-gray-600","mt-1"],["mat-icon-button","",1,"text-gray-400","hover:text-gray-600",3,"click"],[1,"scrollable-content"],[1,"mb-6"],[3,"ngSubmit","formGroup"],[1,"space-y-6"],["appearance","outline",1,"w-full"],["matInput","","formControlName","title","placeholder","Enter your project title","maxlength","200"],["matInput","","formControlName","description","placeholder","Describe your project requirements in detail","rows","4","maxlength","1000"],[1,"space-y-4"],[1,"text-lg","font-medium","text-gray-900"],[1,"flex","justify-center","py-8"],[1,"text-center","py-8","text-gray-500"],[1,"bg-blue-50","border","border-blue-200","rounded-lg","p-4"],["matInput","","formControlName","deadline","placeholder","Choose a deadline",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","additionalNotes","placeholder","Any additional requirements or special instructions","rows","3","maxlength","500"],[1,"text-sm","text-gray-600"],[1,"relative","inline-block"],[1,"border-2","border-dashed","border-gray-300","rounded-lg","p-6","text-center","hover:border-gray-400","transition-colors"],["type","file","multiple","",1,"hidden",3,"change"],[1,"text-gray-400","text-4xl","mb-2"],[1,"text-gray-600","mb-2"],["type","button","mat-raised-button","","color","accent",3,"click"],[1,"text-xs","text-gray-500","mt-2"],[1,"space-y-2"],["align","end"],["mat-stroked-button","",3,"click","disabled"],["matButton","filled","color","primary",3,"click","disabled"],[1,"flex","items-center","space-x-4"],[1,"w-16","h-16","rounded-lg","object-cover",3,"src","alt"],[1,"w-16","h-16","rounded-lg","bg-gray-200","flex","items-center","justify-center"],[1,"flex-1"],[1,"text-xl","font-semibold","text-gray-900"],[1,"text-gray-600"],[1,"text-gray-500","text-2xl"],["diameter","32"],[1,"text-4xl","mb-2"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"border","rounded-lg","p-4","hover:border-blue-300","transition-colors"],[1,"text-red-600","text-sm","mt-2"],[1,"flex","items-start","space-x-3","cursor-pointer"],["type","checkbox",1,"mt-1","h-4","w-4","text-blue-600","border-gray-300","rounded","focus:ring-blue-500",3,"change","value","checked"],[1,"font-medium","text-gray-900"],[1,"text-sm","text-gray-600","mt-1"],[1,"flex","justify-between","items-center","mt-2"],[1,"text-lg","font-semibold","text-blue-600"],[1,"text-xs","text-gray-500","bg-gray-100","px-2","py-1","rounded"],[1,"flex","justify-between","items-center"],[1,"font-medium","text-blue-900"],[1,"text-sm","text-blue-700"],[1,"text-2xl","font-bold","text-blue-900"],["alt","Project preview",1,"w-32","h-32","object-cover","rounded-lg","border","border-gray-200",3,"src"],["type","button",1,"absolute","-top-2","-right-2","bg-red-100","text-red-600","rounded-full","p-1","hover:bg-red-200","transition-colors",3,"click"],[1,"text-sm"],["type","file","accept","image/*",1,"hidden",3,"change"],["type","button","mat-raised-button","","color","primary",3,"click"],[1,"flex","items-center","justify-between","p-3","bg-gray-50","rounded-lg","border","border-gray-200"],[1,"flex","items-center","space-x-3"],[1,"text-gray-500"],[1,"text-sm","font-medium","text-gray-900","truncate","max-w-xs"],[1,"text-xs","text-gray-500"],["type","button",1,"text-red-600","hover:text-red-700","p-1",3,"click"]],template:function(e,n){e&1&&m(0,Xt,2,0,"div",3)(1,Jt,14,1)(2,_i,83,14),e&2&&u(n.loading()?0:n.error()?1:2)},dependencies:[k,it,Je,Ye,Qe,Xe,et,Ke,Ze,ct,lt,ot,at,rt,st,ut,mt,dt,ht,qt,At,Ht,$t,N,G,Q,I,O,Z,K,j,T,D,Ce,Rt,Ft,Vt],styles:[".business-info-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;box-shadow:0 1px 3px #0000001a}.mat-mdc-checkbox[_ngcontent-%COMP%]   .mat-mdc-checkbox-frame[_ngcontent-%COMP%]{border-color:#d1d5db}.mat-mdc-checkbox.mat-mdc-checkbox-checked[_ngcontent-%COMP%]   .mat-mdc-checkbox-background[_ngcontent-%COMP%]{background-color:#3b82f6}.mat-mdc-form-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{border-radius:8px}.mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mdc-notched-outline__leading[_ngcontent-%COMP%], .mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mdc-notched-outline__notch[_ngcontent-%COMP%], .mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mdc-notched-outline__trailing[_ngcontent-%COMP%]{border-color:#3b82f6}.service-card[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.service-card[_ngcontent-%COMP%]:hover{border-color:#3b82f6;box-shadow:0 4px 6px -1px #0000001a}.service-card.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background-color:#eff6ff}.loading-spinner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:2rem}.error-message[_ngcontent-%COMP%]{background-color:#fef2f2;border:1px solid #fecaca;color:#dc2626;padding:1rem;border-radius:8px;margin-bottom:1rem}[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;max-height:90vh}[_nghost-%COMP%]   .mat-mdc-dialog-title[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;margin:0;padding:20px 24px 16px;background-color:#fff;border-bottom:1px solid #e5e7eb;flex-shrink:0}[_nghost-%COMP%]   .mat-mdc-dialog-title[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px}[_nghost-%COMP%]   .mat-mdc-dialog-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:20px 24px;margin:0}[_nghost-%COMP%]   .mat-mdc-dialog-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}[_nghost-%COMP%]   .mat-mdc-dialog-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:3px}[_nghost-%COMP%]   .mat-mdc-dialog-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}[_nghost-%COMP%]   .mat-mdc-dialog-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}[_nghost-%COMP%]   .mat-mdc-dialog-content[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 1px 3px #0000001a}[_nghost-%COMP%]   .mat-mdc-dialog-actions[_ngcontent-%COMP%]{position:sticky;bottom:0;z-index:10;padding:16px 24px 24px;margin:0;background-color:#fff;border-top:1px solid #e5e7eb;flex-shrink:0;gap:8px}[_nghost-%COMP%]   .mat-mdc-dialog-actions[_ngcontent-%COMP%]   .mat-mdc-button[_ngcontent-%COMP%]{margin-left:0}@media (min-width: 768px){.mat-mdc-dialog-container[_nghost-%COMP%]{max-height:90vh;max-width:700px;width:90vw}}@media (max-width: 767px){.mat-mdc-dialog-container[_nghost-%COMP%]{max-height:100vh!important;max-width:100vw!important;width:100vw!important;height:100vh!important;padding:0!important;display:flex!important;flex-direction:column!important;border-radius:0!important}[_nghost-%COMP%]   .mat-mdc-dialog-title[_ngcontent-%COMP%]{padding:16px 20px 12px}[_nghost-%COMP%]   .mat-mdc-dialog-title[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{top:8px;right:8px}[_nghost-%COMP%]   .mat-mdc-dialog-content[_ngcontent-%COMP%]{padding:16px 20px}[_nghost-%COMP%]   .mat-mdc-dialog-actions[_ngcontent-%COMP%]{padding:12px 20px 20px}}@media (min-width: 768px){.create-project-modal[_nghost-%COMP%]   .mat-mdc-dialog-container[_ngcontent-%COMP%], .create-project-modal   [_nghost-%COMP%]   .mat-mdc-dialog-container[_ngcontent-%COMP%]{max-height:90vh!important;max-width:700px!important;width:90vw!important}}@media (max-width: 767px){.create-project-modal[_nghost-%COMP%]   .mat-mdc-dialog-container[_ngcontent-%COMP%], .create-project-modal   [_nghost-%COMP%]   .mat-mdc-dialog-container[_ngcontent-%COMP%]{max-height:100vh!important;max-width:100vw!important;width:100vw!important;height:100vh!important;padding:0!important;display:flex!important;flex-direction:column!important;border-radius:0!important}}.scrollable-content[_ngcontent-%COMP%]{scroll-behavior:smooth;padding-bottom:20px!important}.scrollable-content[_ngcontent-%COMP%]   .space-y-6[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:last-child{margin-bottom:40px}.service-card[_ngcontent-%COMP%]{transition:all .2s ease-in-out;cursor:pointer}.service-card[_ngcontent-%COMP%]:hover{border-color:#3b82f6;box-shadow:0 2px 8px #3b82f626}.service-card.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background-color:#eff6ff;box-shadow:0 2px 8px #3b82f626}.mat-mdc-dialog-title[_ngcontent-%COMP%]:before{display:inline-block;width:0;height:40px;content:none!important;vertical-align:0}"]})};var fi=["originalTabs"];function gi(i,t){if(i&1&&C(0,"div",42)(1,"div",43),i&2){let e,n=c();J("background-image","url("+((e=n.business())==null?null:e.banner_url)+")")}}function xi(i,t){i&1&&C(0,"div",6)}function Ci(i,t){if(i&1){let e=h();r(0,"button",44),_("click",function(){p(e);let l=c();return v(l.editBusinessClick.emit())}),ee(),r(1,"svg",45),C(2,"path",46),o(),a(3," Edit Business "),o(),se(),r(4,"button",47),_("click",function(){p(e);let l=c();return v(l.addServiceClick.emit())}),ee(),r(5,"svg",45),C(6,"path",48),o(),a(7," Add Service "),o()}}function bi(i,t){if(i&1){let e=h();r(0,"button",49),_("click",function(){p(e);let l=c();return v(l.startProjectClick.emit())}),a(1),o(),C(2,"app-favorite-button",50),r(3,"button",51),_("click",function(){p(e);let l=c();return v(l.reportBusinessClick.emit())}),ee(),r(4,"svg",52),C(5,"path",53),o()()}if(i&2){let e=c();ue(e.activeServicesCount()===0?"inline-flex items-center px-8 py-3 bg-gray-300 text-gray-500 rounded-full cursor-not-allowed font-semibold shadow-lg":"inline-flex items-center px-8 py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-full transition-all font-semibold shadow-lg"),f("disabled",e.activeServicesCount()===0),s(),x(" ",e.activeServicesCount()===0?"No Services Available":"Request Service"," "),s(),f("businessId",e.business()._id)("businessName",e.business().name)}}function hi(i,t){if(i&1&&C(0,"img",16),i&2){let e=c();f("src",e.business().logo_url,H)("alt",e.business().name+" logo")}}function wi(i,t){i&1&&(r(0,"div",17),ee(),r(1,"svg",54),C(2,"path",55),o()())}function Si(i,t){if(i&1&&(r(0,"span",23),a(1),o()),i&2){let e=c();s(),x(" ",e.getCategoryName()," ")}}function yi(i,t){if(i&1&&a(0),i&2){let e=c(2);$(" ",e.business().city,", ",e.business().state," ")}}function Mi(i,t){if(i&1&&a(0),i&2){let e=c(2);x(" ",e.business().city," ")}}function Pi(i,t){if(i&1&&a(0),i&2){let e=c(2);x(" ",e.business().state," ")}}function ki(i,t){if(i&1&&(r(0,"span",24),m(1,yi,1,2)(2,Mi,1,1)(3,Pi,1,1),o()),i&2){let e=c();s(),u(e.business().city&&e.business().state?1:e.business().city?2:e.business().state?3:-1)}}function Ei(i,t){if(i&1){let e=h();r(0,"button",56),_("click",function(){p(e);let l=c();return v(l.editBusinessClick.emit())}),r(1,"mat-icon"),a(2,"edit"),o(),a(3," Edit "),o(),r(4,"button",57),_("click",function(){p(e);let l=c();return v(l.addServiceClick.emit())}),r(5,"mat-icon"),a(6,"add"),o(),a(7," Service "),o()}}function Ti(i,t){if(i&1&&(r(0,"button",61)(1,"mat-icon"),a(2,"phone"),o(),r(3,"span"),a(4),o()()),i&2){let e=c(2);s(4),g(e.business().contact_phone)}}function ji(i,t){if(i&1){let e=h();r(0,"button",62),_("click",function(){p(e);let l=c(2);return v(l.visitWebsiteClick.emit())}),r(1,"mat-icon"),a(2,"language"),o(),r(3,"span"),a(4,"Visit Website"),o()()}}function Ii(i,t){if(i&1){let e=h();r(0,"button",58),_("click",function(){p(e);let l=c();return v(l.startProjectClick.emit())}),a(1),o(),C(2,"app-favorite-button",59),r(3,"button",60)(4,"mat-icon"),a(5,"more_vert"),o()(),r(6,"mat-menu",null,3),m(8,Ti,5,1,"button",61),m(9,ji,5,0,"button",61),r(10,"button",62),_("click",function(){p(e);let l=c();return v(l.reportBusinessClick.emit())}),r(11,"mat-icon"),a(12,"flag"),o(),r(13,"span"),a(14,"Report Business"),o()()()}if(i&2){let e=z(7),n=c();f("disabled",n.activeServicesCount()===0),s(),x(" ",n.activeServicesCount()===0?"No Services":"Request Service"," "),s(),f("businessId",n.business()._id)("businessName",n.business().name),s(),f("matMenuTriggerFor",e),s(5),u(n.business().contact_phone?8:-1),s(),u(n.business().website?9:-1)}}function Bi(i,t){if(i&1&&(r(0,"span",23),a(1),o()),i&2){let e=c();s(),x(" ",e.getCategoryName()," ")}}function Oi(i,t){if(i&1&&a(0),i&2){let e=c(2);$(" ",e.business().city,", ",e.business().state," ")}}function Di(i,t){if(i&1&&a(0),i&2){let e=c(2);x(" ",e.business().city," ")}}function Ri(i,t){if(i&1&&a(0),i&2){let e=c(2);x(" ",e.business().state," ")}}function Vi(i,t){if(i&1&&(r(0,"span",28),m(1,Oi,1,2)(2,Di,1,1)(3,Ri,1,1),o()),i&2){let e=c();s(),u(e.business().city&&e.business().state?1:e.business().city?2:e.business().state?3:-1)}}function Fi(i,t){if(i&1){let e=h();r(0,"a",63),_("click",function(){let l=p(e).$implicit,d=c();return v(d.onTabClick(l.toLowerCase()))}),a(1),o()}if(i&2){let e=t.$implicit,n=c();f("active",n.activeSection()===e.toLowerCase()),s(),x(" ",e," ")}}function Ni(i,t){if(i&1){let e=h();r(0,"a",63),_("click",function(){let l=p(e).$implicit,d=c();return v(d.onTabClick(l.toLowerCase()))}),a(1),o()}if(i&2){let e=t.$implicit,n=c();f("active",n.activeSection()===e.toLowerCase()),s(),x(" ",e," ")}}var he=class i{business=b.required();isOwner=b.required();activeServicesCount=b.required();businessTypeDisplay=b.required();activeSection=b("about");editBusinessClick=R();addServiceClick=R();startProjectClick=R();visitWebsiteClick=R();reportBusinessClick=R();scrollToSection=R();links=["About","Services","Portfolio","Reviews"];originalTabs;showStickyTabs=w(!1);scrollContainer;intersectionObserver;ngAfterViewInit(){setTimeout(()=>{this.scrollContainer=document.querySelector("mat-drawer-content"),console.log("Scroll container found:",this.scrollContainer),console.log("Original tabs element:",this.originalTabs?.nativeElement),this.scrollContainer&&(this.scrollContainer.addEventListener("scroll",this.onScroll.bind(this)),console.log("Scroll listener added"))},100)}onScroll(){if(!this.originalTabs||!this.scrollContainer)return;let t=this.originalTabs.nativeElement.getBoundingClientRect(),e=this.scrollContainer.getBoundingClientRect(),n=t.bottom<e.top;console.log("Tabs bottom:",t.bottom,"Container top:",e.top,"Should show sticky:",n),this.showStickyTabs.set(n)}ngOnDestroy(){this.scrollContainer&&this.scrollContainer.removeEventListener("scroll",this.onScroll.bind(this)),this.intersectionObserver&&this.intersectionObserver.disconnect()}onTabClick(t){this.scrollToSection.emit(t)}getCategoryName(){let t=this.business().category_id;return!t||typeof t=="string"?"":t.name||""}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=P({type:i,selectors:[["app-business-profile-header"]],viewQuery:function(e,n){if(e&1&&ce(fi,5,le),e&2){let l;de(l=me())&&(n.originalTabs=l.first)}},inputs:{business:[1,"business"],isOwner:[1,"isOwner"],activeServicesCount:[1,"activeServicesCount"],businessTypeDisplay:[1,"businessTypeDisplay"],activeSection:[1,"activeSection"]},outputs:{editBusinessClick:"editBusinessClick",addServiceClick:"addServiceClick",startProjectClick:"startProjectClick",visitWebsiteClick:"visitWebsiteClick",reportBusinessClick:"reportBusinessClick",scrollToSection:"scrollToSection"},decls:96,vars:25,consts:[["originalTabs",""],["tabPanel",""],["tabPanel2",""],["mobileMenu","matMenu"],[1,"relative","max-w-7xl","mx-auto","rounded-t-[0px]!","overflow-hidden"],[1,"relative","h-32","sm:h-48","md:h-64","lg:h-96","w-full","overflow-hidden"],[1,"absolute","inset-0","bg-gradient-to-r","from-blue-600","to-indigo-700"],[1,"hidden","lg:block","absolute","bottom-8","w-full"],[1,"px-8"],[1,"flex","items-center","justify-between"],[1,"ml-48"],[1,"text-4xl","lg:text-5xl","font-bold","text-white","drop-shadow-lg"],[1,"flex","items-center","gap-3"],[1,"bg-white","border-b","border-gray-200","relative"],[1,"px-4","sm:px-6","lg:px-8","relative"],[1,"absolute","-top-10","sm:-top-12","lg:-top-20","left-4","sm:left-6","lg:left-8","z-20"],[1,"h-20","w-20","sm:h-28","sm:w-28","lg:h-40","lg:w-40","rounded-full","object-cover","border-4","border-white","shadow-xl","bg-white",3,"src","alt"],[1,"h-20","w-20","sm:h-28","sm:w-28","lg:h-40","lg:w-40","rounded-full","bg-white","flex","items-center","justify-center","border-4","border-white","shadow-xl"],[1,"pt-12","sm:pt-16","lg:pt-6","pb-4"],[1,"lg:hidden","space-y-4"],[1,"text-xl","sm:text-2xl","font-bold","text-gray-900"],[1,"text-sm","sm:text-base","text-gray-600","mt-1"],[1,"flex","items-center","gap-2","flex-wrap","mt-2"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800"],[1,"text-xs","sm:text-sm","text-gray-500"],[1,"flex","gap-2"],[1,"hidden","lg:flex","items-center","justify-between","ml-48"],[1,"text-base","text-gray-600"],[1,"text-sm","text-gray-500"],[1,"flex","items-center","gap-8","mr-8"],[1,"text-center"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"lg:hidden","bg-white","border-b","border-gray-200","px-4","py-3"],[1,"grid","grid-cols-4","gap-2","text-center"],[1,"text-sm","font-bold","text-gray-900"],[1,"tabs-container-original","bg-white","border-t","border-gray-200","shadow-sm"],[1,"max-w-7xl","mx-auto"],["mat-tab-nav-bar","","mat-stretch-tabs","false","mat-align-tabs","start",1,"mobile-tabs",3,"tabPanel"],["mat-tab-link","",3,"active"],[1,"tabs-container-sticky","bg-white","border-t","border-b","border-gray-200","shadow-sm"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"absolute","inset-0","w-full","h-full","bg-cover","bg-center","bg-no-repeat"],[1,"absolute","inset-0","bg-opacity-20"],[1,"inline-flex","items-center","px-6","py-2.5","bg-white","hover:bg-gray-50","rounded-lg","text-gray-700","transition-all","font-medium","shadow-lg",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"inline-flex","items-center","px-6","py-2.5","bg-primary-600","hover:bg-primary-700","text-white","rounded-lg","transition-all","font-medium","shadow-lg",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[3,"click","disabled"],["size","medium","buttonClass","inline-flex items-center justify-center p-2.5 bg-white hover:bg-gray-50 text-gray-700 rounded-lg transition-all shadow-lg",3,"businessId","businessName"],["title","Report Business",1,"inline-flex","items-center","justify-center","p-2.5","bg-white","hover:bg-gray-50","text-gray-700","rounded-lg","transition-all","shadow-lg",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6v1a2 2 0 01-2 2H5a2 2 0 01-2-2z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-10","h-10","sm:w-14","sm:h-14","lg:w-20","lg:h-20","text-gray-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],["mat-stroked-button","",1,"flex-1",3,"click"],["mat-flat-button","","color","primary",1,"flex-1",3,"click"],["mat-flat-button","","color","primary",1,"flex-1",3,"click","disabled"],["size","small","buttonClass","text-gray-500 hover:text-red-500 transition-colors p-1",3,"businessId","businessName"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item",""],["mat-menu-item","",3,"click"],["mat-tab-link","",3,"click","active"]],template:function(e,n){if(e&1&&(r(0,"mat-card",4)(1,"div",5),m(2,gi,2,2)(3,xi,1,0,"div",6),r(4,"div",7)(5,"div",8)(6,"div",9)(7,"div",10)(8,"h1",11),a(9),o()(),r(10,"div",12),m(11,Ci,8,0)(12,bi,6,6),o()()()()(),r(13,"div",13)(14,"div",14)(15,"div",15),m(16,hi,1,2,"img",16)(17,wi,3,0,"div",17),o(),r(18,"div",18)(19,"div",19)(20,"div")(21,"h1",20),a(22),o(),r(23,"p",21),a(24),o(),r(25,"div",22),m(26,Si,2,1,"span",23),m(27,ki,4,1,"span",24),o()(),r(28,"div",25),m(29,Ei,8,0)(30,Ii,15,7),o()(),r(31,"div",26)(32,"div")(33,"p",27),a(34),o(),r(35,"div",22),m(36,Bi,2,1,"span",23),m(37,Vi,4,1,"span",28),o()(),r(38,"div",29)(39,"div",30)(40,"div",31),a(41),o(),r(42,"div",32),a(43,"Rating"),o()(),r(44,"div",30)(45,"div",31),a(46),o(),r(47,"div",32),a(48,"Reviews"),o()(),r(49,"div",30)(50,"div",31),a(51),o(),r(52,"div",32),a(53,"Views"),o()(),r(54,"div",30)(55,"div",31),a(56),o(),r(57,"div",32),a(58,"Services"),o()()()()()()(),r(59,"div",33)(60,"div",34)(61,"div")(62,"div",35),a(63),o(),r(64,"div",32),a(65,"Rating"),o()(),r(66,"div")(67,"div",35),a(68),o(),r(69,"div",32),a(70,"Reviews"),o()(),r(71,"div")(72,"div",35),a(73),o(),r(74,"div",32),a(75,"Views"),o()(),r(76,"div")(77,"div",35),a(78),o(),r(79,"div",32),a(80,"Services"),o()()()(),r(81,"div",36,0)(83,"div",37)(84,"nav",38),S(85,Fi,2,2,"a",39,te),o(),C(87,"mat-tab-nav-panel",null,1),o()()(),r(89,"div",40)(90,"div",41)(91,"nav",38),S(92,Ni,2,2,"a",39,te),o(),C(94,"mat-tab-nav-panel",null,2),o()()),e&2){let l,d,M,ae,De=z(88),Yt=z(95);s(2),u((l=n.business())!=null&&l.banner_url?2:3),s(7),x(" ",(d=n.business())==null?null:d.name," "),s(2),u(n.isOwner()?11:12),s(5),u((M=n.business())!=null&&M.logo_url?16:17),s(6),x(" ",(ae=n.business())==null?null:ae.name," "),s(2),x(" ",n.businessTypeDisplay()," "),s(2),u(n.business().category_id?26:-1),s(),u(n.business().city||n.business().state?27:-1),s(2),u(n.isOwner()?29:30),s(5),x(" ",n.businessTypeDisplay()," "),s(2),u(n.business().category_id?36:-1),s(),u(n.business().city||n.business().state?37:-1),s(4),x("",n.business().rating||0,"/5"),s(5),g(n.business().review_count||0),s(5),g(n.business().view_count||0),s(5),g(n.activeServicesCount()),s(7),x("",n.business().rating||0,"/5"),s(5),g(n.business().review_count||0),s(5),g(n.business().view_count||0),s(5),g(n.activeServicesCount()),s(6),f("tabPanel",De),s(),y(n.links),s(4),F("visible",n.showStickyTabs()),Ve("data-sticky-visible",n.showStickyTabs()),s(2),f("tabPanel",Yt),s(),y(n.links)}},dependencies:[k,It,Et,jt,Tt,j,T,N,G,Q,I,O,He,Le,Ne,Ae,yt],styles:[".tabs-container-original[_ngcontent-%COMP%]{background-color:#fff}.tabs-container-sticky[_ngcontent-%COMP%]{position:fixed;top:64px;left:0;right:0;z-index:1000;background-color:#fff;box-shadow:0 2px 8px #00000026;transform:translateY(-100%);opacity:0;visibility:hidden;transition:transform .3s ease-in-out,opacity .3s ease-in-out,visibility 0s .3s;pointer-events:none}.tabs-container-sticky.visible[_ngcontent-%COMP%]{transform:translateY(0);opacity:1;visibility:visible;pointer-events:auto;transition:transform .3s ease-in-out,opacity .3s ease-in-out,visibility 0s 0s}.mobile-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-link{min-width:auto!important;padding:0 12px!important;font-size:14px!important}@media (min-width: 640px){.mobile-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-link{padding:0 20px!important;font-size:15px!important}}@media (min-width: 1024px){.mobile-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-link{padding:0 24px!important;font-size:16px!important}}@media (max-width: 1023px){[_nghost-%COMP%] > mat-card[_ngcontent-%COMP%]{border-radius:0!important}}"]})};function Li(i,t){if(i&1){let e=h();r(0,"div",2)(1,"img",18),_("error",function(l){p(e);let d=c();return v(d.onImageError(l))}),o()()}if(i&2){let e=c();s(),f("src",e.service().images[0],H)("alt",e.service().name)}}function Ai(i,t){i&1&&(r(0,"div",3)(1,"mat-icon",19),a(2,"image"),o()())}function Hi(i,t){i&1&&(r(0,"div",5),a(1," Featured "),o())}function $i(i,t){i&1&&(r(0,"div",6),a(1," Active "),o())}function qi(i,t){if(i&1&&(r(0,"p",9),a(1),o()),i&2){let e=c();s(),x(" ",e.service().short_description," ")}}function Ui(i,t){i&1&&C(0,"div",10)}function zi(i,t){if(i&1&&(r(0,"div",14)(1,"span",20),a(2),o()()),i&2){let e=c();s(2),x(" ",e.formatDuration(e.service().duration)," ")}}function Gi(i,t){if(i&1&&(r(0,"li",23)(1,"mat-icon",25),a(2,"check_circle"),o(),r(3,"span",26),a(4),o()()),i&2){let e=t.$implicit;s(4),g(e)}}function Wi(i,t){if(i&1&&(r(0,"p",24),a(1),o()),i&2){let e=c(2);s(),$(" +",e.service().features.length-3," more feature",e.service().features.length-3>1?"s":""," ")}}function Yi(i,t){if(i&1&&(r(0,"div",15)(1,"h4",21),a(2,"Includes:"),o(),r(3,"ul",22),S(4,Gi,5,1,"li",23,te),o(),m(6,Wi,2,2,"p",24),o()),i&2){let e=c();s(4),y(e.service().features.slice(0,3)),s(2),u(e.service().features.length>3?6:-1)}}function Qi(i,t){if(i&1){let e=h();r(0,"button",27),_("click",function(){p(e);let l=c();return v(l.onEditClick())}),r(1,"mat-icon"),a(2,"edit"),o()(),r(3,"button",28)(4,"mat-icon"),a(5,"delete"),o()()}}function Xi(i,t){if(i&1){let e=h();r(0,"button",29),_("click",function(){p(e);let l=c();return v(l.onStartProjectClick())}),r(1,"mat-icon",30),a(2,"send"),o(),a(3," Start Project "),o()}}var we=class i{service=b.required();isOwner=b.required();isFeatured=b(!1);editClick=R();startProjectClick=R();formatPrice(t,e){if(!t)return"Contact for pricing";let n=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t);switch(e){case"hourly":return`${n}/hour`;case"project":return`${n}/project`;case"custom":return`Starting at ${n}`;case"fixed":default:return n}}formatDuration(t){return t||""}onEditClick(){this.editClick.emit(this.service()._id)}onStartProjectClick(){this.startProjectClick.emit(this.service()._id)}onImageError(t){let e=t.target;e.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="300"%3E%3Crect width="400" height="300" fill="%23e5e7eb"/%3E%3Ctext x="50%25" y="50%25" dominant-baseline="middle" text-anchor="middle" font-family="sans-serif" font-size="18" fill="%239ca3af"%3ENo Image%3C/text%3E%3C/svg%3E'}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=P({type:i,selectors:[["app-service-card"]],inputs:{service:[1,"service"],isOwner:[1,"isOwner"],isFeatured:[1,"isFeatured"]},outputs:{editClick:"editClick",startProjectClick:"startProjectClick"},decls:21,vars:9,consts:[[1,"h-full","flex","flex-col","!shadow-none","!border","!border-gray-200","hover:!border-primary","transition-all","duration-300","!overflow-hidden","!rounded-2xl"],[1,"relative"],[1,"relative","h-48","overflow-hidden","bg-gray-100"],[1,"relative","h-48","bg-gradient-to-br","from-gray-100","to-gray-200","flex","items-center","justify-center"],[1,"absolute","top-3","left-3","flex","gap-2"],[1,"bg-yellow-100","text-yellow-800","px-3","py-1.5","rounded-full","text-xs","font-semibold","shadow-sm"],[1,"bg-green-100","text-green-800","px-3","py-1.5","rounded-full","text-xs","font-semibold","shadow-sm"],[1,"flex-1","p-6","flex","flex-col"],[1,"text-xl","font-bold","text-gray-900","mb-2","line-clamp-2"],[1,"text-sm","text-gray-600","mb-4","line-clamp-2","flex-1"],[1,"mb-4","flex-1"],[1,"flex","items-center","justify-between","mb-6","pb-6","border-b","border-gray-200"],[1,"flex","items-baseline","gap-1"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-right"],[1,"mb-6"],[1,"flex","items-center","gap-3","pt-4","border-t","border-gray-100"],["mat-raised-button","","color","primary",1,"!w-full","!font-semibold","!text-sm","!h-11"],[1,"w-full","h-full","object-cover",3,"error","src","alt"],[1,"!text-6xl","!w-16","!h-16","text-gray-400"],[1,"text-base","font-medium","text-gray-600"],[1,"text-sm","font-semibold","text-gray-700","mb-3"],[1,"space-y-2"],[1,"flex","items-start","gap-2","text-sm","text-gray-700"],[1,"text-xs","text-gray-500","mt-2","ml-7"],[1,"!w-5","!h-5","!text-base","text-green-600","flex-shrink-0","mt-0.5"],[1,"flex-1"],["mat-icon-button","",1,"!text-gray-600","hover:!text-primary",3,"click"],["mat-icon-button","",1,"!text-red-600","hover:!text-red-700"],["mat-raised-button","","color","primary",1,"!w-full","!font-semibold","!text-sm","!h-11",3,"click"],[1,"mr-2"]],template:function(e,n){e&1&&(r(0,"mat-card",0)(1,"div",1),m(2,Li,2,2,"div",2)(3,Ai,3,0,"div",3),r(4,"div",4),m(5,Hi,2,0,"div",5),m(6,$i,2,0,"div",6),o()(),r(7,"div",7)(8,"h3",8),a(9),o(),m(10,qi,2,1,"p",9)(11,Ui,1,0,"div",10),r(12,"div",11)(13,"div",12)(14,"span",13),a(15),o()(),m(16,zi,3,1,"div",14),o(),m(17,Yi,7,1,"div",15),r(18,"div",16),m(19,Qi,6,0)(20,Xi,4,0,"button",17),o()()()),e&2&&(s(2),u(n.service().images&&n.service().images.length>0?2:3),s(3),u(n.isFeatured()?5:-1),s(),u(n.service().is_active?6:-1),s(3),x(" ",n.service().name," "),s(),u(n.service().short_description?10:11),s(5),x(" ",n.formatPrice(n.service().price,n.service().pricing_type)," "),s(),u(n.service().duration?16:-1),s(),u(n.service().features&&n.service().features.length>0?17:-1),s(2),u(n.isOwner()?19:20))},dependencies:[k,j,T,N,G,Q,I,O,ne,oe],encapsulation:2})};var Ji=(i,t)=>t._id;function Ki(i,t){i&1&&(r(0,"div",2),C(1,"mat-spinner",5),r(2,"span",6),a(3,"Loading services..."),o()())}function Zi(i,t){if(i&1){let e=h();r(0,"button",12),_("click",function(){p(e);let l=c(2);return v(l.onAddService())}),r(1,"mat-icon"),a(2,"add"),o(),a(3," Add Your First Service "),o()}}function en(i,t){if(i&1&&(r(0,"div",3)(1,"div",7)(2,"mat-icon",8),a(3,"settings"),o()(),r(4,"h3",9),a(5,"No Services Yet"),o(),r(6,"p",10),a(7,"This business hasn't added any services yet."),o(),m(8,Zi,4,0,"button",11),o()),i&2){let e=c();s(8),u(e.isOwner()?8:-1)}}function tn(i,t){if(i&1){let e=h();r(0,"button",23),_("click",function(){p(e);let l=c(2);return v(l.onAddService())}),r(1,"mat-icon"),a(2,"add"),o(),a(3," Add Service "),o()}}function nn(i,t){if(i&1){let e=h();r(0,"div",17)(1,"button",24),_("click",function(){p(e);let l=c(2);return v(l.prevSlide())}),r(2,"mat-icon"),a(3,"chevron_left"),o()(),r(4,"button",24),_("click",function(){p(e);let l=c(2);return v(l.nextSlide())}),r(5,"mat-icon"),a(6,"chevron_right"),o()()()}if(i&2){let e=c(2);s(),f("disabled",e.currentIndex()===0),s(3),f("disabled",e.currentIndex()===e.getTotalPages()-1)}}function on(i,t){if(i&1){let e=h();r(0,"div",20)(1,"app-service-card",25),_("editClick",function(l){p(e);let d=c(2);return v(d.onEditService(l))})("startProjectClick",function(l){p(e);let d=c(2);return v(d.onStartProject(l))}),o()()}if(i&2){let e=t.$implicit,n=c(2);s(),f("service",e)("isOwner",n.isOwner())("isFeatured",e.is_featured||!1)}}function rn(i,t){if(i&1){let e=h();r(0,"div",27),_("click",function(){let l=p(e).$index,d=c(3);return v(d.goToSlide(l))}),o()}if(i&2){let e=t.$index,n=c(3);F("active",n.currentIndex()===e)}}function an(i,t){if(i&1&&(r(0,"div",21),S(1,rn,1,2,"div",26,V),o()),i&2){let e=c(2);s(),y(e.getPageArray())}}function sn(i,t){if(i&1){let e=h();r(0,"div",22)(1,"button",28),_("click",function(){p(e);let l=c(2);return v(l.goToSlide(0))}),a(2," Show all services \u2192 "),o()()}}function ln(i,t){if(i&1&&(r(0,"div",4)(1,"div",13)(2,"div")(3,"p",14),a(4),o()(),r(5,"div",15),m(6,tn,4,0,"button",16),m(7,nn,7,2,"div",17),o()(),r(8,"div",18)(9,"div",19),S(10,on,2,3,"div",20,Ji),o()(),m(12,an,3,0,"div",21),m(13,sn,3,0,"div",22),o()),i&2){let e=c();s(4),x("",e.activeServices().length," service(s) available"),s(2),u(e.isOwner()?6:-1),s(),u(e.getTotalPages()>1?7:-1),s(2),J("transform","translateX(-"+e.currentIndex()*e.getSlideWidth()+"%)"),s(),y(e.activeServices()),s(2),u(e.getTotalPages()>1?12:-1),s(),u(e.getTotalPages()>1?13:-1)}}var Se=class i{activeServices=b.required();featuredServices=b.required();servicesLoading=b.required();isOwner=b.required();addServiceClick=R();editServiceClick=R();startProjectClick=R();currentIndex=w(0);itemsPerPage=3;onAddService(){this.addServiceClick.emit()}onEditService(t){this.editServiceClick.emit(t)}onStartProject(t){this.startProjectClick.emit(t)}getSlideWidth(){return 80}nextSlide(){let t=this.activeServices(),e=Math.max(0,t.length-3);this.currentIndex()<t.length-3&&this.currentIndex.update(n=>Math.min(n+2,e))}prevSlide(){this.currentIndex()>0&&this.currentIndex.update(t=>Math.max(t-2,0))}goToSlide(t){this.currentIndex.set(t*2)}getTotalPages(){return Math.ceil(this.activeServices().length/2)}getPageArray(){return Array.from({length:this.getTotalPages()},(t,e)=>e)}getVisibleServices(){let t=this.currentIndex()*this.itemsPerPage,e=t+this.itemsPerPage;return this.activeServices().slice(t,e)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=P({type:i,selectors:[["app-business-services-section"]],inputs:{activeServices:[1,"activeServices"],featuredServices:[1,"featuredServices"],servicesLoading:[1,"servicesLoading"],isOwner:[1,"isOwner"]},outputs:{addServiceClick:"addServiceClick",editServiceClick:"editServiceClick",startProjectClick:"startProjectClick"},decls:8,vars:1,consts:[[1,"!mb-4"],[1,"!text-2xl"],[1,"flex","justify-center","items-center","h-32"],[1,"text-center","py-16"],[1,"relative"],["diameter","40"],[1,"ml-3","text-gray-600"],[1,"p-4","bg-gray-50","rounded-full","w-20","h-20","mx-auto","mb-6","flex","items-center","justify-center"],[1,"!w-10","!h-10","!text-4xl","text-gray-300"],[1,"text-xl","font-medium","text-gray-900","mb-2"],[1,"text-gray-500","mb-6"],["mat-raised-button","","color","primary"],["mat-raised-button","","color","primary",3,"click"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-sm","text-gray-500"],[1,"flex","items-center","gap-3"],["mat-stroked-button","","color","primary"],[1,"flex","items-center","gap-2"],[1,"slider-container"],[1,"slider-track"],[1,"slide-item"],[1,"flex","justify-center","items-center","gap-2","mt-6"],[1,"text-center","mt-4"],["mat-stroked-button","","color","primary",3,"click"],["mat-icon-button","",1,"!bg-gray-100","hover:!bg-gray-200","disabled:!opacity-50",3,"click","disabled"],[3,"editClick","startProjectClick","service","isOwner","isFeatured"],[1,"slide-indicator",3,"active"],[1,"slide-indicator",3,"click"],["mat-button","","color","primary",3,"click"]],template:function(e,n){e&1&&(r(0,"mat-card")(1,"mat-card-header",0)(2,"mat-card-title",1),a(3," Services "),o()(),r(4,"mat-card-content"),m(5,Ki,4,0,"div",2)(6,en,9,1,"div",3)(7,ln,14,7,"div",4),o()()),e&2&&(s(5),u(n.servicesLoading()?5:n.activeServices().length===0?6:7))},dependencies:[k,j,T,D,A,L,N,G,Q,I,O,Z,K,we],styles:[".slider-container[_ngcontent-%COMP%]{position:relative;overflow:hidden;width:100%}.slider-track[_ngcontent-%COMP%]{display:flex;gap:1.5rem;transition:transform .4s ease-in-out;will-change:transform}.slide-item[_ngcontent-%COMP%]{flex:0 0 calc(40% - 1rem);min-width:0}@media (max-width: 767px){.slide-item[_ngcontent-%COMP%]{flex:0 0 calc(100% - 1.5rem)}}@media (min-width: 768px) and (max-width: 1023px){.slide-item[_ngcontent-%COMP%]{flex:0 0 calc(50% - 1rem)}}@media (min-width: 1024px){.slide-item[_ngcontent-%COMP%]{flex:0 0 calc(40% - 1rem)}}.slide-indicator[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;background-color:#d1d5db;cursor:pointer;transition:all .3s ease;border:none}.slide-indicator.active[_ngcontent-%COMP%]{background-color:#374151;width:24px;border-radius:4px}.slide-indicator[_ngcontent-%COMP%]:hover:not(.active){background-color:#9ca3af;transform:scale(1.2)}.nav-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}"]})};function dn(i,t){if(i&1&&C(0,"img",2),i&2){let e=c();f("src",e.project().image_url,H)("alt",e.project().title)}}function mn(i,t){i&1&&(r(0,"div",3)(1,"mat-icon",17),a(2,"work"),o()())}var ye=class i{project=b.required();viewClick=R();onViewProject(){this.viewClick.emit(this.project())}getClientName(t){return typeof t.client_id=="object"&&t.client_id?`${t.client_id.first_name} ${t.client_id.last_name}`:"Unknown Client"}formatProjectPrice(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}formatProjectDate(t){return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}getServiceName(t){return typeof t=="string"?t:t?.name||"Service"}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=P({type:i,selectors:[["app-portfolio-card"]],inputs:{project:[1,"project"]},outputs:{viewClick:"viewClick"},decls:31,vars:6,consts:[[1,"portfolio-card","h-full","cursor-pointer","hover:shadow-lg","transition-shadow","duration-200","!rounded-2xl","border","border-gray-200",3,"click"],[1,"relative","h-48","bg-gradient-to-br","from-blue-50","to-indigo-100","overflow-hidden"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"w-full","h-full","flex","items-center","justify-center"],[1,"absolute","top-3","right-3"],[1,"!bg-green-100","!text-green-800"],[1,"!w-4","!h-4","!text-base","mr-1"],[1,"!p-6"],[1,"mb-3"],[1,"text-lg","font-semibold","text-gray-900","line-clamp-1"],[1,"text-sm","text-gray-600","mb-4","line-clamp-2"],[1,"space-y-2"],[1,"flex","items-center","justify-between","text-sm"],[1,"text-gray-500"],[1,"font-medium","text-gray-900"],[1,"font-semibold","text-green-600"],[1,"text-gray-700"],[1,"!w-16","!h-16","!text-6xl","text-gray-300"]],template:function(e,n){e&1&&(r(0,"mat-card",0),_("click",function(){return n.onViewProject()}),r(1,"div",1),m(2,dn,1,2,"img",2)(3,mn,3,0,"div",3),r(4,"div",4)(5,"mat-chip",5)(6,"mat-icon",6),a(7,"check_circle"),o(),a(8," Completed "),o()()(),r(9,"mat-card-content",7)(10,"div",8)(11,"h3",9),a(12),o()(),r(13,"p",10),a(14),o(),r(15,"div",11)(16,"div",12)(17,"span",13),a(18,"Client:"),o(),r(19,"span",14),a(20),o()(),r(21,"div",12)(22,"span",13),a(23,"Project Value:"),o(),r(24,"span",15),a(25),o()(),r(26,"div",12)(27,"span",13),a(28,"Completed:"),o(),r(29,"span",16),a(30),o()()()()()),e&2&&(s(2),u(n.project().image_url?2:3),s(10),g(n.project().title),s(2),x(" ",n.project().description||"No description provided"," "),s(6),g(n.getClientName(n.project())),s(5),g(n.formatProjectPrice(n.project().offered_price)),s(5),g(n.formatProjectDate(n.project().completed_at||n.project().updatedAt)))},dependencies:[k,j,T,D,N,I,O,ne,ge],styles:[".portfolio-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;transition:all .2s ease-in-out}.portfolio-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.portfolio-card[_ngcontent-%COMP%]     .mat-mdc-card-content{flex:1;display:flex;flex-direction:column}"]})};var un=(i,t)=>t._id;function pn(i,t){i&1&&(r(0,"div",2),C(1,"mat-spinner",5),r(2,"span",6),a(3,"Loading portfolio..."),o()())}function vn(i,t){i&1&&(r(0,"div",3)(1,"div",7)(2,"mat-icon",8),a(3,"work_outline"),o()(),r(4,"h3",9),a(5,"No Completed Projects Yet"),o(),r(6,"p",10),a(7,"Completed projects will appear here to showcase this business's work."),o()())}function _n(i,t){if(i&1){let e=h();r(0,"div",13)(1,"button",18),_("click",function(){p(e);let l=c(2);return v(l.prevSlide())}),r(2,"mat-icon"),a(3,"chevron_left"),o()(),r(4,"button",18),_("click",function(){p(e);let l=c(2);return v(l.nextSlide())}),r(5,"mat-icon"),a(6,"chevron_right"),o()()()}if(i&2){let e=c(2);s(),f("disabled",e.currentIndex()===0),s(3),f("disabled",e.currentIndex()>=e.completedProjects().length-3)}}function fn(i,t){if(i&1){let e=h();r(0,"div",16)(1,"app-portfolio-card",19),_("viewClick",function(l){p(e);let d=c(2);return v(d.onViewProject(l))}),o()()}if(i&2){let e=t.$implicit;s(),f("project",e)}}function gn(i,t){if(i&1){let e=h();r(0,"div",21),_("click",function(){let l=p(e).$index,d=c(3);return v(d.goToSlide(l))}),o()}if(i&2){let e=t.$index,n=c(3);F("active",n.getCurrentPage()===e)}}function xn(i,t){if(i&1&&(r(0,"div",17),S(1,gn,1,2,"div",20,V),o()),i&2){let e=c(2);s(),y(e.getPageArray())}}function Cn(i,t){if(i&1&&(r(0,"div",4)(1,"div",11)(2,"div")(3,"p",12),a(4),o()(),m(5,_n,7,2,"div",13),o(),r(6,"div",14)(7,"div",15),S(8,fn,2,1,"div",16,un),o()(),m(10,xn,3,0,"div",17),o()),i&2){let e=c();s(4),x("",e.completedProjects().length," completed project(s)"),s(),u(e.getTotalPages()>1?5:-1),s(2),J("transform","translateX(-"+e.currentIndex()*e.getSlideWidth()+"%)"),s(),y(e.completedProjects()),s(2),u(e.getTotalPages()>1?10:-1)}}var Me=class i{completedProjects=b.required();portfolioLoading=b.required();viewProjectClick=R();currentIndex=w(0);onViewProject(t){this.viewProjectClick.emit(t)}getSlideWidth(){return 80}nextSlide(){let t=this.completedProjects(),e=Math.max(0,t.length-3);this.currentIndex()<t.length-3&&this.currentIndex.update(n=>Math.min(n+2,e))}prevSlide(){this.currentIndex()>0&&this.currentIndex.update(t=>Math.max(t-2,0))}goToSlide(t){this.currentIndex.set(t*2)}getTotalPages(){return Math.ceil(this.completedProjects().length/2)}getPageArray(){return Array.from({length:this.getTotalPages()},(t,e)=>e)}getCurrentPage(){return Math.floor(this.currentIndex()/2)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=P({type:i,selectors:[["app-business-portfolio-section"]],inputs:{completedProjects:[1,"completedProjects"],portfolioLoading:[1,"portfolioLoading"]},outputs:{viewProjectClick:"viewProjectClick"},decls:8,vars:2,consts:[[1,"!mb-4"],[1,"!text-2xl"],[1,"flex","justify-center","items-center","h-32"],[1,"text-center","py-16"],[1,"relative"],["diameter","40"],[1,"ml-3","text-gray-600"],[1,"p-4","bg-gray-50","rounded-full","w-20","h-20","mx-auto","mb-6","flex","items-center","justify-center"],[1,"!w-10","!h-10","!text-4xl","text-gray-300"],[1,"text-xl","font-medium","text-gray-900","mb-2"],[1,"text-gray-500"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-sm","text-gray-500"],[1,"flex","items-center","gap-2"],[1,"slider-container"],[1,"slider-track"],[1,"slide-item"],[1,"flex","justify-center","items-center","gap-2","mt-6"],["mat-icon-button","",1,"!bg-gray-100","hover:!bg-gray-200","disabled:!opacity-50",3,"click","disabled"],[3,"viewClick","project"],[1,"slide-indicator",3,"active"],[1,"slide-indicator",3,"click"]],template:function(e,n){e&1&&(r(0,"mat-card")(1,"mat-card-header",0)(2,"mat-card-title",1),a(3),o()(),r(4,"mat-card-content"),m(5,pn,4,0,"div",2)(6,vn,8,0,"div",3)(7,Cn,11,5,"div",4),o()()),e&2&&(s(3),x(" Portfolio (",n.completedProjects().length,") "),s(2),u(n.portfolioLoading()?5:n.completedProjects().length===0?6:7))},dependencies:[k,j,T,D,A,L,N,Q,I,O,Z,K,ye],styles:[".slider-container[_ngcontent-%COMP%]{position:relative;overflow:hidden;width:100%;padding-bottom:1rem}.slider-track[_ngcontent-%COMP%]{display:flex;gap:1.5rem;transition:transform .4s ease-in-out;will-change:transform}.slide-item[_ngcontent-%COMP%]{flex:0 0 calc(40% - 1rem);min-width:0}@media (max-width: 767px){.slide-item[_ngcontent-%COMP%]{flex:0 0 calc(100% - 1.5rem)}}@media (min-width: 768px) and (max-width: 1023px){.slide-item[_ngcontent-%COMP%]{flex:0 0 calc(50% - 1rem)}}@media (min-width: 1024px){.slide-item[_ngcontent-%COMP%]{flex:0 0 calc(40% - 1rem)}}.slide-indicator[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;background-color:#d1d5db;cursor:pointer;transition:all .3s ease;border:none}.slide-indicator.active[_ngcontent-%COMP%]{background-color:#374151;width:24px;border-radius:4px}.slide-indicator[_ngcontent-%COMP%]:hover:not(.active){background-color:#9ca3af;transform:scale(1.2)}"]})};function bn(i,t){if(i&1&&(r(0,"mat-icon",12),a(1," star "),o()),i&2){let e=t.$implicit;F("text-yellow-400",e)("text-gray-300",!e)}}function hn(i,t){if(i&1&&(r(0,"p",10),a(1),o()),i&2){let e=c();s(),g(e.review().review_text||e.review().comment)}}function wn(i,t){if(i&1&&(r(0,"mat-chip",13)(1,"mat-icon",17),a(2,"star"),o(),a(3),o()),i&2){let e=c(2);s(3),x(" Service Quality: ",e.review().service_quality,"/5 ")}}function Sn(i,t){if(i&1&&(r(0,"mat-chip",14)(1,"mat-icon",17),a(2,"chat"),o(),a(3),o()),i&2){let e=c(2);s(3),x(" Communication: ",e.review().communication,"/5 ")}}function yn(i,t){if(i&1&&(r(0,"mat-chip",15)(1,"mat-icon",17),a(2,"schedule"),o(),a(3),o()),i&2){let e=c(2);s(3),x(" Timeliness: ",e.review().timeliness,"/5 ")}}function Mn(i,t){if(i&1&&(r(0,"mat-chip",16)(1,"mat-icon",17),a(2,"attach_money"),o(),a(3),o()),i&2){let e=c(2);s(3),x(" Value: ",e.review().value_for_money,"/5 ")}}function Pn(i,t){if(i&1&&(r(0,"div",11),m(1,wn,4,1,"mat-chip",13),m(2,Sn,4,1,"mat-chip",14),m(3,yn,4,1,"mat-chip",15),m(4,Mn,4,1,"mat-chip",16),o()),i&2){let e=c();s(),u(e.review().service_quality?1:-1),s(),u(e.review().communication?2:-1),s(),u(e.review().timeliness?3:-1),s(),u(e.review().value_for_money?4:-1)}}var Pe=class i{review=b.required();getStarArray(t){let e=[];for(let n=1;n<=5;n++)e.push(n<=Math.round(t));return e}getReviewerName(){let t=this.review();return t.reviewer?`${t.reviewer.first_name} ${t.reviewer.last_name}`:"Anonymous"}getProjectTitle(){let t=this.review();return typeof t.project_id=="object"&&t.project_id?t.project_id.title:"Project"}formatReviewDate(t){return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}hasDetailedRatings(){let t=this.review();return!!(t.service_quality||t.communication||t.timeliness||t.value_for_money)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=P({type:i,selectors:[["app-review-card"]],inputs:{review:[1,"review"]},decls:20,vars:6,consts:[[1,"review-card"],[1,"flex","items-start","justify-between","mb-4"],[1,"flex","items-center","gap-3"],[1,"flex-shrink-0","w-10","h-10","bg-gray-200","rounded-full","flex","items-center","justify-center"],[1,"!w-6","!h-6","!text-2xl","text-gray-500"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"flex","items-center","gap-2"],[1,"flex"],[1,"!w-4","!h-4","!text-base",3,"text-yellow-400","text-gray-300"],[1,"text-gray-700","mb-4"],[1,"flex","flex-wrap","gap-2","pt-4","border-t","border-gray-100"],[1,"!w-4","!h-4","!text-base"],[1,"!bg-blue-50","!text-blue-700"],[1,"!bg-green-50","!text-green-700"],[1,"!bg-purple-50","!text-purple-700"],[1,"!bg-orange-50","!text-orange-700"],[1,"!w-4","!h-4","!text-base","mr-1"]],template:function(e,n){e&1&&(r(0,"mat-card",0)(1,"mat-card-content")(2,"div",1)(3,"div",2)(4,"div",3)(5,"mat-icon",4),a(6,"person"),o()(),r(7,"div")(8,"h4",5),a(9),o(),r(10,"p",6),a(11),o()()(),r(12,"div",7)(13,"div",8),S(14,bn,2,4,"mat-icon",9,V),o(),r(16,"span",5),a(17),o()()(),m(18,hn,2,1,"p",10),m(19,Pn,5,4,"div",11),o()()),e&2&&(s(9),g(n.getReviewerName()),s(2),$("",n.formatReviewDate(n.review().createdAt)," \u2022 ",n.getProjectTitle()),s(3),y(n.getStarArray(n.review().rating)),s(3),x("",n.review().rating,"/5"),s(),u(n.review().review_text||n.review().comment?18:-1),s(),u(n.hasDetailedRatings()?19:-1))},dependencies:[k,j,T,D,I,O,ne,ge],styles:[".review-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:.75rem;transition:box-shadow .2s ease;margin-bottom:1.5rem}.review-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.review-card[_ngcontent-%COMP%]     .mat-mdc-card-content{padding:1.5rem;overflow:visible}.review-card[_ngcontent-%COMP%]     mat-icon{overflow:visible;line-height:1}"]})};function kn(i,t){if(i&1&&(r(0,"mat-icon",10),a(1," star "),o()),i&2){let e=t.$implicit;F("text-yellow-400",e)("text-gray-300",!e)}}function En(i,t){if(i&1&&(r(0,"mat-icon",18),a(1," star "),o()),i&2){let e=t.$implicit;F("text-yellow-400",e)("text-gray-300",!e)}}function Tn(i,t){if(i&1&&(r(0,"div",12)(1,"span",13),a(2,"Service Quality"),o(),r(3,"div",14)(4,"div",15),S(5,En,2,4,"mat-icon",16,V),o(),r(7,"span",17),a(8),o()()()),i&2){let e=c(2);s(5),y(e.getStarArray(e.reviewStats().service_quality_avg)),s(3),g(e.formatRating(e.reviewStats().service_quality_avg))}}function jn(i,t){if(i&1&&(r(0,"mat-icon",18),a(1," star "),o()),i&2){let e=t.$implicit;F("text-yellow-400",e)("text-gray-300",!e)}}function In(i,t){if(i&1&&(r(0,"div",12)(1,"span",13),a(2,"Communication"),o(),r(3,"div",14)(4,"div",15),S(5,jn,2,4,"mat-icon",16,V),o(),r(7,"span",17),a(8),o()()()),i&2){let e=c(2);s(5),y(e.getStarArray(e.reviewStats().communication_avg)),s(3),g(e.formatRating(e.reviewStats().communication_avg))}}function Bn(i,t){if(i&1&&(r(0,"mat-icon",18),a(1," star "),o()),i&2){let e=t.$implicit;F("text-yellow-400",e)("text-gray-300",!e)}}function On(i,t){if(i&1&&(r(0,"div",12)(1,"span",13),a(2,"Timeliness"),o(),r(3,"div",14)(4,"div",15),S(5,Bn,2,4,"mat-icon",16,V),o(),r(7,"span",17),a(8),o()()()),i&2){let e=c(2);s(5),y(e.getStarArray(e.reviewStats().timeliness_avg)),s(3),g(e.formatRating(e.reviewStats().timeliness_avg))}}function Dn(i,t){if(i&1&&(r(0,"mat-icon",18),a(1," star "),o()),i&2){let e=t.$implicit;F("text-yellow-400",e)("text-gray-300",!e)}}function Rn(i,t){if(i&1&&(r(0,"div",12)(1,"span",13),a(2,"Value for Money"),o(),r(3,"div",14)(4,"div",15),S(5,Dn,2,4,"mat-icon",16,V),o(),r(7,"span",17),a(8),o()()()),i&2){let e=c(2);s(5),y(e.getStarArray(e.reviewStats().value_for_money_avg)),s(3),g(e.formatRating(e.reviewStats().value_for_money_avg))}}function Vn(i,t){if(i&1&&(r(0,"div",8)(1,"h4",11),a(2,"Rating Breakdown"),o(),m(3,Tn,9,1,"div",12),m(4,In,9,1,"div",12),m(5,On,9,1,"div",12),m(6,Rn,9,1,"div",12),o()),i&2){let e=c();s(3),u(e.reviewStats().service_quality_avg?3:-1),s(),u(e.reviewStats().communication_avg?4:-1),s(),u(e.reviewStats().timeliness_avg?5:-1),s(),u(e.reviewStats().value_for_money_avg?6:-1)}}function Fn(i,t){i&1&&(r(0,"div",9)(1,"div",19)(2,"mat-icon",20),a(3,"analytics"),o(),r(4,"p",21),a(5," Detailed rating breakdown will appear here as more reviews are collected. "),o()()())}var ke=class i{averageRating=b.required();totalReviews=b.required();reviewStats=b(null);getStarArray(t){let e=[];for(let n=1;n<=5;n++)e.push(n<=Math.round(t));return e}formatRating(t){return t.toFixed(1)}getRatingLabel(t){return t>=4.5?"Excellent":t>=4?"Great":t>=3?"Good":t>=2?"Fair":"Poor"}hasBreakdownData(){let t=this.reviewStats();return t?!!(t.service_quality_avg||t.communication_avg||t.timeliness_avg||t.value_for_money_avg):!1}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=P({type:i,selectors:[["app-review-stats"]],inputs:{averageRating:[1,"averageRating"],totalReviews:[1,"totalReviews"],reviewStats:[1,"reviewStats"]},decls:15,vars:5,consts:[[1,"stats-card","!bg-gray-50"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"text-center"],[1,"text-4xl","font-bold","text-gray-900","mb-2"],[1,"flex","justify-center","items-center","mb-2"],[1,"!w-6","!h-6","!text-2xl",3,"text-yellow-400","text-gray-300"],[1,"text-sm","text-gray-600"],[1,"text-sm","text-gray-500","mt-1"],[1,"space-y-2"],[1,"space-y-3"],[1,"!w-6","!h-6","!text-2xl"],[1,"font-medium","text-gray-900","mb-3"],[1,"flex","items-center","justify-between","text-sm"],[1,"text-gray-600"],[1,"flex","items-center","gap-2"],[1,"flex"],[1,"!w-4","!h-4","!text-base",3,"text-yellow-400","text-gray-300"],[1,"font-medium"],[1,"!w-4","!h-4","!text-base"],[1,"text-center","py-4"],[1,"!w-12","!h-12","!text-5xl","text-gray-300","mb-2"],[1,"text-sm","text-gray-500"]],template:function(e,n){e&1&&(r(0,"mat-card",0)(1,"mat-card-content")(2,"div",1)(3,"div",2)(4,"div",3),a(5),o(),r(6,"div",4),S(7,kn,2,4,"mat-icon",5,V),o(),r(9,"div",6),a(10),o(),r(11,"div",7),a(12),o()(),m(13,Vn,7,4,"div",8)(14,Fn,6,0,"div",9),o()()()),e&2&&(s(5),g(n.formatRating(n.averageRating())),s(2),y(n.getStarArray(n.averageRating())),s(3),g(n.getRatingLabel(n.averageRating())),s(2),$(" ",n.totalReviews()," ",n.totalReviews()===1?"review":"reviews"," "),s(),u(n.reviewStats()&&n.hasBreakdownData()?13:14))},dependencies:[k,j,T,D,I,O],styles:[".stats-card[_ngcontent-%COMP%]{border-radius:.75rem}.stats-card[_ngcontent-%COMP%]     .mat-mdc-card-content{padding:1.5rem;overflow:visible}.stats-card[_ngcontent-%COMP%]     mat-icon{overflow:visible;line-height:1}"]})};var Nn=(i,t)=>t._id;function Ln(i,t){if(i&1&&(r(0,"mat-icon",10),a(1," star "),o()),i&2){let e=t.$implicit;F("text-yellow-400",e)("text-gray-300",!e)}}function An(i,t){if(i&1&&(r(0,"div",3)(1,"div",6),S(2,Ln,2,4,"mat-icon",7,V),o(),r(4,"span",8),a(5),o(),r(6,"span",9),a(7),o()()),i&2){let e=c();s(2),y(e.getStarArray(e.averageRating())),s(3),g(e.formatRating(e.averageRating())),s(2),$(" (",e.totalReviews()," ",e.totalReviews()===1?"review":"reviews",") ")}}function Hn(i,t){i&1&&(r(0,"div",4),C(1,"mat-spinner",11),r(2,"span",12),a(3,"Loading reviews..."),o()())}function $n(i,t){i&1&&(r(0,"div",5)(1,"div",13)(2,"mat-icon",14),a(3,"star_outline"),o()(),r(4,"h3",15),a(5,"No Reviews Yet"),o(),r(6,"p",16),a(7,"This business hasn't received any reviews yet."),o()())}function qn(i,t){if(i&1&&C(0,"app-review-card",20),i&2){let e=t.$implicit;f("review",e)}}function Un(i,t){if(i&1&&(r(0,"div",21)(1,"button",22)(2,"mat-icon"),a(3,"expand_more"),o(),a(4),o()()),i&2){let e=c(2);s(4),x(" View All ",e.totalReviews()," Reviews ")}}function zn(i,t){if(i&1&&(r(0,"div",17),C(1,"app-review-stats",18),o(),r(2,"div")(3,"h3",19),a(4,"Recent Reviews"),o(),S(5,qn,1,1,"app-review-card",20,Nn),m(7,Un,5,1,"div",21),o()),i&2){let e=c();s(),f("averageRating",e.averageRating())("totalReviews",e.totalReviews())("reviewStats",e.reviewStats()),s(4),y(e.recentReviews()),s(2),u(e.totalReviews()>5?7:-1)}}var Ee=class i{recentReviews=b.required();totalReviews=b.required();averageRating=b.required();reviewStats=b(null);reviewsLoading=b.required();hasReviews=b.required();getStarArray(t){let e=[];for(let n=1;n<=5;n++)e.push(n<=Math.round(t));return e}formatRating(t){return t.toFixed(1)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=P({type:i,selectors:[["app-business-reviews-section"]],inputs:{recentReviews:[1,"recentReviews"],totalReviews:[1,"totalReviews"],averageRating:[1,"averageRating"],reviewStats:[1,"reviewStats"],reviewsLoading:[1,"reviewsLoading"],hasReviews:[1,"hasReviews"]},decls:10,vars:2,consts:[[1,"!mb-4"],[1,"flex","items-center","justify-between","w-full"],[1,"!text-2xl"],[1,"flex","items-center","gap-2"],[1,"flex","justify-center","items-center","py-8"],[1,"text-center","py-12"],[1,"flex","items-center"],[1,"!w-5","!h-5","!text-xl",3,"text-yellow-400","text-gray-300"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"!w-5","!h-5","!text-xl"],["diameter","40"],[1,"ml-3","text-gray-600"],[1,"p-4","bg-gray-50","rounded-full","w-20","h-20","mx-auto","mb-6","flex","items-center","justify-center"],[1,"!w-10","!h-10","!text-4xl","text-gray-300"],[1,"text-xl","font-medium","text-gray-900","mb-2"],[1,"text-gray-500"],[1,"mb-8"],[3,"averageRating","totalReviews","reviewStats"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[3,"review"],[1,"text-center","pt-4"],["mat-stroked-button","","color","primary"]],template:function(e,n){e&1&&(r(0,"mat-card")(1,"mat-card-header",0)(2,"div",1)(3,"mat-card-title",2),a(4,"Reviews & Ratings"),o(),m(5,An,8,3,"div",3),o()(),r(6,"mat-card-content"),m(7,Hn,4,0,"div",4)(8,$n,8,0,"div",5)(9,zn,8,4),o()()),e&2&&(s(5),u(n.hasReviews()?5:-1),s(2),u(n.reviewsLoading()?7:n.hasReviews()?9:8))},dependencies:[k,j,T,D,A,L,N,G,I,O,Z,K,Pe,ke],encapsulation:2})};function Gn(i,t){if(i&1&&(r(0,"p",2),a(1),o()),i&2){let e=c();s(),g(e.business().description)}}function Wn(i,t){i&1&&(r(0,"p",3),a(1,"No description provided."),o())}function Yn(i,t){if(i&1&&(r(0,"span",7),a(1),o()),i&2){let e=t.$implicit;s(),x(" ",e," ")}}function Qn(i,t){if(i&1&&(r(0,"div",4)(1,"h4",5),a(2,"Tags"),o(),r(3,"div",6),S(4,Yn,2,1,"span",7,te),o()()),i&2){let e=c();s(4),y(e.businessTags())}}var Te=class i{business=b.required();businessTags=b([]);static \u0275fac=function(e){return new(e||i)};static \u0275cmp=P({type:i,selectors:[["app-business-about"]],inputs:{business:[1,"business"],businessTags:[1,"businessTags"]},decls:8,vars:2,consts:[[1,"!mb-4"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-700","leading-relaxed","text-lg"],[1,"text-gray-500","italic"],[1,"mt-6"],[1,"text-sm","font-medium","text-gray-900","mb-3"],[1,"flex","flex-wrap","gap-2"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-sm","bg-blue-50","text-blue-700","border","border-blue-200"]],template:function(e,n){e&1&&(r(0,"mat-card")(1,"mat-card-header",0)(2,"mat-card-title",1),a(3,"About This Business"),o()(),r(4,"mat-card-content"),m(5,Gn,2,1,"p",2)(6,Wn,2,0,"p",3),m(7,Qn,6,0,"div",4),o()()),e&2&&(s(5),u(n.business().description?5:6),s(2),u(n.businessTags().length>0?7:-1))},dependencies:[k,j,T,D,A,L],encapsulation:2})};function Xn(i,t){i&1&&(r(0,"div",3),C(1,"div",6),r(2,"span",7),a(3,"Loading owner..."),o()())}function Jn(i,t){if(i&1&&C(0,"img",9),i&2){let e=c(2);f("src",e.owner().avatar_url,H)("alt",(e.owner().first_name+" "+(e.owner().last_name||"")).trim()+" profile")}}function Kn(i,t){if(i&1&&(r(0,"div",17),a(1),o()),i&2){let e=c(2);J("background-color",e.ownerAvatarColor()),s(),x(" ",e.ownerInitials()," ")}}function Zn(i,t){if(i&1&&(r(0,"span",12),a(1),o()),i&2){let e,n,l=c(2);f("matTooltip",((e=l.owner())==null?null:e.country_of_origin)||((e=l.owner())==null?null:e.country)||"")("title",((n=l.owner())==null?null:n.country_of_origin)||((n=l.owner())==null?null:n.country)||""),s(),g(l.userCountryFlag())}}function eo(i,t){if(i&1&&(r(0,"p",15),a(1),o()),i&2){let e,n=c(2);s(),g((e=n.owner())==null?null:e.bio)}}function to(i,t){if(i&1){let e=h();r(0,"button",18),_("click",function(){p(e);let l=c(2);return v(l.contactOwnerClick.emit())}),r(1,"mat-icon"),a(2,"chat"),o(),a(3," Contact Owner "),o()}}function io(i,t){if(i&1&&(r(0,"div",4)(1,"div",8),m(2,Jn,1,2,"img",9)(3,Kn,2,3,"div",10),r(4,"div")(5,"div",11),m(6,Zn,2,3,"span",12),r(7,"h4",13),a(8),o()(),r(9,"p",14),a(10,"Business Owner"),o()()(),m(11,eo,2,1,"p",15),m(12,to,4,0,"button",16),o()),i&2){let e,n,l,d=c();s(2),u((e=d.owner())!=null&&e.avatar_url?2:3),s(4),u(d.userCountryFlag()?6:-1),s(2),g((((n=d.owner())==null?null:n.first_name)+" "+(((n=d.owner())==null?null:n.last_name)||"")).trim()),s(3),u((l=d.owner())!=null&&l.bio?11:-1),s(),u(d.isOwner()?-1:12)}}function no(i,t){i&1&&(r(0,"p",5),a(1,"Owner information not available"),o())}var je=class i{owner=b(null);business=b(null);loading=b(!1);isOwner=b.required();contactOwnerClick=R();countryFlagService=B(Mt);ownerInitials=E(()=>{let t=this.owner();if(!t)return"";let e=t.first_name?.charAt(0)||"",n=t.last_name?.charAt(0)||"";return(e+n).toUpperCase()});ownerAvatarColor=E(()=>{let t=this.ownerInitials();if(!t)return"#E5E7EB";let e=["#3B82F6","#EF4444","#10B981","#F59E0B","#8B5CF6","#EC4899","#06B6D4","#F97316"],n=t.charCodeAt(0);return e[n%e.length]});businessLogoUrl=E(()=>this.business()?.logo_url);userCountryFlag=E(()=>{let t=this.owner();if(!t)return"";let e=t.country_of_origin||t.country;return e&&this.countryFlagService.getFlagByCountry(e)||""});static \u0275fac=function(e){return new(e||i)};static \u0275cmp=P({type:i,selectors:[["app-business-owner"]],inputs:{owner:[1,"owner"],business:[1,"business"],loading:[1,"loading"],isOwner:[1,"isOwner"]},outputs:{contactOwnerClick:"contactOwnerClick"},decls:8,vars:1,consts:[[1,"mb-8"],[1,"!mb-4"],[1,"text-lg","font-semibold","text-gray-900"],[1,"flex","items-center","justify-center","py-4"],[1,"space-y-4"],[1,"text-sm","text-gray-500","text-center","py-4"],[1,"animate-spin","rounded-full","h-6","w-6","border-b-2","border-gray-600"],[1,"ml-2","text-gray-600","text-sm"],[1,"flex","items-center","space-x-3"],[1,"h-12","w-12","rounded-full","object-cover",3,"src","alt"],[1,"h-12","w-12","rounded-full","flex","items-center","justify-center","font-bold","text-white","text-sm",3,"background-color"],[1,"flex","items-center","gap-2"],[1,"text-base","leading-none",3,"matTooltip","title"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"text-sm","text-gray-700"],["mat-stroked-button","",1,"w-full"],[1,"h-12","w-12","rounded-full","flex","items-center","justify-center","font-bold","text-white","text-sm"],["mat-stroked-button","",1,"w-full",3,"click"]],template:function(e,n){e&1&&(r(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title",2),a(3,"Business Owner"),o()(),r(4,"mat-card-content"),m(5,Xn,4,0,"div",3)(6,io,13,5,"div",4)(7,no,2,0,"p",5),o()()),e&2&&(s(5),u(n.loading()?5:n.owner()?6:7))},dependencies:[k,j,T,D,A,L,N,G,I,O,St,wt],encapsulation:2})};function oo(i,t){if(i&1&&(r(0,"span",6),a(1),o()),i&2){let e=c(2);s(),Fe(" ",e.business().city,"",e.business().city&&e.business().state?", ":"","",e.business().state," ")}}function ro(i,t){if(i&1){let e=h();r(0,"mat-list-item",2),_("click",function(){p(e);let l=c();return v(l.openInGoogleMaps())}),r(1,"mat-icon",3),a(2,"location_on"),o(),r(3,"span",4),a(4,"Address"),o(),r(5,"span",5),a(6),o(),m(7,oo,2,3,"span",6),o()}if(i&2){let e=c();s(6),g(e.business().address),s(),u(e.business().city||e.business().state?7:-1)}}function ao(i,t){if(i&1&&(r(0,"mat-list-item")(1,"mat-icon",3),a(2,"email"),o(),r(3,"span",4),a(4,"Email"),o(),r(5,"span",5),a(6),o()()),i&2){let e=c();s(6),g(e.business().contact_email)}}function so(i,t){if(i&1&&(r(0,"mat-list-item")(1,"mat-icon",3),a(2,"phone"),o(),r(3,"span",4),a(4,"Phone"),o(),r(5,"span",5),a(6),o()()),i&2){let e=c();s(6),g(e.business().contact_phone)}}function lo(i,t){if(i&1&&(r(0,"mat-list-item")(1,"mat-icon",3),a(2,"language"),o(),r(3,"span",4),a(4,"Website"),o(),r(5,"a",7),a(6),o()()),i&2){let e=c();s(5),f("href",e.business().website,H),s(),x(" ",e.business().website," ")}}var Ie=class i{business=b.required();openInGoogleMaps(){let t=this.business(),e="";if(t.address?(e=t.address,t.city&&(e+=`, ${t.city}`),t.state&&(e+=`, ${t.state}`)):(t.city||t.state)&&(e=`${t.city||""}${t.city&&t.state?", ":""}${t.state||""}`),!e)return;let l=`https://www.google.com/maps/search/${encodeURIComponent(e)}`;window.open(l,"_blank")}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=P({type:i,selectors:[["app-business-information"]],inputs:{business:[1,"business"]},decls:10,vars:4,consts:[[1,"!mb-4"],[1,"cursor-pointer","hover:bg-gray-100","transition-colors"],[1,"cursor-pointer","hover:bg-gray-100","transition-colors",3,"click"],["matListItemIcon",""],["matListItemTitle",""],["matListItemLine",""],["matListItemLine","",1,"text-gray-500"],["matListItemLine","","target","_blank",1,"text-primary","hover:underline",3,"href"]],template:function(e,n){e&1&&(r(0,"mat-card")(1,"mat-card-header",0)(2,"mat-card-title"),a(3,"Business Information"),o()(),r(4,"mat-card-content")(5,"mat-nav-list"),m(6,ro,8,2,"mat-list-item",1),m(7,ao,7,1,"mat-list-item"),m(8,so,7,1,"mat-list-item"),m(9,lo,7,2,"mat-list-item"),o()()()),e&2&&(s(6),u(n.business().address?6:-1),s(),u(n.business().contact_email?7:-1),s(),u(n.business().contact_phone?8:-1),s(),u(n.business().website?9:-1))},dependencies:[k,j,T,D,A,L,oe,xt,gt,ft,_t,vt,I,O],encapsulation:2})};var co=(i,t)=>t.label;function mo(i,t){i&1&&(r(0,"span",5),a(1,"Closed"),o())}function uo(i,t){if(i&1&&(r(0,"span",6),a(1),o()),i&2){let e=c().$implicit;s(),$(" ",e.open," - ",e.close," ")}}function po(i,t){if(i&1&&(r(0,"div",3)(1,"span",4),a(2),o(),m(3,mo,2,0,"span",5)(4,uo,2,2,"span",6),o()),i&2){let e=t.$implicit;s(2),g(e.label),s(),u(e.closed?3:4)}}function vo(i,t){if(i&1&&(r(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title"),a(3," Business Hours "),o(),r(4,"mat-card-subtitle"),a(5),o()(),r(6,"mat-card-content")(7,"div",2),S(8,po,5,2,"div",3,co),o()()()),i&2){let e=c();s(4),ue("text-sm text-gray-500 "+e.getStatusClass()),s(),x(" ",e.getStatusText()," "),s(3),y(e.businessHours())}}var Be=class i{business=b.required();businessHours=E(()=>{let t=this.business();if(!t.business_hours)return[];let e=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],n={monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"},l=[];return e.forEach(d=>{let M=t.business_hours?.[d];M&&l.push({label:n[d],open:M.open,close:M.close,closed:M.closed||!1})}),l});hasBusinessHours=E(()=>this.businessHours().length>0);isCurrentlyOpen=E(()=>{if(!this.hasBusinessHours())return null;let t=this.business();if(!t.business_hours)return null;let e=new Date,n=e.toLocaleDateString("en-US",{weekday:"long"}).toLowerCase(),l=e.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),d=t.business_hours?.[n];return!d||d.closed?!1:d.open&&d.close?l>=d.open&&l<=d.close:null});getStatusText(){let t=this.isCurrentlyOpen();return t===null?"Hours not available":t?"Open now":"Closed"}getStatusClass(){let t=this.isCurrentlyOpen();return t===null?"text-gray-500":t?"text-green-600":"text-red-600"}getStatusIcon(){let t=this.isCurrentlyOpen();return t===null?"schedule":t?"check_circle":"cancel"}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=P({type:i,selectors:[["app-business-hours"]],inputs:{business:[1,"business"]},decls:1,vars:1,consts:[[1,"mt-8"],[1,"!mb-4"],[1,"space-y-3"],[1,"flex","items-center","justify-between","py-2"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-red-600","font-medium"],[1,"text-sm","text-gray-600"]],template:function(e,n){e&1&&m(0,vo,10,3,"mat-card",0),e&2&&u(n.hasBusinessHours()?0:-1)},dependencies:[k,j,T,D,A,We,L,oe,I,$e],styles:["mat-card[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 1px 3px #0000001a}mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{padding-bottom:0}mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin:0;color:#111827}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding-top:0}.text-green-600[_ngcontent-%COMP%]{color:#16a34a}.text-red-600[_ngcontent-%COMP%]{color:#dc2626}.text-gray-500[_ngcontent-%COMP%]{color:#6b7280}.text-gray-600[_ngcontent-%COMP%]{color:#4b5563}.text-gray-900[_ngcontent-%COMP%]{color:#111827}"]})};var _o=["drawerContent"];function fo(i,t){if(i&1&&C(0,"app-user-sidenav",5),i&2){c();let e=z(3);f("drawer",e)}}function go(i,t){if(i&1&&C(0,"app-guest-sidenav",5),i&2){c();let e=z(3);f("drawer",e)}}function xo(i,t){i&1&&(r(0,"div",8)(1,"div",9)(2,"div",10),C(3,"div",11),r(4,"span",12),a(5,"Loading business profile..."),o()()()())}function Co(i,t){if(i&1){let e=h();r(0,"div",8)(1,"div",9)(2,"div",13)(3,"div",14),ee(),r(4,"svg",15),C(5,"path",16),o(),se(),r(6,"div")(7,"h3",17),a(8,"Error Loading Business"),o(),r(9,"p",18),a(10),o(),r(11,"button",19),_("click",function(){p(e);let l=c();return v(l.goBack())}),a(12," Go Back "),o()()()()()()}if(i&2){let e=c();s(10),g(e.error())}}function bo(i,t){if(i&1){let e=h();r(0,"app-business-profile-header",20),_("editBusinessClick",function(){p(e);let l=c();return v(l.editBusiness())})("addServiceClick",function(){p(e);let l=c();return v(l.addService())})("startProjectClick",function(){p(e);let l=c();return v(l.startProject())})("visitWebsiteClick",function(){p(e);let l=c();return v(l.visitWebsite())})("reportBusinessClick",function(){p(e);let l=c();return v(l.openReportDialog())})("scrollToSection",function(l){p(e);let d=c();return v(d.scrollToSection(l))}),o(),r(1,"div",21)(2,"div",22)(3,"div",23)(4,"section",24),C(5,"app-business-about",25),o(),r(6,"section",26)(7,"app-business-services-section",27),_("addServiceClick",function(){p(e);let l=c();return v(l.addService())})("editServiceClick",function(l){p(e);let d=c();return v(d.editService(l))})("startProjectClick",function(l){p(e);let d=c();return v(d.startProjectWithService(l))}),o()(),r(8,"section",28),C(9,"app-business-portfolio-section",29),o(),r(10,"section",30),C(11,"app-business-reviews-section",31),o()(),r(12,"div",32)(13,"app-business-owner",33),_("contactOwnerClick",function(){p(e);let l=c();return v(l.contactOwner())}),o(),C(14,"app-business-information",34)(15,"app-business-hours",34),o()()(),C(16,"footer-component")}if(i&2){let e,n=c();f("business",n.business())("isOwner",n.isOwner())("activeServicesCount",n.activeServices().length)("businessTypeDisplay",n.getBusinessTypeDisplay(((e=n.business())==null?null:e.business_type)||""))("activeSection",n.activeSection()),s(5),f("business",n.business())("businessTags",n.businessTags()),s(2),f("activeServices",n.activeServices())("featuredServices",n.featuredServices())("servicesLoading",n.servicesLoading())("isOwner",n.isOwner()),s(2),f("completedProjects",n.completedProjects())("portfolioLoading",n.portfolioLoading()),s(2),f("recentReviews",n.recentReviews())("totalReviews",n.totalReviews())("averageRating",n.averageRating())("reviewStats",n.reviewStats())("reviewsLoading",n.reviewsLoading())("hasReviews",n.hasReviews()),s(2),f("owner",n.owner())("business",n.business())("loading",n.loading())("isOwner",n.isOwner()),s(),f("business",n.business()),s(),f("business",n.business())}}var Wt=class i{route=B(pe);router=B(ve);businessService=B(fe);authService=B(_e);projectService=B(xe);reviewService=B(Nt);dialog=B(Dt);snackBar=B(Pt);reportsService=B(Ut);drawerContent;loading=w(!1);servicesLoading=w(!1);portfolioLoading=w(!1);reviewsLoading=w(!1);error=w(null);businessId=null;business=w(null);owner=w(null);services=w([]);projects=w([]);reviews=w([]);reviewStats=w(null);isOwner=E(()=>{let t=this.authService.user(),e=this.business();if(!t||!e)return!1;let n=typeof e.owner_id=="string"?e.owner_id:e.owner_id?._id;return t._id===n});currentUser=E(()=>this.authService.user());activeServices=E(()=>this.services().filter(t=>t.is_active));featuredServices=E(()=>this.services().filter(t=>t.is_featured&&t.is_active));businessTags=E(()=>this.business()?.tags||[]);completedProjects=E(()=>this.projects().filter(t=>t.status==="completed"));averageRating=E(()=>this.reviewStats()?.average_rating||0);totalReviews=E(()=>this.reviews().length);hasReviews=E(()=>this.reviews().length>0);recentReviews=E(()=>this.reviews().sort((t,e)=>new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()).slice(0,5));activeSection=w("about");navigationSections=E(()=>[{id:"about",label:"About",icon:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},{id:"services",label:`Services (${this.activeServices().length})`,icon:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"},{id:"portfolio",label:`Portfolio (${this.completedProjects().length})`,icon:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"},{id:"reviews",label:`Reviews (${this.totalReviews()}) ${this.averageRating()>0?"\u2B50"+this.averageRating().toFixed(1):""}`,icon:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"}]);ngOnInit(){this.route.params.subscribe(t=>{let e=t.id;e&&(this.businessId=e,this.loadBusiness(),this.loadServices(e),this.loadProjects(e),this.loadReviews(e))}),setTimeout(()=>{this.updateActiveSection();let t=this.getScrollContainer();t&&t.addEventListener("scroll",()=>this.updateActiveSection())},100)}onWindowScroll(){this.updateActiveSection()}getScrollContainer(){return this.drawerContent?.nativeElement?this.drawerContent.nativeElement:document.querySelector("mat-drawer-content")||document.documentElement}updateActiveSection(){let t=["about","services","portfolio","reviews"],l="about";for(let d of t){let M=document.getElementById(d);if(M){let ae=M.getBoundingClientRect();if(ae.top-116<=20&&ae.bottom>116){l=d;break}}}this.activeSection()!==l&&(console.log("Active section changed to:",l),this.activeSection.set(l))}loadBusiness(){return Y(this,null,function*(){if(this.businessId){this.loading.set(!0);try{let t=yield this.businessService.getBusinessAsync(this.businessId);t&&(this.business.set(t),t.owner_id&&typeof t.owner_id=="object"&&this.owner.set(t.owner_id))}catch(t){console.error("Error loading business:",t)}finally{this.loading.set(!1)}}})}loadServices(t){return Y(this,null,function*(){try{this.servicesLoading.set(!0);let e=yield this.businessService.getBusinessServicesAsync(t,!1);this.services.set(e)}catch(e){console.error("Error loading services:",e)}finally{this.servicesLoading.set(!1)}})}loadProjects(t){return Y(this,null,function*(){try{this.portfolioLoading.set(!0);let e=yield this.projectService.getBusinessPortfolioAsync(t);this.projects.set(e)}catch(e){console.error("Error loading projects:",e)}finally{this.portfolioLoading.set(!1)}})}loadReviews(t){return Y(this,null,function*(){try{this.reviewsLoading.set(!0);let e=yield this.reviewService.getBusinessReviewsAsync(t);this.reviews.set(e);let n=yield this.reviewService.getBusinessRatingStatsAsync(t);this.reviewStats.set(n)}catch(e){console.error("Error loading reviews:",e)}finally{this.reviewsLoading.set(!1)}})}formatPrice(t,e){if(!t)return"Contact for pricing";let n=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t);switch(e){case"hourly":return`${n}/hour`;case"project":return`${n}/project`;case"custom":return`Starting at ${n}`;default:return n}}formatDuration(t){return t||"Duration varies"}getBusinessTypeDisplay(t){switch(t){case"service":return"Service Business";case"product":return"Product Business";case"both":return"Service & Product Business";default:return"Business"}}goBack(){this.router.navigate(["/search"])}editBusiness(){let t=this.business();t&&this.router.navigate(["dashboard","businesses","edit",t._id])}addService(){let t=this.business();t&&this.router.navigate(["dashboard","services","create-service"],{queryParams:{businessId:t._id}})}editService(t){this.router.navigate(["/dashboard/services/edit-service",t])}contactBusiness(){let t=this.business();t?.contact_email&&(window.location.href=`mailto:${t.contact_email}`)}startProject(){let t=this.business(),e=this.authService.user();if(!e){this.router.navigate(["/auth"]);return}if(!t)return;if(this.activeServices().length===0){alert("This business has no active services available for projects. Please contact them directly or check back later.");return}let n=typeof t.owner_id=="string"?t.owner_id:t.owner_id?._id;if(e._id===n){alert("You cannot start a project with your own business.");return}this.openCreateProjectModal(t._id)}startProjectWithService(t){let e=this.business(),n=this.authService.user();if(!n){this.router.navigate(["/auth"]);return}if(!e)return;let l=typeof e.owner_id=="string"?e.owner_id:e.owner_id?._id;if(n._id===l){alert("You cannot start a project with your own business.");return}this.openCreateProjectModal(e._id,t)}contactOwner(){let t=this.owner();t?.email&&(window.location.href=`mailto:${t.email}`)}visitWebsite(){let t=this.business();t?.website&&window.open(t.website,"_blank")}scrollToSection(t){console.log("Scrolling to section:",t),this.activeSection.set(t),setTimeout(()=>{let e=document.getElementById(t);if(console.log("Found element:",e),e){let n=this.getScrollContainer(),l=50,d=e.offsetTop,M=d-l;console.log("Container:",n),console.log("Element offsetTop:",d),console.log("Scrolling to position:",M),n.scrollTo({top:M,behavior:"smooth"}),setTimeout(()=>{this.activeSection.set(t)},500)}},100)}getServicesLabel(){return`Services (${this.activeServices().length})`}getPortfolioLabel(){return`Portfolio (${this.completedProjects().length})`}getClientName(t){return typeof t.client_id=="object"&&t.client_id?`${t.client_id.first_name} ${t.client_id.last_name}`:"Unknown Client"}getServiceName(t){return typeof t=="object"&&t&&"name"in t?t.name:"Service"}getStarArray(t){let e=[];for(let n=1;n<=5;n++)e.push(n<=Math.round(t));return e}formatReviewDate(t){if(!t)return"Date not specified";let e=new Date(t),l=new Date().getTime()-e.getTime(),d=Math.floor(l/(1e3*60*60*24));return d===0?"Today":d===1?"Yesterday":d<7?`${d} days ago`:d<30?`${Math.floor(d/7)} weeks ago`:d<365?`${Math.floor(d/30)} months ago`:e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}formatRating(t){return t.toFixed(1)}getRatingLabel(t){return t>=4.5?"Excellent":t>=4?"Very Good":t>=3.5?"Good":t>=3?"Fair":t>=2.5?"Poor":"Very Poor"}getReviewerName(t){if(t.user_id&&typeof t.user_id=="object"){let e=t.user_id.first_name||"",n=t.user_id.last_name||"";return`${e} ${n}`.trim()||"Anonymous"}return"Anonymous"}getProjectTitle(t){return t.project_id&&typeof t.project_id=="object"&&t.project_id.title?t.project_id.title:"Project"}formatProjectDate(t){return t?new Date(t).toLocaleDateString():"Unknown"}formatProjectPrice(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)}viewProject(t){this.router.navigate(["/dashboard/projects",t._id])}openReportDialog(){return Y(this,null,function*(){let t=this.business();if(console.log("Opening report dialog for business:",t),!t)return;let e=this.authService.user();if(!e){this.router.navigate(["/auth"]);return}let n=typeof t.owner_id=="string"?t.owner_id:t.owner_id?._id;if(e._id===n)return;this.dialog.open(zt,{width:"500px",data:{reportType:"business",targetId:t._id,targetName:t.name,contextInfo:`Business profile: ${t.business_type||"Unknown Type"} - ${t.short_description||"No description"}`}}).afterClosed().subscribe(d=>Y(this,null,function*(){if(d)try{let M={reported_business_id:t._id,report_type:"business",reason:d.reason,custom_reason:d.customReason,description:d.description,is_anonymous:d.isAnonymous};yield this.reportsService.submitReportAsync(M),this.dialog.open(Gt,{width:"400px",data:{entityType:"business",entityName:t.name}})}catch(M){console.error("Failed to submit report:",M)}}))})}openCreateProjectModal(t,e){this.dialog.open(be,{data:{businessId:t,preSelectedServiceId:e},panelClass:"create-project-modal",disableClose:!0,autoFocus:!1}).afterClosed().subscribe(l=>{if(l&&l.success&&l.project){console.log("Project created successfully:",l);let d=this.snackBar.open("Project request submitted successfully! The business owner will review your request.","View Project",{duration:8e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["success-snackbar"]}),M=!1;d.onAction().subscribe(()=>{M=!0,this.router.navigate(["/dashboard/projects",l.project._id])}),d.afterDismissed().subscribe(()=>{M||this.router.navigate(["/dashboard/projects",l.project._id])})}})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=P({type:i,selectors:[["app-business-profile"]],viewQuery:function(e,n){if(e&1&&ce(_o,5,le),e&2){let l;de(l=me())&&(n.drawerContent=l.first)}},hostBindings:function(e,n){e&1&&_("scroll",function(){return n.onWindowScroll()},Re)},decls:12,vars:6,consts:[["drawer",""],["drawerContent",""],[3,"drawer","maxWidth"],["autosize","",1,"content-body",3,"hasBackdrop"],[1,"drawer",3,"mode"],[3,"drawer"],[1,"bg-[#F4F2EE]!"],[1,"min-h-screen","bg-[#F4F2EE]!"],[1,"bg-white"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"flex","justify-center","items-center","h-32"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-blue-600"],[1,"ml-3","text-gray-600"],[1,"bg-red-50","border-l-4","border-red-400","p-6","rounded-r-lg"],[1,"flex","items-center"],["fill","currentColor","viewBox","0 0 20 20",1,"w-6","h-6","text-red-400","mr-3"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"text-lg","font-medium","text-red-900","mb-2"],[1,"text-red-700","mb-4"],[1,"inline-flex","items-center","px-4","py-2","bg-red-100","text-red-800","rounded-lg","hover:bg-red-200","transition-colors",3,"click"],[3,"editBusinessClick","addServiceClick","startProjectClick","visitWebsiteClick","reportBusinessClick","scrollToSection","business","isOwner","activeServicesCount","businessTypeDisplay","activeSection"],[1,"max-w-7xl","mx-auto","py-4","sm:py-6","lg:py-8","lg:pb-8"],[1,"grid","grid-cols-1","lg:grid-cols-3","lg:gap-8"],[1,"lg:col-span-2","space-y-4","lg:space-y-8"],["id","about",1,"scroll-mt-32"],[3,"business","businessTags"],["id","services",1,"scroll-mt-32"],[3,"addServiceClick","editServiceClick","startProjectClick","activeServices","featuredServices","servicesLoading","isOwner"],["id","portfolio",1,"scroll-mt-32"],[3,"completedProjects","portfolioLoading"],["id","reviews",1,"scroll-mt-32"],[3,"recentReviews","totalReviews","averageRating","reviewStats","reviewsLoading","hasReviews"],[1,"lg:col-span-1","space-y-4","lg:space-y-8","mt-4","lg:mt-0"],[3,"contactOwnerClick","owner","business","loading","isOwner"],[3,"business"]],template:function(e,n){if(e&1&&(C(0,"app-header",2),r(1,"mat-drawer-container",3)(2,"mat-drawer",4,0),m(4,fo,1,1,"app-user-sidenav",5)(5,go,1,1,"app-guest-sidenav",5),o(),r(6,"mat-drawer-content",6,1)(8,"div",7),m(9,xo,6,0,"div",8)(10,Co,13,1,"div",8)(11,bo,17,25),o()()()),e&2){let l=z(3);f("drawer",l)("maxWidth","max-w-7xl"),s(),f("hasBackdrop",!0),s(),f("mode","over"),s(2),u(n.currentUser()?4:5),s(5),u(n.loading()?9:n.error()?10:n.business()?11:-1)}},dependencies:[k,nt,Ce,kt,Ge,Ue,ze,qe,Ct,bt,he,Se,Me,Ee,Te,je,Ie,Be,pt],styles:[`.drawer[_ngcontent-%COMP%]{height:calc(100vh - 64px);border-radius:0}.content-body[_ngcontent-%COMP%]{height:calc(100vh - 64px);overflow-y:scroll}.mat-mdc-tab-group[_ngcontent-%COMP%]     .mat-mdc-tab-header{border-bottom:1px solid #e5e7eb}.mat-mdc-tab-group[_ngcontent-%COMP%]     .mat-mdc-tab-label{font-weight:500;color:#6b7280}.mat-mdc-tab-group[_ngcontent-%COMP%]     .mat-mdc-tab-label.mdc-tab--active{color:#2563eb}.mat-mdc-tab-group[_ngcontent-%COMP%]     .mat-mdc-tab-body-wrapper{min-height:400px}.banner-text[_ngcontent-%COMP%]{text-shadow:2px 2px 4px rgba(0,0,0,.7),1px 1px 2px rgba(0,0,0,.5)}.banner-button[_ngcontent-%COMP%]{backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.service-card[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px -5px #0000001a,0 10px 10px -5px #0000000a}.project-card[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease;cursor:pointer}.project-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a}.project-card[_ngcontent-%COMP%]   .project-image[_ngcontent-%COMP%]{position:relative;overflow:hidden}.project-card[_ngcontent-%COMP%]   .project-image[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:#0000;transition:background .3s ease}.project-card[_ngcontent-%COMP%]   .project-image[_ngcontent-%COMP%]:hover:after{background:#0000001a}.featured-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;font-size:.75rem;padding:.25rem .5rem;border-radius:9999px;font-weight:600}.testimonial[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f5f7fa,#c3cfe2);border-left:4px solid #2563eb}.testimonial[_ngcontent-%COMP%]:before{content:'"';font-size:1.5rem;color:#2563eb;font-weight:700}.line-clamp-1[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:1;line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.line-clamp-2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.line-clamp-3[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}@media (max-width: 768px){.business-header[_ngcontent-%COMP%]   .flex-col[_ngcontent-%COMP%]{text-align:center}.service-card[_ngcontent-%COMP%], .project-card[_ngcontent-%COMP%]{margin-bottom:1rem}.portfolio-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (min-width: 768px) and (max-width: 1024px){.portfolio-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px){.portfolio-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}`]})};export{Wt as BusinessProfileComponent};
