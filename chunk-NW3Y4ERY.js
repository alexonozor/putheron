import{h as Y,l as z,m as H}from"./chunk-N77KJ2CE.js";import{b as B,c as V,f as O,i as j}from"./chunk-UHWPZDZU.js";import"./chunk-RG3CVPH6.js";import{A as q,c as T,e as v,h as L,i as N,l as R,p as A,q as D,y as G}from"./chunk-IOQBSONU.js";import"./chunk-RNGT6N3O.js";import"./chunk-IXXIICYU.js";import"./chunk-W25ODU66.js";import{a as J,b as K}from"./chunk-ZH2LY4H3.js";import"./chunk-VE54HO5B.js";import{c as P,d as E,e as I}from"./chunk-VOP2ECYA.js";import{a as k}from"./chunk-5X5YCIDJ.js";import"./chunk-QSI3HFOI.js";import{a as S,b as M}from"./chunk-756JSGY5.js";import"./chunk-IGUJQH2A.js";import"./chunk-IZ7UM5CL.js";import"./chunk-YYV7O7JP.js";import{a as w,c as _,d as F}from"./chunk-MEFNJ5SS.js";import"./chunk-GUCRBWY4.js";import{t as h}from"./chunk-REOVWAHI.js";import{Bb as l,Ea as u,Gb as m,Lb as o,Mb as i,Nb as f,Vb as b,Wb as c,cb as a,fa as d,gc as r,hc as g,ob as C,qc as x,ub as p}from"./chunk-BEPULU6C.js";import{e as y}from"./chunk-JKOY2XUY.js";var U=()=>["/auth/login"],W=()=>["/auth/signup"];function X(e,n){e&1&&r(0," Email is required ")}function Z(e,n){e&1&&r(0," Please enter a valid email address ")}function $(e,n){if(e&1&&(o(0,"mat-error"),p(1,X,1,0)(2,Z,1,0),i()),e&2){let t=c();a(),m(t.emailControl!=null&&t.emailControl.hasError("required")?1:t.emailControl!=null&&t.emailControl.hasError("email")?2:-1)}}function ee(e,n){if(e&1&&(o(0,"div",8)(1,"div",17)(2,"mat-icon",18),r(3,"error"),i(),o(4,"span",19),r(5),i()()()),e&2){let t=c();a(5),g(t.error())}}function te(e,n){if(e&1&&(o(0,"div",9)(1,"div",20)(2,"mat-icon",18),r(3,"check_circle"),i(),o(4,"span",19),r(5),i()()()),e&2){let t=c();a(5),g(t.successMessage())}}function oe(e,n){e&1&&r(0," Send Reset Link ")}function re(e,n){e&1&&(o(0,"span",11),f(1,"mat-spinner",21),r(2," Sending... "),i())}var Q=class e{authService=d(k);router=d(_);route=d(w);fb=d(G);error=u("");successMessage=u("");loading=u(!1);forgotPasswordForm;constructor(){this.forgotPasswordForm=this.fb.group({email:["",[v.required,v.email]]})}ngOnInit(){this.route.queryParams.subscribe(n=>{n.email&&this.forgotPasswordForm.patchValue({email:n.email})})}onSubmit(){return y(this,null,function*(){if(this.clearMessages(),!this.forgotPasswordForm.valid){this.error.set("Please enter a valid email address");return}let{email:n}=this.forgotPasswordForm.value;this.loading.set(!0);try{let t=yield this.authService.forgotPassword(n);t.success?(this.successMessage.set(t.message||"If an account with that email exists, we have sent a password reset link."),this.forgotPasswordForm.reset()):this.error.set(t.message||"Failed to send password reset email. Please try again.")}catch(t){this.error.set(t?.message||"An unexpected error occurred. Please try again.")}finally{this.loading.set(!1)}})}clearMessages(){this.error.set(""),this.successMessage.set("")}get emailControl(){return this.forgotPasswordForm.get("email")}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=C({type:e,selectors:[["app-forgot-password"]],decls:27,vars:11,consts:[[1,"forgot-password-container"],[1,"text-center","mb-8"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"space-y-6",3,"ngSubmit","formGroup"],["appearance","outline",1,"w-full"],["matInput","","type","email","formControlName","email","placeholder","your@email.com",3,"disabled"],["matSuffix",""],[1,"mb-4","p-3","bg-red-50","border","border-red-200","rounded-lg"],[1,"mb-4","p-3","bg-green-50","border","border-green-200","rounded-lg"],["mat-raised-button","","color","primary","type","submit",1,"w-full","py-3","text-base","font-medium","mb-4",3,"disabled"],[1,"flex","items-center","justify-center","gap-2"],[1,"space-y-3","text-center"],["mat-button","","color","primary",1,"text-sm",3,"routerLink"],[1,"mt-4","pt-4","border-t","border-gray-200"],[1,"text-sm","text-gray-600"],["mat-button","","color","primary",1,"text-sm","font-medium","ml-1",3,"routerLink"],[1,"flex","items-center","text-red-700"],[1,"mr-2","text-sm"],[1,"text-sm"],[1,"flex","items-center","text-green-700"],["diameter","16"]],template:function(t,s){t&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2),r(3,"Reset Your Password"),i(),o(4,"p",3),r(5,"Enter your email address and we'll send you a link to reset your password."),i()(),o(6,"form",4),b("ngSubmit",function(){return s.onSubmit()}),o(7,"mat-form-field",5)(8,"mat-label"),r(9,"Email Address"),i(),f(10,"input",6),o(11,"mat-icon",7),r(12,"email"),i(),p(13,$,3,1,"mat-error"),i(),p(14,ee,6,1,"div",8)(15,te,6,1,"div",9),o(16,"button",10),p(17,oe,1,0)(18,re,3,0,"span",11),i(),o(19,"div",12)(20,"a",13),r(21," Remember your password? Back to Login "),i(),o(22,"div",14)(23,"p",15),r(24," Don't have an account? "),o(25,"a",16),r(26," Sign up "),i()()()()()()),t&2&&(a(6),l("formGroup",s.forgotPasswordForm),a(4),l("disabled",s.loading()),a(3),m(s.emailControl!=null&&s.emailControl.invalid&&(s.emailControl!=null&&s.emailControl.touched)?13:-1),a(),m(s.error()?14:-1),a(),m(s.successMessage()?15:-1),a(),l("disabled",!s.forgotPasswordForm.valid||s.loading()),a(),m(s.loading()?18:17),a(3),l("routerLink",x(9,U)),a(5),l("routerLink",x(10,W)))},dependencies:[h,q,R,T,L,N,A,D,F,Y,j,B,V,O,H,z,I,E,P,M,S,K,J],encapsulation:2})};export{Q as ForgotPasswordComponent};
