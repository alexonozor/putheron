<mat-card class="portfolio-card h-full cursor-pointer hover:shadow-lg transition-shadow duration-200 !rounded-2xl border border-gray-200" (click)="onViewProject()">
  <!-- Project Image -->
  <div class="relative h-48 bg-gradient-to-br from-blue-50 to-indigo-100 overflow-hidden">
    @if (project().image_url) {
      <img [src]="project().image_url" [alt]="project().title" class="w-full h-full object-cover">
    } @else {
      <div class="w-full h-full flex items-center justify-center">
        <mat-icon class="!w-16 !h-16 !text-6xl text-gray-300">work</mat-icon>
      </div>
    }
    
    <!-- Completed Badge -->
    <div class="absolute top-3 right-3">
      <mat-chip class="!bg-green-100 !text-green-800">
        <mat-icon class="!w-4 !h-4 !text-base mr-1">check_circle</mat-icon>
        Completed
      </mat-chip>
    </div>
  </div>

  <!-- Project Details -->
  <mat-card-content class="!p-6">
    <div class="mb-3">
      <h3 class="text-lg font-semibold text-gray-900 line-clamp-1">{{ project().title }}</h3>
    </div>

    <p class="text-sm text-gray-600 mb-4 line-clamp-2">
      {{ project().description || 'No description provided' }}
    </p>

    <div class="space-y-2">
      <div class="flex items-center justify-between text-sm">
        <span class="text-gray-500">Client:</span>
        <span class="font-medium text-gray-900">{{ getClientName(project()) }}</span>
      </div>

      <div class="flex items-center justify-between text-sm">
        <span class="text-gray-500">Project Value:</span>
        <span class="font-semibold text-green-600">{{ formatProjectPrice(project().offered_price) }}</span>
      </div>

      <div class="flex items-center justify-between text-sm">
        <span class="text-gray-500">Completed:</span>
        <span class="text-gray-700">{{ formatProjectDate(project().completed_at || project().updatedAt) }}</span>
      </div>
    </div>

    <!-- Services Used -->
    @if (project().selected_services && project().selected_services.length > 0) {
      <div class="mt-4 pt-4 border-t border-gray-100">
        <p class="text-xs text-gray-500 mb-2">Services Used:</p>
        <div class="flex flex-wrap gap-1">
          @for (service of project().selected_services.slice(0, 3); track $index) {
            <mat-chip class="!bg-blue-50 !text-blue-700 !text-xs !px-2 !py-1">
              {{ getServiceName(service) }}
            </mat-chip>
          }
          @if (project().selected_services.length > 3) {
            <mat-chip class="!bg-gray-100 !text-gray-600 !text-xs !px-2 !py-1">
              +{{ project().selected_services.length - 3 }} more
            </mat-chip>
          }
        </div>
      </div>
    }
  </mat-card-content>
</mat-card>
