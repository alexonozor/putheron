import{Mb as u,N as p,R as g,Yb as l,d as t,l as i}from"./chunk-3RLE7VBR.js";var d=class a{http=g(u);config=g(l);apiUrl=`${this.config.apiBaseUrl}/businesses`;getCategories(){return this.http.get(`${this.config.apiBaseUrl}/categories`)}getCategoriesAsync(){return t(this,null,function*(){try{return(yield i(this.getCategories())).data||[]}catch(s){throw console.error("Error fetching categories:",s),s}})}getSubcategories(s){return this.http.get(`${this.config.apiBaseUrl}/subcategories/category/${s}`)}getSubcategoriesAsync(s){return t(this,null,function*(){try{return(yield i(this.getSubcategories(s))).data||[]}catch(e){throw console.error("Error fetching subcategories:",e),e}})}getMyBusinesses(){return this.http.get(`${this.apiUrl}/my-businesses`)}getMyBusinessesAsync(){return t(this,null,function*(){try{return(yield i(this.getMyBusinesses())).data?.businesses||[]}catch(s){throw console.error("Error fetching my businesses:",s),s}})}getBusiness(s){return this.http.get(`${this.apiUrl}/${s}`)}getBusinessAsync(s){return t(this,null,function*(){try{return(yield i(this.getBusiness(s))).data||null}catch(e){throw console.error("Error fetching business:",e),e}})}createBusiness(s){return this.http.post(this.apiUrl,s)}createBusinessAsync(s){return t(this,null,function*(){try{let e=yield i(this.createBusiness(s));if(!e.success||!e.data)throw new Error(e.error||"Failed to create business");return e.data}catch(e){throw console.error("Error creating business:",e),e}})}updateBusiness(s,e){return this.http.patch(`${this.apiUrl}/${s}`,e)}updateBusinessAsync(s,e){return t(this,null,function*(){try{let r=yield i(this.updateBusiness(s,e));if(!r.success||!r.data)throw new Error(r.error||"Failed to update business");return r.data}catch(r){throw console.error("Error updating business:",r),r}})}deleteBusiness(s){return this.http.delete(`${this.apiUrl}/${s}`)}deleteBusinessAsync(s){return t(this,null,function*(){try{let e=yield i(this.deleteBusiness(s));if(!e.success)throw new Error(e.error||"Failed to delete business")}catch(e){throw console.error("Error deleting business:",e),e}})}getAllBusinesses(s=1,e=20,r,n){let o=`${this.apiUrl}?page=${s}&limit=${e}`;return r&&(o+=`&categoryId=${r}`),n&&(o+=`&subcategoryId=${n}`),this.http.get(o)}searchBusinesses(s,e=1,r=20){return this.http.get(`${this.apiUrl}/search?q=${encodeURIComponent(s)}&page=${e}&limit=${r}`)}getServices(s=1,e=10,r={}){let n=new URLSearchParams({page:s.toString(),limit:e.toString()});return Object.entries(r).forEach(([o,c])=>{c!=null&&n.append(o,c.toString())}),this.http.get(`${this.config.apiBaseUrl}/services?${n.toString()}`)}getServicesAsync(){return t(this,arguments,function*(s=1,e=10,r={}){try{return(yield i(this.getServices(s,e,r))).data||{services:[],total:0,page:1,totalPages:0}}catch(n){throw console.error("Error fetching services:",n),n}})}getBusinessServices(s,e=!1){let r=e?"?includeInactive=true":"";return this.http.get(`${this.config.apiBaseUrl}/services/business/${s}${r}`)}getBusinessServicesAsync(s,e=!1){return t(this,null,function*(){try{return(yield i(this.getBusinessServices(s,e))).data||[]}catch(r){throw console.error("Error fetching business services:",r),r}})}getService(s){return this.http.get(`${this.config.apiBaseUrl}/services/${s}`)}getServiceAsync(s){return t(this,null,function*(){try{return(yield i(this.getService(s))).data||null}catch(e){throw console.error("Error fetching service:",e),e}})}getServiceBySlug(s){return this.http.get(`${this.config.apiBaseUrl}/services/slug/${s}`)}getServiceBySlugAsync(s){return t(this,null,function*(){try{return(yield i(this.getServiceBySlug(s))).data||null}catch(e){throw console.error("Error fetching service by slug:",e),e}})}createService(s,e){return this.http.post(`${this.config.apiBaseUrl}/services/${s}`,e)}createServiceAsync(s,e){return t(this,null,function*(){try{let r=yield i(this.createService(s,e));if(!r.success||!r.data)throw new Error(r.message||"Failed to create service");return r.data}catch(r){throw console.error("Error creating service:",r),r}})}updateService(s,e){return this.http.patch(`${this.config.apiBaseUrl}/services/${s}`,e)}updateServiceAsync(s,e){return t(this,null,function*(){try{let r=yield i(this.updateService(s,e));if(!r.success||!r.data)throw new Error(r.message||"Failed to update service");return r.data}catch(r){throw console.error("Error updating service:",r),r}})}deleteService(s){return this.http.delete(`${this.config.apiBaseUrl}/services/${s}`)}deleteServiceAsync(s){return t(this,null,function*(){try{let e=yield i(this.deleteService(s));if(!e.success)throw new Error(e.message||"Failed to delete service")}catch(e){throw console.error("Error deleting service:",e),e}})}reorderServices(s,e){return this.http.put(`${this.config.apiBaseUrl}/services/reorder/${s}`,{serviceIds:e})}reorderServicesAsync(s,e){return t(this,null,function*(){try{let r=yield i(this.reorderServices(s,e));if(!r.success)throw new Error(r.message||"Failed to reorder services")}catch(r){throw console.error("Error reordering services:",r),r}})}static \u0275fac=function(e){return new(e||a)};static \u0275prov=p({token:a,factory:a.\u0275fac,providedIn:"root"})};export{d as a};
