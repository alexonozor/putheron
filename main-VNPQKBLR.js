import{a as Qt,b as Gt}from"./chunk-HCFMCFI4.js";import{a as qt}from"./chunk-X3ODT2BD.js";import{a as Jt}from"./chunk-6Y73APSQ.js";import{b as vt}from"./chunk-UKC6Q2CU.js";import"./chunk-U7APRVMS.js";import{c as $t}from"./chunk-4W6YSKPS.js";import{a as Rt}from"./chunk-WNE6W2TF.js";import{a as jt}from"./chunk-FTTTP5IO.js";import"./chunk-PVDG46DZ.js";import{b as zt}from"./chunk-O2JLEMZM.js";import{a as Nt,b as Ht,c as ve}from"./chunk-GH7FJEBN.js";import"./chunk-EOSAMZE4.js";import{b as Lt}from"./chunk-LDTUW3TX.js";import{a as xe}from"./chunk-WJ4DFVWN.js";import"./chunk-DGKIS4CL.js";import{d as xt,h as ge,i as Bt,j as he,l as Vt,m as fe}from"./chunk-66HTC5NI.js";import{d as Ot,g as Tt,k as It}from"./chunk-67MRJSI2.js";import"./chunk-WIJXL5PX.js";import{a as q,b as J}from"./chunk-F52GGYS4.js";import{b as yt,c as Ct,d as wt,e as ce,f as Dt,g as $}from"./chunk-F5MJY564.js";import{b as le}from"./chunk-FNLYNHV3.js";import"./chunk-GMX65TMG.js";import{d as _t}from"./chunk-SALLPZLS.js";import{a as Et}from"./chunk-Y5F65BBX.js";import"./chunk-ZABTFPLN.js";import"./chunk-LXLXFLON.js";import{f as bt}from"./chunk-2TVU5X7D.js";import{B as ue,c as Mt,h as Pt,i as kt,l as At,p as Ft,r as Ut,z as me}from"./chunk-6HVQSJLB.js";import{a as pe}from"./chunk-3DWAHAUX.js";import{c as j,d as I}from"./chunk-CAUPKMHV.js";import{a as B}from"./chunk-HHKFLDM6.js";import{a as St}from"./chunk-SRA5OYUU.js";import{a as ht,s as R,t as T}from"./chunk-EZYZDCTR.js";import{F as ft,d as gt}from"./chunk-FTO62232.js";import"./chunk-LIZM4CZI.js";import{a as de}from"./chunk-QD7SSFII.js";import{a as G,b as se,c as M,d as pt,e as mt,f as ut}from"./chunk-CHN72C3K.js";import{a as at,b as st}from"./chunk-GTSDDWM5.js";import{A as ae,B as lt,C as ct,D as dt,k as re,n as rt,t as O}from"./chunk-Z5YYMG7R.js";import{D as Re,Eb as b,Ec as nt,Fb as _,Fc as it,Hb as Xe,Ib as Z,Ja as Je,Jb as W,Kb as v,Lb as r,Lc as ot,Mb as a,Nb as h,Ob as c,Pb as d,Pc as D,Qb as Y,Qc as oe,Ub as E,Ya as te,Yb as m,Z as je,_a as l,_b as p,aa as N,ba as ee,cb as Ze,da as Le,ea as ze,eb as We,fa as u,g as Ne,ga as Qe,hb as Ye,jb as H,ka as f,kb as Ke,l as He,la as x,lc as et,ma as A,mc as i,na as U,nc as P,oa as Ge,oc as k,pa as $e,pb as S,pc as Ue,q as X,qb as ne,ua as C,va as qe,vb as Q,vc as tt,xc as ie}from"./chunk-ME5BD2TS.js";import{a as Be,b as Ve,e as w}from"./chunk-JKOY2XUY.js";var rn="@",an=(()=>{class n{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=u(Ge);loadingSchedulerFn=u(sn,{optional:!0});_engine;constructor(t,o,s,g,y){this.doc=t,this.delegate=o,this.zone=s,this.animationType=g,this.moduleImpl=y}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-7E53NIRK.js").then(s=>s),o;return this.loadingSchedulerFn?o=this.loadingSchedulerFn(t):o=t(),o.catch(s=>{throw new je(5300,!1)}).then(({\u0275createEngine:s,\u0275AnimationRendererFactory:g})=>{this._engine=s(this.animationType,this.doc);let y=new g(this.delegate,this._engine,this.zone);return this.delegate=y,y})}createRenderer(t,o){let s=this.delegate.createRenderer(t,o);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let g=new De(s);return o?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(y=>{let V=y.createRenderer(t,o);g.use(V),this.scheduler??=this.injector.get(qe,null,{optional:!0}),this.scheduler?.notify(10)}).catch(y=>{g.use(s)}),g}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(t){this._engine?.flush(),this.delegate.componentReplaced?.(t)}static \u0275fac=function(o){Ke()};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),De=class{delegate;replay=[];\u0275type=1;constructor(e){this.delegate=e}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,o,s){this.delegate.insertBefore(e,t,o,s)}removeChild(e,t,o,s){this.delegate.removeChild(e,t,o,s)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,o,s){this.delegate.setAttribute(e,t,o,s)}removeAttribute(e,t,o){this.delegate.removeAttribute(e,t,o)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,o,s){this.delegate.setStyle(e,t,o,s)}removeStyle(e,t,o){this.delegate.removeStyle(e,t,o)}setProperty(e,t,o){this.shouldReplay(t)&&this.replay.push(s=>s.setProperty(e,t,o)),this.delegate.setProperty(e,t,o)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,o,s){return this.shouldReplay(t)&&this.replay.push(g=>g.listen(e,t,o,s)),this.delegate.listen(e,t,o,s)}shouldReplay(e){return this.replay!==null&&e.startsWith(rn)}},sn=new Le("");function Zt(n="animations"){return Ze("NgAsyncAnimations"),Qe([{provide:Ye,useFactory:(e,t,o)=>new an(e,t,o,n),deps:[$e,at,We]},{provide:Je,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var be=class n{router=u(M);intercept(e,t){let o=this.getTokenFromStorage(),s=e;return o&&(s=e.clone({setHeaders:{Authorization:`Bearer ${o}`}})),t.handle(s).pipe(Re(g=>(g.status===401&&(console.warn("Authentication failed, redirecting to login"),this.clearAuthData(),this.router.navigate(["/auth"],{queryParams:{message:"Your session has expired. Please log in again."}})),He(()=>g))))}getTokenFromStorage(){return typeof window<"u"?localStorage.getItem("access_token"):null}clearAuthData(){typeof window<"u"&&(localStorage.removeItem("access_token"),localStorage.removeItem("current_user"),localStorage.removeItem("userPermissions"),localStorage.removeItem("permissionsTimestamp"))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=N({token:n,factory:n.\u0275fac})};var _e=class n{fb=u(me);router=u(M);searchForm;countries=xe;ngOnInit(){this.searchForm=this.fb.group({searchQuery:[""],selectedCountries:[[]]})}get isFormValid(){return this.searchForm.valid&&(this.searchForm.get("searchQuery")?.value?.trim()||this.searchForm.get("selectedCountries")?.value?.length>0)}get searchQueryControl(){return this.searchForm.get("searchQuery")}onSearch(){if(console.log("Search initiated with form:",this.isFormValid),!this.isFormValid){this.searchForm.markAllAsTouched();return}let e=this.searchForm.value,t={};e.searchQuery?.trim()&&(t.q=e.searchQuery.trim()),e.selectedCountries&&e.selectedCountries.length>0&&(t.countries=e.selectedCountries.join(",")),this.router.navigate(["/search"],{queryParams:t})}onPopularSearch(e){this.searchForm.patchValue({searchQuery:e}),this.searchForm.get("searchQuery")?.markAsTouched(),this.onSearch()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=S({type:n,selectors:[["hero-section"]],decls:37,vars:0,consts:[[1,"h-[92.5vh]","bg-[#C9F3DD]","overflow-hidden"],[1,"max-w-7xl","mx-auto","w-full","h-full","flex","gap-16","flex-row"],[1,"flex","flex-col","h-full","justify-center"],[1,"flex-row","self-baseline"],[1,"text-6xl","md:text-7xl","poppins","font-bold","leading-tight","mb-5"],[1,"text-purple-600"],[1,"text-black"],[1,"text-emerald-500"],[1,"text-xl","text-gray-800","mb-10","leading-relaxed"],[1,"mb-6"],["width","600px"],[1,"flex","gap-3","flex-wrap","mb-8","items-center"],["aria-label","Fish selection"],[1,"flex","gap-4","flex-wrap"],["mat-flat-button",""],["mat-stroked-button",""],[1,"flex","items-strech","h-full","self-end"],["src","/assets/images/hero-women-images.png","alt","Professional woman 1",1,"object-contain","self-end","object-bottom","h-full","max-h-[720px]"]],template:function(t,o){t&1&&(r(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),i(5," Find "),r(6,"span",5),i(7,"Her."),a(),i(8," Hire "),r(9,"span",6),i(10,"Her."),a(),h(11,"br"),r(12,"span",7),i(13,"Vouch"),a(),r(14,"span",5),i(15,"Her"),a()(),r(16,"p",8),i(17," A trusted platform connecting women in Business nationwide. "),a(),r(18,"div",9),h(19,"app-search",10),a(),r(20,"div",11)(21,"mat-chip-set",12)(22,"mat-chip"),i(23,"Ghanian"),a(),r(24,"mat-chip"),i(25,"Nigerian"),a(),r(26,"mat-chip"),i(27,"Zambian"),a(),r(28,"mat-chip"),i(29,"Egyptian"),a()()(),r(30,"div",13)(31,"button",14),i(32," Find Businesses "),a(),r(33,"button",15),i(34," List A Business "),a()()()(),r(35,"div",16),h(36,"img",17),a()()())},dependencies:[O,ue,he,ge,fe,I,j,Dt,ve,Nt,Ht,T],styles:['@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJbecmNE.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJnecmNE.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiEyp8kv8JHgFVrJJfecg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLGT9Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLCz7Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLDD4Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLDD4Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLDD4Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}[_ngcontent-%COMP%]:root{--mat-select-panel-background-color: orange;--mat-select-enabled-trigger-text-color: red}.mdc-text-field[_ngcontent-%COMP%]{background-color:#fff!important;border-radius:4px}.poppins[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:60px}']})};var ye=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=S({type:n,selectors:[["how-it-works-section"]],decls:38,vars:0,consts:[[1,"py-20","bg-gradient-to-br","from-gray-50","to-blue-50"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"text-center","mb-16"],[1,"text-4xl","md:text-5xl","font-bold","text-gray-900","mb-6"],[1,"text-xl","text-gray-600","max-w-3xl","mx-auto"],[1,"grid","md:grid-cols-3","gap-8","lg:gap-12","mb-16"],[1,"text-center","group"],[1,"relative","mb-8"],[1,"w-24","h-24","mx-auto","bg-white","rounded-2xl","shadow-lg","flex","items-center","justify-center","group-hover:shadow-xl","transition-all","duration-300","group-hover:scale-105"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"text-2xl","font-bold","text-gray-900","mb-4"],[1,"text-gray-600","leading-relaxed"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-center"],[1,"text-gray-500","text-sm","mt-4"]],template:function(t,o){t&1&&(c(0,"section",0)(1,"div",1)(2,"div",2)(3,"h3",3),i(4," How It Works "),d(),c(5,"p",4),i(6," Connecting with talented women in business has never been easier. "),d()(),c(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),A(),c(11,"svg",9),Y(12,"path",10),d()()(),U(),c(13,"h4",11),i(14," Find "),d(),c(15,"p",12),i(16," Browse by industry, location or heritage and more. "),d()(),c(17,"div",6)(18,"div",7)(19,"div",8),A(),c(20,"svg",9),Y(21,"path",13),d()()(),U(),c(22,"h4",11),i(23," Support "),d(),c(24,"p",12),i(25," Leave a review & vouch for women the businesses you value."),d()(),c(26,"div",6)(27,"div",7)(28,"div",8),A(),c(29,"svg",9),Y(30,"path",14),d()()(),U(),c(31,"h4",11),i(32," Vouch "),d(),c(33,"p",12),i(34," Hire or collaborate with women in business locally or nationwide. "),d()()(),c(35,"div",15)(36,"p",16),i(37," Join our community of women in business changing the game. "),d()()()())},encapsulation:2})};var Ce=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=S({type:n,selectors:[["footer-component"]],decls:65,vars:0,consts:[[1,"bg-blue-900","text-white","py-12","mt-12"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"grid","grid-cols-1","md:grid-cols-5","gap-10"],[1,"text-lg","font-semibold","mb-4","tracking-wide"],[1,"space-y-2","text-sm","text-blue-100"],[1,"mt-10","border-t","border-blue-800","pt-6","text-center","text-xs","text-blue-200"]],template:function(t,o){t&1&&(c(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h5",3),i(5,"Categories"),d(),c(6,"ul",4)(7,"li"),i(8,"Trades & Home services"),d(),c(9,"li"),i(10,"Tech & Digital"),d(),c(11,"li"),i(12,"Professional Services"),d(),c(13,"li"),i(14,"Community, Spiritual & Cultural Work"),d(),c(15,"li"),i(16,"Education & Family"),d(),c(17,"li"),i(18,"Creative & Media"),d(),c(19,"li"),i(20,"Events & Experiences"),d(),c(21,"li"),i(22,"Retail & Goods"),d(),c(23,"li"),i(24,"Beauty & Personal Care"),d(),c(25,"li"),i(26,"Food & Beverage"),d(),c(27,"li"),i(28,"Health & Wellness"),d()()(),c(29,"div")(30,"h5",3),i(31,"For Clients"),d(),c(32,"ul",4)(33,"li"),i(34,"How VouchHer Works"),d(),c(35,"li"),i(36,"Trust & Safety"),d(),c(37,"li"),i(38,"Quality Guide"),d()()(),c(39,"div")(40,"h5",3),i(41,"For Businesses"),d(),c(42,"ul",4)(43,"li"),i(44,"List Your Business"),d(),c(45,"li"),i(46,"Guide for great Business Profiles"),d(),c(47,"li"),i(48,"Win work with ads"),d()()(),c(49,"div")(50,"h5",3),i(51,"About VouchHer"),d(),c(52,"ul",4)(53,"li"),i(54,"Social Impact"),d(),c(55,"li"),i(56,"Terms of Service"),d(),c(57,"li"),i(58,"Privacy Policy"),d(),c(59,"li"),i(60,"Data Sharing Policy"),d(),c(61,"li"),i(62,"Trust, Safety & Security"),d()()()(),c(63,"div",5),i(64," \xA9 2024 VouchHer. All rights reserved. "),d()()())},encapsulation:2})};var we=class n{authService=u(B);router=u(M);constructor(){oe(()=>{let e=this.authService.isAuthenticated(),t=this.authService.user();e&&t&&(t.user_mode==="business_owner"?(console.log("Redirecting business owner to dashboard"),this.router.navigate(["/dashboard"])):(console.log("Redirecting client to search page"),this.router.navigate(["/search"])))})}ngOnInit(){}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=S({type:n,selectors:[["app-home"]],decls:4,vars:0,template:function(t,o){t&1&&h(0,"app-header")(1,"hero-section")(2,"how-it-works-section")(3,"footer-component")},dependencies:[$,_e,ye,Ce],encapsulation:2})};var ln=()=>({exact:!0});function cn(n,e){if(n&1){let t=E();r(0,"li")(1,"a",39),m("click",function(){f(t);let s=p();return x(s.onNavigationClick())}),A(),r(2,"svg",18),h(3,"path",40),a(),i(4," Overview "),a()()}n&2&&(l(),v("routerLinkActiveOptions",ie(1,ln)))}function dn(n,e){if(n&1){let t=E();r(0,"li")(1,"a",41),m("click",function(){f(t);let s=p();return x(s.onNavigationClick())}),A(),r(2,"svg",18),h(3,"path",42),a(),i(4," Businesses "),U(),r(5,"span",20),i(6),a()()()}if(n&2){let t=p();l(6),k(" ",t.userBusinessCount()," ")}}function pn(n,e){if(n&1){let t=E();r(0,"li")(1,"a",43),m("click",function(){f(t);let s=p();return x(s.onNavigationClick())}),A(),r(2,"svg",18),h(3,"path",44)(4,"path",45),a(),i(5," Services "),U(),r(6,"span",20),i(7),a()()()}if(n&2){let t=p();l(7),k(" ",t.totalServices()," ")}}function mn(n,e){if(n&1){let t=E();r(0,"li")(1,"a",46),m("click",function(){f(t);let s=p();return x(s.onNavigationClick())}),A(),r(2,"svg",18),h(3,"path",47),a(),i(4," Earnings & Payments "),a()()}}function un(n,e){if(n&1){let t=E();r(0,"button",48),m("click",function(){f(t);let s=p();return x(s.switchToBusinessMode())}),r(1,"mat-icon",49),i(2,"business"),a(),i(3," Switch to Business Owner "),a()}}function gn(n,e){if(n&1){let t=E();r(0,"button",50),m("click",function(){f(t);let s=p();return x(s.switchToClientMode())}),r(1,"mat-icon",49),i(2,"person_outline"),a(),i(3," Switch to Client Mode "),a()}}var Se=class n{authService=u(B);router=u(M);businessService=u(pe);projectService=u(Rt);socketService=u(Et);breakpointObserver=u(gt);favoritesService=u(jt);sidenavOpened=C(!1);isMobile=C(!1);userBusinessCount=C(0);totalServices=C(0);totalProjects=C(0);favoritesCount=D(()=>this.favoritesService.getFavoritesCount());user=this.authService.user;isAuthenticated=this.authService.isAuthenticated;userMode=D(()=>this.user()?.user_mode||"client");isBusinessOwner=D(()=>this.userMode()==="business_owner");isAdmin=D(()=>this.user()?.email?.includes("admin")||!1);mobileSubscription;userModeEffect=oe(()=>{let e=this.userMode(),t=this.user(),o=this.isBusinessOwner();console.log("Dashboard signals updated:",{user:t?.email,mode:e,isBusiness:o}),t&&this.loadDashboardCounts()});ngOnInit(){this.setupMobileDetection(),this.loadDashboardCounts(),this.socketService.connect()}ngOnDestroy(){this.mobileSubscription&&this.mobileSubscription.unsubscribe()}setupMobileDetection(){this.mobileSubscription=this.breakpointObserver.observe([ht.Handset]).subscribe(e=>{this.isMobile.set(e.matches),e.matches?this.sidenavOpened.set(!1):this.sidenavOpened.set(!0)})}loadDashboardCounts(){return w(this,null,function*(){try{let e=yield this.businessService.getMyBusinessesAsync();this.userBusinessCount.set(e.length);let t=0;for(let o of e)try{let s=yield this.businessService.getBusinessServicesAsync(o._id);t+=s.length}catch(s){console.warn(`Failed to load services for business ${o._id}:`,s)}this.totalServices.set(t);try{let o=yield this.projectService.getAllMyProjectsAsync();this.totalProjects.set(o.length)}catch(o){console.warn("Failed to load projects:",o),this.totalProjects.set(0)}}catch(e){console.error("Error loading dashboard counts:",e)}})}toggleSidenav(){this.sidenavOpened.set(!this.sidenavOpened())}onMenuToggle(){this.toggleSidenav()}onNavigationClick(){this.isMobile()&&this.sidenavOpened.set(!1)}navigateToCreateBusiness(){this.router.navigate(["/dashboard/businesses/create-business"])}createService(){this.router.navigate(["/dashboard/services/create-service"])}getActiveTabTitle(){let e=this.router.url.split("/");switch(e[e.length-1]){case"dashboard":case"":return this.isBusinessOwner()?"Dashboard Overview":"My Projects";case"overview":return"Dashboard Overview";case"businesses":return"My Businesses";case"services":return"My Services";case"projects":return"My Projects";case"notifications":return"Notifications";case"profile":return"Profile";case"settings":return"Settings";default:return this.router.url.includes("/messages")?"Messages":this.isBusinessOwner()?"Dashboard":"My Projects"}}getUserInitials(){let e=this.user();if(!e)return"";if(e.first_name||e.last_name){let t=e.first_name?.charAt(0).toUpperCase()||"",o=e.last_name?.charAt(0).toUpperCase()||"";return t+o}return e.email.charAt(0).toUpperCase()}navigateToDashboard(){this.router.navigate(["/dashboard"])}navigateToProfile(){this.router.navigate(["/dashboard/profile"])}navigateToSettings(){this.router.navigate(["/dashboard/settings"])}navigateToAdmin(){this.router.navigate(["/admin"])}switchToBusinessMode(){return w(this,null,function*(){try{let e=yield this.authService.switchMode("business_owner");e.data?(console.log("Switched to business owner mode successfully"),console.log("Updated user mode:",this.userMode()),this.loadDashboardCounts()):console.error("Failed to switch to business mode:",e.error)}catch(e){console.error("Error switching to business mode:",e)}})}switchToClientMode(){return w(this,null,function*(){try{let e=yield this.authService.switchMode("client");e.data?(console.log("Switched to client mode successfully"),console.log("Updated user mode:",this.userMode()),this.router.navigate(["/search"])):console.error("Failed to switch to client mode:",e.error)}catch(e){console.error("Error switching to client mode:",e)}})}viewProfile(){this.navigateToProfile()}logout(){this.authService.logout(),this.router.navigate(["/auth"])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=S({type:n,selectors:[["app-dashboard"]],decls:74,vars:20,consts:[["sidenav",""],[1,"h-screen","flex","flex-col","bg-gray-50"],[3,"menuToggle","showMobileMenuButton","isDashboardMode"],[1,"flex-1","flex"],[1,"sidenav-container"],["position","start",1,"custom-sidenav",3,"opened","mode","disableClose"],[1,"sidebar-content","bg-white","h-full","shadow-lg"],[1,"p-4","border-b","border-gray-200","flex-shrink-0"],[1,"flex","items-center","space-x-3"],[1,"w-10","h-10","bg-blue-500","rounded-full","flex","items-center","justify-center","text-white","font-semibold"],[1,"flex-1"],[1,"font-semibold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"flex","items-center","mt-1"],[1,"w-3","h-3","mr-1","!text-xs"],[1,"p-4","bg-white","flex-1","overflow-y-auto"],[1,"space-y-2"],["routerLink","projects","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"],[1,"ml-auto","bg-gray-200","text-gray-700","py-0.5","px-2","rounded-full","text-xs"],["routerLink","favorites","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"],["routerLink","/search",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-blue-600","hover:bg-blue-50","hover:text-blue-700","group",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","ml-auto","text-blue-500","group-hover:text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"],["routerLink","notifications","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"],["routerLink","./messages","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],[1,"my-6","border-t","border-gray-200"],[1,"space-y-3","mb-6"],[1,"text-xs","font-semibold","text-gray-500","uppercase","tracking-wider"],[1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","rounded-lg","transition-all","duration-200"],[1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","text-gray-600","bg-gray-100","hover:bg-gray-200","rounded-lg","transition-all","duration-200"],[1,"p-4","border-t","border-gray-200","bg-white","flex-shrink-0"],[1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","text-gray-600","hover:bg-red-50","hover:text-red-700","rounded-lg","transition-all","duration-200",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"],["routerLink","overview","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click","routerLinkActiveOptions"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],["routerLink","businesses","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],["routerLink","services","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["routerLink","earnings","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"],[1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","rounded-lg","transition-all","duration-200",3,"click"],[1,"w-5","h-5","mr-3"],[1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","text-gray-600","bg-gray-100","hover:bg-gray-200","rounded-lg","transition-all","duration-200",3,"click"]],template:function(t,o){if(t&1){let s=E();r(0,"div",1)(1,"app-header",2),m("menuToggle",function(){return f(s),x(o.onMenuToggle())}),a(),r(2,"div",3)(3,"mat-sidenav-container",4)(4,"mat-sidenav",5,0)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9),i(10),a(),r(11,"div",10)(12,"h3",11),i(13),a(),r(14,"p",12),i(15),a(),r(16,"div",13)(17,"span")(18,"mat-icon",14),i(19),a(),i(20),a()()()()(),r(21,"nav",15)(22,"ul",16),b(23,cn,5,2,"li"),b(24,dn,7,1,"li"),b(25,pn,8,1,"li"),r(26,"li")(27,"a",17),m("click",function(){return f(s),x(o.onNavigationClick())}),A(),r(28,"svg",18),h(29,"path",19),a(),i(30," Projects "),U(),r(31,"span",20),i(32),a()()(),r(33,"li")(34,"a",21),m("click",function(){return f(s),x(o.onNavigationClick())}),A(),r(35,"svg",18),h(36,"path",22),a(),i(37," My Favorites "),U(),r(38,"span",20),i(39),a()()(),r(40,"li")(41,"a",23),m("click",function(){return f(s),x(o.onNavigationClick())}),A(),r(42,"svg",18),h(43,"path",24),a(),i(44," Search Other Businesses "),r(45,"svg",25),h(46,"path",26),a()()(),b(47,mn,5,0,"li"),U(),r(48,"li")(49,"a",27),m("click",function(){return f(s),x(o.onNavigationClick())}),A(),r(50,"svg",18),h(51,"path",28),a(),i(52," Notifications "),a()(),U(),r(53,"li")(54,"a",29),m("click",function(){return f(s),x(o.onNavigationClick())}),A(),r(55,"svg",18),h(56,"path",30),a(),i(57," Messages "),U(),r(58,"span",20),i(59," 0 "),a()()()(),h(60,"div",31),r(61,"div",32)(62,"p",33),i(63,"Account Mode"),a(),b(64,un,4,0,"button",34)(65,gn,4,0,"button",35),a()(),r(66,"div",36)(67,"button",37),m("click",function(){return f(s),x(o.logout())}),A(),r(68,"svg",18),h(69,"path",38),a(),i(70," Sign Out "),a()()()(),U(),r(71,"mat-sidenav-content")(72,"main"),h(73,"router-outlet"),a()()()()()}if(t&2){let s,g;l(),v("showMobileMenuButton",o.isMobile())("isDashboardMode",!0),l(3),v("opened",o.sidenavOpened())("mode",o.isMobile()?"over":"side")("disableClose",!o.isMobile()),l(6),k(" ",o.getUserInitials()," "),l(3),P((((s=o.user())==null?null:s.first_name)+" "+(((s=o.user())==null?null:s.last_name)||"")).trim()||((s=o.user())==null?null:s.email)),l(2),P((g=o.user())==null?null:g.email),l(2),et(tt("inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ",o.isBusinessOwner()?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800")),l(2),P(o.isBusinessOwner()?"business":"person"),l(),k(" ",o.isBusinessOwner()?"Business Owner":"Client"," "),l(3),_(o.isBusinessOwner()?23:-1),l(),_(o.isBusinessOwner()?24:-1),l(),_(o.isBusinessOwner()?25:-1),l(7),k(" ",o.totalProjects()," "),l(7),k(" ",o.favoritesCount()," "),l(8),_(o.isBusinessOwner()?47:-1),l(17),_(o.isBusinessOwner()?65:64)}},dependencies:[O,ce,Ct,wt,yt,_t,T,R,I,le,se,pt,mt,$],styles:[".mat-drawer{background-color:#fff!important;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f!important;border-radius:0!important}  .mat-drawer-container{background-color:#f9fafb!important}  mat-sidenav{background-color:#fff!important;border-right:1px solid #e5e7eb!important;border-radius:0!important}  .mat-drawer-inner-container{border-radius:0!important}  .mat-drawer-backdrop{background-color:#0009!important}  .mat-drawer-content{flex:1!important;width:100%!important;overflow:auto!important;display:flex!important;flex-direction:column!important}  mat-sidenav-content{flex:1!important;width:100%!important;display:flex!important;flex-direction:column!important;overflow:hidden!important}  .mat-drawer-container{background-color:#f9fafb!important;width:100%!important;height:100%!important;display:flex!important;flex-direction:row!important}.sidenav-container[_ngcontent-%COMP%]{width:100%!important;height:100%!important;flex:1!important;display:flex!important}  .mat-drawer{max-height:100vh!important;height:100%!important;overflow:hidden!important}.sidebar-content[_ngcontent-%COMP%]{height:100%!important;max-height:100vh!important;display:flex!important;flex-direction:column!important;overflow:hidden!important}.sidebar-content[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{flex:1!important;overflow-y:auto!important;overflow-x:hidden!important}main[_ngcontent-%COMP%]{width:100%!important;height:100%!important;flex:1!important;overflow-y:auto!important;overflow-x:hidden!important;box-sizing:border-box!important}.dashboard-loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:3rem 0}.dashboard-loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite;border-radius:50%;height:3rem;width:3rem;border:2px solid #e5e7eb;border-top:2px solid #2563eb}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.business-item[_ngcontent-%COMP%]:hover{background-color:#f9fafb;transition:background-color .15s ease-in-out}.status-approved[_ngcontent-%COMP%]{background-color:#dcfce7;color:#166534}.status-pending[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.status-rejected[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.status-suspended[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#374151}.create-business-btn[_ngcontent-%COMP%]:hover{background-color:#1d4ed8;transform:translateY(-1px);transition:all .2s ease-in-out}.action-btn[_ngcontent-%COMP%]:hover{background-color:#f9fafb;transform:translateY(-1px);transition:all .15s ease-in-out}.action-btn-danger[_ngcontent-%COMP%]:hover{background-color:#fef2f2;transform:translateY(-1px);transition:all .15s ease-in-out}.stat-card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;transition:box-shadow .2s ease-in-out}.empty-state[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:.6}  .mat-drawer-content{height:100%!important;max-height:100vh!important;overflow:hidden!important;display:flex!important;flex-direction:column!important}@media (max-width: 640px){.business-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.75rem}.action-buttons[_ngcontent-%COMP%]{margin-left:0;width:100%;justify-content:flex-end}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.create-business-btn[_ngcontent-%COMP%]:focus, .action-btn[_ngcontent-%COMP%]:focus, .action-btn-danger[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;box-shadow:0 0 0 2px #2563eb}@media print{.action-buttons[_ngcontent-%COMP%], .create-business-btn[_ngcontent-%COMP%]{display:none}}"]})};var Ie=(n,e)=>{let t=u(B),o=u(M);return t.isAuthenticated$.pipe(X(s=>s?!0:(o.navigate(["/auth"],{queryParams:{returnUrl:e.url}}),!1)))};var Wt=(n,e)=>{let t=u(B),o=u(M);return t.isAuthenticated$.pipe(X(s=>s?(o.navigate(["/"]),!1):!0))};var Yt=(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275mod=ne({type:n});static \u0275inj=ee({})}return n})();var Kt=(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275mod=ne({type:n});static \u0275inj=ee({imports:[ft,Yt,bt]})}return n})();var Ee=class n{http=u(ae);apiUrl=de.api.baseUrl;categoriesSubject=new Ne([]);categories$=this.categoriesSubject.asObservable();getCategories(){return this.http.get(`${this.apiUrl}/categories`)}getSubcategories(e){let t=e?`${this.apiUrl}/subcategories?categoryId=${e}`:`${this.apiUrl}/subcategories`;return this.http.get(t)}loadCategories(){return w(this,null,function*(){try{let e=yield this.getCategories().toPromise();return e?.success&&e.data?(this.categoriesSubject.next(e.data),e.data):[]}catch(e){return console.error("Error loading categories:",e),[]}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var vn=()=>[12,24,48],tn=(n,e)=>e._id,bn=(n,e)=>e.code;function _n(n,e){if(n&1&&(r(0,"mat-option",11),i(1),a()),n&2){let t=e.$implicit;v("value",t._id),l(),P(t.name)}}function yn(n,e){if(n&1&&(r(0,"mat-option",11),i(1),a()),n&2){let t=e.$implicit;v("value",t.name),l(),P(t.name)}}function Cn(n,e){if(n&1){let t=E();r(0,"button",29),m("click",function(){f(t);let s=p();return x(s.clearFilters())}),r(1,"mat-icon"),i(2,"clear"),a(),i(3," Clear all filters "),a()}}function wn(n,e){n&1&&(r(0,"div",26),h(1,"mat-spinner",30),r(2,"span",31),i(3,"Finding services..."),a()())}function Sn(n,e){if(n&1&&(r(0,"div",27)(1,"div",32)(2,"mat-icon",33),i(3,"error"),a(),r(4,"span",34),i(5),a()()()),n&2){let t=p();l(5),P(t.error())}}function En(n,e){if(n&1){let t=E();r(0,"div",28)(1,"mat-icon",35),i(2,"search_off"),a(),r(3,"h3",36),i(4,"No services found"),a(),r(5,"p",37),i(6,"Try adjusting your search terms or filters"),a(),r(7,"button",38),m("click",function(){f(t);let s=p();return x(s.clearFilters())}),i(8," Clear filters "),a()()}}function Mn(n,e){if(n&1&&h(0,"img",44),n&2){let t=p().$implicit;v("src",t.banner_url,te)("alt",t.name+" banner")}}function Pn(n,e){n&1&&(r(0,"div",45)(1,"mat-icon",73),i(2,"business"),a()())}function kn(n,e){n&1&&(r(0,"div",46)(1,"span",74)(2,"mat-icon",75),i(3,"star"),a(),i(4," PRO "),a()())}function An(n,e){if(n&1&&h(0,"img",52),n&2){let t=p().$implicit;v("src",t.logo_url,te)("alt",t.name+" logo")}}function Fn(n,e){n&1&&(r(0,"div",53)(1,"mat-icon",76),i(2,"business"),a()())}function Un(n,e){if(n&1&&(r(0,"p",57)(1,"mat-icon",77),i(2,"location_on"),a(),i(3),a()),n&2){let t=p().$implicit;l(3),Ue(" ",t.city,", ",t.state," ")}}function Dn(n,e){if(n&1&&(r(0,"div",60)(1,"mat-icon",78),i(2,"star"),a(),r(3,"span",79),i(4),a(),r(5,"span",69),i(6),a()()),n&2){let t=p().$implicit;l(4),P(t.rating.toFixed(1)),l(2),Ue("(",t.review_count||0," ",(t.review_count||0)===1?"review":"reviews",")")}}function On(n,e){n&1&&(r(0,"span",61),i(1,"New business"),a())}function Tn(n,e){if(n&1&&(r(0,"span",81),i(1),a()),n&2){let t=e.$implicit;l(),k(" ",t," ")}}function In(n,e){if(n&1&&(r(0,"span",81),i(1),a()),n&2){let t=p(2).$implicit;l(),k(" +",t.tags.length-2," ")}}function Bn(n,e){if(n&1&&(r(0,"div",62)(1,"div",80),Z(2,Tn,2,1,"span",81,Xe),b(4,In,2,1,"span",81),a()()),n&2){let t=p().$implicit;l(2),W(t.tags.slice(0,2)),l(2),_(t.tags.length>2?4:-1)}}function Vn(n,e){if(n&1&&h(0,"img",52),n&2){let t=p().$implicit,o=p(2);v("src",o.getOwnerAvatar(t),te)("alt",o.getOwnerName(t))}}function Nn(n,e){n&1&&(r(0,"div",66)(1,"mat-icon",82),i(2,"person"),a()())}function Hn(n,e){if(n&1&&(r(0,"div",72)(1,"mat-icon",77),i(2,"visibility"),a(),i(3),a()),n&2){let t=p().$implicit;l(3),k(" ",t.view_count," ")}}function Rn(n,e){if(n&1){let t=E();r(0,"div",42),m("click",function(){let s=f(t).$implicit,g=p(2);return x(g.onBusinessClick(s))}),r(1,"div",43),b(2,Mn,1,2,"img",44)(3,Pn,3,0,"div",45),b(4,kn,5,0,"div",46),r(5,"div",47)(6,"span",48),i(7),nt(8,"titlecase"),a()()(),r(9,"div",49)(10,"div",50)(11,"div",51),b(12,An,1,2,"img",52)(13,Fn,3,0,"div",53),a()(),r(14,"div",54)(15,"h3",55),i(16),a(),r(17,"p",56),i(18),a(),b(19,Un,4,2,"p",57),a(),r(20,"p",58),i(21),a(),r(22,"div",59),b(23,Dn,7,3,"div",60)(24,On,2,0,"span",61),a(),b(25,Bn,5,1,"div",62),r(26,"div",63)(27,"div",64)(28,"div",65),b(29,Vn,1,2,"img",52)(30,Nn,3,0,"div",66),a(),r(31,"div",67)(32,"p",68),i(33),a(),r(34,"p",69),i(35),a()()(),r(36,"div",64)(37,"div",70),m("click",function(s){return f(t),x(s.stopPropagation())}),h(38,"app-favorite-button",71),a(),b(39,Hn,4,1,"div",72),a()()()()}if(n&2){let t=e.$implicit,o=p(2);l(2),_(t.banner_url&&t.banner_url.trim()!==""?2:3),l(2),_(t.is_featured?4:-1),l(3),k(" ",it(8,16,t.business_type)," "),l(5),_(t.logo_url?12:13),l(4),k(" ",t.name," "),l(2),P(o.getCategoryName(t)),l(),_(t.city&&t.state?19:-1),l(2),k(" ",t.short_description||t.description||"Professional service provider"," "),l(2),_(t.rating!=null&&t.rating>0?23:24),l(2),_(t.tags&&t.tags.length>0?25:-1),l(4),_(o.getOwnerAvatar(t)?29:30),l(4),P(o.getOwnerName(t)),l(2),P(o.getOwnerCountry(t)),l(3),v("businessId",t._id)("businessName",t.name),l(),_(t.view_count>0?39:-1)}}function jn(n,e){if(n&1){let t=E();r(0,"div",41)(1,"mat-paginator",83),m("page",function(s){f(t);let g=p(2);return x(g.onPageChange(s.pageIndex+1))}),a()()}if(n&2){let t=p(2);l(),v("length",t.total())("pageSize",12)("pageIndex",t.currentPage()-1)("pageSizeOptions",ie(4,vn))}}function Ln(n,e){if(n&1&&(r(0,"div",39),Z(1,Rn,40,18,"div",40,tn),a(),b(3,jn,2,5,"div",41)),n&2){let t=p();l(),W(t.businesses()),l(2),_(t.totalPages()>1?3:-1)}}var Me=class n{route=u(G);router=u(M);fb=u(me);businessService=u(pe);categoryService=u(Ee);authService=u(B);searchQuery=C("");selectedCountries=C([]);selectedCategories=C([]);selectedBusinessTypes=C([]);selectedRating=C(0);businesses=C([]);categories=C([]);loading=C(!1);error=C(null);total=C(0);currentPage=C(1);totalPages=C(0);filtersOpen=C(!1);isClientMode=D(()=>{let e=this.authService.user();return!e||e.user_mode==="client"});filterForm;countries=xe;businessTypes=[{value:"service",label:"Service"},{value:"product",label:"Product"},{value:"both",label:"Both"}];ratingOptions=[{value:0,label:"All ratings"},{value:1,label:"1+ stars"},{value:2,label:"2+ stars"},{value:3,label:"3+ stars"},{value:4,label:"4+ stars"},{value:5,label:"5 stars"}];hasResults=D(()=>this.businesses().length>0);hasSearched=D(()=>this.searchQuery()||this.selectedCountries().length>0||this.selectedCategories().length>0||this.selectedBusinessTypes().length>0||this.selectedRating()>0);hasActiveFilters=D(()=>{let e=this.filterForm?.value;return!!(e?.selectedCountries?.length>0||e?.businessType||e?.location||e?.selectedCategories?.length>0||e?.selectedBusinessTypes?.length>0||e?.selectedRating>0)});ngOnInit(){this.initializeForm(),this.loadCategories(),this.route.queryParams.subscribe(e=>{this.searchQuery.set(e.q||""),this.selectedCountries.set(e.countries?e.countries.split(","):[]),this.selectedCategories.set(e.categories?e.categories.split(","):[]),this.selectedBusinessTypes.set(e.businessTypes?e.businessTypes.split(","):[]),this.selectedRating.set(parseInt(e.rating)||0),this.currentPage.set(parseInt(e.page)||1),this.filterForm.patchValue({searchQuery:this.searchQuery(),selectedCountries:this.selectedCountries(),selectedCategories:this.selectedCategories(),selectedBusinessTypes:this.selectedBusinessTypes(),selectedRating:this.selectedRating()},{emitEvent:!1}),this.performSearch()})}initializeForm(){this.filterForm=this.fb.group({searchQuery:[this.searchQuery()],selectedCountries:[this.selectedCountries()],selectedCategories:[this.selectedCategories()],selectedBusinessTypes:[this.selectedBusinessTypes()],selectedRating:[this.selectedRating()],businessType:[""],location:[""]})}loadCategories(){return w(this,null,function*(){try{let e=yield this.categoryService.loadCategories();this.categories.set(e)}catch(e){console.error("Error loading categories:",e)}})}performSearch(){return w(this,null,function*(){let e=this.searchQuery(),t=this.selectedCountries(),o=this.currentPage();if(!e&&t.length===0&&this.isClientMode()){this.loadVerifiedBusinesses();return}if(!e&&t.length===0){this.businesses.set([]),this.total.set(0),this.totalPages.set(0);return}try{this.loading.set(!0),this.error.set(null);let s=yield this.businessService.searchBusinesses(e||void 0,t.length>0?t:void 0,o,12).toPromise();s?.success&&s.data?(this.businesses.set(s.data.businesses),this.total.set(s.data.total),this.totalPages.set(s.data.totalPages)):this.error.set("Failed to search businesses")}catch(s){console.error("Search error:",s),this.error.set("An error occurred while searching")}finally{this.loading.set(!1)}})}loadVerifiedBusinesses(){return w(this,null,function*(){try{this.loading.set(!0),this.error.set(null);let e=yield this.businessService.searchBusinesses(void 0,void 0,this.currentPage(),12,{featured:!0}).toPromise();e?.success&&e.data?(this.businesses.set(e.data.businesses),this.total.set(e.data.total),this.totalPages.set(e.data.totalPages)):this.error.set("Failed to load verified businesses")}catch(e){console.error("Load verified businesses error:",e),this.error.set("An error occurred while loading verified businesses")}finally{this.loading.set(!1)}})}onSearch(){let e=this.filterForm.value,t={page:1};e.searchQuery?.trim()&&(t.q=e.searchQuery.trim()),e.selectedCountries&&e.selectedCountries.length>0&&(t.countries=e.selectedCountries.join(",")),e.selectedCategories&&e.selectedCategories.length>0&&(t.categories=e.selectedCategories.join(",")),e.selectedBusinessTypes&&e.selectedBusinessTypes.length>0&&(t.businessTypes=e.selectedBusinessTypes.join(",")),e.selectedRating&&e.selectedRating>0&&(t.rating=e.selectedRating),this.router.navigate(["/search"],{queryParams:t})}clearFilters(){this.filterForm.reset({searchQuery:"",selectedCountries:[],selectedCategories:[],selectedBusinessTypes:[],selectedRating:0,businessType:"",location:""}),this.onSearch()}toggleFilters(){this.filtersOpen.update(e=>!e)}onPageChange(e){let t=this.route.snapshot.queryParams;this.router.navigate(["/search"],{queryParams:Ve(Be({},t),{page:e})})}getOwnerName(e){let t=e.owner_id;return t?.first_name&&t?.last_name?`${t.first_name} ${t.last_name}`:t?.first_name?t.first_name:t?.email?t.email:"Business Owner"}getOwnerCountry(e){return e.owner_id?.country_of_origin||"Unknown"}getCategoryName(e){return e.category_id?.name||"Uncategorized"}getOwnerAvatar(e){return e.owner_id?.profile_image_url||null}onBusinessClick(e){this.router.navigate(["/business/profile",e._id])}generatePageNumbers(){let e=this.totalPages(),t=this.currentPage(),o=5;if(e<=o)return Array.from({length:e},(y,V)=>V+1);let s=Math.max(1,t-Math.floor(o/2)),g=Math.min(e,s+o-1);return Array.from({length:g-s+1},(y,V)=>s+V)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=S({type:n,selectors:[["app-search"]],decls:71,vars:13,consts:[[1,"min-h-screen","bg-gray-50"],[1,"bg-white","border-b","border-gray-200"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-6"],[1,"space-y-6",3,"formGroup"],[1,"relative"],["appearance","outline",1,"w-full"],["matInput","","formControlName","searchQuery","placeholder","Search for services, products, or businesses",3,"input"],["matPrefix",""],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","xl:grid-cols-5","gap-4"],["appearance","outline"],["formControlName","selectedCategories","multiple","",3,"selectionChange"],[3,"value"],["formControlName","businessType",3,"selectionChange"],["value",""],["value","service"],["value","product"],["value","both"],["formControlName","selectedCountries","multiple","",3,"selectionChange"],["matInput","","formControlName","location","placeholder","City, State",3,"input"],["formControlName","selectedRating",3,"selectionChange"],[1,"flex","flex-wrap","items-center","gap-4","justify-between"],[1,"flex","items-center","gap-4"],["mat-stroked-button","","type","button","color","warn"],[1,"text-sm","text-gray-600"],[1,"font-medium"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"flex","justify-center","items-center","py-12"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-4","mb-6"],[1,"text-center","py-12"],["mat-stroked-button","","type","button","color","warn",3,"click"],["diameter","50"],[1,"ml-4","text-gray-600"],[1,"flex","items-center"],[1,"text-red-500","mr-2"],[1,"text-red-700"],[1,"text-6xl","text-gray-400","mb-4"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-600","mb-4"],["mat-raised-button","","color","primary",3,"click"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-6","mb-8"],[1,"bg-white","rounded-xl","border","border-gray-200","shadow-sm","hover:shadow-lg","transition-all","duration-200","overflow-hidden","group","cursor-pointer"],[1,"flex","justify-center"],[1,"bg-white","rounded-xl","border","border-gray-200","shadow-sm","hover:shadow-lg","transition-all","duration-200","overflow-hidden","group","cursor-pointer",3,"click"],[1,"relative","h-32","bg-gradient-to-br","from-gray-100","to-gray-200","overflow-hidden"],[1,"w-full","h-full","object-cover","group-hover:scale-105","transition-transform","duration-300",3,"src","alt"],[1,"w-full","h-full","bg-gradient-to-br","from-green-400","to-blue-500","flex","items-center","justify-center"],[1,"absolute","top-3","left-3"],[1,"absolute","top-3","right-3"],[1,"bg-green-100","text-green-800","inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","backdrop-blur-sm"],[1,"relative","px-6","pb-6"],[1,"flex","justify-center","-mt-8","mb-4"],[1,"w-16","h-16","rounded-full","bg-white","shadow-lg","ring-2","ring-white","overflow-hidden"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"w-full","h-full","bg-gray-100","flex","items-center","justify-center"],[1,"text-center","mb-4"],[1,"text-lg","font-semibold","text-gray-900","truncate","mb-1","group-hover:text-green-600","transition-colors"],[1,"text-sm","text-gray-600","mb-1"],[1,"text-xs","text-gray-500","flex","items-center","justify-center"],[1,"text-sm","text-gray-600","mb-4","line-clamp-2","text-center"],[1,"flex","items-center","justify-center","mb-4"],[1,"flex","items-center","gap-1"],[1,"text-xs","text-gray-500","bg-gray-100","px-2","py-1","rounded-full"],[1,"mb-4"],[1,"flex","items-center","justify-between","pt-4","border-t","border-gray-100"],[1,"flex","items-center","gap-2"],[1,"w-8","h-8","rounded-full","overflow-hidden","flex-shrink-0"],[1,"w-full","h-full","bg-gray-200","flex","items-center","justify-center"],[1,"flex-1","min-w-0"],[1,"text-sm","font-medium","text-gray-900","truncate"],[1,"text-xs","text-gray-500"],[3,"click"],["size","small","buttonClass","text-gray-500 hover:text-red-500 transition-colors p-1",3,"businessId","businessName"],[1,"text-xs","text-gray-500","flex","items-center"],[1,"text-white","text-4xl","opacity-60"],[1,"bg-yellow-100","text-yellow-800","inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","backdrop-blur-sm"],[1,"w-3","h-3","mr-1"],[1,"text-gray-400","text-lg"],[1,"w-3","h-3","mr-1","text-xs"],[1,"text-yellow-400","text-sm"],[1,"text-sm","font-bold","text-gray-900"],[1,"flex","flex-wrap","gap-1","justify-center"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","bg-gray-100","text-gray-800"],[1,"text-gray-400","text-sm"],["showFirstLastButtons","",3,"page","length","pageSize","pageIndex","pageSizeOptions"]],template:function(t,o){t&1&&(h(0,"app-header"),r(1,"div",0)(2,"div",1)(3,"div",2)(4,"form",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),i(8,"Find women-owned businesses and services..."),a(),r(9,"input",6),m("input",function(){return o.onSearch()}),a(),r(10,"mat-icon",7),i(11,"search"),a()()(),r(12,"div",8)(13,"mat-form-field",9)(14,"mat-label"),i(15,"Category"),a(),r(16,"mat-select",10),m("selectionChange",function(){return o.onSearch()}),Z(17,_n,2,2,"mat-option",11,tn),a()(),r(19,"mat-form-field",9)(20,"mat-label"),i(21,"Service Type"),a(),r(22,"mat-select",12),m("selectionChange",function(){return o.onSearch()}),r(23,"mat-option",13),i(24,"All Types"),a(),r(25,"mat-option",14),i(26,"Services"),a(),r(27,"mat-option",15),i(28,"Products"),a(),r(29,"mat-option",16),i(30,"Both"),a()()(),r(31,"mat-form-field",9)(32,"mat-label"),i(33,"Heritage/Origin"),a(),r(34,"mat-select",17),m("selectionChange",function(){return o.onSearch()}),Z(35,yn,2,2,"mat-option",11,bn),a()(),r(37,"mat-form-field",9)(38,"mat-label"),i(39,"Location"),a(),r(40,"input",18),m("input",function(){return o.onSearch()}),a(),r(41,"mat-icon",7),i(42,"location_on"),a()(),r(43,"mat-form-field",9)(44,"mat-label"),i(45,"Minimum Rating"),a(),r(46,"mat-select",19),m("selectionChange",function(){return o.onSearch()}),r(47,"mat-option",11),i(48,"All ratings"),a(),r(49,"mat-option",11),i(50,"1+ stars"),a(),r(51,"mat-option",11),i(52,"2+ stars"),a(),r(53,"mat-option",11),i(54,"3+ stars"),a(),r(55,"mat-option",11),i(56,"4+ stars"),a(),r(57,"mat-option",11),i(58,"5 stars"),a()()()(),r(59,"div",20)(60,"div",21),b(61,Cn,4,0,"button",22),a(),r(62,"div",23)(63,"span",24),i(64),a(),i(65," services found "),a()()()()(),r(66,"div",25),b(67,wn,4,0,"div",26),b(68,Sn,6,1,"div",27),b(69,En,9,0,"div",28),b(70,Ln,4,1),a()()),t&2&&(l(4),v("formGroup",o.filterForm),l(13),W(o.categories()),l(18),W(o.countries),l(12),v("value",0),l(2),v("value",1),l(2),v("value",2),l(2),v("value",3),l(2),v("value",4),l(2),v("value",5),l(4),_(o.hasActiveFilters()?61:-1),l(3),P(o.total()),l(3),_(o.loading()?67:-1),l(),_(o.error()?68:-1),l(),_(!o.loading()&&o.hasSearched()&&!o.hasResults()?69:-1),l(),_(!o.loading()&&o.hasResults()?70:-1))},dependencies:[O,ue,At,Mt,Pt,kt,Ft,Ut,he,It,Ot,Tt,Bt,xt,ge,fe,Vt,I,j,Lt,ve,T,R,Gt,Qt,J,q,$t,ce,Kt,le,zt,$,qt,rt],styles:[".line-clamp-1[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:1;line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.line-clamp-2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.business-card[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.business-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 25px 50px -12px #00000040}.business-gradient-1[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.business-gradient-2[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c)}.business-gradient-3[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe)}.business-gradient-4[_ngcontent-%COMP%]{background:linear-gradient(135deg,#43e97b,#38f9d7)}.business-gradient-5[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140)}.search-form[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{transition:all .3s ease}.search-form[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{transform:scale(1.02);box-shadow:0 10px 25px -5px #3b82f64d}.filter-pill[_ngcontent-%COMP%]{transition:all .2s ease}.filter-pill[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 8px #0000001a}.rating-stars[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{transition:color .2s ease}.business-type-badge.service[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dbeafe,#bfdbfe);color:#1e40af}.business-type-badge.product[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dcfce7,#bbf7d0);color:#166534}.business-type-badge.both[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a);color:#92400e}.featured-badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_glow 2s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_glow{0%{box-shadow:0 0 5px #fbbf2480}to{box-shadow:0 0 20px #fbbf24cc}}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.business-card[_ngcontent-%COMP%]   .business-header[_ngcontent-%COMP%]{height:120px}.business-card[_ngcontent-%COMP%]   .business-logo[_ngcontent-%COMP%]{width:60px;height:60px}}*[_ngcontent-%COMP%]{transition:color .2s ease,background-color .2s ease,border-color .2s ease,transform .2s ease,box-shadow .2s ease}"]})};var Pe=class n{constructor(e){this.http=e}apiUrl=`${de.api.baseUrl}/paypal-accounts`;getConnectUrl(){return this.http.get(`${this.apiUrl}/connect-url`)}connectAccount(e){return this.http.post(`${this.apiUrl}/connect`,e)}getAccounts(){return this.http.get(this.apiUrl)}getAccount(e){return this.http.get(`${this.apiUrl}/${e}`)}refreshAccount(e){return this.http.post(`${this.apiUrl}/${e}/refresh`,{})}disconnectAccount(e){return this.http.post(`${this.apiUrl}/${e}/disconnect`,{})}verifyAccount(e){return this.http.post(`${this.apiUrl}/${e}/verify`,{})}initiatePayPalConnection(e){return w(this,null,function*(){try{let t=yield this.getConnectUrl().toPromise();if(!t?.auth_url)throw new Error("Failed to get PayPal OAuth URL");let o=window.open(t.auth_url,"paypal-oauth","width=500,height=600,scrollbars=yes,resizable=yes");if(!o)throw new Error("Popup blocked. Please allow popups for this site.");return new Promise((s,g)=>{let y=setInterval(()=>{o.closed&&(clearInterval(y),g(new Error("PayPal connection was cancelled")))},1e3),V=z=>{z.origin===window.location.origin&&(z.data.type==="PAYPAL_OAUTH_SUCCESS"?(clearInterval(y),window.removeEventListener("message",V),o.close(),this.connectAccount({code:z.data.code,state:z.data.state}).subscribe({next:Fe=>s(Fe),error:Fe=>g(Fe)})):z.data.type==="PAYPAL_OAUTH_ERROR"&&(clearInterval(y),window.removeEventListener("message",V),o.close(),g(new Error(z.data.error||"PayPal connection failed"))))};window.addEventListener("message",V)})}catch(t){throw console.error("PayPal connection error:",t),t}})}static \u0275fac=function(t){return new(t||n)(ze(ae))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};function Gn(n,e){n&1&&(r(0,"div",4),h(1,"mat-spinner",5),r(2,"h2"),i(3,"Connecting PayPal Account"),a(),r(4,"p"),i(5,"Please wait while we connect your PayPal account..."),a()())}function $n(n,e){if(n&1&&(r(0,"div",12)(1,"p")(2,"strong"),i(3,"Email:"),a(),i(4),a(),r(5,"p")(6,"strong"),i(7,"Status:"),a(),i(8),a()()),n&2){let t=p(2);l(4),k(" ",t.connectedAccount.email),l(4),k(" ",t.connectedAccount.is_verified?"Verified":"Not Verified")}}function qn(n,e){if(n&1){let t=E();r(0,"div",6)(1,"mat-icon",7),i(2,"check_circle"),a(),r(3,"h2"),i(4,"PayPal Account Connected!"),a(),r(5,"p"),i(6,"Your PayPal account has been successfully connected."),a(),Q(7,$n,9,2,"div",8),r(8,"div",9)(9,"button",10),m("click",function(){f(t);let s=p();return x(s.goToPayPalAccounts())}),i(10," View PayPal Accounts "),a(),r(11,"button",11),m("click",function(){f(t);let s=p();return x(s.goToWithdrawals())}),i(12," Create Withdrawal "),a()()()}if(n&2){let t=p();l(7),v("ngIf",t.connectedAccount)}}function Jn(n,e){if(n&1){let t=E();r(0,"div",13)(1,"mat-icon",14),i(2,"error"),a(),r(3,"h2"),i(4,"Connection Failed"),a(),r(5,"p"),i(6),a(),r(7,"div",9)(8,"button",10),m("click",function(){f(t);let s=p();return x(s.retry())}),i(9," Try Again "),a(),r(10,"button",11),m("click",function(){f(t);let s=p();return x(s.goToPayPalAccounts())}),i(11," Go Back "),a()()()}if(n&2){let t=p();l(6),P(t.errorMessage)}}var ke=class n{constructor(e,t,o){this.route=e;this.router=t;this.paypalService=o}processing=!0;success=!1;error=!1;errorMessage="";connectedAccount=null;ngOnInit(){this.handleCallback()}handleCallback(){this.route.queryParams.subscribe(e=>{let t=e.code,o=e.state,s=e.error,g=e.error_description;if(s){this.handleError(g||s);return}if(!t||!o){this.handleError("Missing authorization code or state parameter");return}this.paypalService.connectAccount({code:t,state:o}).subscribe({next:y=>{this.processing=!1,this.success=!0,this.connectedAccount=y,window.opener&&(window.opener.postMessage({type:"PAYPAL_OAUTH_SUCCESS",code:t,state:o,account:y},window.location.origin),window.close())},error:y=>{console.error("PayPal connection error:",y),this.handleError(y.error?.message||"Failed to connect PayPal account"),window.opener&&(window.opener.postMessage({type:"PAYPAL_OAUTH_ERROR",error:y.error?.message||"Failed to connect PayPal account"},window.location.origin),window.close())}})})}handleError(e){this.processing=!1,this.error=!0,this.errorMessage=e}retry(){this.processing=!0,this.error=!1,this.success=!1,this.handleCallback()}goToPayPalAccounts(){this.router.navigate(["/paypal-accounts"])}goToWithdrawals(){this.router.navigate(["/withdrawals"])}static \u0275fac=function(t){return new(t||n)(H(G),H(M),H(Pe))};static \u0275cmp=S({type:n,selectors:[["app-paypal-callback"]],decls:4,vars:3,consts:[[1,"callback-container"],["class","processing-state",4,"ngIf"],["class","success-state",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"processing-state"],["diameter","48"],[1,"success-state"],[1,"success-icon"],["class","account-info",4,"ngIf"],[1,"actions"],["mat-raised-button","","color","primary",3,"click"],["mat-stroked-button","",3,"click"],[1,"account-info"],[1,"error-state"],[1,"error-icon"]],template:function(t,o){t&1&&(r(0,"div",0),Q(1,Gn,6,0,"div",1)(2,qn,13,1,"div",2)(3,Jn,12,1,"div",3),a()),t&2&&(l(),v("ngIf",o.processing),l(),v("ngIf",o.success&&!o.processing),l(),v("ngIf",o.error&&!o.processing))},dependencies:[O,re,J,q,T,R,I,j],styles:[".callback-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:24px;background:linear-gradient(135deg,#667eea,#764ba2)}.processing-state[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{background:#fff;padding:48px 32px;border-radius:16px;box-shadow:0 20px 40px #0000001a;text-align:center;max-width:500px;width:100%}.processing-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:24px 0 16px;font-size:1.5rem;font-weight:600}.processing-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 24px;color:#666;line-height:1.6}.success-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#4caf50;margin-bottom:16px}.error-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#f44336;margin-bottom:16px}.account-info[_ngcontent-%COMP%]{background:#f5f5f5;padding:16px;border-radius:8px;margin:24px 0;text-align:left}.account-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;color:#333}.actions[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:center;flex-wrap:wrap;margin-top:32px}@media (max-width: 768px){.actions[_ngcontent-%COMP%]{flex-direction:column}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]})};function Zn(n,e){n&1&&(r(0,"div",4),h(1,"mat-spinner",5),r(2,"h2"),i(3,"Verifying Stripe Account"),a(),r(4,"p"),i(5,"Please wait while we verify your Stripe account setup..."),a()())}function Wn(n,e){if(n&1){let t=E();r(0,"div",6)(1,"mat-icon",7),i(2,"check_circle"),a(),r(3,"h2"),i(4,"Stripe Account Connected Successfully!"),a(),r(5,"p"),i(6,"Your Stripe account has been set up and is ready for withdrawals."),a(),r(7,"div",8)(8,"button",9),m("click",function(){f(t);let s=p();return x(s.goToEarnings())}),i(9," View Earnings "),a(),r(10,"button",10),m("click",function(){f(t);let s=p();return x(s.goToDashboard())}),i(11," Back to Dashboard "),a()()()}}function Yn(n,e){if(n&1){let t=E();r(0,"div",11)(1,"mat-icon",12),i(2,"error"),a(),r(3,"h2"),i(4,"Setup Incomplete"),a(),r(5,"p"),i(6),a(),r(7,"div",8)(8,"button",13),m("click",function(){f(t);let s=p();return x(s.retrySetup())}),i(9," Try Again "),a(),r(10,"button",10),m("click",function(){f(t);let s=p();return x(s.goToDashboard())}),i(11," Back to Dashboard "),a()()()}if(n&2){let t=p();l(6),P(t.errorMessage)}}var K=class n{constructor(e,t,o){this.route=e;this.router=t;this.stripeConnectService=o}processing=!0;success=!1;error=!1;errorMessage="";ngOnInit(){return w(this,null,function*(){this.route.queryParams.subscribe(e=>w(this,null,function*(){e.success==="true"?yield this.handleSuccess():e.success==="false"?yield this.handleError():yield this.checkAccountStatus()}))})}handleSuccess(){return w(this,null,function*(){try{let e=yield this.stripeConnectService.getAccountStatus().toPromise();e?.payouts_enabled&&!e?.requirements_due?(this.processing=!1,this.success=!0):(this.processing=!1,this.error=!0,this.errorMessage="Account setup is not yet complete. Please try the onboarding process again.")}catch{this.processing=!1,this.error=!0,this.errorMessage="Failed to verify account status. Please try again."}})}handleError(){return w(this,null,function*(){this.processing=!1,this.error=!0,this.errorMessage="Account setup was not completed. You can try setting up your Stripe account again."})}checkAccountStatus(){return w(this,null,function*(){try{let e=yield this.stripeConnectService.getAccountStatus().toPromise();e?.payouts_enabled&&!e?.requirements_due?(this.processing=!1,this.success=!0):(this.processing=!1,this.error=!0,this.errorMessage="Account setup is incomplete. Please complete the onboarding process.")}catch{this.processing=!1,this.error=!0,this.errorMessage="Failed to check account status. Please try again."}})}retrySetup(){return w(this,null,function*(){try{this.processing=!0;let e=yield this.stripeConnectService.createOnboardingLink().toPromise();window.location.href=e.url}catch{this.processing=!1,this.errorMessage="Failed to create setup link. Please try again later."}})}goToEarnings(){this.router.navigate(["/dashboard/earnings"])}goToDashboard(){this.router.navigate(["/dashboard"])}static \u0275fac=function(t){return new(t||n)(H(G),H(M),H(Jt))};static \u0275cmp=S({type:n,selectors:[["app-stripe-callback"]],decls:4,vars:3,consts:[[1,"callback-container"],["class","processing-state",4,"ngIf"],["class","success-state",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"processing-state"],["diameter","48"],[1,"success-state"],[1,"success-icon"],[1,"actions"],["mat-raised-button","","color","primary",3,"click"],["mat-button","",3,"click"],[1,"error-state"],[1,"error-icon"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,o){t&1&&(r(0,"div",0),Q(1,Zn,6,0,"div",1)(2,Wn,12,0,"div",2)(3,Yn,12,1,"div",3),a()),t&2&&(l(),v("ngIf",o.processing),l(),v("ngIf",o.success&&!o.processing),l(),v("ngIf",o.error&&!o.processing))},dependencies:[O,re,J,q,T,R,I,j],styles:[".callback-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:24px;background:#f5f5f5}.processing-state[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{text-align:center;max-width:400px;padding:48px 32px;background:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a}.success-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#4caf50;margin-bottom:24px}.error-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#f44336;margin-bottom:24px}h2[_ngcontent-%COMP%]{margin:16px 0;color:#333}p[_ngcontent-%COMP%]{margin:16px 0;color:#666;line-height:1.5}.actions[_ngcontent-%COMP%]{margin-top:32px;display:flex;gap:16px;justify-content:center;flex-wrap:wrap}mat-spinner[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.processing-state[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{padding:32px 24px;margin:16px}.actions[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;max-width:200px}}"]})};var nn=[{path:"",component:we},{path:"search",component:Me},{path:"auth",loadChildren:()=>import("./chunk-5TB6JNLT.js").then(n=>n.AUTH_ROUTES),canActivate:[Wt]},{path:"login",redirectTo:"auth/login"},{path:"signup",redirectTo:"auth/signup"},{path:"dashboard",component:Se,loadChildren:()=>import("./chunk-7L4J644J.js").then(n=>n.DASHBOARD_ROUTES),canActivate:[Ie]},{path:"admin",loadChildren:()=>import("./chunk-5S4ZHJUR.js").then(n=>n.adminRoutes),canActivate:[Ie]},{path:"business",loadChildren:()=>import("./chunk-ON5F7O7O.js").then(n=>n.BUSINESS_ROUTES)},{path:"paypal/callback",component:ke},{path:"stripe/return",component:K},{path:"stripe/refresh",component:K}];var on={providers:[ot({eventCoalescing:!0}),ut(nn),ct(dt()),Zt(),vt(),{provide:lt,useClass:be,multi:!0}]};var Ae=class n{title="putheron";authorizationService=u(St);constructor(){typeof window<"u"&&(window.authService=this.authorizationService,console.log("\u{1F527} Authorization service exposed as window.authService for debugging"),console.log("\u{1F4A1} Use window.authService.debugAuthState() to inspect permissions"))}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=S({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,o){t&1&&h(0,"router-outlet")},dependencies:[se],encapsulation:2})};st(Ae,on).catch(n=>console.error(n));
