import{a as _,b as h,c as C,f as I,g as b}from"./chunk-WC4V5MBK.js";import{a as v}from"./chunk-DD4BNXLG.js";import"./chunk-IGUJQH2A.js";import"./chunk-XDG5LX4L.js";import"./chunk-4KL26AYK.js";import{k as P,l as f,t as E}from"./chunk-REOVWAHI.js";import{Bb as l,Eb as d,Lb as e,Mb as t,Wb as u,cb as s,fa as g,gc as i,hc as c,ic as m,kc as S,ob as x,ub as p}from"./chunk-BEPULU6C.js";import"./chunk-JKOY2XUY.js";function y(r,o){if(r&1&&(e(0,"div")(1,"h3",2),i(2,"User ID:"),t(),e(3,"p"),i(4),t()()),r&2){let a,n=u();s(4),c((a=n.userPermissions())==null?null:a.userId)}}function D(r,o){if(r&1&&(e(0,"li"),i(1),t()),r&2){let a=o.$implicit;s(),S(" ",a.name," (",a.display_name,") - Active: ",a.is_active," ")}}function R(r,o){if(r&1&&(e(0,"div")(1,"h3",2),i(2,"Roles:"),t(),e(3,"ul"),p(4,D,2,3,"li",8),t()()),r&2){let a,n=u();s(4),l("ngForOf",(a=n.userPermissions())==null?null:a.roles)}}function O(r,o){if(r&1&&(e(0,"div",11),i(1),t()),r&2){let a=o.$implicit;s(),m(" ",a.name," ")}}function N(r,o){if(r&1&&(e(0,"div")(1,"h3",2),i(2,"All Permissions:"),t(),e(3,"div",9),p(4,O,2,1,"div",10),t()()),r&2){let a,n=u();s(4),l("ngForOf",(a=n.userPermissions())==null?null:a.allPermissions)}}var M=class r{authService=g(v);userPermissions=this.authService.userPermissions;ngOnInit(){console.log("Permission Debug Component Initialized"),console.log("User Permissions:",this.userPermissions()),console.log("Permission Constants:",v.PERMISSIONS)}hasPermission(o){return this.authService.hasPermission(o)}hasRole(o){return this.authService.hasRole(o)}getPermissionConstant(o){return v.PERMISSIONS[o]||"Not found"}static \u0275fac=function(a){return new(a||r)};static \u0275cmp=x({type:r,selectors:[["app-permission-debug"]],decls:63,vars:25,consts:[[1,"p-6"],[1,"space-y-4"],[1,"font-semibold"],[4,"ngIf"],[1,"border-t","pt-4"],[1,"space-y-2"],[1,"flex","justify-between"],[1,"space-y-1","text-sm"],[4,"ngFor","ngForOf"],[1,"grid","grid-cols-2","gap-2","max-h-40","overflow-y-auto"],["class","text-sm p-1 bg-gray-100 rounded",4,"ngFor","ngForOf"],[1,"text-sm","p-1","bg-gray-100","rounded"]],template:function(a,n){a&1&&(e(0,"div",0)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title"),i(4,"Permission Debug Information"),t()(),e(5,"mat-card-content")(6,"div",1)(7,"div")(8,"h3",2),i(9,"User Permissions Loaded:"),t(),e(10,"p"),i(11),t()(),p(12,y,5,1,"div",3)(13,R,5,1,"div",3)(14,N,5,1,"div",3),e(15,"div",4)(16,"h3",2),i(17,"Permission Tests:"),t(),e(18,"div",5)(19,"div",6)(20,"span"),i(21,"dashboard.read:"),t(),e(22,"span"),i(23),t()(),e(24,"div",6)(25,"span"),i(26,"users.read:"),t(),e(27,"span"),i(28),t()(),e(29,"div",6)(30,"span"),i(31,"roles.read:"),t(),e(32,"span"),i(33),t()(),e(34,"div",6)(35,"span"),i(36,"businesses.read:"),t(),e(37,"span"),i(38),t()()()(),e(39,"div",4)(40,"h3",2),i(41,"Role Tests:"),t(),e(42,"div",5)(43,"div",6)(44,"span"),i(45,"super_admin:"),t(),e(46,"span"),i(47),t()(),e(48,"div",6)(49,"span"),i(50,"admin:"),t(),e(51,"span"),i(52),t()()()(),e(53,"div",4)(54,"h3",2),i(55,"Authorization Constants:"),t(),e(56,"div",7)(57,"div"),i(58),t(),e(59,"div"),i(60),t(),e(61,"div"),i(62),t()()()()()()()),a&2&&(s(11),c(n.userPermissions()?"Yes":"No"),s(),l("ngIf",n.userPermissions()),s(),l("ngIf",n.userPermissions()),s(),l("ngIf",n.userPermissions()),s(8),d(n.hasPermission("dashboard.read")?"text-green-600":"text-red-600"),s(),m(" ",n.hasPermission("dashboard.read")?"\u2705":"\u274C"," "),s(4),d(n.hasPermission("users.read")?"text-green-600":"text-red-600"),s(),m(" ",n.hasPermission("users.read")?"\u2705":"\u274C"," "),s(4),d(n.hasPermission("roles.read")?"text-green-600":"text-red-600"),s(),m(" ",n.hasPermission("roles.read")?"\u2705":"\u274C"," "),s(4),d(n.hasPermission("businesses.read")?"text-green-600":"text-red-600"),s(),m(" ",n.hasPermission("businesses.read")?"\u2705":"\u274C"," "),s(8),d(n.hasRole("super_admin")?"text-green-600":"text-red-600"),s(),m(" ",n.hasRole("super_admin")?"\u2705":"\u274C"," "),s(4),d(n.hasRole("admin")?"text-green-600":"text-red-600"),s(),m(" ",n.hasRole("admin")?"\u2705":"\u274C"," "),s(6),m("ADMIN_ACCESS: ",n.getPermissionConstant("ADMIN_ACCESS"),""),s(2),m("USERS_VIEW: ",n.getPermissionConstant("USERS_VIEW"),""),s(2),m("ROLES_VIEW: ",n.getPermissionConstant("ROLES_VIEW"),""))},dependencies:[E,P,f,b,_,C,I,h],encapsulation:2})};export{M as PermissionDebugComponent};
