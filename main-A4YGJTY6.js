import{a as Bt,b as jt}from"./chunk-VQURNIK2.js";import{a as Lt}from"./chunk-JARSRGU3.js";import{a as Gt}from"./chunk-SIU5BJ33.js";import{b as yt}from"./chunk-G6YNDR7B.js";import"./chunk-W6WUGSQN.js";import{c as Nt}from"./chunk-7PGJYD7D.js";import{a as It}from"./chunk-ES4BZTIN.js";import{a as Dt}from"./chunk-5Z74JPA5.js";import"./chunk-F5X5MWHG.js";import{b as Ht}from"./chunk-EHFHNXQ2.js";import{c as Rt}from"./chunk-F2LLY2CR.js";import"./chunk-UGVZ2NZX.js";import{a as Ot,b as Tt,c as At,d as we}from"./chunk-LDJMQQEI.js";import{a as Ft}from"./chunk-7RWCIHFI.js";import{a as zt,g as Ut}from"./chunk-WC4V5MBK.js";import{b as Vt}from"./chunk-5IB3J52A.js";import{a as Ce}from"./chunk-WJ4DFVWN.js";import"./chunk-OIXXJWNI.js";import{d as ae,h as be,i as ve,j as _e,l as Et,m as ye}from"./chunk-HUQJ3NC3.js";import{d as Pt,g as kt,k as xe}from"./chunk-SQHEFKI2.js";import"./chunk-HOTTC6Q3.js";import{A as fe,c as ce,h as de,i as me,l as pe,p as ue,q as ge,y as he}from"./chunk-IOQBSONU.js";import{a as Se}from"./chunk-W25ODU66.js";import{a as q,b as Y}from"./chunk-ZH2LY4H3.js";import{a as U}from"./chunk-M3H5MYLB.js";import{b as se}from"./chunk-TD3AVWK7.js";import"./chunk-AJJKGR3O.js";import{d as wt}from"./chunk-EVRT3NTN.js";import{a as Mt}from"./chunk-DH4QAEMR.js";import"./chunk-DDM5NOWN.js";import"./chunk-SGYCFQGT.js";import{f as Ct}from"./chunk-ECO3GEC4.js";import{c as z,e as F}from"./chunk-SUTJIGUH.js";import{a as B}from"./chunk-5X5YCIDJ.js";import{a as St}from"./chunk-QSI3HFOI.js";import{p as R,q as H}from"./chunk-A72LFUZP.js";import{F as _t,o as vt}from"./chunk-IGUJQH2A.js";import"./chunk-IZ7UM5CL.js";import{a as le}from"./chunk-YYV7O7JP.js";import{a as Q,b as oe,c as S,d as re,e as ft,f as xt,g as bt}from"./chunk-MEFNJ5SS.js";import{a as mt,b as pt}from"./chunk-GUCRBWY4.js";import{B as ie,C as ut,D as gt,E as ht,a as ct,l as ne,n as dt,t as I}from"./chunk-REOVWAHI.js";import{$ as L,Bb as g,D as qe,Ea as w,Fb as rt,Fc as lt,Gb as b,Ib as ee,Jb as T,Ka as tt,Kb as A,Lb as n,Mb as i,Na as nt,Nb as m,Oc as V,Pc as te,Rb as P,Vb as c,Wb as d,Z as Ye,aa as J,ab as K,ca as We,cb as l,ea as Ze,fa as p,fb as it,g as $e,gc as o,hb as D,hc as x,ia as Je,ib as ot,ic as v,jc as je,l as Qe,na as h,oa as f,ob as y,pa as k,pb as X,q as Z,qa as O,qc as $,ta as Ke,ub as _,wa as Xe,xc as at,yc as st,za as et}from"./chunk-BEPULU6C.js";import{a as Ue,b as Ge,e as M}from"./chunk-JKOY2XUY.js";var tn="@",nn=(()=>{class r{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=p(Ke);loadingSchedulerFn=p(on,{optional:!0});_engine;constructor(t,a,s,u,C){this.doc=t,this.delegate=a,this.zone=s,this.animationType=u,this.moduleImpl=C}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-WEHWC2L7.js").then(s=>s),a;return this.loadingSchedulerFn?a=this.loadingSchedulerFn(t):a=t(),a.catch(s=>{throw new Ye(5300,!1)}).then(({\u0275createEngine:s,\u0275AnimationRendererFactory:u})=>{this._engine=s(this.animationType,this.doc);let C=new u(this.delegate,this._engine,this.zone);return this.delegate=C,C})}createRenderer(t,a){let s=this.delegate.createRenderer(t,a);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let u=new Ne(s);return a?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(C=>{let j=C.createRenderer(t,a);u.use(j),this.scheduler??=this.injector.get(Xe,null,{optional:!0}),this.scheduler?.notify(10)}).catch(C=>{u.use(s)}),u}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(t){this._engine?.flush(),this.delegate.componentReplaced?.(t)}static \u0275fac=function(a){ot()};static \u0275prov=L({token:r,factory:r.\u0275fac})}return r})(),Ne=class{delegate;replay=[];\u0275type=1;constructor(e){this.delegate=e}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,a,s){this.delegate.insertBefore(e,t,a,s)}removeChild(e,t,a){this.delegate.removeChild(e,t,a)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,a,s){this.delegate.setAttribute(e,t,a,s)}removeAttribute(e,t,a){this.delegate.removeAttribute(e,t,a)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,a,s){this.delegate.setStyle(e,t,a,s)}removeStyle(e,t,a){this.delegate.removeStyle(e,t,a)}setProperty(e,t,a){this.shouldReplay(t)&&this.replay.push(s=>s.setProperty(e,t,a)),this.delegate.setProperty(e,t,a)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,a,s){return this.shouldReplay(t)&&this.replay.push(u=>u.listen(e,t,a,s)),this.delegate.listen(e,t,a,s)}shouldReplay(e){return this.replay!==null&&e.startsWith(tn)}},on=new We("");function $t(r="animations"){return nt("NgAsyncAnimations"),Je([{provide:it,useFactory:(e,t,a)=>new nn(e,t,a,r),deps:[ct,mt,et]},{provide:tt,useValue:r==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Me=class r{router=p(S);intercept(e,t){let a=this.getTokenFromStorage(),s=e;return a&&(s=e.clone({setHeaders:{Authorization:`Bearer ${a}`}})),t.handle(s).pipe(qe(u=>(u.status===401&&(console.warn("Authentication failed, redirecting to login"),this.clearAuthData(),this.router.navigate(["/auth"],{queryParams:{message:"Your session has expired. Please log in again."}})),Qe(()=>u))))}getTokenFromStorage(){return typeof window<"u"?localStorage.getItem("access_token"):null}clearAuthData(){typeof window<"u"&&(localStorage.removeItem("access_token"),localStorage.removeItem("current_user"),localStorage.removeItem("userPermissions"),localStorage.removeItem("permissionsTimestamp"))}static \u0275fac=function(t){return new(t||r)};static \u0275prov=L({token:r,factory:r.\u0275fac})};var sn=()=>[],ln=(r,e)=>e.code;function cn(r,e){if(r&1&&(n(0,"mat-option",14),o(1),i()),r&2){let t=e.$implicit;g("value",t.name),l(),v(" ",t.name," ")}}function dn(r,e){if(r&1&&(n(0,"span",17),o(1),i()),r&2){let t=e.$implicit;l(),v(" ",t," ")}}var Pe=class r{fb=p(he);router=p(S);searchForm;countries=Ce;ngOnInit(){this.searchForm=this.fb.group({searchQuery:[""],selectedCountries:[[]]})}get isFormValid(){return this.searchForm.valid&&(this.searchForm.get("searchQuery")?.value?.trim()||this.searchForm.get("selectedCountries")?.value?.length>0)}get searchQueryControl(){return this.searchForm.get("searchQuery")}onSearch(){if(console.log("Search initiated with form:",this.isFormValid),!this.isFormValid){this.searchForm.markAllAsTouched();return}let e=this.searchForm.value,t={};e.searchQuery?.trim()&&(t.q=e.searchQuery.trim()),e.selectedCountries&&e.selectedCountries.length>0&&(t.countries=e.selectedCountries.join(",")),this.router.navigate(["/search"],{queryParams:t})}onPopularSearch(e){this.searchForm.patchValue({searchQuery:e}),this.searchForm.get("searchQuery")?.markAsTouched(),this.onSearch()}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=y({type:r,selectors:[["hero-section"]],decls:48,vars:3,consts:[[1,"relative","min-h-screen","flex","items-center","justify-center","overflow-hidden","hero-bg"],[1,"relative","z-10","max-w-4xl","mx-auto","px-4","sm:px-6","lg:px-8","text-center","fade-in"],[1,"text-5xl","md:text-7xl","font-bold","text-white","mb-6","leading-tight"],[1,"text-blue-400"],[1,"text-xl","md:text-2xl","text-gray-200","mb-12","max-w-3xl","mx-auto"],[1,"max-w-6xl","mx-auto","mb-8"],[3,"ngSubmit","formGroup"],[1,"relative"],[1,"flex","flex-col","lg:flex-row","bg-white","rounded-xl","shadow-2xl","overflow-hidden","search-input"],[1,"flex-1","relative"],["type","text","placeholder","Search businesses, services, or locations.","formControlName","searchQuery",1,"w-full","px-6","py-4","text-gray-700","text-lg","focus:outline-none"],[1,"relative","lg:w-40","border-t","lg:border-t-0","lg:border-l","border-gray-200"],["appearance","outline","subscriptSizing","dynamic",1,"w-full","no-border","custom-mat-select"],["formControlName","selectedCountries","multiple","","placeholder","Select heritage",1,"custom-select"],[3,"value"],["type","submit",1,"cta-button","text-white","px-8","py-4","font-semibold","text-lg","disabled:opacity-50","disabled:cursor-not-allowed","transition-opacity",3,"disabled"],[1,"mt-4","flex","flex-wrap","gap-2","justify-center"],[1,"country-tag","bg-blue-100","text-blue-800","px-3","py-1","rounded-full","text-sm","font-medium"],[1,"flex","flex-wrap","justify-center","gap-3","mb-12"],[1,"text-gray-300","text-sm"],["type","button",1,"bg-white/20","backdrop-blur-sm","text-white","px-4","py-2","rounded-full","text-sm","hover:bg-white/30","transition-all",3,"click"],[1,"flex","flex-col","sm:flex-row","gap-4","justify-center"],[1,"cta-button","text-white","px-8","py-4","rounded-xl","font-semibold","text-lg"],[1,"bg-white/20","backdrop-blur-sm","border-2","border-white","text-white","px-8","py-4","rounded-xl","font-semibold","text-lg","hover:bg-white","hover:text-gray-800","transition-all"],[1,"absolute","bottom-8","left-1/2","transform","-translate-x-1/2","text-white/60"],[1,"animate-bounce"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 14l-7 7m0 0l-7-7m7 7V3"]],template:function(t,a){if(t&1&&(n(0,"section",0)(1,"div",1)(2,"h2",2),m(3,"br"),n(4,"span",3),o(5,"VouchHer Business"),i()(),n(6,"p",4),o(7," Find. Hire & Vouch for Women in Business "),i(),n(8,"div",5)(9,"form",6),c("ngSubmit",function(){return a.onSearch()}),n(10,"div",7)(11,"div",8)(12,"div",9),m(13,"input",10),i(),n(14,"div",11)(15,"mat-form-field",12)(16,"mat-select",13),T(17,cn,2,2,"mat-option",14,ln),i()()(),n(19,"button",15),o(20," Search "),i()()()(),n(21,"div",16),T(22,dn,2,1,"span",17,ee),i()(),n(24,"div",18)(25,"span",19),o(26,"Popular:"),i(),n(27,"button",20),c("click",function(){return a.onPopularSearch("Bookeping & Tax prep")}),o(28," Bookeping & Tax prep "),i(),n(29,"button",20),c("click",function(){return a.onPopularSearch("Quickbooks")}),o(30," Quickbooks "),i(),n(31,"button",20),c("click",function(){return a.onPopularSearch("eCommerce")}),o(32," eCommerce "),i(),n(33,"button",20),c("click",function(){return a.onPopularSearch("Grant Writing")}),o(34," Grant Writing "),i(),n(35,"button",20),c("click",function(){return a.onPopularSearch("Financial Advisor")}),o(36," Financial Advisor "),i(),n(37,"button",20),c("click",function(){return a.onPopularSearch("Legal")}),o(38," Legal "),i()(),n(39,"div",21)(40,"button",22),o(41," Find More Businesses "),i(),n(42,"button",23),o(43," List A Business "),i()()(),n(44,"div",24)(45,"div",25),k(),n(46,"svg",26),m(47,"path",27),i()()()()),t&2){let s;l(9),g("formGroup",a.searchForm),l(8),A(a.countries),l(2),g("disabled",!a.isFormValid),l(3),A(((s=a.searchForm.get("selectedCountries"))==null?null:s.value)||$(2,sn))}},dependencies:[I,fe,pe,ce,de,me,ue,ge,_e,xe,ve,ae,be,ye,F],styles:["[_ngcontent-%COMP%]:root{--mat-select-panel-background-color: orange}[_ngcontent-%COMP%]:root{--mat-select-enabled-trigger-text-color: red}.mdc-text-field[_ngcontent-%COMP%]{background-color:#fff!important;border-radius:4px}"]})};var ke=class r{static \u0275fac=function(t){return new(t||r)};static \u0275cmp=y({type:r,selectors:[["how-it-works-section"]],decls:38,vars:0,consts:[[1,"py-20","bg-gradient-to-br","from-gray-50","to-blue-50"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"text-center","mb-16"],[1,"text-4xl","md:text-5xl","font-bold","text-gray-900","mb-6"],[1,"text-xl","text-gray-600","max-w-3xl","mx-auto"],[1,"grid","md:grid-cols-3","gap-8","lg:gap-12","mb-16"],[1,"text-center","group"],[1,"relative","mb-8"],[1,"w-24","h-24","mx-auto","bg-white","rounded-2xl","shadow-lg","flex","items-center","justify-center","group-hover:shadow-xl","transition-all","duration-300","group-hover:scale-105"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"text-2xl","font-bold","text-gray-900","mb-4"],[1,"text-gray-600","leading-relaxed"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-center"],[1,"text-gray-500","text-sm","mt-4"]],template:function(t,a){t&1&&(n(0,"section",0)(1,"div",1)(2,"div",2)(3,"h3",3),o(4," How It Works "),i(),n(5,"p",4),o(6," Connecting with talented women in business has never been easier. "),i()(),n(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),k(),n(11,"svg",9),m(12,"path",10),i()()(),O(),n(13,"h4",11),o(14," Find "),i(),n(15,"p",12),o(16," Browse by industry, location or heritage and more. "),i()(),n(17,"div",6)(18,"div",7)(19,"div",8),k(),n(20,"svg",9),m(21,"path",13),i()()(),O(),n(22,"h4",11),o(23," Support "),i(),n(24,"p",12),o(25," Leave a review & vouch for women the businesses you value."),i()(),n(26,"div",6)(27,"div",7)(28,"div",8),k(),n(29,"svg",9),m(30,"path",14),i()()(),O(),n(31,"h4",11),o(32," Vouch "),i(),n(33,"p",12),o(34," Hire or collaborate with women in business locally or nationwide. "),i()()(),n(35,"div",15)(36,"p",16),o(37," Join our community of women in business changing the game. "),i()()()())},encapsulation:2})};var Ee=class r{static \u0275fac=function(t){return new(t||r)};static \u0275cmp=y({type:r,selectors:[["footer-component"]],decls:65,vars:0,consts:[[1,"bg-blue-900","text-white","py-12","mt-12"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"grid","grid-cols-1","md:grid-cols-5","gap-10"],[1,"text-lg","font-semibold","mb-4","tracking-wide"],[1,"space-y-2","text-sm","text-blue-100"],[1,"mt-10","border-t","border-blue-800","pt-6","text-center","text-xs","text-blue-200"]],template:function(t,a){t&1&&(n(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h5",3),o(5,"Categories"),i(),n(6,"ul",4)(7,"li"),o(8,"Trades & Home services"),i(),n(9,"li"),o(10,"Tech & Digital"),i(),n(11,"li"),o(12,"Professional Services"),i(),n(13,"li"),o(14,"Community, Spiritual & Cultural Work"),i(),n(15,"li"),o(16,"Education & Family"),i(),n(17,"li"),o(18,"Creative & Media"),i(),n(19,"li"),o(20,"Events & Experiences"),i(),n(21,"li"),o(22,"Retail & Goods"),i(),n(23,"li"),o(24,"Beauty & Personal Care"),i(),n(25,"li"),o(26,"Food & Beverage"),i(),n(27,"li"),o(28,"Health & Wellness"),i()()(),n(29,"div")(30,"h5",3),o(31,"For Clients"),i(),n(32,"ul",4)(33,"li"),o(34,"How VouchHer Works"),i(),n(35,"li"),o(36,"Trust & Safety"),i(),n(37,"li"),o(38,"Quality Guide"),i()()(),n(39,"div")(40,"h5",3),o(41,"For Businesses"),i(),n(42,"ul",4)(43,"li"),o(44,"List Your Business"),i(),n(45,"li"),o(46,"Guide for great Business Profiles"),i(),n(47,"li"),o(48,"Win work with ads"),i()()(),n(49,"div")(50,"h5",3),o(51,"About VouchHer"),i(),n(52,"ul",4)(53,"li"),o(54,"Social Impact"),i(),n(55,"li"),o(56,"Terms of Service"),i(),n(57,"li"),o(58,"Privacy Policy"),i(),n(59,"li"),o(60,"Data Sharing Policy"),i(),n(61,"li"),o(62,"Trust, Safety & Security"),i()()()(),n(63,"div",5),o(64," \xA9 2024 VouchHer. All rights reserved. "),i()()())},encapsulation:2})};var Oe=class r{authService=p(B);router=p(S);constructor(){te(()=>{let e=this.authService.isAuthenticated(),t=this.authService.user();e&&t&&(t.user_mode==="business_owner"?(console.log("Redirecting business owner to dashboard"),this.router.navigate(["/dashboard"])):(console.log("Redirecting client to search page"),this.router.navigate(["/search"])))})}ngOnInit(){}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=y({type:r,selectors:[["app-home"]],decls:4,vars:0,template:function(t,a){t&1&&m(0,"app-header")(1,"hero-section")(2,"how-it-works-section")(3,"footer-component")},dependencies:[U,Pe,ke,Ee],encapsulation:2})};var mn=()=>({exact:!0});function pn(r,e){if(r&1){let t=P();n(0,"li")(1,"a",39),c("click",function(){h(t);let s=d();return f(s.onNavigationClick())}),k(),n(2,"svg",18),m(3,"path",40),i(),o(4," Overview "),i()()}r&2&&(l(),g("routerLinkActiveOptions",$(1,mn)))}function un(r,e){if(r&1){let t=P();n(0,"li")(1,"a",41),c("click",function(){h(t);let s=d();return f(s.onNavigationClick())}),k(),n(2,"svg",18),m(3,"path",42),i(),o(4," Businesses "),O(),n(5,"span",20),o(6),i()()()}if(r&2){let t=d();l(6),v(" ",t.userBusinessCount()," ")}}function gn(r,e){if(r&1){let t=P();n(0,"li")(1,"a",43),c("click",function(){h(t);let s=d();return f(s.onNavigationClick())}),k(),n(2,"svg",18),m(3,"path",44)(4,"path",45),i(),o(5," Services "),O(),n(6,"span",20),o(7),i()()()}if(r&2){let t=d();l(7),v(" ",t.totalServices()," ")}}function hn(r,e){if(r&1){let t=P();n(0,"li")(1,"a",46),c("click",function(){h(t);let s=d();return f(s.onNavigationClick())}),k(),n(2,"svg",18),m(3,"path",47),i(),o(4," Earnings & Payments "),i()()}}function fn(r,e){if(r&1){let t=P();n(0,"button",48),c("click",function(){h(t);let s=d();return f(s.switchToBusinessMode())}),n(1,"mat-icon",49),o(2,"business"),i(),o(3," Switch to Business Owner "),i()}}function xn(r,e){if(r&1){let t=P();n(0,"button",50),c("click",function(){h(t);let s=d();return f(s.switchToClientMode())}),n(1,"mat-icon",49),o(2,"person_outline"),i(),o(3," Switch to Client Mode "),i()}}var Te=class r{authService=p(B);router=p(S);businessService=p(Se);projectService=p(It);socketService=p(Mt);breakpointObserver=p(vt);favoritesService=p(Dt);sidenavOpened=w(!1);isMobile=w(!1);userBusinessCount=w(0);totalServices=w(0);totalProjects=w(0);favoritesCount=V(()=>this.favoritesService.getFavoritesCount());user=this.authService.user;isAuthenticated=this.authService.isAuthenticated;userMode=V(()=>this.user()?.user_mode||"client");isBusinessOwner=V(()=>this.userMode()==="business_owner");isAdmin=V(()=>this.user()?.email?.includes("admin")||!1);mobileSubscription;userModeEffect=te(()=>{let e=this.userMode(),t=this.user(),a=this.isBusinessOwner();console.log("Dashboard signals updated:",{user:t?.email,mode:e,isBusiness:a}),t&&this.loadDashboardCounts()});ngOnInit(){this.setupMobileDetection(),this.loadDashboardCounts(),this.socketService.connect()}ngOnDestroy(){this.mobileSubscription&&this.mobileSubscription.unsubscribe()}setupMobileDetection(){this.mobileSubscription=this.breakpointObserver.observe([Ft.Handset]).subscribe(e=>{this.isMobile.set(e.matches),e.matches?this.sidenavOpened.set(!1):this.sidenavOpened.set(!0)})}loadDashboardCounts(){return M(this,null,function*(){try{let e=yield this.businessService.getMyBusinessesAsync();this.userBusinessCount.set(e.length);let t=0;for(let a of e)try{let s=yield this.businessService.getBusinessServicesAsync(a._id);t+=s.length}catch(s){console.warn(`Failed to load services for business ${a._id}:`,s)}this.totalServices.set(t);try{let a=yield this.projectService.getAllMyProjectsAsync();this.totalProjects.set(a.length)}catch(a){console.warn("Failed to load projects:",a),this.totalProjects.set(0)}}catch(e){console.error("Error loading dashboard counts:",e)}})}toggleSidenav(){this.sidenavOpened.set(!this.sidenavOpened())}onMenuToggle(){this.toggleSidenav()}onNavigationClick(){this.isMobile()&&this.sidenavOpened.set(!1)}navigateToCreateBusiness(){this.router.navigate(["/dashboard/businesses/create-business"])}createService(){this.router.navigate(["/dashboard/services/create-service"])}getActiveTabTitle(){let e=this.router.url.split("/");switch(e[e.length-1]){case"dashboard":case"":return this.isBusinessOwner()?"Dashboard Overview":"My Projects";case"overview":return"Dashboard Overview";case"businesses":return"My Businesses";case"services":return"My Services";case"projects":return"My Projects";case"notifications":return"Notifications";case"profile":return"Profile";case"settings":return"Settings";default:return this.router.url.includes("/messages")?"Messages":this.isBusinessOwner()?"Dashboard":"My Projects"}}getUserInitials(){let e=this.user();if(!e)return"";if(e.first_name||e.last_name){let t=e.first_name?.charAt(0).toUpperCase()||"",a=e.last_name?.charAt(0).toUpperCase()||"";return t+a}return e.email.charAt(0).toUpperCase()}navigateToDashboard(){this.router.navigate(["/dashboard"])}navigateToProfile(){this.router.navigate(["/dashboard/profile"])}navigateToSettings(){this.router.navigate(["/dashboard/settings"])}navigateToAdmin(){this.router.navigate(["/admin"])}switchToBusinessMode(){return M(this,null,function*(){try{let e=yield this.authService.switchMode("business_owner");e.data?(console.log("Switched to business owner mode successfully"),console.log("Updated user mode:",this.userMode()),this.loadDashboardCounts()):console.error("Failed to switch to business mode:",e.error)}catch(e){console.error("Error switching to business mode:",e)}})}switchToClientMode(){return M(this,null,function*(){try{let e=yield this.authService.switchMode("client");e.data?(console.log("Switched to client mode successfully"),console.log("Updated user mode:",this.userMode()),this.router.navigate(["/search"])):console.error("Failed to switch to client mode:",e.error)}catch(e){console.error("Error switching to client mode:",e)}})}viewProfile(){this.navigateToProfile()}logout(){this.authService.logout(),this.router.navigate(["/auth"])}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=y({type:r,selectors:[["app-dashboard"]],decls:74,vars:20,consts:[["sidenav",""],[1,"h-screen","flex","flex-col","bg-gray-50"],[3,"menuToggle","showMobileMenuButton","isDashboardMode"],[1,"flex-1","flex"],[1,"sidenav-container"],["position","start",1,"custom-sidenav",3,"opened","mode","disableClose"],[1,"sidebar-content","bg-white","h-full","shadow-lg"],[1,"p-4","border-b","border-gray-200","flex-shrink-0"],[1,"flex","items-center","space-x-3"],[1,"w-10","h-10","bg-blue-500","rounded-full","flex","items-center","justify-center","text-white","font-semibold"],[1,"flex-1"],[1,"font-semibold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"flex","items-center","mt-1"],[1,"w-3","h-3","mr-1","!text-xs"],[1,"p-4","bg-white","flex-1","overflow-y-auto"],[1,"space-y-2"],["routerLink","projects","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"],[1,"ml-auto","bg-gray-200","text-gray-700","py-0.5","px-2","rounded-full","text-xs"],["routerLink","favorites","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"],["routerLink","/search",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-blue-600","hover:bg-blue-50","hover:text-blue-700","group",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","ml-auto","text-blue-500","group-hover:text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"],["routerLink","notifications","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"],["routerLink","./messages","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],[1,"my-6","border-t","border-gray-200"],[1,"space-y-3","mb-6"],[1,"text-xs","font-semibold","text-gray-500","uppercase","tracking-wider"],[1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","rounded-lg","transition-all","duration-200"],[1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","text-gray-600","bg-gray-100","hover:bg-gray-200","rounded-lg","transition-all","duration-200"],[1,"p-4","border-t","border-gray-200","bg-white","flex-shrink-0"],[1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","text-gray-600","hover:bg-red-50","hover:text-red-700","rounded-lg","transition-all","duration-200",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"],["routerLink","overview","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click","routerLinkActiveOptions"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],["routerLink","businesses","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],["routerLink","services","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["routerLink","earnings","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"],[1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","rounded-lg","transition-all","duration-200",3,"click"],[1,"w-5","h-5","mr-3"],[1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","text-gray-600","bg-gray-100","hover:bg-gray-200","rounded-lg","transition-all","duration-200",3,"click"]],template:function(t,a){if(t&1){let s=P();n(0,"div",1)(1,"app-header",2),c("menuToggle",function(){return h(s),f(a.onMenuToggle())}),i(),n(2,"div",3)(3,"mat-sidenav-container",4)(4,"mat-sidenav",5,0)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9),o(10),i(),n(11,"div",10)(12,"h3",11),o(13),i(),n(14,"p",12),o(15),i(),n(16,"div",13)(17,"span")(18,"mat-icon",14),o(19),i(),o(20),i()()()()(),n(21,"nav",15)(22,"ul",16),_(23,pn,5,2,"li")(24,un,7,1,"li")(25,gn,8,1,"li"),n(26,"li")(27,"a",17),c("click",function(){return h(s),f(a.onNavigationClick())}),k(),n(28,"svg",18),m(29,"path",19),i(),o(30," Projects "),O(),n(31,"span",20),o(32),i()()(),n(33,"li")(34,"a",21),c("click",function(){return h(s),f(a.onNavigationClick())}),k(),n(35,"svg",18),m(36,"path",22),i(),o(37," My Favorites "),O(),n(38,"span",20),o(39),i()()(),n(40,"li")(41,"a",23),c("click",function(){return h(s),f(a.onNavigationClick())}),k(),n(42,"svg",18),m(43,"path",24),i(),o(44," Search Other Businesses "),n(45,"svg",25),m(46,"path",26),i()()(),_(47,hn,5,0,"li"),O(),n(48,"li")(49,"a",27),c("click",function(){return h(s),f(a.onNavigationClick())}),k(),n(50,"svg",18),m(51,"path",28),i(),o(52," Notifications "),i()(),O(),n(53,"li")(54,"a",29),c("click",function(){return h(s),f(a.onNavigationClick())}),k(),n(55,"svg",18),m(56,"path",30),i(),o(57," Messages "),O(),n(58,"span",20),o(59," 0 "),i()()()(),m(60,"div",31),n(61,"div",32)(62,"p",33),o(63,"Account Mode"),i(),_(64,fn,4,0,"button",34)(65,xn,4,0,"button",35),i()(),n(66,"div",36)(67,"button",37),c("click",function(){return h(s),f(a.logout())}),k(),n(68,"svg",18),m(69,"path",38),i(),o(70," Sign Out "),i()()()(),O(),n(71,"mat-sidenav-content")(72,"main"),m(73,"router-outlet"),i()()()()()}if(t&2){let s,u;l(),g("showMobileMenuButton",a.isMobile())("isDashboardMode",!0),l(3),g("opened",a.sidenavOpened())("mode",a.isMobile()?"over":"side")("disableClose",!a.isMobile()),l(6),v(" ",a.getUserInitials()," "),l(3),x((((s=a.user())==null?null:s.first_name)+" "+(((s=a.user())==null?null:s.last_name)||"")).trim()||((s=a.user())==null?null:s.email)),l(2),x((u=a.user())==null?null:u.email),l(2),rt("inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ",a.isBusinessOwner()?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800",""),l(2),x(a.isBusinessOwner()?"business":"person"),l(),v(" ",a.isBusinessOwner()?"Business Owner":"Client"," "),l(3),b(a.isBusinessOwner()?23:-1),l(),b(a.isBusinessOwner()?24:-1),l(),b(a.isBusinessOwner()?25:-1),l(7),v(" ",a.totalProjects()," "),l(7),v(" ",a.favoritesCount()," "),l(8),b(a.isBusinessOwner()?47:-1),l(17),b(a.isBusinessOwner()?65:64)}},dependencies:[I,we,Tt,At,Ot,wt,H,R,F,se,oe,re,ft,U],styles:[".mat-drawer{background-color:#fff!important;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f!important;border-radius:0!important}  .mat-drawer-container{background-color:#f9fafb!important}  mat-sidenav{background-color:#fff!important;border-right:1px solid #e5e7eb!important;border-radius:0!important}  .mat-drawer-inner-container{border-radius:0!important}  .mat-drawer-backdrop{background-color:#0009!important}  .mat-drawer-content{flex:1!important;width:100%!important;overflow:auto!important;display:flex!important;flex-direction:column!important}  mat-sidenav-content{flex:1!important;width:100%!important;display:flex!important;flex-direction:column!important;overflow:hidden!important}  .mat-drawer-container{background-color:#f9fafb!important;width:100%!important;height:100%!important;display:flex!important;flex-direction:row!important}.sidenav-container[_ngcontent-%COMP%]{width:100%!important;height:100%!important;flex:1!important;display:flex!important}  .mat-drawer{max-height:100vh!important;height:100%!important;overflow:hidden!important}.sidebar-content[_ngcontent-%COMP%]{height:100%!important;max-height:100vh!important;display:flex!important;flex-direction:column!important;overflow:hidden!important}.sidebar-content[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{flex:1!important;overflow-y:auto!important;overflow-x:hidden!important}main[_ngcontent-%COMP%]{width:100%!important;height:100%!important;flex:1!important;overflow-y:auto!important;overflow-x:hidden!important;box-sizing:border-box!important}.dashboard-loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:3rem 0}.dashboard-loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite;border-radius:50%;height:3rem;width:3rem;border:2px solid #e5e7eb;border-top:2px solid #2563eb}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.business-item[_ngcontent-%COMP%]:hover{background-color:#f9fafb;transition:background-color .15s ease-in-out}.status-approved[_ngcontent-%COMP%]{background-color:#dcfce7;color:#166534}.status-pending[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.status-rejected[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.status-suspended[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#374151}.create-business-btn[_ngcontent-%COMP%]:hover{background-color:#1d4ed8;transform:translateY(-1px);transition:all .2s ease-in-out}.action-btn[_ngcontent-%COMP%]:hover{background-color:#f9fafb;transform:translateY(-1px);transition:all .15s ease-in-out}.action-btn-danger[_ngcontent-%COMP%]:hover{background-color:#fef2f2;transform:translateY(-1px);transition:all .15s ease-in-out}.stat-card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;transition:box-shadow .2s ease-in-out}.empty-state[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:.6}  .mat-drawer-content{height:100%!important;max-height:100vh!important;overflow:hidden!important;display:flex!important;flex-direction:column!important}@media (max-width: 640px){.business-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.75rem}.action-buttons[_ngcontent-%COMP%]{margin-left:0;width:100%;justify-content:flex-end}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.create-business-btn[_ngcontent-%COMP%]:focus, .action-btn[_ngcontent-%COMP%]:focus, .action-btn-danger[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;box-shadow:0 0 0 2px #2563eb}@media print{.action-buttons[_ngcontent-%COMP%], .create-business-btn[_ngcontent-%COMP%]{display:none}}"]})};var Le=(r,e)=>{let t=p(B),a=p(S);return t.isAuthenticated$.pipe(Z(s=>s?!0:(a.navigate(["/auth"],{queryParams:{returnUrl:e.url}}),!1)))};var Qt=(r,e)=>{let t=p(B),a=p(S);return t.isAuthenticated$.pipe(Z(s=>s?(a.navigate(["/"]),!1):!0))};var qt=(()=>{class r{static \u0275fac=function(a){return new(a||r)};static \u0275mod=X({type:r});static \u0275inj=J({})}return r})();var Yt=(()=>{class r{static \u0275fac=function(a){return new(a||r)};static \u0275mod=X({type:r});static \u0275inj=J({imports:[_t,qt,Ct]})}return r})();var Ie=class r{http=p(ie);apiUrl=le.api.baseUrl;categoriesSubject=new $e([]);categories$=this.categoriesSubject.asObservable();getCategories(){return this.http.get(`${this.apiUrl}/categories`)}getSubcategories(e){let t=e?`${this.apiUrl}/subcategories?categoryId=${e}`:`${this.apiUrl}/subcategories`;return this.http.get(t)}loadCategories(){return M(this,null,function*(){try{let e=yield this.getCategories().toPromise();return e?.success&&e.data?(this.categoriesSubject.next(e.data),e.data):[]}catch(e){return console.error("Error loading categories:",e),[]}})}static \u0275fac=function(t){return new(t||r)};static \u0275prov=L({token:r,factory:r.\u0275fac,providedIn:"root"})};var yn=()=>[12,24,48],Jt=(r,e)=>e._id,Cn=(r,e)=>e.code;function wn(r,e){if(r&1&&(n(0,"mat-option",11),o(1),i()),r&2){let t=e.$implicit;g("value",t._id),l(),x(t.name)}}function Sn(r,e){if(r&1&&(n(0,"mat-option",11),o(1),i()),r&2){let t=e.$implicit;g("value",t.name),l(),x(t.name)}}function Mn(r,e){if(r&1){let t=P();n(0,"button",29),c("click",function(){h(t);let s=d();return f(s.clearFilters())}),n(1,"mat-icon"),o(2,"clear"),i(),o(3," Clear all filters "),i()}}function Pn(r,e){r&1&&(n(0,"div",26),m(1,"mat-spinner",30),n(2,"span",31),o(3,"Finding services..."),i()())}function kn(r,e){if(r&1&&(n(0,"div",27)(1,"div",32)(2,"mat-icon",33),o(3,"error"),i(),n(4,"span",34),o(5),i()()()),r&2){let t=d();l(5),x(t.error())}}function En(r,e){if(r&1){let t=P();n(0,"div",28)(1,"mat-icon",35),o(2,"search_off"),i(),n(3,"h3",36),o(4,"No services found"),i(),n(5,"p",37),o(6,"Try adjusting your search terms or filters"),i(),n(7,"button",38),c("click",function(){h(t);let s=d();return f(s.clearFilters())}),o(8," Clear filters "),i()()}}function On(r,e){if(r&1&&m(0,"img",44),r&2){let t=d().$implicit;g("src",t.banner_url,K)("alt",t.name+" banner")}}function Tn(r,e){r&1&&(n(0,"div",45)(1,"mat-icon",73),o(2,"business"),i()())}function An(r,e){r&1&&(n(0,"div",46)(1,"span",74)(2,"mat-icon",75),o(3,"star"),i(),o(4," PRO "),i()())}function In(r,e){if(r&1&&m(0,"img",52),r&2){let t=d().$implicit;g("src",t.logo_url,K)("alt",t.name+" logo")}}function Fn(r,e){r&1&&(n(0,"div",53)(1,"mat-icon",76),o(2,"business"),i()())}function Dn(r,e){if(r&1&&(n(0,"p",57)(1,"mat-icon",77),o(2,"location_on"),i(),o(3),i()),r&2){let t=d().$implicit;l(3),je(" ",t.city,", ",t.state," ")}}function Vn(r,e){if(r&1&&(n(0,"div",60)(1,"mat-icon",78),o(2,"star"),i(),n(3,"span",79),o(4),i(),n(5,"span",69),o(6),i()()),r&2){let t=d().$implicit;l(4),x(t.rating.toFixed(1)),l(2),je("(",t.review_count||0," ",(t.review_count||0)===1?"review":"reviews",")")}}function Rn(r,e){r&1&&(n(0,"span",61),o(1,"New business"),i())}function Hn(r,e){if(r&1&&(n(0,"span",81),o(1),i()),r&2){let t=e.$implicit;l(),v(" ",t," ")}}function Bn(r,e){if(r&1&&(n(0,"span",81),o(1),i()),r&2){let t=d(2).$implicit;l(),v(" +",t.tags.length-2," ")}}function jn(r,e){if(r&1&&(n(0,"div",62)(1,"div",80),T(2,Hn,2,1,"span",81,ee),_(4,Bn,2,1,"span",81),i()()),r&2){let t=d().$implicit;l(2),A(t.tags.slice(0,2)),l(2),b(t.tags.length>2?4:-1)}}function Nn(r,e){if(r&1&&m(0,"img",52),r&2){let t=d().$implicit,a=d(2);g("src",a.getOwnerAvatar(t),K)("alt",a.getOwnerName(t))}}function Ln(r,e){r&1&&(n(0,"div",66)(1,"mat-icon",82),o(2,"person"),i()())}function zn(r,e){if(r&1&&(n(0,"div",72)(1,"mat-icon",77),o(2,"visibility"),i(),o(3),i()),r&2){let t=d().$implicit;l(3),v(" ",t.view_count," ")}}function Un(r,e){if(r&1){let t=P();n(0,"div",42),c("click",function(){let s=h(t).$implicit,u=d(2);return f(u.onBusinessClick(s))}),n(1,"div",43),_(2,On,1,2,"img",44)(3,Tn,3,0,"div",45)(4,An,5,0,"div",46),n(5,"div",47)(6,"span",48),o(7),at(8,"titlecase"),i()()(),n(9,"div",49)(10,"div",50)(11,"div",51),_(12,In,1,2,"img",52)(13,Fn,3,0,"div",53),i()(),n(14,"div",54)(15,"h3",55),o(16),i(),n(17,"p",56),o(18),i(),_(19,Dn,4,2,"p",57),i(),n(20,"p",58),o(21),i(),n(22,"div",59),_(23,Vn,7,3,"div",60)(24,Rn,2,0,"span",61),i(),_(25,jn,5,1,"div",62),n(26,"div",63)(27,"div",64)(28,"div",65),_(29,Nn,1,2,"img",52)(30,Ln,3,0,"div",66),i(),n(31,"div",67)(32,"p",68),o(33),i(),n(34,"p",69),o(35),i()()(),n(36,"div",64)(37,"div",70),c("click",function(s){return h(t),f(s.stopPropagation())}),m(38,"app-favorite-button",71),i(),_(39,zn,4,1,"div",72),i()()()()}if(r&2){let t=e.$implicit,a=d(2);l(2),b(t.banner_url&&t.banner_url.trim()!==""?2:3),l(2),b(t.is_featured?4:-1),l(3),v(" ",st(8,16,t.business_type)," "),l(5),b(t.logo_url?12:13),l(4),v(" ",t.name," "),l(2),x(a.getCategoryName(t)),l(),b(t.city&&t.state?19:-1),l(2),v(" ",t.short_description||t.description||"Professional service provider"," "),l(2),b(t.rating!=null&&t.rating>0?23:24),l(2),b(t.tags&&t.tags.length>0?25:-1),l(4),b(a.getOwnerAvatar(t)?29:30),l(4),x(a.getOwnerName(t)),l(2),x(a.getOwnerCountry(t)),l(3),g("businessId",t._id)("businessName",t.name),l(),b(t.view_count>0?39:-1)}}function Gn(r,e){if(r&1){let t=P();n(0,"div",41)(1,"mat-paginator",83),c("page",function(s){h(t);let u=d(2);return f(u.onPageChange(s.pageIndex+1))}),i()()}if(r&2){let t=d(2);l(),g("length",t.total())("pageSize",12)("pageIndex",t.currentPage()-1)("pageSizeOptions",$(4,yn))}}function $n(r,e){if(r&1&&(n(0,"div",39),T(1,Un,40,18,"div",40,Jt),i(),_(3,Gn,2,5,"div",41)),r&2){let t=d();l(),A(t.businesses()),l(2),b(t.totalPages()>1?3:-1)}}var Fe=class r{route=p(Q);router=p(S);fb=p(he);businessService=p(Se);categoryService=p(Ie);authService=p(B);searchQuery=w("");selectedCountries=w([]);selectedCategories=w([]);selectedBusinessTypes=w([]);selectedRating=w(0);businesses=w([]);categories=w([]);loading=w(!1);error=w(null);total=w(0);currentPage=w(1);totalPages=w(0);filtersOpen=w(!1);isClientMode=V(()=>{let e=this.authService.user();return!e||e.user_mode==="client"});filterForm;countries=Ce;businessTypes=[{value:"service",label:"Service"},{value:"product",label:"Product"},{value:"both",label:"Both"}];ratingOptions=[{value:0,label:"All ratings"},{value:1,label:"1+ stars"},{value:2,label:"2+ stars"},{value:3,label:"3+ stars"},{value:4,label:"4+ stars"},{value:5,label:"5 stars"}];hasResults=V(()=>this.businesses().length>0);hasSearched=V(()=>this.searchQuery()||this.selectedCountries().length>0||this.selectedCategories().length>0||this.selectedBusinessTypes().length>0||this.selectedRating()>0);hasActiveFilters=V(()=>{let e=this.filterForm?.value;return!!(e?.selectedCountries?.length>0||e?.businessType||e?.location||e?.selectedCategories?.length>0||e?.selectedBusinessTypes?.length>0||e?.selectedRating>0)});ngOnInit(){this.initializeForm(),this.loadCategories(),this.route.queryParams.subscribe(e=>{this.searchQuery.set(e.q||""),this.selectedCountries.set(e.countries?e.countries.split(","):[]),this.selectedCategories.set(e.categories?e.categories.split(","):[]),this.selectedBusinessTypes.set(e.businessTypes?e.businessTypes.split(","):[]),this.selectedRating.set(parseInt(e.rating)||0),this.currentPage.set(parseInt(e.page)||1),this.filterForm.patchValue({searchQuery:this.searchQuery(),selectedCountries:this.selectedCountries(),selectedCategories:this.selectedCategories(),selectedBusinessTypes:this.selectedBusinessTypes(),selectedRating:this.selectedRating()},{emitEvent:!1}),this.performSearch()})}initializeForm(){this.filterForm=this.fb.group({searchQuery:[this.searchQuery()],selectedCountries:[this.selectedCountries()],selectedCategories:[this.selectedCategories()],selectedBusinessTypes:[this.selectedBusinessTypes()],selectedRating:[this.selectedRating()],businessType:[""],location:[""]})}loadCategories(){return M(this,null,function*(){try{let e=yield this.categoryService.loadCategories();this.categories.set(e)}catch(e){console.error("Error loading categories:",e)}})}performSearch(){return M(this,null,function*(){let e=this.searchQuery(),t=this.selectedCountries(),a=this.currentPage();if(!e&&t.length===0&&this.isClientMode()){this.loadVerifiedBusinesses();return}if(!e&&t.length===0){this.businesses.set([]),this.total.set(0),this.totalPages.set(0);return}try{this.loading.set(!0),this.error.set(null);let s=yield this.businessService.searchBusinesses(e||void 0,t.length>0?t:void 0,a,12).toPromise();s?.success&&s.data?(this.businesses.set(s.data.businesses),this.total.set(s.data.total),this.totalPages.set(s.data.totalPages)):this.error.set("Failed to search businesses")}catch(s){console.error("Search error:",s),this.error.set("An error occurred while searching")}finally{this.loading.set(!1)}})}loadVerifiedBusinesses(){return M(this,null,function*(){try{this.loading.set(!0),this.error.set(null);let e=yield this.businessService.searchBusinesses(void 0,void 0,this.currentPage(),12,{featured:!0}).toPromise();e?.success&&e.data?(this.businesses.set(e.data.businesses),this.total.set(e.data.total),this.totalPages.set(e.data.totalPages)):this.error.set("Failed to load verified businesses")}catch(e){console.error("Load verified businesses error:",e),this.error.set("An error occurred while loading verified businesses")}finally{this.loading.set(!1)}})}onSearch(){let e=this.filterForm.value,t={page:1};e.searchQuery?.trim()&&(t.q=e.searchQuery.trim()),e.selectedCountries&&e.selectedCountries.length>0&&(t.countries=e.selectedCountries.join(",")),e.selectedCategories&&e.selectedCategories.length>0&&(t.categories=e.selectedCategories.join(",")),e.selectedBusinessTypes&&e.selectedBusinessTypes.length>0&&(t.businessTypes=e.selectedBusinessTypes.join(",")),e.selectedRating&&e.selectedRating>0&&(t.rating=e.selectedRating),this.router.navigate(["/search"],{queryParams:t})}clearFilters(){this.filterForm.reset({searchQuery:"",selectedCountries:[],selectedCategories:[],selectedBusinessTypes:[],selectedRating:0,businessType:"",location:""}),this.onSearch()}toggleFilters(){this.filtersOpen.update(e=>!e)}onPageChange(e){let t=this.route.snapshot.queryParams;this.router.navigate(["/search"],{queryParams:Ge(Ue({},t),{page:e})})}getOwnerName(e){let t=e.owner_id;return t?.first_name&&t?.last_name?`${t.first_name} ${t.last_name}`:t?.first_name?t.first_name:t?.email?t.email:"Business Owner"}getOwnerCountry(e){return e.owner_id?.country_of_origin||"Unknown"}getCategoryName(e){return e.category_id?.name||"Uncategorized"}getOwnerAvatar(e){return e.owner_id?.profile_image_url||null}onBusinessClick(e){this.router.navigate(["/business/profile",e._id])}generatePageNumbers(){let e=this.totalPages(),t=this.currentPage(),a=5;if(e<=a)return Array.from({length:e},(C,j)=>j+1);let s=Math.max(1,t-Math.floor(a/2)),u=Math.min(e,s+a-1);return Array.from({length:u-s+1},(C,j)=>s+j)}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=y({type:r,selectors:[["app-search"]],decls:71,vars:13,consts:[[1,"min-h-screen","bg-gray-50"],[1,"bg-white","border-b","border-gray-200"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-6"],[1,"space-y-6",3,"formGroup"],[1,"relative"],["appearance","outline",1,"w-full"],["matInput","","formControlName","searchQuery","placeholder","Search for services, products, or businesses",3,"input"],["matPrefix",""],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","xl:grid-cols-5","gap-4"],["appearance","outline"],["formControlName","selectedCategories","multiple","",3,"selectionChange"],[3,"value"],["formControlName","businessType",3,"selectionChange"],["value",""],["value","service"],["value","product"],["value","both"],["formControlName","selectedCountries","multiple","",3,"selectionChange"],["matInput","","formControlName","location","placeholder","City, State",3,"input"],["formControlName","selectedRating",3,"selectionChange"],[1,"flex","flex-wrap","items-center","gap-4","justify-between"],[1,"flex","items-center","gap-4"],["mat-stroked-button","","type","button","color","warn"],[1,"text-sm","text-gray-600"],[1,"font-medium"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"flex","justify-center","items-center","py-12"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-4","mb-6"],[1,"text-center","py-12"],["mat-stroked-button","","type","button","color","warn",3,"click"],["diameter","50"],[1,"ml-4","text-gray-600"],[1,"flex","items-center"],[1,"text-red-500","mr-2"],[1,"text-red-700"],[1,"text-6xl","text-gray-400","mb-4"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-600","mb-4"],["mat-raised-button","","color","primary",3,"click"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-6","mb-8"],[1,"bg-white","rounded-xl","border","border-gray-200","shadow-sm","hover:shadow-lg","transition-all","duration-200","overflow-hidden","group","cursor-pointer"],[1,"flex","justify-center"],[1,"bg-white","rounded-xl","border","border-gray-200","shadow-sm","hover:shadow-lg","transition-all","duration-200","overflow-hidden","group","cursor-pointer",3,"click"],[1,"relative","h-32","bg-gradient-to-br","from-gray-100","to-gray-200","overflow-hidden"],[1,"w-full","h-full","object-cover","group-hover:scale-105","transition-transform","duration-300",3,"src","alt"],[1,"w-full","h-full","bg-gradient-to-br","from-green-400","to-blue-500","flex","items-center","justify-center"],[1,"absolute","top-3","left-3"],[1,"absolute","top-3","right-3"],[1,"bg-green-100","text-green-800","inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","backdrop-blur-sm"],[1,"relative","px-6","pb-6"],[1,"flex","justify-center","-mt-8","mb-4"],[1,"w-16","h-16","rounded-full","bg-white","shadow-lg","ring-2","ring-white","overflow-hidden"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"w-full","h-full","bg-gray-100","flex","items-center","justify-center"],[1,"text-center","mb-4"],[1,"text-lg","font-semibold","text-gray-900","truncate","mb-1","group-hover:text-green-600","transition-colors"],[1,"text-sm","text-gray-600","mb-1"],[1,"text-xs","text-gray-500","flex","items-center","justify-center"],[1,"text-sm","text-gray-600","mb-4","line-clamp-2","text-center"],[1,"flex","items-center","justify-center","mb-4"],[1,"flex","items-center","gap-1"],[1,"text-xs","text-gray-500","bg-gray-100","px-2","py-1","rounded-full"],[1,"mb-4"],[1,"flex","items-center","justify-between","pt-4","border-t","border-gray-100"],[1,"flex","items-center","gap-2"],[1,"w-8","h-8","rounded-full","overflow-hidden","flex-shrink-0"],[1,"w-full","h-full","bg-gray-200","flex","items-center","justify-center"],[1,"flex-1","min-w-0"],[1,"text-sm","font-medium","text-gray-900","truncate"],[1,"text-xs","text-gray-500"],[3,"click"],["size","small","buttonClass","text-gray-500 hover:text-red-500 transition-colors p-1",3,"businessId","businessName"],[1,"text-xs","text-gray-500","flex","items-center"],[1,"text-white","text-4xl","opacity-60"],[1,"bg-yellow-100","text-yellow-800","inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","backdrop-blur-sm"],[1,"w-3","h-3","mr-1"],[1,"text-gray-400","text-lg"],[1,"w-3","h-3","mr-1","text-xs"],[1,"text-yellow-400","text-sm"],[1,"text-sm","font-bold","text-gray-900"],[1,"flex","flex-wrap","gap-1","justify-center"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","bg-gray-100","text-gray-800"],[1,"text-gray-400","text-sm"],["showFirstLastButtons","",3,"page","length","pageSize","pageIndex","pageSizeOptions"]],template:function(t,a){t&1&&(m(0,"app-header"),n(1,"div",0)(2,"div",1)(3,"div",2)(4,"form",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),o(8,"Find women-owned businesses and services..."),i(),n(9,"input",6),c("input",function(){return a.onSearch()}),i(),n(10,"mat-icon",7),o(11,"search"),i()()(),n(12,"div",8)(13,"mat-form-field",9)(14,"mat-label"),o(15,"Category"),i(),n(16,"mat-select",10),c("selectionChange",function(){return a.onSearch()}),T(17,wn,2,2,"mat-option",11,Jt),i()(),n(19,"mat-form-field",9)(20,"mat-label"),o(21,"Service Type"),i(),n(22,"mat-select",12),c("selectionChange",function(){return a.onSearch()}),n(23,"mat-option",13),o(24,"All Types"),i(),n(25,"mat-option",14),o(26,"Services"),i(),n(27,"mat-option",15),o(28,"Products"),i(),n(29,"mat-option",16),o(30,"Both"),i()()(),n(31,"mat-form-field",9)(32,"mat-label"),o(33,"Heritage/Origin"),i(),n(34,"mat-select",17),c("selectionChange",function(){return a.onSearch()}),T(35,Sn,2,2,"mat-option",11,Cn),i()(),n(37,"mat-form-field",9)(38,"mat-label"),o(39,"Location"),i(),n(40,"input",18),c("input",function(){return a.onSearch()}),i(),n(41,"mat-icon",7),o(42,"location_on"),i()(),n(43,"mat-form-field",9)(44,"mat-label"),o(45,"Minimum Rating"),i(),n(46,"mat-select",19),c("selectionChange",function(){return a.onSearch()}),n(47,"mat-option",11),o(48,"All ratings"),i(),n(49,"mat-option",11),o(50,"1+ stars"),i(),n(51,"mat-option",11),o(52,"2+ stars"),i(),n(53,"mat-option",11),o(54,"3+ stars"),i(),n(55,"mat-option",11),o(56,"4+ stars"),i(),n(57,"mat-option",11),o(58,"5 stars"),i()()()(),n(59,"div",20)(60,"div",21),_(61,Mn,4,0,"button",22),i(),n(62,"div",23)(63,"span",24),o(64),i(),o(65," services found "),i()()()()(),n(66,"div",25),_(67,Pn,4,0,"div",26)(68,kn,6,1,"div",27)(69,En,9,0,"div",28)(70,$n,4,1),i()()),t&2&&(l(4),g("formGroup",a.filterForm),l(13),A(a.categories()),l(18),A(a.countries),l(12),g("value",0),l(2),g("value",1),l(2),g("value",2),l(2),g("value",3),l(2),g("value",4),l(2),g("value",5),l(4),b(a.hasActiveFilters()?61:-1),l(3),x(a.total()),l(3),b(a.loading()?67:-1),l(),b(a.error()?68:-1),l(),b(!a.loading()&&a.hasSearched()&&!a.hasResults()?69:-1),l(),b(!a.loading()&&a.hasResults()?70:-1))},dependencies:[I,dt,fe,pe,ce,de,me,ue,ge,_e,xe,Pt,kt,ve,ae,be,ye,Et,F,z,Vt,Rt,H,R,jt,Bt,Y,q,Nt,we,Yt,se,Ht,U,Lt],styles:[".line-clamp-1[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:1;line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.line-clamp-2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.business-card[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.business-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 25px 50px -12px #00000040}.business-gradient-1[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.business-gradient-2[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c)}.business-gradient-3[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe)}.business-gradient-4[_ngcontent-%COMP%]{background:linear-gradient(135deg,#43e97b,#38f9d7)}.business-gradient-5[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140)}.search-form[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{transition:all .3s ease}.search-form[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{transform:scale(1.02);box-shadow:0 10px 25px -5px #3b82f64d}.filter-pill[_ngcontent-%COMP%]{transition:all .2s ease}.filter-pill[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 8px #0000001a}.rating-stars[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{transition:color .2s ease}.business-type-badge.service[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dbeafe,#bfdbfe);color:#1e40af}.business-type-badge.product[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dcfce7,#bbf7d0);color:#166534}.business-type-badge.both[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a);color:#92400e}.featured-badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_glow 2s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_glow{0%{box-shadow:0 0 5px #fbbf2480}to{box-shadow:0 0 20px #fbbf24cc}}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.business-card[_ngcontent-%COMP%]   .business-header[_ngcontent-%COMP%]{height:120px}.business-card[_ngcontent-%COMP%]   .business-logo[_ngcontent-%COMP%]{width:60px;height:60px}}*[_ngcontent-%COMP%]{transition:color .2s ease,background-color .2s ease,border-color .2s ease,transform .2s ease,box-shadow .2s ease}"]})};var Qn=(r,e)=>e.title,qn=(r,e)=>e.number,Yn=(r,e)=>e.name;function Wn(r,e){if(r&1&&(n(0,"mat-card",15)(1,"div",2)(2,"div",33)(3,"mat-icon",34),o(4),i()(),n(5,"h3",35),o(6),i(),n(7,"p",36),o(8),i()()()),r&2){let t=e.$implicit;l(4),x(t.icon),l(2),x(t.title),l(2),x(t.description)}}function Zn(r,e){if(r&1&&(n(0,"div",2)(1,"div",37),o(2),i(),n(3,"h3",38),o(4),i(),n(5,"p",39),o(6),i()()),r&2){let t=e.$implicit;l(2),v(" ",t.number," "),l(2),x(t.title),l(2),x(t.description)}}function Jn(r,e){if(r&1&&(n(0,"mat-card",22)(1,"div",2)(2,"div",40)(3,"mat-icon",41),o(4,"person"),i()(),n(5,"blockquote",42),o(6),i(),n(7,"div",43),o(8),i(),n(9,"div",44),o(10),i()()()),r&2){let t=e.$implicit;l(6),v(' "',t.quote,'" '),l(2),x(t.name),l(2),x(t.business)}}var De=class r{constructor(e){this.router=e}navigateToSignUp(){this.router.navigate(["/auth"],{queryParams:{mode:"business"}})}navigateToSignIn(){this.router.navigate(["/auth"])}features=[{icon:"store",title:"Showcase Your Business",description:"Create a professional business profile that highlights your services, portfolio, and expertise to attract potential clients."},{icon:"people",title:"Connect with Clients",description:"Reach thousands of customers actively searching for services in your area and industry niche."},{icon:"payment",title:"Secure Payments",description:"Get paid safely and on time with our integrated payment system and escrow protection."},{icon:"trending_up",title:"Grow Your Revenue",description:"Scale your business with our marketing tools, analytics, and customer management features."},{icon:"support",title:"24/7 Support",description:"Get help when you need it with our dedicated support team and comprehensive resource center."},{icon:"verified",title:"Build Trust",description:"Earn verified badges, collect reviews, and build your reputation to attract more high-value clients."}];steps=[{number:"1",title:"Create Your Profile",description:"Sign up and build your professional business profile with your services, portfolio, and credentials."},{number:"2",title:"Get Discovered",description:"Optimize your profile with relevant keywords and showcase your best work to appear in search results."},{number:"3",title:"Connect & Deliver",description:"Respond to client inquiries, negotiate projects, and deliver exceptional work to build your reputation."},{number:"4",title:"Grow & Scale",description:"Use our tools to manage multiple projects, automate workflows, and scale your business operations."}];testimonials=[{name:"Sarah Johnson",business:"Digital Marketing Consultant",quote:"VouchHer helped me connect with clients I never would have reached otherwise. My revenue increased by 300% in just 6 months!",avatar:"assets/images/testimonial-1.jpg"},{name:"Michael Chen",business:"Web Development Agency",quote:"The platform makes it so easy to showcase our work and manage client relationships. We've landed several major contracts through VouchHer.",avatar:"assets/images/testimonial-2.jpg"},{name:"Aisha Patel",business:"Graphic Design Studio",quote:"I love how professional my business profile looks. Clients trust us more and we can charge premium rates for our services.",avatar:"assets/images/testimonial-3.jpg"}];static \u0275fac=function(t){return new(t||r)(D(S))};static \u0275cmp=y({type:r,selectors:[["app-own-business"]],decls:75,vars:0,consts:[[1,"bg-gradient-to-br","from-blue-600","via-blue-700","to-indigo-800","text-white"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-20"],[1,"text-center"],[1,"text-4xl","md:text-6xl","font-bold","mb-6"],[1,"text-yellow-400"],[1,"text-xl","md:text-2xl","mb-8","text-blue-100","max-w-3xl","mx-auto"],[1,"flex","flex-col","sm:flex-row","gap-4","justify-center"],["mat-raised-button","","color","accent",1,"!bg-yellow-500","!text-gray-900","!font-semibold","!px-8","!py-3","!text-lg","hover:!bg-yellow-400","transition-colors",3,"click"],["mat-stroked-button","",1,"!border-white","!text-white","!px-8","!py-3","!text-lg","hover:!bg-white","hover:!text-blue-600","transition-colors",3,"click"],[1,"py-20","bg-gray-50"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"text-center","mb-16"],[1,"text-3xl","md:text-4xl","font-bold","text-gray-900","mb-4"],[1,"text-xl","text-gray-600","max-w-2xl","mx-auto"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-8"],[1,"!p-6","hover:!shadow-lg","transition-shadow","cursor-pointer"],[1,"py-20","bg-white"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-8"],[1,"py-20","bg-blue-600","text-white"],[1,"text-center","mb-12"],[1,"text-3xl","md:text-4xl","font-bold","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-8"],[1,"!p-6"],[1,"py-20","bg-gradient-to-r","from-blue-600","to-indigo-700","text-white"],[1,"max-w-4xl","mx-auto","px-4","sm:px-6","lg:px-8","text-center"],[1,"text-3xl","md:text-4xl","font-bold","mb-6"],[1,"text-xl","mb-8","text-blue-100"],["mat-stroked-button","","routerLink","/search",1,"!border-white","!text-white","!px-8","!py-3","!text-lg","hover:!bg-white","hover:!text-blue-600","transition-colors"],[1,"bg-gray-900","text-white","py-12"],[1,"text-2xl","font-bold","text-blue-400","mb-4"],[1,"text-gray-400","mb-4"],[1,"flex","justify-center","space-x-6"],["href","#",1,"text-gray-400","hover:text-white","transition-colors"],[1,"bg-blue-100","rounded-full","w-16","h-16","flex","items-center","justify-center","mx-auto","mb-4"],[1,"!text-blue-600","!text-3xl"],[1,"text-xl","font-semibold","text-gray-900","mb-3"],[1,"text-gray-600","leading-relaxed"],[1,"bg-blue-600","text-white","rounded-full","w-12","h-12","flex","items-center","justify-center","mx-auto","mb-4","font-bold","text-lg"],[1,"text-lg","font-semibold","text-gray-900","mb-3"],[1,"text-gray-600","text-sm","leading-relaxed"],[1,"bg-gray-300","rounded-full","w-16","h-16","flex","items-center","justify-center","mx-auto","mb-4"],[1,"!text-gray-600","!text-2xl"],[1,"text-gray-700","italic","mb-4"],[1,"font-semibold","text-gray-900"],[1,"text-sm","text-gray-600"]],template:function(t,a){t&1&&(m(0,"app-header"),n(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),o(5," Turn Your Skills Into "),n(6,"span",4),o(7,"Success"),i()(),n(8,"p",5),o(9," Join thousands of entrepreneurs who are building thriving businesses on VouchHer. Start earning from your expertise today. "),i(),n(10,"div",6)(11,"button",7),c("click",function(){return a.navigateToSignUp()}),o(12," Start Your Business Journey "),i(),n(13,"button",8),c("click",function(){return a.navigateToSignIn()}),o(14," Already Have an Account? "),i()()()()(),n(15,"div",9)(16,"div",10)(17,"div",11)(18,"h2",12),o(19," Why Choose VouchHer? "),i(),n(20,"p",13),o(21," Everything you need to build, grow, and scale your business online "),i()(),n(22,"div",14),T(23,Wn,9,3,"mat-card",15,Qn),i()()(),n(25,"div",16)(26,"div",10)(27,"div",11)(28,"h2",12),o(29," How It Works "),i(),n(30,"p",13),o(31," Getting started is simple. Follow these four easy steps to launch your business "),i()(),n(32,"div",17),T(33,Zn,7,3,"div",2,qn),i()()(),n(35,"div",18)(36,"div",10)(37,"div",19)(38,"h2",20),o(39," Join Our Growing Community "),i()()()(),n(40,"div",9)(41,"div",10)(42,"div",11)(43,"h2",12),o(44," Real results from clients "),i(),n(45,"p",13),o(46," Hear from entrepreneurs who transformed their businesses with VouchHer "),i()(),n(47,"div",21),T(48,Jn,11,3,"mat-card",22,Yn),i()()(),n(50,"div",23)(51,"div",24)(52,"h2",25),o(53," Ready to Start Your Business Journey? "),i(),n(54,"p",26),o(55," Join thousands of successful entrepreneurs who are already earning on VouchHer. Your next client is waiting for you. "),i(),n(56,"div",6)(57,"button",7),c("click",function(){return a.navigateToSignUp()}),o(58," Get Started for Free "),i(),n(59,"button",27),o(60," Browse Businesses "),i()()()(),n(61,"div",28)(62,"div",10)(63,"div",2)(64,"div",29),o(65,"VouchHer"),i(),n(66,"p",30),o(67,"Empowering entrepreneurs to build successful businesses"),i(),n(68,"div",31)(69,"a",32),o(70,"Privacy Policy"),i(),n(71,"a",32),o(72,"Terms of Service"),i(),n(73,"a",32),o(74,"Support"),i()()()()()),t&2&&(l(23),A(a.features),l(10),A(a.steps),l(15),A(a.testimonials))},dependencies:[I,bt,re,F,z,H,R,Ut,zt,U],styles:[".hero-section[_ngcontent-%COMP%]{background:#312e81}.feature-card[_ngcontent-%COMP%]{transition:all .3s ease}.feature-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 20px 25px -5px #0000001a}.step-number[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1e40af);box-shadow:0 4px 14px #3b82f663}.testimonial-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);transition:transform .3s ease}.stats-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1e40af)}.cta-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#4338ca)}.accent-button[_ngcontent-%COMP%]{background:#fbbf24!important;color:#111827!important;font-weight:600}.accent-button[_ngcontent-%COMP%]:hover{background:#f59e0b!important}.outlined-button[_ngcontent-%COMP%]{border:2px solid #ffffff;color:#fff}.outlined-button[_ngcontent-%COMP%]:hover{background:#fff;color:#3b82f6}@media (max-width: 768px){.hero-section[_ngcontent-%COMP%]{padding:60px 0}.hero-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;line-height:1.2}.hero-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.125rem}.feature-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.steps-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:2rem}}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .6s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.slide-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .8s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}.section-padding[_ngcontent-%COMP%]{padding:5rem 0}@media (max-width: 768px){.section-padding[_ngcontent-%COMP%]{padding:3rem 0}}"]})};var Ve=class r{constructor(e){this.http=e}apiUrl=`${le.api.baseUrl}/paypal-accounts`;getConnectUrl(){return this.http.get(`${this.apiUrl}/connect-url`)}connectAccount(e){return this.http.post(`${this.apiUrl}/connect`,e)}getAccounts(){return this.http.get(this.apiUrl)}getAccount(e){return this.http.get(`${this.apiUrl}/${e}`)}refreshAccount(e){return this.http.post(`${this.apiUrl}/${e}/refresh`,{})}disconnectAccount(e){return this.http.post(`${this.apiUrl}/${e}/disconnect`,{})}verifyAccount(e){return this.http.post(`${this.apiUrl}/${e}/verify`,{})}initiatePayPalConnection(e){return M(this,null,function*(){try{let t=yield this.getConnectUrl().toPromise();if(!t?.auth_url)throw new Error("Failed to get PayPal OAuth URL");let a=window.open(t.auth_url,"paypal-oauth","width=500,height=600,scrollbars=yes,resizable=yes");if(!a)throw new Error("Popup blocked. Please allow popups for this site.");return new Promise((s,u)=>{let C=setInterval(()=>{a.closed&&(clearInterval(C),u(new Error("PayPal connection was cancelled")))},1e3),j=G=>{G.origin===window.location.origin&&(G.data.type==="PAYPAL_OAUTH_SUCCESS"?(clearInterval(C),window.removeEventListener("message",j),a.close(),this.connectAccount({code:G.data.code,state:G.data.state}).subscribe({next:Be=>s(Be),error:Be=>u(Be)})):G.data.type==="PAYPAL_OAUTH_ERROR"&&(clearInterval(C),window.removeEventListener("message",j),a.close(),u(new Error(G.data.error||"PayPal connection failed"))))};window.addEventListener("message",j)})}catch(t){throw console.error("PayPal connection error:",t),t}})}static \u0275fac=function(t){return new(t||r)(Ze(ie))};static \u0275prov=L({token:r,factory:r.\u0275fac,providedIn:"root"})};function Xn(r,e){r&1&&(n(0,"div",4),m(1,"mat-spinner",5),n(2,"h2"),o(3,"Connecting PayPal Account"),i(),n(4,"p"),o(5,"Please wait while we connect your PayPal account..."),i()())}function ei(r,e){if(r&1&&(n(0,"div",12)(1,"p")(2,"strong"),o(3,"Email:"),i(),o(4),i(),n(5,"p")(6,"strong"),o(7,"Status:"),i(),o(8),i()()),r&2){let t=d(2);l(4),v(" ",t.connectedAccount.email,""),l(4),v(" ",t.connectedAccount.is_verified?"Verified":"Not Verified","")}}function ti(r,e){if(r&1){let t=P();n(0,"div",6)(1,"mat-icon",7),o(2,"check_circle"),i(),n(3,"h2"),o(4,"PayPal Account Connected!"),i(),n(5,"p"),o(6,"Your PayPal account has been successfully connected."),i(),_(7,ei,9,2,"div",8),n(8,"div",9)(9,"button",10),c("click",function(){h(t);let s=d();return f(s.goToPayPalAccounts())}),o(10," View PayPal Accounts "),i(),n(11,"button",11),c("click",function(){h(t);let s=d();return f(s.goToWithdrawals())}),o(12," Create Withdrawal "),i()()()}if(r&2){let t=d();l(7),g("ngIf",t.connectedAccount)}}function ni(r,e){if(r&1){let t=P();n(0,"div",13)(1,"mat-icon",14),o(2,"error"),i(),n(3,"h2"),o(4,"Connection Failed"),i(),n(5,"p"),o(6),i(),n(7,"div",9)(8,"button",10),c("click",function(){h(t);let s=d();return f(s.retry())}),o(9," Try Again "),i(),n(10,"button",11),c("click",function(){h(t);let s=d();return f(s.goToPayPalAccounts())}),o(11," Go Back "),i()()()}if(r&2){let t=d();l(6),x(t.errorMessage)}}var Re=class r{constructor(e,t,a){this.route=e;this.router=t;this.paypalService=a}processing=!0;success=!1;error=!1;errorMessage="";connectedAccount=null;ngOnInit(){this.handleCallback()}handleCallback(){this.route.queryParams.subscribe(e=>{let t=e.code,a=e.state,s=e.error,u=e.error_description;if(s){this.handleError(u||s);return}if(!t||!a){this.handleError("Missing authorization code or state parameter");return}this.paypalService.connectAccount({code:t,state:a}).subscribe({next:C=>{this.processing=!1,this.success=!0,this.connectedAccount=C,window.opener&&(window.opener.postMessage({type:"PAYPAL_OAUTH_SUCCESS",code:t,state:a,account:C},window.location.origin),window.close())},error:C=>{console.error("PayPal connection error:",C),this.handleError(C.error?.message||"Failed to connect PayPal account"),window.opener&&(window.opener.postMessage({type:"PAYPAL_OAUTH_ERROR",error:C.error?.message||"Failed to connect PayPal account"},window.location.origin),window.close())}})})}handleError(e){this.processing=!1,this.error=!0,this.errorMessage=e}retry(){this.processing=!0,this.error=!1,this.success=!1,this.handleCallback()}goToPayPalAccounts(){this.router.navigate(["/paypal-accounts"])}goToWithdrawals(){this.router.navigate(["/withdrawals"])}static \u0275fac=function(t){return new(t||r)(D(Q),D(S),D(Ve))};static \u0275cmp=y({type:r,selectors:[["app-paypal-callback"]],decls:4,vars:3,consts:[[1,"callback-container"],["class","processing-state",4,"ngIf"],["class","success-state",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"processing-state"],["diameter","48"],[1,"success-state"],[1,"success-icon"],["class","account-info",4,"ngIf"],[1,"actions"],["mat-raised-button","","color","primary",3,"click"],["mat-stroked-button","",3,"click"],[1,"account-info"],[1,"error-state"],[1,"error-icon"]],template:function(t,a){t&1&&(n(0,"div",0),_(1,Xn,6,0,"div",1)(2,ti,13,1,"div",2)(3,ni,12,1,"div",3),i()),t&2&&(l(),g("ngIf",a.processing),l(),g("ngIf",a.success&&!a.processing),l(),g("ngIf",a.error&&!a.processing))},dependencies:[I,ne,Y,q,H,R,F,z],styles:[".callback-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:24px;background:linear-gradient(135deg,#667eea,#764ba2)}.processing-state[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{background:#fff;padding:48px 32px;border-radius:16px;box-shadow:0 20px 40px #0000001a;text-align:center;max-width:500px;width:100%}.processing-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:24px 0 16px;font-size:1.5rem;font-weight:600}.processing-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 24px;color:#666;line-height:1.6}.success-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#4caf50;margin-bottom:16px}.error-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#f44336;margin-bottom:16px}.account-info[_ngcontent-%COMP%]{background:#f5f5f5;padding:16px;border-radius:8px;margin:24px 0;text-align:left}.account-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;color:#333}.actions[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:center;flex-wrap:wrap;margin-top:32px}@media (max-width: 768px){.actions[_ngcontent-%COMP%]{flex-direction:column}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]})};function ii(r,e){r&1&&(n(0,"div",4),m(1,"mat-spinner",5),n(2,"h2"),o(3,"Verifying Stripe Account"),i(),n(4,"p"),o(5,"Please wait while we verify your Stripe account setup..."),i()())}function oi(r,e){if(r&1){let t=P();n(0,"div",6)(1,"mat-icon",7),o(2,"check_circle"),i(),n(3,"h2"),o(4,"Stripe Account Connected Successfully!"),i(),n(5,"p"),o(6,"Your Stripe account has been set up and is ready for withdrawals."),i(),n(7,"div",8)(8,"button",9),c("click",function(){h(t);let s=d();return f(s.goToEarnings())}),o(9," View Earnings "),i(),n(10,"button",10),c("click",function(){h(t);let s=d();return f(s.goToDashboard())}),o(11," Back to Dashboard "),i()()()}}function ri(r,e){if(r&1){let t=P();n(0,"div",11)(1,"mat-icon",12),o(2,"error"),i(),n(3,"h2"),o(4,"Setup Incomplete"),i(),n(5,"p"),o(6),i(),n(7,"div",8)(8,"button",13),c("click",function(){h(t);let s=d();return f(s.retrySetup())}),o(9," Try Again "),i(),n(10,"button",10),c("click",function(){h(t);let s=d();return f(s.goToDashboard())}),o(11," Back to Dashboard "),i()()()}if(r&2){let t=d();l(6),x(t.errorMessage)}}var W=class r{constructor(e,t,a){this.route=e;this.router=t;this.stripeConnectService=a}processing=!0;success=!1;error=!1;errorMessage="";ngOnInit(){return M(this,null,function*(){this.route.queryParams.subscribe(e=>M(this,null,function*(){e.success==="true"?yield this.handleSuccess():e.success==="false"?yield this.handleError():yield this.checkAccountStatus()}))})}handleSuccess(){return M(this,null,function*(){try{let e=yield this.stripeConnectService.getAccountStatus().toPromise();e?.payouts_enabled&&!e?.requirements_due?(this.processing=!1,this.success=!0):(this.processing=!1,this.error=!0,this.errorMessage="Account setup is not yet complete. Please try the onboarding process again.")}catch{this.processing=!1,this.error=!0,this.errorMessage="Failed to verify account status. Please try again."}})}handleError(){return M(this,null,function*(){this.processing=!1,this.error=!0,this.errorMessage="Account setup was not completed. You can try setting up your Stripe account again."})}checkAccountStatus(){return M(this,null,function*(){try{let e=yield this.stripeConnectService.getAccountStatus().toPromise();e?.payouts_enabled&&!e?.requirements_due?(this.processing=!1,this.success=!0):(this.processing=!1,this.error=!0,this.errorMessage="Account setup is incomplete. Please complete the onboarding process.")}catch{this.processing=!1,this.error=!0,this.errorMessage="Failed to check account status. Please try again."}})}retrySetup(){return M(this,null,function*(){try{this.processing=!0;let e=yield this.stripeConnectService.createOnboardingLink().toPromise();window.location.href=e.url}catch{this.processing=!1,this.errorMessage="Failed to create setup link. Please try again later."}})}goToEarnings(){this.router.navigate(["/dashboard/earnings"])}goToDashboard(){this.router.navigate(["/dashboard"])}static \u0275fac=function(t){return new(t||r)(D(Q),D(S),D(Gt))};static \u0275cmp=y({type:r,selectors:[["app-stripe-callback"]],decls:4,vars:3,consts:[[1,"callback-container"],["class","processing-state",4,"ngIf"],["class","success-state",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"processing-state"],["diameter","48"],[1,"success-state"],[1,"success-icon"],[1,"actions"],["mat-raised-button","","color","primary",3,"click"],["mat-button","",3,"click"],[1,"error-state"],[1,"error-icon"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,a){t&1&&(n(0,"div",0),_(1,ii,6,0,"div",1)(2,oi,12,0,"div",2)(3,ri,12,1,"div",3),i()),t&2&&(l(),g("ngIf",a.processing),l(),g("ngIf",a.success&&!a.processing),l(),g("ngIf",a.error&&!a.processing))},dependencies:[I,ne,Y,q,H,R,F,z],styles:[".callback-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:24px;background:#f5f5f5}.processing-state[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{text-align:center;max-width:400px;padding:48px 32px;background:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a}.success-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#4caf50;margin-bottom:24px}.error-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#f44336;margin-bottom:24px}h2[_ngcontent-%COMP%]{margin:16px 0;color:#333}p[_ngcontent-%COMP%]{margin:16px 0;color:#666;line-height:1.5}.actions[_ngcontent-%COMP%]{margin-top:32px;display:flex;gap:16px;justify-content:center;flex-wrap:wrap}mat-spinner[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.processing-state[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{padding:32px 24px;margin:16px}.actions[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;max-width:200px}}"]})};var Xt=[{path:"",component:Oe},{path:"search",component:Fe},{path:"own-business",component:De},{path:"auth",loadChildren:()=>import("./chunk-ZNDXEY63.js").then(r=>r.AUTH_ROUTES),canActivate:[Qt]},{path:"login",redirectTo:"auth/login"},{path:"signup",redirectTo:"auth/signup"},{path:"dashboard",component:Te,loadChildren:()=>import("./chunk-K7DJNR7U.js").then(r=>r.DASHBOARD_ROUTES),canActivate:[Le]},{path:"admin",loadChildren:()=>import("./chunk-QCHG3ODC.js").then(r=>r.adminRoutes),canActivate:[Le]},{path:"business",loadChildren:()=>import("./chunk-BHGMQNK7.js").then(r=>r.BUSINESS_ROUTES)},{path:"paypal/callback",component:Re},{path:"stripe/return",component:W},{path:"stripe/refresh",component:W}];var en={providers:[lt({eventCoalescing:!0}),xt(Xt),gt(ht()),$t(),yt(),{provide:ut,useClass:Me,multi:!0}]};var He=class r{title="putheron";authorizationService=p(St);constructor(){typeof window<"u"&&(window.authService=this.authorizationService,console.log("\u{1F527} Authorization service exposed as window.authService for debugging"),console.log("\u{1F4A1} Use window.authService.debugAuthState() to inspect permissions"))}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=y({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(t,a){t&1&&m(0,"router-outlet")},dependencies:[oe],encapsulation:2})};pt(He,en).catch(r=>console.error(r));
