import{a as n}from"./chunk-DD4BNXLG.js";import{eb as t,fa as i,jb as r,qb as a}from"./chunk-BEPULU6C.js";var h=class s{authService=i(n);templateRef=i(t);viewContainer=i(r);subscription;hasView=!1;set hasPermission(e){this._permissions=Array.isArray(e)?e:[e],this.updateView()}hasPermissionRequireAll=!1;hasPermissionElse;_permissions=[];ngOnInit(){this.subscription=this.authService.userPermissions$.subscribe(()=>{this.updateView()})}ngOnDestroy(){this.subscription?.unsubscribe()}updateView(){let e=this.checkPermissions();e&&!this.hasView?(this.viewContainer.clear(),this.viewContainer.createEmbeddedView(this.templateRef),this.hasView=!0):!e&&this.hasView&&(this.viewContainer.clear(),this.hasView=!1,this.hasPermissionElse&&this.viewContainer.createEmbeddedView(this.hasPermissionElse))}checkPermissions(){return this._permissions.length?this.hasPermissionRequireAll?this.authService.hasAllPermissions(this._permissions):this.authService.hasAnyPermission(this._permissions):!0}static \u0275fac=function(o){return new(o||s)};static \u0275dir=a({type:s,selectors:[["","hasPermission",""]],inputs:{hasPermission:"hasPermission",hasPermissionRequireAll:"hasPermissionRequireAll",hasPermissionElse:"hasPermissionElse"}})};export{h as a};
