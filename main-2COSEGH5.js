import{a as sn,b as dn}from"./chunk-VLA5YAO4.js";import{a as un,b as gn}from"./chunk-K3CZJMSM.js";import{a as _n}from"./chunk-DLVUO54B.js";import{a as Cn}from"./chunk-HOX2A7T4.js";import{b as zt}from"./chunk-AOBWMU6F.js";import"./chunk-M75U4SGI.js";import{c as hn}from"./chunk-TWK25V6W.js";import{a as ln}from"./chunk-KHUZYUCG.js";import{a as cn}from"./chunk-UAFHO54Y.js";import"./chunk-PVDG46DZ.js";import{a as pn}from"./chunk-O747WVHD.js";import"./chunk-BA2EXSEK.js";import{a as fn,c as xn,e as vn,f as bn,h as yn}from"./chunk-R2F2B62Q.js";import{b as _e,c as Ce,d as we,e as J,f as nn,g as re}from"./chunk-P4WRWHWY.js";import{b as ye}from"./chunk-IK6JUFTK.js";import"./chunk-DKE3OTJ7.js";import{a as Qt,b as qt,c as $t,d as X}from"./chunk-KLROSHLT.js";import{a as Yt}from"./chunk-B7X6HNXL.js";import"./chunk-TE5HKKWZ.js";import{b as an,d as le}from"./chunk-SQ5Q2QHJ.js";import"./chunk-5J5HWN7Y.js";import{b as mn}from"./chunk-V4Y4CMTG.js";import{a as Fe}from"./chunk-WJ4DFVWN.js";import"./chunk-KGCA3U4R.js";import{d as Lt,h as $,i as rn,j as ae,l as Ie,m as se}from"./chunk-XZTS425U.js";import"./chunk-32WIJ6DZ.js";import{f as Ut}from"./chunk-7N3ULFJ6.js";import{d as Ae,g as Oe,h as on,k as Te}from"./chunk-K76RD3AY.js";import{A as tn,B as oe,c as Me,h as Pe,i as Ee,j as Zt,k as Kt,l as ke,p as Xt,r as Jt,x as en,z as ie}from"./chunk-LJVLI66S.js";import{a as Se}from"./chunk-EWH2HRUY.js";import{a as te,b as ne}from"./chunk-4LADR266.js";import{b as Gt,c as I,d as k}from"./chunk-AT26KLTR.js";import{a as j}from"./chunk-NZJEVKY3.js";import{a as Wt}from"./chunk-TL7YA3DG.js";import{a as Bt}from"./chunk-CGBMKB7Q.js";import"./chunk-WF66C34H.js";import{a as ee}from"./chunk-QD7SSFII.js";import{a as B,b as T}from"./chunk-QYFERLBL.js";import{F as jt,d as Vt}from"./chunk-VBZ52KF5.js";import{b as K,c as be,d as E,e as Rt,g as Nt,h as Ht}from"./chunk-WBPYOJYK.js";import{a as Ot,b as Tt}from"./chunk-6N4JLV7X.js";import{A as ve,B as It,C as Ft,D as Dt,k as Z,n as At,t as P}from"./chunk-TZYYMUAL.js";import{D as mt,Db as Ze,Eb as _,Ec as Pt,Fb as C,Fc as Et,Hb as St,Ib as U,Ja as bt,Jb as Q,Kb as m,Lb as n,Lc as kt,Mb as i,Nb as d,Ob as S,Pb as M,Pc as V,Qc as xe,Ub as O,Ya as he,Yb as u,Z as pt,_a as l,_b as g,aa as H,ba as ge,cb as yt,cc as Ke,da as ut,db as Ye,dc as Xe,ea as gt,eb as _t,ec as Je,fa as c,g as ct,ga as ht,hb as Ct,ic as Y,jb as z,ka as x,kb as wt,kc as q,l as dt,la as v,ma as F,mc as a,na as D,nc as w,oa as ft,oc as R,pa as xt,pb as f,pc as et,q as ue,qb as fe,rc as tt,sc as nt,tc as it,ua as b,va as vt,vb as G,xc as Mt}from"./chunk-4R5BQBA3.js";import{a as st,b as lt,e as y}from"./chunk-JKOY2XUY.js";var In="@",Fn=(()=>{class r{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=c(ft);loadingSchedulerFn=c(Dn,{optional:!0});_engine;constructor(t,o,s,p,h){this.doc=t,this.delegate=o,this.zone=s,this.animationType=p,this.moduleImpl=h}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-QZL6PHL6.js").then(s=>s),o;return this.loadingSchedulerFn?o=this.loadingSchedulerFn(t):o=t(),o.catch(s=>{throw new pt(5300,!1)}).then(({\u0275createEngine:s,\u0275AnimationRendererFactory:p})=>{this._engine=s(this.animationType,this.doc);let h=new p(this.delegate,this._engine,this.zone);return this.delegate=h,h})}createRenderer(t,o){let s=this.delegate.createRenderer(t,o);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let p=new ot(s);return o?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(h=>{let L=h.createRenderer(t,o);p.use(L),this.scheduler??=this.injector.get(vt,null,{optional:!0}),this.scheduler?.notify(10)}).catch(h=>{p.use(s)}),p}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(t){this._engine?.flush(),this.delegate.componentReplaced?.(t)}static \u0275fac=function(o){wt()};static \u0275prov=H({token:r,factory:r.\u0275fac})}return r})(),ot=class{delegate;replay=[];\u0275type=1;constructor(e){this.delegate=e}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,o,s){this.delegate.insertBefore(e,t,o,s)}removeChild(e,t,o,s){this.delegate.removeChild(e,t,o,s)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,o,s){this.delegate.setAttribute(e,t,o,s)}removeAttribute(e,t,o){this.delegate.removeAttribute(e,t,o)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,o,s){this.delegate.setStyle(e,t,o,s)}removeStyle(e,t,o){this.delegate.removeStyle(e,t,o)}setProperty(e,t,o){this.shouldReplay(t)&&this.replay.push(s=>s.setProperty(e,t,o)),this.delegate.setProperty(e,t,o)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,o,s){return this.shouldReplay(t)&&this.replay.push(p=>p.listen(e,t,o,s)),this.delegate.listen(e,t,o,s)}shouldReplay(e){return this.replay!==null&&e.startsWith(In)}},Dn=new ut("");function wn(r="animations"){return yt("NgAsyncAnimations"),ht([{provide:Ct,useFactory:(e,t,o)=>new Fn(e,t,o,r),deps:[xt,Ot,_t]},{provide:bt,useValue:r==="noop"?"NoopAnimations":"BrowserAnimations"}])}var De=class r{router=c(E);intercept(e,t){let o=this.getTokenFromStorage(),s=e;return o&&(s=e.clone({setHeaders:{Authorization:`Bearer ${o}`}})),t.handle(s).pipe(mt(p=>(p.status===401&&(console.warn("Authentication failed, redirecting to login"),this.clearAuthData(),this.router.navigate(["/auth"],{queryParams:{message:"Your session has expired. Please log in again."}})),dt(()=>p))))}getTokenFromStorage(){return typeof window<"u"?localStorage.getItem("access_token"):null}clearAuthData(){typeof window<"u"&&(localStorage.removeItem("access_token"),localStorage.removeItem("current_user"),localStorage.removeItem("userPermissions"),localStorage.removeItem("permissionsTimestamp"))}static \u0275fac=function(t){return new(t||r)};static \u0275prov=H({token:r,factory:r.\u0275fac})};var ce=class r{http=c(ve);apiUrl=ee.api.baseUrl;categoriesSubject=new ct([]);categories$=this.categoriesSubject.asObservable();getCategories(){return this.http.get(`${this.apiUrl}/categories`)}getSubcategories(e){let t=e?`${this.apiUrl}/subcategories?categoryId=${e}`:`${this.apiUrl}/subcategories`;return this.http.get(t)}loadCategories(){return y(this,null,function*(){try{let e=yield this.getCategories().toPromise();return e?.success&&e.data?(this.categoriesSubject.next(e.data),e.data):[]}catch(e){return console.error("Error loading categories:",e),[]}})}static \u0275fac=function(t){return new(t||r)};static \u0275prov=H({token:r,factory:r.\u0275fac,providedIn:"root"})};var Sn=(r,e)=>e._id;function Rn(r,e){if(r&1){let t=O();n(0,"mat-chip",11),u("click",function(){let s=x(t).$implicit,p=g();return v(p.selectCategory(s))}),a(1),i()}if(r&2){let t=e.$implicit;l(),R(" ",t.name," ")}}function Nn(r,e){if(r&1&&(n(0,"mat-icon"),a(1),i()),r&2){let t=g().$implicit;l(),w(t.icon)}}function Hn(r,e){if(r&1){let t=O();n(0,"button",12),u("click",function(){let s=x(t).$implicit,p=g();return v(p.selectCategory(s))}),_(1,Nn,2,1,"mat-icon"),n(2,"span"),a(3),i()()}if(r&2){let t=e.$implicit;l(),C(t.icon?1:-1),l(2),w(t.name)}}var me=class r{fb=c(ie);categoryService=c(ce);filtersChanged=new Ye;categorySelected=new Ye;filterForm;categories=b([]);displayedCategories=b([]);selectedCategoryName=b("Category");ngOnInit(){this.filterForm=this.fb.group({category:[""]}),this.loadCategories(),this.filterForm.valueChanges.subscribe(e=>{this.filtersChanged.emit(e)})}loadCategories(){return y(this,null,function*(){try{let e=yield this.categoryService.getCategories().toPromise();if(e?.success&&e.data){let t=e.data.filter(o=>o.is_active);this.categories.set(t),this.setRandomCategories(t)}}catch(e){console.error("Error loading categories:",e)}})}setRandomCategories(e){let t=[...e].sort(()=>Math.random()-.5);this.displayedCategories.set(t.slice(0,4))}selectCategory(e){this.selectedCategoryName.set(e.name),this.filterForm.patchValue({category:e._id}),this.categorySelected.emit(e)}clearCategory(){this.selectedCategoryName.set("Category"),this.filterForm.patchValue({category:""})}getFormValue(){return{category:this.filterForm.value.category,categoryName:this.selectedCategoryName()}}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=f({type:r,selectors:[["app-search-filters"]],outputs:{filtersChanged:"filtersChanged",categorySelected:"categorySelected"},decls:15,vars:2,consts:[["categoryMenuMobile","matMenu"],[1,"flex","flex-wrap","items-center","gap-2","lg:gap-3"],[1,"w-full","lg:hidden"],["mat-stroked-button","",1,"rounded-full","border-gray-300","px-4","w-full",3,"matMenuTriggerFor"],[1,"text-gray-700","truncate"],[1,"ml-1"],[1,"hidden","lg:flex","items-center","gap-3","w-full","flex-wrap"],[1,"cursor-pointer"],[1,"search-filter-menu"],[1,"max-h-96","overflow-y-auto"],["mat-menu-item",""],[1,"cursor-pointer",3,"click"],["mat-menu-item","",3,"click"]],template:function(t,o){if(t&1&&(n(0,"div",1)(1,"div",2)(2,"button",3)(3,"span",4),a(4),i(),n(5,"mat-icon",5),a(6,"expand_more"),i()()(),n(7,"div",6),U(8,Rn,2,1,"mat-chip",7,Sn),i(),n(10,"mat-menu",8,0)(12,"div",9),U(13,Hn,4,2,"button",10,Sn),i()()()),t&2){let s=Y(11);l(2),m("matMenuTriggerFor",s),l(2),w(o.selectedCategoryName()),l(4),Q(o.displayedCategories()),l(5),Q(o.categories())}},dependencies:[P,oe,k,I,T,B,X,qt,Qt,$t,le,an],styles:[".search-filter-menu .mat-mdc-menu-content{padding:8px 0}  .search-filter-menu .mat-mdc-menu-item{min-height:44px}  .search-filter-menu .mat-mdc-menu-item:hover{background-color:#20aa6214}  mat-chip{cursor:pointer}"]})};var Ne=class r{fb=c(ie);router=c(E);searchFiltersComponent;searchForm;currentFilters={};countries=Fe;ngOnInit(){this.searchForm=this.fb.group({searchQuery:[""]})}onFiltersChanged(e){this.currentFilters=e}onCategorySelected(e){let t=this.searchForm.get("searchQuery")?.value?.trim(),o={};t&&(o.q=t),e._id&&(o.category=e._id),this.router.navigate(["/search"],{queryParams:o})}onSearchQueryChange(e){this.searchForm.patchValue({searchQuery:e})}onSearch(){let e=this.searchForm.get("searchQuery")?.value?.trim(),t=this.searchFiltersComponent?.getFormValue()||{},o={};e&&(o.q=e),t.category&&(o.category=t.category),Object.keys(o).length>0&&this.router.navigate(["/search"],{queryParams:o})}onFindBusinesses(){this.onSearch()}onListBusiness(){this.router.navigate(["/list-business"])}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=f({type:r,selectors:[["hero-section"]],viewQuery:function(t,o){if(t&1&&Ke(me,5),t&2){let s;Xe(s=Je())&&(o.searchFiltersComponent=s.first)}},decls:26,vars:4,consts:[[1,"bg-[#C9F3DD]","relative","overflow-hidden",2,"height","calc(100vh - var(--header-height, 64px))","background-image","url('/assets/images/hero-background.svg')","background-size","cover","background-position","center","background-repeat","no-repeat"],[1,"max-w-7xl","mx-auto","w-full","h-full","px-3","lg:px-8","flex","flex-col","lg:flex-row","relative"],[1,"w-full","lg:w-1/2","h-full","flex","flex-col","justify-center","sm:pt-16","lg:pt-0","relative","z-10","text-center","lg:text-left"],[1,"text-5xl","lg:text-[60px]","font-bold","leading-tight","mb-6","poppins"],[1,"text-[#6B0FAE]"],[1,"block","lg:hidden"],[1,"text-black"],[1,"mt-1"],["src","/assets/svg/VOUCHHER.svg","alt","VouchHer",1,"h-10","lg:h-[51px]","w-auto","mx-auto","lg:mx-0"],[1,"text-lg","lg:text-xl","text-gray-700","mb-8","lg:mb-10","lg:max-w-none","mx-auto","lg:mx-0"],["id","hero-search-anchor",1,"mb-8","w-full","mx-auto","lg:mx-0","lg:max-w-xl"],[3,"searchEvent","queryChange","width","backgroundColor","placeholder","boxShadow"],[1,"mb-10"],[3,"filtersChanged","categorySelected"],[1,"flex","flex-col","lg:flex-row","items-stretch","lg:items-start","gap-3","lg:gap-4","lg:px-0"],["mat-flat-button","","color","primary",1,"rounded-full","py-3","lg:py-2.5","px-8","text-base","font-medium","w-full","lg:w-fit",3,"click"],["mat-stroked-button","","color","primary",1,"rounded-full","py-3","lg:py-2.5","px-8","text-base","font-medium","w-full","lg:w-fit","!border-primary-600",3,"click"],[1,"hidden","lg:block","lg:w-[55%]","absolute","inset-y-0","right-0","overflow-visible"],["src","/assets/images/hero-women-images.png","alt","Professional women",1,"w-full","h-full","object-contain","object-bottom","transform","lg:scale-100","lg:translate-x-6"]],template:function(t,o){t&1&&(n(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),a(4," Find "),n(5,"span",4),a(6,"Her."),i(),d(7,"br",5),a(8," Hire "),n(9,"span",6),a(10,"Her."),i(),n(11,"div",7),d(12,"img",8),i()(),n(13,"p",9),a(14," A trusted platform connecting women in Business nationwide. "),i(),n(15,"div",10)(16,"app-search",11),u("searchEvent",function(){return o.onSearch()})("queryChange",function(p){return o.onSearchQueryChange(p)}),i()(),n(17,"div",12)(18,"app-search-filters",13),u("filtersChanged",function(p){return o.onFiltersChanged(p)})("categorySelected",function(p){return o.onCategorySelected(p)}),i()(),n(19,"div",14)(20,"button",15),u("click",function(){return o.onFindBusinesses()}),a(21," Find Businesses "),i(),n(22,"button",16),u("click",function(){return o.onListBusiness()}),a(23," List A Business "),i()()(),n(24,"div",17),d(25,"img",18),i()()()),t&2&&(l(16),m("width","100%")("backgroundColor","white")("placeholder","Search business or service")("boxShadow","0 2px 6px 0 #20212451"))},dependencies:[P,oe,ae,$,se,k,I,nn,le,T,X,me],styles:["[_ngcontent-%COMP%]:root{--mat-select-panel-background-color: orange;--mat-select-enabled-trigger-text-color: red}.mdc-text-field[_ngcontent-%COMP%]{background-color:#fff!important;border-radius:4px}"]})};var He=class r{static \u0275fac=function(t){return new(t||r)};static \u0275cmp=f({type:r,selectors:[["how-it-works-section"]],decls:46,vars:0,consts:[[1,"bg-white"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"text-center","mb-16"],[1,"text-4xl","md:text-5xl","font-bold","text-gray-900","mb-6"],[1,"text-xl","text-gray-600","max-w-3xl","mx-auto"],[1,"grid","md:grid-cols-2","gap-8","lg:gap-12"],[1,"bg-white","border","border-gray-200","rounded-lg","p-8"],[1,"text-lg","font-semibold","text-primary-500","mb-4"],[1,"space-y-4","text-gray-700"],[1,"font-semibold"],[1,"text-sm","text-gray-600"]],template:function(t,o){t&1&&(S(0,"section",0)(1,"div",1)(2,"div",2)(3,"h3",3),a(4," How it works "),M(),S(5,"p",4),a(6," Connect with talented women in business has never been easier. Bridging the gap between women professionals and companies that value them. "),M()(),S(7,"div",5)(8,"div",6)(9,"h4",7),a(10,"For Finding Business(es)"),M(),S(11,"div",8)(12,"div")(13,"div",9),a(14,"Search for a business"),M(),S(15,"div",10),a(16,"Browse by industry, location or heritage and more."),M()(),S(17,"div")(18,"div",9),a(19,"Apply for desired business"),M(),S(20,"div",10),a(21,"Submit a request to get hired and work."),M()(),S(22,"div")(23,"div",9),a(24,"Get paid"),M(),S(25,"div",10),a(26,"You get paid when work is done or completed with satisfaction from client."),M()()()(),S(27,"div",6)(28,"h4",7),a(29,"For Listing Business(es)"),M(),S(30,"div",8)(31,"div")(32,"div",9),a(33,"Create or list business(es)"),M(),S(34,"div",10),a(35,"Post a business by creating one."),M()(),S(36,"div")(37,"div",9),a(38,"Get Offers or bids"),M(),S(39,"div",10),a(40,"Receive tailored offers, proposals, or bids from professionals ready to work with you."),M()(),S(41,"div")(42,"div",9),a(43,"Pay when job is done"),M(),S(44,"div",10),a(45,"Secure, fair, and risk-free. Make payment once the work is completed."),M()()()()()()())},encapsulation:2})};var Ve=class r{expandedSection=null;toggleSection(e){this.expandedSection=this.expandedSection===e?null:e}isExpanded(e){return this.expandedSection===e}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=f({type:r,selectors:[["footer-component"]],decls:163,vars:18,consts:[[1,"bg-white"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","mb-4","lg:px-8"],[1,"mb-8","md:hidden"],[1,"flex","items-start","gap-3"],["src","/assets/logos/logo-with-text.png","alt","VouchHer",1,"h-10","w-auto","mb-2"],[1,"text-sm","text-gray-600","mt-3"],[1,"hidden","md:grid","grid-cols-4","gap-8"],[1,"mt-6","flex","items-center","gap-3"],["href","#","aria-label","facebook",1,"w-8","h-8","rounded-full","bg-gray-100","flex","items-center","justify-center","text-gray-700","hover:bg-gray-200"],["viewBox","0 0 24 24","fill","currentColor","aria-hidden","",1,"w-4","h-4"],["d","M22 12a10 10 0 10-11.5 9.9v-7h-2.2v-2.9h2.2V9.4c0-2.2 1.3-3.5 3.3-3.5.95 0 1.95.17 1.95.17v2.1h-1.08c-1.07 0-1.4.67-1.4 1.37v1.62h2.38l-.38 2.9h-2v7A10 10 0 0022 12z"],["href","#","aria-label","instagram",1,"w-8","h-8","rounded-full","bg-gray-100","flex","items-center","justify-center","text-gray-700","hover:bg-gray-200"],["d","M7 2h10a5 5 0 015 5v10a5 5 0 01-5 5H7a5 5 0 01-5-5V7a5 5 0 015-5zm5 6.2A4.8 4.8 0 1016.8 13 4.8 4.8 0 0012 8.2zM18.5 6.2a1.1 1.1 0 11-1.1-1.1 1.1 1.1 0 011.1 1.1z"],["href","#","aria-label","x",1,"w-8","h-8","rounded-full","bg-gray-100","flex","items-center","justify-center","text-gray-700","hover:bg-gray-200"],["d","M21 5.5a7.9 7.9 0 01-2.3.6 4.1 4.1 0 001.8-2.3 7.9 7.9 0 01-2.6 1 3.95 3.95 0 00-6.7 3.6A11.2 11.2 0 013 4.8a4 4 0 001.2 5.3 3.9 3.9 0 01-1.8-.5v.1a3.95 3.95 0 003.2 3.9 4 4 0 01-1.1.1c-.3 0-.6 0-.9-.1a3.95 3.95 0 003.7 2.7A7.95 7.95 0 013 19.5 11.2 11.2 0 0014.1 21c6.5 0 10.1-5.4 10.1-10.1v-.5A7.2 7.2 0 0021 5.5z"],["href","#","aria-label","linkedin",1,"w-8","h-8","rounded-full","bg-gray-100","flex","items-center","justify-center","text-gray-700","hover:bg-gray-200"],["d","M19 3A2 2 0 0121 5v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h14zM8.3 18H6.1V9.3h2.2V18zM7.2 8.2a1.3 1.3 0 110-2.6 1.3 1.3 0 010 2.6zM18 18h-2.2v-4.2c0-1-.4-1.7-1.4-1.7-.8 0-1.2.5-1.4 1v4h-2.2V9.3h2.1v1.2c.3-.4.8-1 1.9-1 1.4 0 2.5.9 2.5 2.8V18z"],[1,"font-semibold","text-gray-900","mb-3"],[1,"space-y-2","text-sm","text-gray-600"],["routerLink","/how-it-works",1,"hover:underline"],["routerLink","/trust",1,"hover:underline"],["routerLink","/quality",1,"hover:underline"],["routerLink","/list-business",1,"hover:underline"],["routerLink","/guide",1,"hover:underline"],["routerLink","/ads",1,"hover:underline"],["routerLink","/help",1,"hover:underline"],["routerLink","/social-impact",1,"hover:underline"],["routerLink","/faq",1,"hover:underline"],["routerLink","/contact",1,"hover:underline"],["routerLink","/about",1,"hover:underline"],[1,"md:hidden","space-y-3"],[1,"border-b","border-gray-200"],[1,"w-full","flex","items-center","justify-between","py-4","text-left","font-semibold","text-gray-900",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","transition-transform","duration-200"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],[1,"overflow-hidden","transition-all","duration-300"],[1,"space-y-3","pb-4","text-sm","text-gray-600"],["routerLink","/how-it-works",1,"hover:underline","block"],["routerLink","/trust",1,"hover:underline","block"],["routerLink","/quality",1,"hover:underline","block"],["routerLink","/list-business",1,"hover:underline","block"],["routerLink","/guide",1,"hover:underline","block"],["routerLink","/ads",1,"hover:underline","block"],["routerLink","/help",1,"hover:underline","block"],["routerLink","/social-impact",1,"hover:underline","block"],["routerLink","/faq",1,"hover:underline","block"],["routerLink","/contact",1,"hover:underline","block"],["routerLink","/about",1,"hover:underline","block"],[1,"md:hidden","mt-8","mb-8"],[1,"flex","items-center","justify-center","gap-4"],["href","#","aria-label","facebook",1,"w-10","h-10","rounded-full","bg-gray-800","flex","items-center","justify-center","text-white","hover:bg-gray-700"],["viewBox","0 0 24 24","fill","currentColor","aria-hidden","",1,"w-5","h-5"],["href","#","aria-label","instagram",1,"w-10","h-10","rounded-full","bg-gray-800","flex","items-center","justify-center","text-white","hover:bg-gray-700"],["href","#","aria-label","x",1,"w-10","h-10","rounded-full","bg-gray-800","flex","items-center","justify-center","text-white","hover:bg-gray-700"],["href","#","aria-label","linkedin",1,"w-10","h-10","rounded-full","bg-gray-800","flex","items-center","justify-center","text-white","hover:bg-gray-700"],[1,"bg-secondary-600","text-white"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-4","pb-4"],[1,"text-sm","text-center","md:hidden"],[1,"hidden","md:flex","items-center","justify-between","gap-3"],[1,"text-sm"],[1,"flex","items-center","gap-6","text-sm"],["routerLink","/terms",1,"hover:underline"],["routerLink","/privacy",1,"hover:underline"],["routerLink","/data-sharing",1,"hover:underline"]],template:function(t,o){t&1&&(n(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3),d(4,"img",4),i(),n(5,"p",5),a(6,"A trusted platform connecting skilled women with their right opportunities. Because when women work, business and communities thrive."),i()(),n(7,"div",6)(8,"div")(9,"div",3),d(10,"img",4),i(),n(11,"p",5),a(12,"A trusted platform connecting skilled women with their right opportunities. Because when women work, business and communities thrive."),i(),n(13,"div",7)(14,"a",8),F(),n(15,"svg",9),d(16,"path",10),i()(),D(),n(17,"a",11),F(),n(18,"svg",9),d(19,"path",12),i()(),D(),n(20,"a",13),F(),n(21,"svg",9),d(22,"path",14),i()(),D(),n(23,"a",15),F(),n(24,"svg",9),d(25,"path",16),i()()()(),D(),n(26,"div")(27,"h5",17),a(28,"For Clients"),i(),n(29,"ul",18)(30,"li")(31,"a",19),a(32,"How VouchHer works"),i()(),n(33,"li")(34,"a",20),a(35,"Trust & Safety"),i()(),n(36,"li")(37,"a",21),a(38,"Quality guide"),i()()()(),n(39,"div")(40,"h5",17),a(41,"For Businesses"),i(),n(42,"ul",18)(43,"li")(44,"a",22),a(45,"List Your Business"),i()(),n(46,"li")(47,"a",23),a(48,"Guide for great Business profile"),i()(),n(49,"li")(50,"a",24),a(51,"Win work with ads"),i()()()(),n(52,"div")(53,"h5",17),a(54,"For VouchHer"),i(),n(55,"ul",18)(56,"li")(57,"a",25),a(58,"Help & Support"),i()(),n(59,"li")(60,"a",26),a(61,"Social Impact"),i()(),n(62,"li")(63,"a",20),a(64,"Trust, Safety and Security"),i()(),n(65,"li")(66,"a",27),a(67,"FAQ"),i()(),n(68,"li")(69,"a",28),a(70,"Contact us"),i()(),n(71,"li")(72,"a",29),a(73,"About us"),i()()()()(),n(74,"div",30)(75,"div",31)(76,"button",32),u("click",function(){return o.toggleSection("clients")}),n(77,"span"),a(78,"For Clients"),i(),F(),n(79,"svg",33),d(80,"path",34),i()(),D(),n(81,"div",35)(82,"ul",36)(83,"li")(84,"a",37),a(85,"How VouchHer works"),i()(),n(86,"li")(87,"a",38),a(88,"Trust & Safety"),i()(),n(89,"li")(90,"a",39),a(91,"Quality guide"),i()()()()(),n(92,"div",31)(93,"button",32),u("click",function(){return o.toggleSection("business")}),n(94,"span"),a(95,"For Business"),i(),F(),n(96,"svg",33),d(97,"path",34),i()(),D(),n(98,"div",35)(99,"ul",36)(100,"li")(101,"a",40),a(102,"List Your Business"),i()(),n(103,"li")(104,"a",41),a(105,"Guide for great Business profile"),i()(),n(106,"li")(107,"a",42),a(108,"Win work with ads"),i()()()()(),n(109,"div",31)(110,"button",32),u("click",function(){return o.toggleSection("vouchher")}),n(111,"span"),a(112,"For VouchHer"),i(),F(),n(113,"svg",33),d(114,"path",34),i()(),D(),n(115,"div",35)(116,"ul",36)(117,"li")(118,"a",43),a(119,"Help & Support"),i()(),n(120,"li")(121,"a",44),a(122,"Social Impact"),i()(),n(123,"li")(124,"a",38),a(125,"Trust, Safety and Security"),i()(),n(126,"li")(127,"a",45),a(128,"FAQ"),i()(),n(129,"li")(130,"a",46),a(131,"Contact us"),i()(),n(132,"li")(133,"a",47),a(134,"About us"),i()()()()()(),n(135,"div",48)(136,"div",49)(137,"a",50),F(),n(138,"svg",51),d(139,"path",10),i()(),D(),n(140,"a",52),F(),n(141,"svg",51),d(142,"path",12),i()(),D(),n(143,"a",53),F(),n(144,"svg",51),d(145,"path",14),i()(),D(),n(146,"a",54),F(),n(147,"svg",51),d(148,"path",16),i()()()()(),D(),n(149,"div",55)(150,"div",56)(151,"div",57),a(152,"\xA9 2025 VouchHer | All rights reserved"),i(),n(153,"div",58)(154,"div",59),a(155,"\xA9 2025 VouchHer | All rights reserved"),i(),n(156,"div",60)(157,"a",61),a(158,"Terms of Services"),i(),n(159,"a",62),a(160,"Privacy Policy"),i(),n(161,"a",63),a(162,"Data Sharing Policy"),i()()()()()()),t&2&&(l(79),q("rotate-180",o.isExpanded("clients")),l(2),q("max-h-0",!o.isExpanded("clients"))("max-h-96",o.isExpanded("clients")),l(15),q("rotate-180",o.isExpanded("business")),l(2),q("max-h-0",!o.isExpanded("business"))("max-h-96",o.isExpanded("business")),l(15),q("rotate-180",o.isExpanded("vouchher")),l(2),q("max-h-0",!o.isExpanded("vouchher"))("max-h-96",o.isExpanded("vouchher")))},dependencies:[P,Rt],encapsulation:2})};var Be=class r{static \u0275fac=function(t){return new(t||r)};static \u0275cmp=f({type:r,selectors:[["app-why-choose-voucher"]],decls:25,vars:0,consts:[[1,"relative","bg-white","py-12","md:py-16"],[1,"lg:max-w-7xl","mx-auto","lg:px-4","sm:px-6","lg:px-8"],[1,"block","md:hidden","relative"],[1,"absolute","right-0","-top-40","w-[85%]","z-0","pr-0"],["src","/assets/images/dashboard.png","alt","Dashboard preview",1,"w-full","h-auto","rounded-lg","shadow-lg"],[1,"bg-primary-600","text-white","rounded-none","p-6","pt-32","mt-32","relative","z-10","flex","flex-col","justify-center","min-h-[300px]"],[1,"text-2xl","font-bold","mb-4","text-white","text-center"],[1,"text-sm","text-white/90","leading-relaxed","mb-6","text-center","px-4"],[1,"flex","justify-center","pb-2"],["mat-flat-button","",1,"bg-white!","text-primary-600!","rounded-full","px-8","py-3","font-semibold"],[1,"hidden","md:block"],[1,"grid","md:grid-cols-2","gap-6","items-center"],["src","/assets/images/women-talking.png","alt","Two women talking",1,"w-full","h-72","md:h-96","object-cover","rounded-md","shadow-sm"],[1,"pl-0","md:pl-12"],[1,"text-3xl","md:text-4xl","font-bold","mb-4","text-primary-500"],[1,"text-gray-700","mb-6"],["mat-flat-button","","color","primary",1,"px-8","py-3"]],template:function(t,o){t&1&&(n(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),d(4,"img",4),i(),n(5,"div",5)(6,"h3",6),a(7,"Why choose VouchHer"),i(),n(8,"p",7),a(9," We are a professional and trusted hub that connects ambitious women ready to showcase their skills with businesses seeking top talent to grow. Our platform bridges opportunity and expertise, empowering women to get hired while helping companies discover and hire the best. "),i(),n(10,"div",8)(11,"button",9),a(12," Join VouchHer "),i()()()(),n(13,"div",10)(14,"div",11)(15,"div"),d(16,"img",12),i(),n(17,"div",13)(18,"h3",14),a(19,"Why choose VouchHer"),i(),n(20,"p",15),a(21," We are a professional and trusted hub that connects ambitious women ready to showcase their skills with businesses seeking top talent to grow. Our platform bridges opportunity and expertise, empowering women to get hired while helping companies discover and hire the best. "),i(),n(22,"div")(23,"button",16),a(24,"Join VouchHer"),i()()()()()()())},dependencies:[k,I],styles:["[_nghost-%COMP%]{display:block}"]})};var je=class r{authService=c(j);router=c(E);constructor(){xe(()=>{let e=this.authService.isAuthenticated(),t=this.authService.user();e&&t&&(t.user_mode==="business_owner"?(console.log("Redirecting business owner to dashboard"),this.router.navigate(["/dashboard"])):(console.log("Redirecting client to search page"),this.router.navigate(["/search"])))})}ngOnInit(){}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=f({type:r,selectors:[["app-home"]],decls:11,vars:3,consts:[["drawer",""],[3,"drawer"],["autosize","",1,"content-body",3,"hasBackdrop"],[1,"drawer",3,"mode"],[1,"bg-white!"],[1,"space-y-16","flex","flex-col","md:space-y-24"]],template:function(t,o){if(t&1&&(d(0,"app-header",1),n(1,"mat-drawer-container",2)(2,"mat-drawer",3,0),d(4,"app-guest-sidenav"),i(),n(5,"mat-drawer-content",4)(6,"div",5),d(7,"hero-section")(8,"how-it-works-section")(9,"app-why-choose-voucher")(10,"footer-component"),i()()()),t&2){let s=Y(3);m("drawer",s),l(),m("hasBackdrop",!0),l(),m("mode","over")}},dependencies:[re,Ne,He,Be,Ve,J,Ce,we,_e,$,ae,k,sn],styles:[".drawer[_ngcontent-%COMP%]{height:100vh;border-radius:0}.content-body[_ngcontent-%COMP%]{height:100vh;overflow-y:scroll}"]})};var Le=class r{authService=c(j);router=c(E);businessService=c(Se);projectService=c(ln);socketService=c(Yt);breakpointObserver=c(Vt);favoritesService=c(cn);sidenavOpened=b(!1);isMobile=b(!1);userBusinessCount=b(0);totalServices=b(0);totalProjects=b(0);favoritesCount=V(()=>this.favoritesService.getFavoritesCount());user=this.authService.user;isAuthenticated=this.authService.isAuthenticated;userMode=V(()=>this.user()?.user_mode||"client");isBusinessOwner=V(()=>this.userMode()==="business_owner");isAdmin=V(()=>this.user()?.email?.includes("admin")||!1);mobileSubscription;userModeEffect=xe(()=>{let e=this.userMode(),t=this.user(),o=this.isBusinessOwner();console.log("Dashboard signals updated:",{user:t?.email,mode:e,isBusiness:o}),t&&this.loadDashboardCounts()});ngOnInit(){this.setupMobileDetection(),this.loadDashboardCounts(),this.socketService.connect()}ngOnDestroy(){this.mobileSubscription&&this.mobileSubscription.unsubscribe()}setupMobileDetection(){this.mobileSubscription=this.breakpointObserver.observe([Bt.Handset]).subscribe(e=>{this.isMobile.set(e.matches),e.matches?this.sidenavOpened.set(!1):this.sidenavOpened.set(!0)})}loadDashboardCounts(){return y(this,null,function*(){try{let e=yield this.businessService.getMyBusinessesAsync();this.userBusinessCount.set(e.length);let t=0;for(let o of e)try{let s=yield this.businessService.getBusinessServicesAsync(o._id);t+=s.length}catch(s){console.warn(`Failed to load services for business ${o._id}:`,s)}this.totalServices.set(t);try{let o=yield this.projectService.getAllMyProjectsAsync();this.totalProjects.set(o.length)}catch(o){console.warn("Failed to load projects:",o),this.totalProjects.set(0)}}catch(e){console.error("Error loading dashboard counts:",e)}})}toggleSidenav(){this.sidenavOpened.set(!this.sidenavOpened())}onMenuToggle(){this.toggleSidenav()}onNavigationClick(){this.isMobile()&&this.sidenavOpened.set(!1)}navigateToCreateBusiness(){this.router.navigate(["/dashboard/businesses/create-business"])}createService(){this.router.navigate(["/dashboard/services/create-service"])}getActiveTabTitle(){let e=this.router.url.split("/");switch(e[e.length-1]){case"dashboard":case"":return this.isBusinessOwner()?"Dashboard Overview":"My Projects";case"overview":return"Dashboard Overview";case"businesses":return"My Businesses";case"services":return"My Services";case"projects":return"My Projects";case"notifications":return"Notifications";case"profile":return"Profile";case"settings":return"Settings";default:return this.router.url.includes("/messages")?"Messages":this.isBusinessOwner()?"Dashboard":"My Projects"}}getUserInitials(){let e=this.user();if(!e)return"";if(e.first_name||e.last_name){let t=e.first_name?.charAt(0).toUpperCase()||"",o=e.last_name?.charAt(0).toUpperCase()||"";return t+o}return e.email.charAt(0).toUpperCase()}navigateToDashboard(){this.router.navigate(["/dashboard"])}navigateToProfile(){this.router.navigate(["/dashboard/profile"])}navigateToSettings(){this.router.navigate(["/dashboard/settings"])}navigateToAdmin(){this.router.navigate(["/admin"])}switchToBusinessMode(){return y(this,null,function*(){try{let e=yield this.authService.switchMode("business_owner");e.data?(console.log("Switched to business owner mode successfully"),console.log("Updated user mode:",this.userMode()),this.loadDashboardCounts()):console.error("Failed to switch to business mode:",e.error)}catch(e){console.error("Error switching to business mode:",e)}})}switchToClientMode(){return y(this,null,function*(){try{let e=yield this.authService.switchMode("client");e.data?(console.log("Switched to client mode successfully"),console.log("Updated user mode:",this.userMode()),this.router.navigate(["/search"])):console.error("Failed to switch to client mode:",e.error)}catch(e){console.error("Error switching to client mode:",e)}})}viewProfile(){this.navigateToProfile()}logout(){this.authService.logout(),this.router.navigate(["/auth"])}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=f({type:r,selectors:[["app-dashboard"]],decls:7,vars:5,consts:[["drawer",""],[3,"drawer"],[3,"hasBackdrop"],["position","start",1,"drawer",3,"opened","disableClose","mode"],[1,"content-body"]],template:function(t,o){if(t&1&&(d(0,"app-header",1),n(1,"mat-drawer-container",2)(2,"mat-drawer",3,0),d(4,"app-user-sidenav"),i(),n(5,"mat-drawer-content",4),d(6,"router-outlet"),i()()),t&2){let s=Y(3);m("drawer",s),l(),m("hasBackdrop",o.isMobile()),l(),m("opened",o.sidenavOpened())("disableClose",!o.isMobile())("mode",o.isMobile()?"over":"side")}},dependencies:[P,J,Ce,we,_e,X,T,k,ye,be,Ht,re,dn],styles:[".drawer[_ngcontent-%COMP%]{height:calc(100vh - 64px);border-radius:0}.content-body[_ngcontent-%COMP%]{height:calc(100vh - 64px);overflow-y:scroll}.dashboard-loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:3rem 0}.dashboard-loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite;border-radius:50%;height:3rem;width:3rem;border:2px solid #e5e7eb;border-top:2px solid #2563eb}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.business-item[_ngcontent-%COMP%]:hover{background-color:#f9fafb;transition:background-color .15s ease-in-out}.status-approved[_ngcontent-%COMP%]{background-color:#dcfce7;color:#166534}.status-pending[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.status-rejected[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.status-suspended[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#374151}.create-business-btn[_ngcontent-%COMP%]:hover{background-color:#1d4ed8;transform:translateY(-1px);transition:all .2s ease-in-out}.action-btn[_ngcontent-%COMP%]:hover{background-color:#f9fafb;transform:translateY(-1px);transition:all .15s ease-in-out}.action-btn-danger[_ngcontent-%COMP%]:hover{background-color:#fef2f2;transform:translateY(-1px);transition:all .15s ease-in-out}.stat-card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;transition:box-shadow .2s ease-in-out}.empty-state[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:.6}  .mat-drawer-content{height:calc(100vh - 64px)!important;overflow-y:auto!important;overflow-x:hidden!important;display:flex!important;flex-direction:column!important}  .mat-drawer-container{height:calc(100vh - 64px)!important}@media (max-width: 640px){.business-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.75rem}.action-buttons[_ngcontent-%COMP%]{margin-left:0;width:100%;justify-content:flex-end}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.create-business-btn[_ngcontent-%COMP%]:focus, .action-btn[_ngcontent-%COMP%]:focus, .action-btn-danger[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;box-shadow:0 0 0 2px #2563eb}@media print{.action-buttons[_ngcontent-%COMP%], .create-business-btn[_ngcontent-%COMP%]{display:none}}"]})};var rt=(r,e)=>{let t=c(j),o=c(E);return t.isAuthenticated$.pipe(ue(s=>s?!0:(o.navigate(["/auth"],{queryParams:{returnUrl:e.url}}),!1)))};var Mn=(r,e)=>{let t=c(j),o=c(E);return t.isAuthenticated$.pipe(ue(s=>s?(o.navigate(["/"]),!1):!0))};var Pn=(()=>{class r{static \u0275fac=function(o){return new(o||r)};static \u0275mod=fe({type:r});static \u0275inj=ge({})}return r})();var En=(()=>{class r{static \u0275fac=function(o){return new(o||r)};static \u0275mod=fe({type:r});static \u0275inj=ge({imports:[jt,Pn,Ut]})}return r})();var Qn=()=>[12,24,48],An=(r,e)=>e._id,qn=(r,e)=>e.code;function $n(r,e){if(r&1&&(n(0,"mat-option",11),a(1),i()),r&2){let t=e.$implicit;m("value",t._id),l(),w(t.name)}}function Wn(r,e){if(r&1&&(n(0,"mat-option",11),a(1),i()),r&2){let t=e.$implicit;m("value",t.name),l(),w(t.name)}}function Yn(r,e){if(r&1){let t=O();n(0,"button",29),u("click",function(){x(t);let s=g();return v(s.clearFilters())}),n(1,"mat-icon"),a(2,"clear"),i(),a(3," Clear all filters "),i()}}function Zn(r,e){r&1&&(n(0,"div",26),d(1,"mat-spinner",30),n(2,"span",31),a(3,"Finding services..."),i()())}function Kn(r,e){if(r&1&&(n(0,"div",27)(1,"div",32)(2,"mat-icon",33),a(3,"error"),i(),n(4,"span",34),a(5),i()()()),r&2){let t=g();l(5),w(t.error())}}function Xn(r,e){if(r&1){let t=O();n(0,"div",28)(1,"mat-icon",35),a(2,"search_off"),i(),n(3,"h3",36),a(4,"No services found"),i(),n(5,"p",37),a(6,"Try adjusting your search terms or filters"),i(),n(7,"button",38),u("click",function(){x(t);let s=g();return v(s.clearFilters())}),a(8," Clear filters "),i()()}}function Jn(r,e){if(r&1&&d(0,"img",44),r&2){let t=g().$implicit;m("src",t.banner_url,he)("alt",t.name+" banner")}}function ei(r,e){r&1&&(n(0,"div",45)(1,"mat-icon",73),a(2,"business"),i()())}function ti(r,e){r&1&&(n(0,"div",46)(1,"span",74)(2,"mat-icon",75),a(3,"star"),i(),a(4," PRO "),i()())}function ni(r,e){if(r&1&&d(0,"img",52),r&2){let t=g().$implicit;m("src",t.logo_url,he)("alt",t.name+" logo")}}function ii(r,e){r&1&&(n(0,"div",53)(1,"mat-icon",76),a(2,"business"),i()())}function oi(r,e){if(r&1&&(n(0,"p",57)(1,"mat-icon",77),a(2,"location_on"),i(),a(3),i()),r&2){let t=g().$implicit;l(3),et(" ",t.city,", ",t.state," ")}}function ri(r,e){if(r&1&&(n(0,"div",60)(1,"mat-icon",78),a(2,"star"),i(),n(3,"span",79),a(4),i(),n(5,"span",69),a(6),i()()),r&2){let t=g().$implicit;l(4),w(t.rating.toFixed(1)),l(2),et("(",t.review_count||0," ",(t.review_count||0)===1?"review":"reviews",")")}}function ai(r,e){r&1&&(n(0,"span",61),a(1,"New business"),i())}function si(r,e){if(r&1&&(n(0,"span",81),a(1),i()),r&2){let t=e.$implicit;l(),R(" ",t," ")}}function li(r,e){if(r&1&&(n(0,"span",81),a(1),i()),r&2){let t=g(2).$implicit;l(),R(" +",t.tags.length-2," ")}}function ci(r,e){if(r&1&&(n(0,"div",62)(1,"div",80),U(2,si,2,1,"span",81,St),_(4,li,2,1,"span",81),i()()),r&2){let t=g().$implicit;l(2),Q(t.tags.slice(0,2)),l(2),C(t.tags.length>2?4:-1)}}function di(r,e){if(r&1&&d(0,"img",52),r&2){let t=g().$implicit,o=g(2);m("src",o.getOwnerAvatar(t),he)("alt",o.getOwnerName(t))}}function mi(r,e){r&1&&(n(0,"div",66)(1,"mat-icon",82),a(2,"person"),i()())}function pi(r,e){if(r&1&&(n(0,"div",72)(1,"mat-icon",77),a(2,"visibility"),i(),a(3),i()),r&2){let t=g().$implicit;l(3),R(" ",t.view_count," ")}}function ui(r,e){if(r&1){let t=O();n(0,"div",42),u("click",function(){let s=x(t).$implicit,p=g(2);return v(p.onBusinessClick(s))}),n(1,"div",43),_(2,Jn,1,2,"img",44)(3,ei,3,0,"div",45),_(4,ti,5,0,"div",46),n(5,"div",47)(6,"span",48),a(7),Pt(8,"titlecase"),i()()(),n(9,"div",49)(10,"div",50)(11,"div",51),_(12,ni,1,2,"img",52)(13,ii,3,0,"div",53),i()(),n(14,"div",54)(15,"h3",55),a(16),i(),n(17,"p",56),a(18),i(),_(19,oi,4,2,"p",57),i(),n(20,"p",58),a(21),i(),n(22,"div",59),_(23,ri,7,3,"div",60)(24,ai,2,0,"span",61),i(),_(25,ci,5,1,"div",62),n(26,"div",63)(27,"div",64)(28,"div",65),_(29,di,1,2,"img",52)(30,mi,3,0,"div",66),i(),n(31,"div",67)(32,"p",68),a(33),i(),n(34,"p",69),a(35),i()()(),n(36,"div",64)(37,"div",70),u("click",function(s){return x(t),v(s.stopPropagation())}),d(38,"app-favorite-button",71),i(),_(39,pi,4,1,"div",72),i()()()()}if(r&2){let t=e.$implicit,o=g(2);l(2),C(t.banner_url&&t.banner_url.trim()!==""?2:3),l(2),C(t.is_featured?4:-1),l(3),R(" ",Et(8,16,t.business_type)," "),l(5),C(t.logo_url?12:13),l(4),R(" ",t.name," "),l(2),w(o.getCategoryName(t)),l(),C(t.city&&t.state?19:-1),l(2),R(" ",t.short_description||t.description||"Professional service provider"," "),l(2),C(t.rating!=null&&t.rating>0?23:24),l(2),C(t.tags&&t.tags.length>0?25:-1),l(4),C(o.getOwnerAvatar(t)?29:30),l(4),w(o.getOwnerName(t)),l(2),w(o.getOwnerCountry(t)),l(3),m("businessId",t._id)("businessName",t.name),l(),C(t.view_count>0?39:-1)}}function gi(r,e){if(r&1){let t=O();n(0,"div",41)(1,"mat-paginator",83),u("page",function(s){x(t);let p=g(2);return v(p.onPageChange(s.pageIndex+1))}),i()()}if(r&2){let t=g(2);l(),m("length",t.total())("pageSize",12)("pageIndex",t.currentPage()-1)("pageSizeOptions",Mt(4,Qn))}}function hi(r,e){if(r&1&&(n(0,"div",39),U(1,ui,40,18,"div",40,An),i(),_(3,gi,2,5,"div",41)),r&2){let t=g();l(),Q(t.businesses()),l(2),C(t.totalPages()>1?3:-1)}}var ze=class r{route=c(K);router=c(E);fb=c(ie);businessService=c(Se);categoryService=c(ce);authService=c(j);searchQuery=b("");selectedCountries=b([]);selectedCategories=b([]);selectedBusinessTypes=b([]);selectedRating=b(0);businesses=b([]);categories=b([]);loading=b(!1);error=b(null);total=b(0);currentPage=b(1);totalPages=b(0);filtersOpen=b(!1);isClientMode=V(()=>{let e=this.authService.user();return!e||e.user_mode==="client"});filterForm;countries=Fe;businessTypes=[{value:"service",label:"Service"},{value:"product",label:"Product"},{value:"both",label:"Both"}];ratingOptions=[{value:0,label:"All ratings"},{value:1,label:"1+ stars"},{value:2,label:"2+ stars"},{value:3,label:"3+ stars"},{value:4,label:"4+ stars"},{value:5,label:"5 stars"}];hasResults=V(()=>this.businesses().length>0);hasSearched=V(()=>this.searchQuery()||this.selectedCountries().length>0||this.selectedCategories().length>0||this.selectedBusinessTypes().length>0||this.selectedRating()>0);hasActiveFilters=V(()=>{let e=this.filterForm?.value;return!!(e?.selectedCountries?.length>0||e?.businessType||e?.location||e?.selectedCategories?.length>0||e?.selectedBusinessTypes?.length>0||e?.selectedRating>0)});ngOnInit(){this.initializeForm(),this.loadCategories(),this.route.queryParams.subscribe(e=>{this.searchQuery.set(e.q||""),this.selectedCountries.set(e.countries?e.countries.split(","):[]),this.selectedCategories.set(e.categories?e.categories.split(","):[]),this.selectedBusinessTypes.set(e.businessTypes?e.businessTypes.split(","):[]),this.selectedRating.set(parseInt(e.rating)||0),this.currentPage.set(parseInt(e.page)||1),this.filterForm.patchValue({searchQuery:this.searchQuery(),selectedCountries:this.selectedCountries(),selectedCategories:this.selectedCategories(),selectedBusinessTypes:this.selectedBusinessTypes(),selectedRating:this.selectedRating()},{emitEvent:!1}),this.performSearch()})}initializeForm(){this.filterForm=this.fb.group({searchQuery:[this.searchQuery()],selectedCountries:[this.selectedCountries()],selectedCategories:[this.selectedCategories()],selectedBusinessTypes:[this.selectedBusinessTypes()],selectedRating:[this.selectedRating()],businessType:[""],location:[""]})}loadCategories(){return y(this,null,function*(){try{let e=yield this.categoryService.loadCategories();this.categories.set(e)}catch(e){console.error("Error loading categories:",e)}})}performSearch(){return y(this,null,function*(){let e=this.searchQuery(),t=this.selectedCountries(),o=this.currentPage();if(!e&&t.length===0&&this.isClientMode()){this.loadVerifiedBusinesses();return}if(!e&&t.length===0){this.businesses.set([]),this.total.set(0),this.totalPages.set(0);return}try{this.loading.set(!0),this.error.set(null);let s=yield this.businessService.searchBusinesses(e||void 0,t.length>0?t:void 0,o,12).toPromise();s?.success&&s.data?(this.businesses.set(s.data.businesses),this.total.set(s.data.total),this.totalPages.set(s.data.totalPages)):this.error.set("Failed to search businesses")}catch(s){console.error("Search error:",s),this.error.set("An error occurred while searching")}finally{this.loading.set(!1)}})}loadVerifiedBusinesses(){return y(this,null,function*(){try{this.loading.set(!0),this.error.set(null);let e=yield this.businessService.searchBusinesses(void 0,void 0,this.currentPage(),12,{featured:!0}).toPromise();e?.success&&e.data?(this.businesses.set(e.data.businesses),this.total.set(e.data.total),this.totalPages.set(e.data.totalPages)):this.error.set("Failed to load verified businesses")}catch(e){console.error("Load verified businesses error:",e),this.error.set("An error occurred while loading verified businesses")}finally{this.loading.set(!1)}})}onSearch(){let e=this.filterForm.value,t={page:1};e.searchQuery?.trim()&&(t.q=e.searchQuery.trim()),e.selectedCountries&&e.selectedCountries.length>0&&(t.countries=e.selectedCountries.join(",")),e.selectedCategories&&e.selectedCategories.length>0&&(t.categories=e.selectedCategories.join(",")),e.selectedBusinessTypes&&e.selectedBusinessTypes.length>0&&(t.businessTypes=e.selectedBusinessTypes.join(",")),e.selectedRating&&e.selectedRating>0&&(t.rating=e.selectedRating),this.router.navigate(["/search"],{queryParams:t})}clearFilters(){this.filterForm.reset({searchQuery:"",selectedCountries:[],selectedCategories:[],selectedBusinessTypes:[],selectedRating:0,businessType:"",location:""}),this.onSearch()}toggleFilters(){this.filtersOpen.update(e=>!e)}onPageChange(e){let t=this.route.snapshot.queryParams;this.router.navigate(["/search"],{queryParams:lt(st({},t),{page:e})})}getOwnerName(e){let t=e.owner_id;return t?.first_name&&t?.last_name?`${t.first_name} ${t.last_name}`:t?.first_name?t.first_name:t?.email?t.email:"Business Owner"}getOwnerCountry(e){return e.owner_id?.country_of_origin||"Unknown"}getCategoryName(e){return e.category_id?.name||"Uncategorized"}getOwnerAvatar(e){return e.owner_id?.profile_image_url||null}onBusinessClick(e){this.router.navigate(["/business/profile",e._id])}generatePageNumbers(){let e=this.totalPages(),t=this.currentPage(),o=5;if(e<=o)return Array.from({length:e},(h,L)=>L+1);let s=Math.max(1,t-Math.floor(o/2)),p=Math.min(e,s+o-1);return Array.from({length:p-s+1},(h,L)=>s+L)}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=f({type:r,selectors:[["app-search"]],decls:71,vars:13,consts:[[1,"min-h-screen","bg-gray-50"],[1,"bg-white","border-b","border-gray-200"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-6"],[1,"space-y-6",3,"formGroup"],[1,"relative"],["appearance","outline",1,"w-full"],["matInput","","formControlName","searchQuery","placeholder","Search for services, products, or businesses",3,"input"],["matPrefix",""],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","xl:grid-cols-5","gap-4"],["appearance","outline"],["formControlName","selectedCategories","multiple","",3,"selectionChange"],[3,"value"],["formControlName","businessType",3,"selectionChange"],["value",""],["value","service"],["value","product"],["value","both"],["formControlName","selectedCountries","multiple","",3,"selectionChange"],["matInput","","formControlName","location","placeholder","City, State",3,"input"],["formControlName","selectedRating",3,"selectionChange"],[1,"flex","flex-wrap","items-center","gap-4","justify-between"],[1,"flex","items-center","gap-4"],["mat-stroked-button","","type","button","color","warn"],[1,"text-sm","text-gray-600"],[1,"font-medium"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"flex","justify-center","items-center","py-12"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-4","mb-6"],[1,"text-center","py-12"],["mat-stroked-button","","type","button","color","warn",3,"click"],["diameter","50"],[1,"ml-4","text-gray-600"],[1,"flex","items-center"],[1,"text-red-500","mr-2"],[1,"text-red-700"],[1,"text-6xl","text-gray-400","mb-4"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-600","mb-4"],["mat-raised-button","","color","primary",3,"click"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-6","mb-8"],[1,"bg-white","rounded-xl","border","border-gray-200","shadow-sm","hover:shadow-lg","transition-all","duration-200","overflow-hidden","group","cursor-pointer"],[1,"flex","justify-center"],[1,"bg-white","rounded-xl","border","border-gray-200","shadow-sm","hover:shadow-lg","transition-all","duration-200","overflow-hidden","group","cursor-pointer",3,"click"],[1,"relative","h-32","bg-gradient-to-br","from-gray-100","to-gray-200","overflow-hidden"],[1,"w-full","h-full","object-cover","group-hover:scale-105","transition-transform","duration-300",3,"src","alt"],[1,"w-full","h-full","bg-gradient-to-br","from-green-400","to-blue-500","flex","items-center","justify-center"],[1,"absolute","top-3","left-3"],[1,"absolute","top-3","right-3"],[1,"bg-green-100","text-green-800","inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","backdrop-blur-sm"],[1,"relative","px-6","pb-6"],[1,"flex","justify-center","-mt-8","mb-4"],[1,"w-16","h-16","rounded-full","bg-white","shadow-lg","ring-2","ring-white","overflow-hidden"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"w-full","h-full","bg-gray-100","flex","items-center","justify-center"],[1,"text-center","mb-4"],[1,"text-lg","font-semibold","text-gray-900","truncate","mb-1","group-hover:text-green-600","transition-colors"],[1,"text-sm","text-gray-600","mb-1"],[1,"text-xs","text-gray-500","flex","items-center","justify-center"],[1,"text-sm","text-gray-600","mb-4","line-clamp-2","text-center"],[1,"flex","items-center","justify-center","mb-4"],[1,"flex","items-center","gap-1"],[1,"text-xs","text-gray-500","bg-gray-100","px-2","py-1","rounded-full"],[1,"mb-4"],[1,"flex","items-center","justify-between","pt-4","border-t","border-gray-100"],[1,"flex","items-center","gap-2"],[1,"w-8","h-8","rounded-full","overflow-hidden","flex-shrink-0"],[1,"w-full","h-full","bg-gray-200","flex","items-center","justify-center"],[1,"flex-1","min-w-0"],[1,"text-sm","font-medium","text-gray-900","truncate"],[1,"text-xs","text-gray-500"],[3,"click"],["size","small","buttonClass","text-gray-500 hover:text-red-500 transition-colors p-1",3,"businessId","businessName"],[1,"text-xs","text-gray-500","flex","items-center"],[1,"text-white","text-4xl","opacity-60"],[1,"bg-yellow-100","text-yellow-800","inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","backdrop-blur-sm"],[1,"w-3","h-3","mr-1"],[1,"text-gray-400","text-lg"],[1,"w-3","h-3","mr-1","text-xs"],[1,"text-yellow-400","text-sm"],[1,"text-sm","font-bold","text-gray-900"],[1,"flex","flex-wrap","gap-1","justify-center"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","bg-gray-100","text-gray-800"],[1,"text-gray-400","text-sm"],["showFirstLastButtons","",3,"page","length","pageSize","pageIndex","pageSizeOptions"]],template:function(t,o){t&1&&(d(0,"app-header"),n(1,"div",0)(2,"div",1)(3,"div",2)(4,"form",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),a(8,"Find women-owned businesses and services..."),i(),n(9,"input",6),u("input",function(){return o.onSearch()}),i(),n(10,"mat-icon",7),a(11,"search"),i()()(),n(12,"div",8)(13,"mat-form-field",9)(14,"mat-label"),a(15,"Category"),i(),n(16,"mat-select",10),u("selectionChange",function(){return o.onSearch()}),U(17,$n,2,2,"mat-option",11,An),i()(),n(19,"mat-form-field",9)(20,"mat-label"),a(21,"Service Type"),i(),n(22,"mat-select",12),u("selectionChange",function(){return o.onSearch()}),n(23,"mat-option",13),a(24,"All Types"),i(),n(25,"mat-option",14),a(26,"Services"),i(),n(27,"mat-option",15),a(28,"Products"),i(),n(29,"mat-option",16),a(30,"Both"),i()()(),n(31,"mat-form-field",9)(32,"mat-label"),a(33,"Heritage/Origin"),i(),n(34,"mat-select",17),u("selectionChange",function(){return o.onSearch()}),U(35,Wn,2,2,"mat-option",11,qn),i()(),n(37,"mat-form-field",9)(38,"mat-label"),a(39,"Location"),i(),n(40,"input",18),u("input",function(){return o.onSearch()}),i(),n(41,"mat-icon",7),a(42,"location_on"),i()(),n(43,"mat-form-field",9)(44,"mat-label"),a(45,"Minimum Rating"),i(),n(46,"mat-select",19),u("selectionChange",function(){return o.onSearch()}),n(47,"mat-option",11),a(48,"All ratings"),i(),n(49,"mat-option",11),a(50,"1+ stars"),i(),n(51,"mat-option",11),a(52,"2+ stars"),i(),n(53,"mat-option",11),a(54,"3+ stars"),i(),n(55,"mat-option",11),a(56,"4+ stars"),i(),n(57,"mat-option",11),a(58,"5 stars"),i()()()(),n(59,"div",20)(60,"div",21),_(61,Yn,4,0,"button",22),i(),n(62,"div",23)(63,"span",24),a(64),i(),a(65," services found "),i()()()()(),n(66,"div",25),_(67,Zn,4,0,"div",26),_(68,Kn,6,1,"div",27),_(69,Xn,9,0,"div",28),_(70,hi,4,1),i()()),t&2&&(l(4),m("formGroup",o.filterForm),l(13),Q(o.categories()),l(18),Q(o.countries),l(12),m("value",0),l(2),m("value",1),l(2),m("value",2),l(2),m("value",3),l(2),m("value",4),l(2),m("value",5),l(4),C(o.hasActiveFilters()?61:-1),l(3),w(o.total()),l(3),C(o.loading()?67:-1),l(),C(o.error()?68:-1),l(),C(!o.loading()&&o.hasSearched()&&!o.hasResults()?69:-1),l(),C(!o.loading()&&o.hasResults()?70:-1))},dependencies:[P,oe,ke,Me,Pe,Ee,Xt,Jt,ae,Te,Ae,Oe,rn,Lt,$,se,Ie,k,I,mn,le,T,B,gn,un,ne,te,hn,J,En,ye,pn,re,_n,At],styles:[".line-clamp-1[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:1;line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.line-clamp-2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.business-card[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.business-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 25px 50px -12px #00000040}.business-gradient-1[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.business-gradient-2[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c)}.business-gradient-3[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe)}.business-gradient-4[_ngcontent-%COMP%]{background:linear-gradient(135deg,#43e97b,#38f9d7)}.business-gradient-5[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140)}.search-form[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{transition:all .3s ease}.search-form[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{transform:scale(1.02);box-shadow:0 10px 25px -5px #3b82f64d}.filter-pill[_ngcontent-%COMP%]{transition:all .2s ease}.filter-pill[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 8px #0000001a}.rating-stars[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{transition:color .2s ease}.business-type-badge.service[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dbeafe,#bfdbfe);color:#1e40af}.business-type-badge.product[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dcfce7,#bbf7d0);color:#166534}.business-type-badge.both[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a);color:#92400e}.featured-badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_glow 2s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_glow{0%{box-shadow:0 0 5px #fbbf2480}to{box-shadow:0 0 20px #fbbf24cc}}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.business-card[_ngcontent-%COMP%]   .business-header[_ngcontent-%COMP%]{height:120px}.business-card[_ngcontent-%COMP%]   .business-logo[_ngcontent-%COMP%]{width:60px;height:60px}}*[_ngcontent-%COMP%]{transition:color .2s ease,background-color .2s ease,border-color .2s ease,transform .2s ease,box-shadow .2s ease}"]})};var Ge=class r{constructor(e){this.http=e}apiUrl=`${ee.api.baseUrl}/paypal-accounts`;getConnectUrl(){return this.http.get(`${this.apiUrl}/connect-url`)}connectAccount(e){return this.http.post(`${this.apiUrl}/connect`,e)}getAccounts(){return this.http.get(this.apiUrl)}getAccount(e){return this.http.get(`${this.apiUrl}/${e}`)}refreshAccount(e){return this.http.post(`${this.apiUrl}/${e}/refresh`,{})}disconnectAccount(e){return this.http.post(`${this.apiUrl}/${e}/disconnect`,{})}verifyAccount(e){return this.http.post(`${this.apiUrl}/${e}/verify`,{})}initiatePayPalConnection(e){return y(this,null,function*(){try{let t=yield this.getConnectUrl().toPromise();if(!t?.auth_url)throw new Error("Failed to get PayPal OAuth URL");let o=window.open(t.auth_url,"paypal-oauth","width=500,height=600,scrollbars=yes,resizable=yes");if(!o)throw new Error("Popup blocked. Please allow popups for this site.");return new Promise((s,p)=>{let h=setInterval(()=>{o.closed&&(clearInterval(h),p(new Error("PayPal connection was cancelled")))},1e3),L=W=>{W.origin===window.location.origin&&(W.data.type==="PAYPAL_OAUTH_SUCCESS"?(clearInterval(h),window.removeEventListener("message",L),o.close(),this.connectAccount({code:W.data.code,state:W.data.state}).subscribe({next:We=>s(We),error:We=>p(We)})):W.data.type==="PAYPAL_OAUTH_ERROR"&&(clearInterval(h),window.removeEventListener("message",L),o.close(),p(new Error(W.data.error||"PayPal connection failed"))))};window.addEventListener("message",L)})}catch(t){throw console.error("PayPal connection error:",t),t}})}static \u0275fac=function(t){return new(t||r)(gt(ve))};static \u0275prov=H({token:r,factory:r.\u0275fac,providedIn:"root"})};function vi(r,e){r&1&&(n(0,"div",4),d(1,"mat-spinner",5),n(2,"h2"),a(3,"Connecting PayPal Account"),i(),n(4,"p"),a(5,"Please wait while we connect your PayPal account..."),i()())}function bi(r,e){if(r&1&&(n(0,"div",12)(1,"p")(2,"strong"),a(3,"Email:"),i(),a(4),i(),n(5,"p")(6,"strong"),a(7,"Status:"),i(),a(8),i()()),r&2){let t=g(2);l(4),R(" ",t.connectedAccount.email),l(4),R(" ",t.connectedAccount.is_verified?"Verified":"Not Verified")}}function yi(r,e){if(r&1){let t=O();n(0,"div",6)(1,"mat-icon",7),a(2,"check_circle"),i(),n(3,"h2"),a(4,"PayPal Account Connected!"),i(),n(5,"p"),a(6,"Your PayPal account has been successfully connected."),i(),G(7,bi,9,2,"div",8),n(8,"div",9)(9,"button",10),u("click",function(){x(t);let s=g();return v(s.goToPayPalAccounts())}),a(10," View PayPal Accounts "),i(),n(11,"button",11),u("click",function(){x(t);let s=g();return v(s.goToWithdrawals())}),a(12," Create Withdrawal "),i()()()}if(r&2){let t=g();l(7),m("ngIf",t.connectedAccount)}}function _i(r,e){if(r&1){let t=O();n(0,"div",13)(1,"mat-icon",14),a(2,"error"),i(),n(3,"h2"),a(4,"Connection Failed"),i(),n(5,"p"),a(6),i(),n(7,"div",9)(8,"button",10),u("click",function(){x(t);let s=g();return v(s.retry())}),a(9," Try Again "),i(),n(10,"button",11),u("click",function(){x(t);let s=g();return v(s.goToPayPalAccounts())}),a(11," Go Back "),i()()()}if(r&2){let t=g();l(6),w(t.errorMessage)}}var Ue=class r{constructor(e,t,o){this.route=e;this.router=t;this.paypalService=o}processing=!0;success=!1;error=!1;errorMessage="";connectedAccount=null;ngOnInit(){this.handleCallback()}handleCallback(){this.route.queryParams.subscribe(e=>{let t=e.code,o=e.state,s=e.error,p=e.error_description;if(s){this.handleError(p||s);return}if(!t||!o){this.handleError("Missing authorization code or state parameter");return}this.paypalService.connectAccount({code:t,state:o}).subscribe({next:h=>{this.processing=!1,this.success=!0,this.connectedAccount=h,window.opener&&(window.opener.postMessage({type:"PAYPAL_OAUTH_SUCCESS",code:t,state:o,account:h},window.location.origin),window.close())},error:h=>{console.error("PayPal connection error:",h),this.handleError(h.error?.message||"Failed to connect PayPal account"),window.opener&&(window.opener.postMessage({type:"PAYPAL_OAUTH_ERROR",error:h.error?.message||"Failed to connect PayPal account"},window.location.origin),window.close())}})})}handleError(e){this.processing=!1,this.error=!0,this.errorMessage=e}retry(){this.processing=!0,this.error=!1,this.success=!1,this.handleCallback()}goToPayPalAccounts(){this.router.navigate(["/paypal-accounts"])}goToWithdrawals(){this.router.navigate(["/withdrawals"])}static \u0275fac=function(t){return new(t||r)(z(K),z(E),z(Ge))};static \u0275cmp=f({type:r,selectors:[["app-paypal-callback"]],decls:4,vars:3,consts:[[1,"callback-container"],["class","processing-state",4,"ngIf"],["class","success-state",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"processing-state"],["diameter","48"],[1,"success-state"],[1,"success-icon"],["class","account-info",4,"ngIf"],[1,"actions"],["mat-raised-button","","color","primary",3,"click"],["mat-stroked-button","",3,"click"],[1,"account-info"],[1,"error-state"],[1,"error-icon"]],template:function(t,o){t&1&&(n(0,"div",0),G(1,vi,6,0,"div",1)(2,yi,13,1,"div",2)(3,_i,12,1,"div",3),i()),t&2&&(l(),m("ngIf",o.processing),l(),m("ngIf",o.success&&!o.processing),l(),m("ngIf",o.error&&!o.processing))},dependencies:[P,Z,ne,te,T,B,k,I],styles:[".callback-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:24px;background:linear-gradient(135deg,#667eea,#764ba2)}.processing-state[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{background:#fff;padding:48px 32px;border-radius:16px;box-shadow:0 20px 40px #0000001a;text-align:center;max-width:500px;width:100%}.processing-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:24px 0 16px;font-size:1.5rem;font-weight:600}.processing-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 24px;color:#666;line-height:1.6}.success-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#4caf50;margin-bottom:16px}.error-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#f44336;margin-bottom:16px}.account-info[_ngcontent-%COMP%]{background:#f5f5f5;padding:16px;border-radius:8px;margin:24px 0;text-align:left}.account-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;color:#333}.actions[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:center;flex-wrap:wrap;margin-top:32px}@media (max-width: 768px){.actions[_ngcontent-%COMP%]{flex-direction:column}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]})};function Ci(r,e){r&1&&(n(0,"div",4),d(1,"mat-spinner",5),n(2,"h2"),a(3,"Verifying Stripe Account"),i(),n(4,"p"),a(5,"Please wait while we verify your Stripe account setup..."),i()())}function wi(r,e){if(r&1){let t=O();n(0,"div",6)(1,"mat-icon",7),a(2,"check_circle"),i(),n(3,"h2"),a(4,"Stripe Account Connected Successfully!"),i(),n(5,"p"),a(6,"Your Stripe account has been set up and is ready for withdrawals."),i(),n(7,"div",8)(8,"button",9),u("click",function(){x(t);let s=g();return v(s.goToEarnings())}),a(9," View Earnings "),i(),n(10,"button",10),u("click",function(){x(t);let s=g();return v(s.goToDashboard())}),a(11," Back to Dashboard "),i()()()}}function Si(r,e){if(r&1){let t=O();n(0,"div",11)(1,"mat-icon",12),a(2,"error"),i(),n(3,"h2"),a(4,"Setup Incomplete"),i(),n(5,"p"),a(6),i(),n(7,"div",8)(8,"button",13),u("click",function(){x(t);let s=g();return v(s.retrySetup())}),a(9," Try Again "),i(),n(10,"button",10),u("click",function(){x(t);let s=g();return v(s.goToDashboard())}),a(11," Back to Dashboard "),i()()()}if(r&2){let t=g();l(6),w(t.errorMessage)}}var pe=class r{constructor(e,t,o){this.route=e;this.router=t;this.stripeConnectService=o}processing=!0;success=!1;error=!1;errorMessage="";ngOnInit(){return y(this,null,function*(){this.route.queryParams.subscribe(e=>y(this,null,function*(){e.success==="true"?yield this.handleSuccess():e.success==="false"?yield this.handleError():yield this.checkAccountStatus()}))})}handleSuccess(){return y(this,null,function*(){try{let e=yield this.stripeConnectService.getAccountStatus().toPromise();e?.payouts_enabled&&!e?.requirements_due?(this.processing=!1,this.success=!0):(this.processing=!1,this.error=!0,this.errorMessage="Account setup is not yet complete. Please try the onboarding process again.")}catch{this.processing=!1,this.error=!0,this.errorMessage="Failed to verify account status. Please try again."}})}handleError(){return y(this,null,function*(){this.processing=!1,this.error=!0,this.errorMessage="Account setup was not completed. You can try setting up your Stripe account again."})}checkAccountStatus(){return y(this,null,function*(){try{let e=yield this.stripeConnectService.getAccountStatus().toPromise();e?.payouts_enabled&&!e?.requirements_due?(this.processing=!1,this.success=!0):(this.processing=!1,this.error=!0,this.errorMessage="Account setup is incomplete. Please complete the onboarding process.")}catch{this.processing=!1,this.error=!0,this.errorMessage="Failed to check account status. Please try again."}})}retrySetup(){return y(this,null,function*(){try{this.processing=!0;let e=yield this.stripeConnectService.createOnboardingLink().toPromise();window.location.href=e.url}catch{this.processing=!1,this.errorMessage="Failed to create setup link. Please try again later."}})}goToEarnings(){this.router.navigate(["/dashboard/earnings"])}goToDashboard(){this.router.navigate(["/dashboard"])}static \u0275fac=function(t){return new(t||r)(z(K),z(E),z(Cn))};static \u0275cmp=f({type:r,selectors:[["app-stripe-callback"]],decls:4,vars:3,consts:[[1,"callback-container"],["class","processing-state",4,"ngIf"],["class","success-state",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"processing-state"],["diameter","48"],[1,"success-state"],[1,"success-icon"],[1,"actions"],["mat-raised-button","","color","primary",3,"click"],["mat-button","",3,"click"],[1,"error-state"],[1,"error-icon"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,o){t&1&&(n(0,"div",0),G(1,Ci,6,0,"div",1)(2,wi,12,0,"div",2)(3,Si,12,1,"div",3),i()),t&2&&(l(),m("ngIf",o.processing),l(),m("ngIf",o.success&&!o.processing),l(),m("ngIf",o.error&&!o.processing))},dependencies:[P,Z,ne,te,T,B,k,I],styles:[".callback-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:24px;background:#f5f5f5}.processing-state[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{text-align:center;max-width:400px;padding:48px 32px;background:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a}.success-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#4caf50;margin-bottom:24px}.error-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#f44336;margin-bottom:24px}h2[_ngcontent-%COMP%]{margin:16px 0;color:#333}p[_ngcontent-%COMP%]{margin:16px 0;color:#666;line-height:1.5}.actions[_ngcontent-%COMP%]{margin-top:32px;display:flex;gap:16px;justify-content:center;flex-wrap:wrap}mat-spinner[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.processing-state[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{padding:32px 24px;margin:16px}.actions[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;max-width:200px}}"]})};var On=[{path:"",component:je},{path:"search",component:ze},{path:"auth",loadChildren:()=>import("./chunk-WKFDEDXF.js").then(r=>r.AUTH_ROUTES),canActivate:[Mn]},{path:"login",redirectTo:"auth/login"},{path:"signup",redirectTo:"auth/signup"},{path:"dashboard",component:Le,loadChildren:()=>import("./chunk-JLNR76CR.js").then(r=>r.DASHBOARD_ROUTES),canActivate:[rt]},{path:"admin",loadChildren:()=>import("./chunk-MVCHPKQA.js").then(r=>r.adminRoutes),canActivate:[rt]},{path:"business",loadChildren:()=>import("./chunk-WNHKPK3J.js").then(r=>r.BUSINESS_ROUTES)},{path:"paypal/callback",component:Ue},{path:"stripe/return",component:pe},{path:"stripe/refresh",component:pe}];var Tn={providers:[kt({eventCoalescing:!0}),Nt(On),Ft(Dt()),wn(),zt(),{provide:It,useClass:De,multi:!0}]};function Mi(r,e){if(r&1&&(n(0,"div",15)(1,"mat-icon"),a(2,"error"),i(),n(3,"span"),a(4),i()()),r&2){let t=g();l(4),w(t.errorMessage)}}var Qe=class r{dialogRef=c(fn);username="";password="";errorMessage="";showPassword=!1;CORRECT_USERNAME="admin";CORRECT_PASSWORD="adminalexolalinsey";onSubmit(){this.username===this.CORRECT_USERNAME&&this.password===this.CORRECT_PASSWORD?(sessionStorage.setItem("authGateAccess","true"),this.dialogRef.close(!0)):(this.errorMessage="Invalid username or password. Please try again.",this.password="")}togglePasswordVisibility(){this.showPassword=!this.showPassword}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=f({type:r,selectors:[["app-auth-gate-modal"]],decls:30,vars:7,consts:[["authForm","ngForm"],[1,"auth-gate-container"],[1,"auth-gate-header"],["mat-dialog-title",""],[1,"subtitle"],[3,"ngSubmit"],[1,"form-group"],["appearance","outline",1,"full-width"],["matInput","","type","text","name","username","required","","autocomplete","username","placeholder","Enter username",3,"ngModelChange","ngModel"],["matPrefix",""],["matInput","","name","password","required","","autocomplete","current-password","placeholder","Enter password",3,"ngModelChange","type","ngModel"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["class","error-message",4,"ngIf"],[1,"actions"],["mat-raised-button","","color","primary","type","submit",1,"submit-button",3,"disabled"],[1,"error-message"]],template:function(t,o){if(t&1){let s=O();n(0,"div",1)(1,"div",2)(2,"h2",3),a(3,"Authorization Required"),i(),n(4,"p",4),a(5,"Please enter your credentials to access this application"),i()(),n(6,"mat-dialog-content")(7,"form",5,0),u("ngSubmit",function(){return x(s),v(o.onSubmit())}),n(9,"div",6)(10,"mat-form-field",7)(11,"mat-label"),a(12,"Username"),i(),n(13,"input",8),it("ngModelChange",function(h){return x(s),nt(o.username,h)||(o.username=h),v(h)}),i(),n(14,"mat-icon",9),a(15,"person"),i()()(),n(16,"div",6)(17,"mat-form-field",7)(18,"mat-label"),a(19,"Password"),i(),n(20,"input",10),it("ngModelChange",function(h){return x(s),nt(o.password,h)||(o.password=h),v(h)}),i(),n(21,"mat-icon",9),a(22,"lock"),i(),n(23,"button",11),u("click",function(){return x(s),v(o.togglePasswordVisibility())}),n(24,"mat-icon"),a(25),i()()()(),G(26,Mi,5,1,"div",12),n(27,"div",13)(28,"button",14),a(29," Access Application "),i()()()()()}t&2&&(l(13),tt("ngModel",o.username),l(7),m("type",o.showPassword?"text":"password"),tt("ngModel",o.password),l(3),Ze("aria-label","Toggle password visibility"),l(2),w(o.showPassword?"visibility_off":"visibility"),l(),m("ngIf",o.errorMessage),l(2),m("disabled",!o.username||!o.password))},dependencies:[P,Z,tn,ke,Me,Pe,Ee,en,Kt,Zt,yn,vn,bn,$,Te,Ae,Oe,on,se,Ie,k,I,Gt,T,B],styles:[".auth-gate-container[_ngcontent-%COMP%]{padding:20px;max-width:450px;min-width:350px}@media (max-width: 480px){.auth-gate-container[_ngcontent-%COMP%]{min-width:280px;padding:16px}}.auth-gate-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px}.auth-gate-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 8px;font-size:24px;font-weight:600;color:#333}.auth-gate-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#666}mat-dialog-content[_ngcontent-%COMP%]{padding:0;margin:0;overflow:visible}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]:last-of-type{margin-bottom:20px}.full-width[_ngcontent-%COMP%]{width:100%}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px;background-color:#ffebee;border-radius:4px;margin-bottom:16px;color:#c62828;font-size:14px}.error-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.actions[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:24px}.actions[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{width:100%;padding:12px;font-size:16px;font-weight:500;text-transform:uppercase}  .auth-gate-dialog .mat-mdc-dialog-container{border-radius:8px;box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f}mat-form-field[_ngcontent-%COMP%]   mat-icon[matPrefix][_ngcontent-%COMP%]{margin-right:8px;color:#666}"]})};var qe=class r{dialog=c(xn);dialogRef=null;checkAuthGate(){return!ee.production||sessionStorage.getItem("authGateAccess")==="true"?Promise.resolve(!0):this.showAuthGateModal()}showAuthGateModal(){return this.dialogRef?Promise.resolve(!1):(this.dialogRef=this.dialog.open(Qe,{disableClose:!0,panelClass:"auth-gate-dialog",width:"450px",maxWidth:"90vw",hasBackdrop:!0,backdropClass:"auth-gate-backdrop"}),new Promise(e=>{this.dialogRef.afterClosed().subscribe(t=>{this.dialogRef=null,e(t===!0)})}))}clearAuthGate(){sessionStorage.removeItem("authGateAccess")}static \u0275fac=function(t){return new(t||r)};static \u0275prov=H({token:r,factory:r.\u0275fac,providedIn:"root"})};function Pi(r,e){r&1&&d(0,"router-outlet")}function Ei(r,e){r&1&&(n(0,"div",0),d(1,"div",1),n(2,"p"),a(3,"Verifying access..."),i()())}var $e=class r{title="putheron";isAuthenticated=!1;authorizationService=c(Wt);authGateService=c(qe);constructor(){typeof window<"u"&&(window.authService=this.authorizationService,console.log("\u{1F527} Authorization service exposed as window.authService for debugging"),console.log("\u{1F4A1} Use window.authService.debugAuthState() to inspect permissions"))}ngOnInit(){return y(this,null,function*(){this.isAuthenticated=yield this.authGateService.checkAuthGate()})}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=f({type:r,selectors:[["app-root"]],decls:2,vars:1,consts:[[1,"auth-gate-loading"],[1,"spinner"]],template:function(t,o){t&1&&_(0,Pi,1,0,"router-outlet")(1,Ei,4,0,"div",0),t&2&&C(o.isAuthenticated?0:1)},dependencies:[P,be],styles:[".auth-gate-loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.auth-gate-loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:20px}.auth-gate-loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;font-weight:500;margin:0}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}"]})};Tt($e,Tn).catch(r=>console.error(r));
