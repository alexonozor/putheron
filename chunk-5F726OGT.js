import{a as st,b as dt}from"./chunk-FNLYNHV3.js";import{a as le,b as ce}from"./chunk-GMX65TMG.js";import{a as nt,b as ot,c as rt,d as at}from"./chunk-SALLPZLS.js";import{a as pt}from"./chunk-5S4YBWJT.js";import{a as ut}from"./chunk-ZABTFPLN.js";import{g as ht}from"./chunk-LXLXFLON.js";import{j as tt,k as G,l as it,m as ke}from"./chunk-2TVU5X7D.js";import{A as bt,c as _t,h as ft,k as gt}from"./chunk-6HVQSJLB.js";import{a as mt}from"./chunk-3DWAHAUX.js";import{b as W,c as de,d as Q}from"./chunk-CAUPKMHV.js";import{a as ct}from"./chunk-SY63MTEM.js";import{a as lt}from"./chunk-SRA5OYUU.js";import{c as $e,k as O,s as U,t as L}from"./chunk-EZYZDCTR.js";import{D as et,F as z,a as j,j as Me,l as Je,r as Ke,s as Ye,x as Xe}from"./chunk-FTO62232.js";import{a as Ze,d as re,e as ae,h as se}from"./chunk-ARLYTOMD.js";import{i as Ge,l as qe,t as R}from"./chunk-Z5YYMG7R.js";import{$b as T,A as Ve,Ac as Qe,B as H,Ba as X,Da as F,Db as Ce,Ea as He,Eb as f,F as Be,Fb as g,H as Ne,I as ge,Ib as Pe,Jb as Re,Kb as k,Lb as o,Mb as a,Nb as b,Pc as A,Qc as $,Tc as J,U as be,Ub as _,W as M,Wc as oe,Yb as l,_a as p,_b as d,ac as x,ba as K,bc as N,cc as ye,da as we,db as I,dc as E,eb as ee,ec as D,f as V,fa as u,fb as xe,ib as Fe,ic as je,jc as ie,ka as c,kc as C,la as m,lc as ne,ma as Ae,mc as s,na as Oe,nc as Z,oa as ve,oc as S,pa as Y,pb as v,q as fe,qb as te,rb as Ie,rc as ze,sc as Ue,tb as q,tc as Le,ua as B,wc as P,x as De,zc as We}from"./chunk-ME5BD2TS.js";import{e as y}from"./chunk-JKOY2XUY.js";var Tt=["*",[["mat-toolbar-row"]]],Et=["*","mat-toolbar-row"],Dt=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=Ie({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),wt=(()=>{class n{_elementRef=u(F);_platform=u(j);_document=u(Y);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=v({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,h){if(t&1&&N(h,Dt,5),t&2){let w;E(w=D())&&(i._toolbarRows=w)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(t,i){t&2&&(ne(i.color?"mat-"+i.color:""),C("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",i._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:Et,decls:2,vars:0,template:function(t,i){t&1&&(T(Tt),x(0),x(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mat-button-text-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mat-button-outlined-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return n})();var vt=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=te({type:n});static \u0275inj=K({imports:[z,z]})}return n})();var pe=["*"],Nt=["content"],At=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Ot=["mat-drawer","mat-drawer-content","*"];function Ht(n,r){if(n&1){let e=_();o(0,"div",1),l("click",function(){c(e);let i=d();return m(i._onBackdropClicked())}),a()}if(n&2){let e=d();C("mat-drawer-shown",e._isShowingBackdrop())}}function Ft(n,r){n&1&&(o(0,"mat-drawer-content"),x(1,2),a())}var It=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Pt=["mat-sidenav","mat-sidenav-content","*"];function Rt(n,r){if(n&1){let e=_();o(0,"div",1),l("click",function(){c(e);let i=d();return m(i._onBackdropClicked())}),a()}if(n&2){let e=d();C("mat-drawer-shown",e._isShowingBackdrop())}}function jt(n,r){n&1&&(o(0,"mat-sidenav-content"),x(1,2),a())}var zt=`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`;var Ut=new we("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:Lt}),Ee=new we("MAT_DRAWER_CONTAINER");function Lt(){return!1}var ue=(()=>{class n extends G{_platform=u(j);_changeDetectorRef=u(oe);_container=u(Te);constructor(){let e=u(F),t=u(tt),i=u(ee);super(e,t,i)}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}_shouldBeHidden(){if(this._platform.isBrowser)return!1;let{start:e,end:t}=this._container;return e!=null&&e.mode!=="over"&&e.opened||t!=null&&t.mode!=="over"&&t.opened}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=v({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:6,hostBindings:function(t,i){t&2&&(ie("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px"),C("mat-drawer-content-hidden",i._shouldBeHidden()))},features:[P([{provide:G,useExisting:n}]),q],ngContentSelectors:pe,decls:1,vars:0,template:function(t,i){t&1&&(T(),x(0))},encapsulation:2,changeDetection:0})}return n})(),Se=(()=>{class n{_elementRef=u(F);_focusTrapFactory=u(Ye);_focusMonitor=u(Je);_platform=u(j);_ngZone=u(ee);_renderer=u(Fe);_interactivityChecker=u(Ke);_doc=u(Y);_container=u(Ee,{optional:!0});_focusTrap=null;_elementFocusedBeforeDrawerWasOpened=null;_eventCleanups;_isAttached;_anchor;get position(){return this._position}set position(e){e=e==="end"?"end":"start",e!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}_position="start";get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}_mode="over";get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=O(e)}_disableClose=!1;get autoFocus(){let e=this._autoFocus;return e??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(e){(e==="true"||e==="false"||e==null)&&(e=O(e)),this._autoFocus=e}_autoFocus;get opened(){return this._opened()}set opened(e){this.toggle(O(e))}_opened=B(!1);_openedVia;_animationStarted=new V;_animationEnd=new V;openedChange=new I(!0);_openedStream=this.openedChange.pipe(H(e=>e),fe(()=>{}));openedStart=this._animationStarted.pipe(H(()=>this.opened),ge(void 0));_closedStream=this.openedChange.pipe(H(e=>!e),fe(()=>{}));closedStart=this._animationStarted.pipe(H(()=>!this.opened),ge(void 0));_destroyed=new V;onPositionChanged=new I;_content;_modeChanged=new V;_injector=u(ve);_changeDetectorRef=u(oe);constructor(){this.openedChange.pipe(M(this._destroyed)).subscribe(e=>{e?(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement,this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{let e=this._elementRef.nativeElement;De(e,"keydown").pipe(H(t=>t.keyCode===27&&!this.disableClose&&!Xe(t)),M(this._destroyed)).subscribe(t=>this._ngZone.run(()=>{this.close(),t.stopPropagation(),t.preventDefault()})),this._eventCleanups=[this._renderer.listen(e,"transitionrun",this._handleTransitionEvent),this._renderer.listen(e,"transitionend",this._handleTransitionEvent),this._renderer.listen(e,"transitioncancel",this._handleTransitionEvent)]}),this._animationEnd.subscribe(()=>{this.openedChange.emit(this.opened)})}_forceFocus(e,t){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let i=()=>{h(),w(),e.removeAttribute("tabindex")},h=this._renderer.listen(e,"blur",i),w=this._renderer.listen(e,"mousedown",i)})),e.focus(t)}_focusByCssSelector(e,t){let i=this._elementRef.nativeElement.querySelector(e);i&&this._forceFocus(i,t)}_takeFocus(){if(!this._focusTrap)return;let e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":xe(()=>{!this._focusTrap.focusInitialElement()&&typeof e.focus=="function"&&e.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(e){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,t){e&&t&&(this._openedVia=t);let i=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),i}_setOpen(e,t,i){return e===this.opened?Promise.resolve(e?"open":"close"):(this._opened.set(e),this._container?._transitionsEnabled?this._setIsAnimating(!0):setTimeout(()=>{this._animationStarted.next(),this._animationEnd.next()}),this._elementRef.nativeElement.classList.toggle("mat-drawer-opened",e),!e&&t&&this._restoreFocus(i),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(h=>{this.openedChange.pipe(Ne(1)).subscribe(w=>h(w?"open":"close"))}))}_setIsAnimating(e){this._elementRef.nativeElement.classList.toggle("mat-drawer-animating",e)}_getWidth(){return this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(e){if(!this._platform.isBrowser)return;let t=this._elementRef.nativeElement,i=t.parentNode;e==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),i.insertBefore(this._anchor,t)),i.appendChild(t)):this._anchor&&this._anchor.parentNode.insertBefore(t,this._anchor)}_handleTransitionEvent=e=>{let t=this._elementRef.nativeElement;e.target===t&&this._ngZone.run(()=>{e.type==="transitionrun"?this._animationStarted.next(e):(e.type==="transitionend"&&this._setIsAnimating(!1),this._animationEnd.next(e))})};static \u0275fac=function(t){return new(t||n)};static \u0275cmp=v({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(t&1&&ye(Nt,5),t&2){let h;E(h=D())&&(i._content=h.first)}},hostAttrs:[1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){t&2&&(Ce("align",null)("tabIndex",i.mode!=="side"?"-1":null),ie("visibility",!i._container&&!i.opened?"hidden":null),C("mat-drawer-end",i.position==="end")("mat-drawer-over",i.mode==="over")("mat-drawer-push",i.mode==="push")("mat-drawer-side",i.mode==="side"))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:pe,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(t,i){t&1&&(T(),o(0,"div",1,0),x(2),a())},dependencies:[G],encapsulation:2,changeDetection:0})}return n})(),Te=(()=>{class n{_dir=u(et,{optional:!0});_element=u(F);_ngZone=u(ee);_changeDetectorRef=u(oe);_animationDisabled=$e();_transitionsEnabled=!1;_allDrawers;_drawers=new He;_content;_userContent;get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=O(e)}_autosize=u(Ut);get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=e==null?null:O(e)}_backdropOverride;backdropClick=new I;_start;_end;_left;_right;_destroyed=new V;_doCheckSubject=new V;_contentMargins={left:null,right:null};_contentMarginChanges=new V;get scrollable(){return this._userContent||this._content}_injector=u(ve);constructor(){let e=u(j),t=u(it);this._dir?.change.pipe(M(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),t.change().pipe(M(this._destroyed)).subscribe(()=>this.updateContentMargins()),!this._animationDisabled&&e.isBrowser&&this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._element.nativeElement.classList.add("mat-drawer-transition"),this._transitionsEnabled=!0},200)})}ngAfterContentInit(){this._allDrawers.changes.pipe(be(this._allDrawers),M(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(t=>!t._container||t._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(be(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Be(10),M(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,t=0;if(this._left&&this._left.opened){if(this._left.mode=="side")e+=this._left._getWidth();else if(this._left.mode=="push"){let i=this._left._getWidth();e+=i,t-=i}}if(this._right&&this._right.opened){if(this._right.mode=="side")t+=this._right._getWidth();else if(this._right.mode=="push"){let i=this._right._getWidth();t+=i,e-=i}}e=e||null,t=t||null,(e!==this._contentMargins.left||t!==this._contentMargins.right)&&(this._contentMargins={left:e,right:t},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(M(this._drawers.changes)).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),e.mode!=="side"&&e.openedChange.pipe(M(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e.onPositionChanged.pipe(M(this._drawers.changes)).subscribe(()=>{xe({read:()=>this._validateDrawers()},{injector:this._injector})})}_watchDrawerMode(e){e._modeChanged.pipe(M(Ve(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){let t=this._element.nativeElement.classList,i="mat-drawer-container-has-open";e?t.add(i):t.remove(i)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{e.position=="end"?(this._end!=null,this._end=e):(this._start!=null,this._start=e)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return e!=null&&e.opened}_drawerHasBackdrop(e){return this._backdropOverride==null?!!e&&e.mode!=="side":this._backdropOverride}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=v({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,h){if(t&1&&(N(h,ue,5),N(h,Se,5)),t&2){let w;E(w=D())&&(i._content=w.first),E(w=D())&&(i._allDrawers=w)}},viewQuery:function(t,i){if(t&1&&ye(ue,5),t&2){let h;E(h=D())&&(i._userContent=h.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){t&2&&C("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[P([{provide:Ee,useExisting:n}])],ngContentSelectors:Ot,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){t&1&&(T(At),f(0,Ht,1,2,"div",0),x(1),x(2,1),f(3,Ft,2,0,"mat-drawer-content")),t&2&&(g(i.hasBackdrop?0:-1),p(3),g(i._content?-1:3))},dependencies:[ue],styles:[`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`],encapsulation:2,changeDetection:0})}return n})(),xt=(()=>{class n extends ue{static \u0275fac=(()=>{let e;return function(i){return(e||(e=X(n)))(i||n)}})();static \u0275cmp=v({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],features:[P([{provide:G,useExisting:n}]),q],ngContentSelectors:pe,decls:1,vars:0,template:function(t,i){t&1&&(T(),x(0))},encapsulation:2,changeDetection:0})}return n})(),Wt=(()=>{class n extends Se{get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=O(e)}_fixedInViewport=!1;get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=Me(e)}_fixedTopGap=0;get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=Me(e)}_fixedBottomGap=0;static \u0275fac=(()=>{let e;return function(i){return(e||(e=X(n)))(i||n)}})();static \u0275cmp=v({type:n,selectors:[["mat-sidenav"]],hostAttrs:[1,"mat-drawer","mat-sidenav"],hostVars:16,hostBindings:function(t,i){t&2&&(Ce("tabIndex",i.mode!=="side"?"-1":null)("align",null),ie("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),C("mat-drawer-end",i.position==="end")("mat-drawer-over",i.mode==="over")("mat-drawer-push",i.mode==="push")("mat-drawer-side",i.mode==="side")("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[P([{provide:Se,useExisting:n}]),q],ngContentSelectors:pe,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(t,i){t&1&&(T(),o(0,"div",1,0),x(2),a())},dependencies:[G],encapsulation:2,changeDetection:0})}return n})(),en=(()=>{class n extends Te{_allDrawers=void 0;_content=void 0;static \u0275fac=(()=>{let e;return function(i){return(e||(e=X(n)))(i||n)}})();static \u0275cmp=v({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(t,i,h){if(t&1&&(N(h,xt,5),N(h,Wt,5)),t&2){let w;E(w=D())&&(i._content=w.first),E(w=D())&&(i._allDrawers=w)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,i){t&2&&C("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[P([{provide:Ee,useExisting:n},{provide:Te,useExisting:n}]),q],ngContentSelectors:Pt,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){t&1&&(T(It),f(0,Rt,1,2,"div",0),x(1),x(2,1),f(3,jt,2,0,"mat-sidenav-content")),t&2&&(g(i.hasBackdrop?0:-1),p(3),g(i._content?-1:3))},dependencies:[xt],styles:[zt],encapsulation:2,changeDetection:0})}return n})(),Ct=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=te({type:n});static \u0275inj=K({imports:[z,ke,ke,z]})}return n})();var qt=(n,r)=>r._id;function Zt(n,r){if(n&1){let e=_();o(0,"button",5),l("click",function(){c(e);let i=d();return m(i.toggleDropdown())}),o(1,"mat-icon",6),s(2,"notifications_outline"),a()()}if(n&2){let e=d();p(),k("matBadge",e.unreadCount()>99?"99+":e.unreadCount())}}function $t(n,r){if(n&1){let e=_();o(0,"button",7),l("click",function(){c(e);let i=d();return m(i.toggleDropdown())}),o(1,"mat-icon",8),s(2,"notifications_outline"),a()()}}function Jt(n,r){if(n&1){let e=_();o(0,"button",18),l("click",function(){c(e);let i=d(2);return m(i.markAllAsRead())}),s(1),a()}if(n&2){let e=d(2);k("disabled",e.isMarkingAllRead),p(),S(" ",e.isMarkingAllRead?"Marking...":"Mark all read"," ")}}function Kt(n,r){n&1&&(o(0,"div",16),b(1,"div",19),a())}function Yt(n,r){n&1&&(o(0,"div",17),Ae(),o(1,"svg",20),b(2,"path",21),a(),Oe(),o(3,"p",22),s(4,"No notifications yet"),a()())}function Xt(n,r){n&1&&b(0,"div",34)}function ei(n,r){if(n&1){let e=_();o(0,"div",24),l("click",function(){let i=c(e).$implicit,h=d(3);return m(h.handleNotificationClick(i))})("keydown.enter",function(){let i=c(e).$implicit,h=d(3);return m(h.handleNotificationClick(i))})("keydown.space",function(){let i=c(e).$implicit,h=d(3);return m(h.handleNotificationClick(i))}),o(1,"div",25)(2,"div",26)(3,"span",27),s(4),a()(),o(5,"div",28)(6,"div",29)(7,"div",30)(8,"p",31),s(9),a(),o(10,"p",32),s(11),a(),o(12,"p",33),s(13),a()(),f(14,Xt,1,0,"div",34),a()()()()}if(n&2){let e=r.$implicit,t=d(3);ne(t.getNotificationStyles(e)),p(4),Z(t.getNotificationIcon(e.type)),p(5),S(" ",e.title," "),p(2),S(" ",e.message," "),p(2),S(" ",t.formatTimeAgo(e.createdAt)," "),p(),g(e.is_read?-1:14)}}function ti(n,r){if(n&1&&Pe(0,ei,15,7,"div",23,qt),n&2){let e=d(2);Re(e.recentNotifications())}}function ii(n,r){if(n&1){let e=_();o(0,"div",3)(1,"div",9)(2,"div",10)(3,"h3",11),s(4,"Notifications"),a(),o(5,"div",12),f(6,Jt,2,2,"button",13),o(7,"a",14),l("click",function(){c(e);let i=d();return m(i.closeDropdown())}),s(8," View all "),a()()()(),o(9,"div",15),f(10,Kt,2,0,"div",16)(11,Yt,5,0,"div",17)(12,ti,2,0),a()()}if(n&2){let e=d();p(6),g(e.unreadCount()>0?6:-1),p(4),g(e.isLoading()?10:e.recentNotifications().length===0?11:12)}}function ni(n,r){if(n&1){let e=_();o(0,"div",35),l("click",function(){c(e);let i=d();return m(i.closeDropdown())}),a()}}var he=class n{notificationService=u(ut);socketService=u(pt);router=u(re);isDropdownOpen=!1;isMarkingAllRead=!1;notifications=this.notificationService.notifications;unreadCount=this.notificationService.unreadCount;isLoading=this.notificationService.isLoading;hasUnreadNotifications=A(()=>this.unreadCount()>0);recentNotifications=A(()=>this.notifications().slice(0,5));constructor(){$(()=>{this.updatePageTitle()})}ngOnInit(){this.loadNotifications(),this.notificationService.requestNotificationPermission()}loadNotifications(){return y(this,null,function*(){try{yield this.notificationService.getNotifications({limit:20,page:1})}catch(r){console.error("Error loading notifications:",r)}})}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen,this.isDropdownOpen&&this.markUnseenAsSeen()}closeDropdown(){this.isDropdownOpen=!1}markUnseenAsSeen(){return y(this,null,function*(){try{yield this.notificationService.markAllAsSeen()}catch(r){console.error("Error marking notifications as seen:",r)}})}markAllAsRead(){return y(this,null,function*(){this.isMarkingAllRead=!0;try{yield this.notificationService.markAllAsRead()}catch(r){console.error("Error marking all as read:",r)}finally{this.isMarkingAllRead=!1}})}handleNotificationClick(r){return y(this,null,function*(){if(!r.is_read)try{yield this.notificationService.markAsRead(r._id)}catch(e){console.error("Error marking notification as read:",e)}this.navigateFromNotification(r),this.closeDropdown()})}navigateFromNotification(r){switch(r.type){case"project_created":case"project_accepted":case"project_rejected":case"project_started":case"project_completed":r.project_id&&this.router.navigate(["/dashboard/projects",r.project_id._id]);break;case"message_received":r.metadata?.chatId&&this.router.navigate(["/dashboard/messages"],{queryParams:{chat:r.metadata.chatId}});break;default:this.router.navigate(["/dashboard/notifications"]);break}}getNotificationIcon(r){return this.notificationService.getNotificationIcon(r)}getNotificationStyles(r){let e="";return r.priority==="urgent"?e+="bg-red-50 border-l-4 border-red-400 ":r.priority==="high"?e+="bg-orange-50 border-l-4 border-orange-400 ":r.is_read||(e+="bg-blue-50 "),e}formatTimeAgo(r){return this.notificationService.formatTimeAgo(r)}updatePageTitle(){let r=this.unreadCount(),e=document.title.replace(/^\(\d+\)\s/,"");r>0?document.title=`(${r}) ${e}`:document.title=e}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-notification-nav"]],decls:5,vars:3,consts:[[1,"relative"],["mat-icon-button",""],["mat-icon-button","",1,"text-gray-600","hover:text-primary-600"],[1,"absolute","right-0","z-50","mt-2","w-80","bg-white","rounded-lg","shadow-lg","border","border-gray-200","max-h-96","overflow-hidden"],[1,"fixed","inset-0","z-40"],["mat-icon-button","",3,"click"],["matBadgePosition","after",1,"material-icons-outlined",3,"matBadge"],["mat-icon-button","",1,"text-gray-600","hover:text-primary-600",3,"click"],[1,"material-icons-outlined"],[1,"px-4","py-3","border-b","border-gray-200","bg-gray-50"],[1,"flex","items-center","justify-between"],[1,"text-sm","font-semibold","text-gray-900"],[1,"flex","items-center","space-x-2"],[1,"text-xs","text-blue-600","hover:text-blue-800","font-medium",3,"disabled"],["routerLink","/dashboard/notifications",1,"text-xs","text-gray-600","hover:text-gray-800","font-medium",3,"click"],[1,"max-h-64","overflow-y-auto"],[1,"flex","items-center","justify-center","py-8"],[1,"text-center","py-8","text-gray-500"],[1,"text-xs","text-blue-600","hover:text-blue-800","font-medium",3,"click","disabled"],[1,"animate-spin","rounded-full","h-6","w-6","border-b-2","border-blue-600"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","mx-auto","mb-2","text-gray-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 17h5l-5.5-7V7a5 5 0 00-4.5-4.5A5 5 0 005.5 7v3L0 17h5m5 0v1a3 3 0 01-6 0v-1m6 0v1a3 3 0 006 0v-1"],[1,"text-sm"],["role","button","tabindex","0",1,"px-4","py-3","border-b","border-gray-100","hover:bg-gray-50","cursor-pointer","transition-colors","duration-200",3,"class"],["role","button","tabindex","0",1,"px-4","py-3","border-b","border-gray-100","hover:bg-gray-50","cursor-pointer","transition-colors","duration-200",3,"click","keydown.enter","keydown.space"],[1,"flex","items-start","space-x-3"],[1,"flex-shrink-0","mt-1"],[1,"text-lg"],[1,"flex-1","min-w-0"],[1,"flex","items-start","justify-between"],[1,"flex-1"],[1,"text-sm","font-medium","text-gray-900","truncate","hover:text-blue-600","transition-colors"],[1,"text-xs","text-gray-600","mt-1","line-clamp-2"],[1,"text-xs","text-gray-400","mt-1"],[1,"w-2","h-2","bg-blue-500","rounded-full","ml-2","mt-1","flex-shrink-0"],[1,"fixed","inset-0","z-40",3,"click"]],template:function(e,t){e&1&&(o(0,"div",0),f(1,Zt,3,1,"button",1)(2,$t,3,0,"button",2),f(3,ii,13,2,"div",3),f(4,ni,1,0,"div",4),a()),e&2&&(p(),g(t.unreadCount()>0?1:2),p(2),g(t.isDropdownOpen?3:-1),p(),g(t.isDropdownOpen?4:-1))},dependencies:[R,se,ae,Q,W,L,U,ce,le],encapsulation:2})};var ri=(n,r,e)=>({"background-color":n,width:r,"box-shadow":e}),_e=class n{width=J("100%");backgroundColor=J("#ffffff");placeholder=J("Search business, service or location");boxShadow=J("");query="";onSearch(){console.log("Search:",this.query)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-search"]],inputs:{width:[1,"width"],backgroundColor:[1,"backgroundColor"],placeholder:[1,"placeholder"],boxShadow:[1,"boxShadow"]},decls:7,vars:7,consts:[[1,"flex","items-center","rounded-full","pl-4","pr-2","sm:py-1.5",3,"ngStyle"],["type","search",1,"flex-1","bg-transparent","outline-none","border-none","text-gray-700","text-sm","sm:text-base","placeholder:text-gray-500","min-w-0",3,"ngModelChange","keyup.enter","placeholder","ngModel"],["mat-flat-button","","color","primary","type","button",1,"hidden","sm:inline-flex","rounded-full","h-9","sm:h-10","px-4","text-sm","leading-none","search-desktop-button",3,"click"],["mat-icon-button","","color","primary","type","button","aria-label","Search",1,"inline-flex","my-2","sm:hidden","bg-green-600!","text-white","rounded-full","h-9","w-9","items-center","justify-center","search-mobile-button",3,"click"],[1,"text-white!"]],template:function(e,t){e&1&&(o(0,"div",0)(1,"input",1),Le("ngModelChange",function(h){return Ue(t.query,h)||(t.query=h),h}),l("keyup.enter",function(){return t.onSearch()}),a(),o(2,"button",2),l("click",function(){return t.onSearch()}),s(3," Search "),a(),o(4,"button",3),l("click",function(){return t.onSearch()}),o(5,"mat-icon",4),s(6,"search"),a()()()),e&2&&(k("ngStyle",Qe(3,ri,t.backgroundColor(),t.width(),t.boxShadow()||null)),p(),k("placeholder",t.placeholder()),ze("ngModel",t.query))},dependencies:[Q,de,W,L,U,R,qe,bt,_t,ft,gt],styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:100%}@media (max-width: 639px){[_nghost-%COMP%]   .search-desktop-button[_ngcontent-%COMP%]{display:none!important}[_nghost-%COMP%]   .search-mobile-button[_ngcontent-%COMP%]{display:inline-flex!important}}@media (min-width: 640px){[_nghost-%COMP%]   .search-desktop-button[_ngcontent-%COMP%]{display:inline-flex!important}[_nghost-%COMP%]   .search-mobile-button[_ngcontent-%COMP%]{display:none!important}}"]})};var ai=(n,r)=>({"max-w-12xl":n,"max-w-7xl":r});function si(n,r){n&1&&b(0,"app-search",8)}function di(n,r){if(n&1){let e=_();o(0,"button",17),l("click",function(){c(e);let i=d(2);return m(i.navigateToAdmin())}),o(1,"mat-icon"),s(2,"admin_panel_settings"),a(),o(3,"span"),s(4,"Admin Panel"),a()()}}function li(n,r){if(n&1){let e=_();o(0,"button",17),l("click",function(){c(e);let i=d(3);return m(i.navigateToCreateBusiness())}),o(1,"mat-icon"),s(2,"add_business"),a(),o(3,"span"),s(4,"Add a Business"),a()()}}function ci(n,r){if(n&1){let e=_();o(0,"button",17),l("click",function(){c(e);let i=d(3);return m(i.switchToBusinessMode())}),o(1,"mat-icon"),s(2,"business"),a(),o(3,"span"),s(4,"Switch to Business Owner"),a()()}}function mi(n,r){if(n&1&&f(0,li,5,0,"button",18)(1,ci,5,0,"button",18),n&2){let e=d(2);g(e.hasBusinesses()?1:0)}}function ui(n,r){if(n&1){let e=_();o(0,"button",17),l("click",function(){c(e);let i=d(2);return m(i.switchToClientMode())}),o(1,"mat-icon"),s(2,"person_outline"),a(),o(3,"span"),s(4,"Switch to Client Mode"),a()()}}function pi(n,r){if(n&1){let e=_();o(0,"button",13),l("click",function(){c(e);let i=d();return m(i.navigateToMessages())}),o(1,"mat-icon",14),s(2," mail_outline "),a()(),b(3,"app-notification-nav"),o(4,"div",15),s(5),a(),o(6,"mat-menu",null,0)(8,"div",16),s(9),a(),o(10,"button",17),l("click",function(){c(e);let i=d();return m(i.navigateToDashboard())}),o(11,"mat-icon"),s(12,"dashboard"),a(),o(13,"span"),s(14,"Dashboard"),a()(),o(15,"button",17),l("click",function(){c(e);let i=d();return m(i.navigateToProfile())}),o(16,"mat-icon"),s(17,"person"),a(),o(18,"span"),s(19,"Profile"),a()(),f(20,di,5,0,"button",18),f(21,mi,2,1)(22,ui,5,0,"button",18),b(23,"mat-divider"),o(24,"button",17),l("click",function(){c(e);let i=d();return m(i.navigateToSettings())}),o(25,"mat-icon"),s(26,"settings"),a(),o(27,"span"),s(28,"Settings"),a()(),b(29,"mat-divider"),o(30,"button",19),l("click",function(){c(e);let i=d();return m(i.signOut())}),o(31,"mat-icon"),s(32,"logout"),a(),o(33,"span"),s(34,"Sign Out"),a()()()}if(n&2){let e=je(7),t=d();p(),k("matBadge",t.messageCount())("matBadgeHidden",t.messageCount()===0),p(3),k("matMenuTriggerFor",e),p(),S(" ",t.getUserInitials()," "),p(4),S(" Mode: ",t.isBusinessOwner()?"Business Owner":"Client"," "),p(11),g(t.hasAdminAccess()?20:-1),p(),g(t.isBusinessOwner()?22:21)}}function hi(n,r){n&1&&(o(0,"a",20),s(1,"How It Works"),a(),o(2,"a",20),s(3,"Why Choose VouchHer"),a(),o(4,"button",20),s(5," Sign In "),a(),o(6,"button",21),s(7," Join "),a())}function _i(n,r){if(n&1){let e=_();o(0,"button",22),l("click",function(){c(e);let i=d();return m(i.toggleMobileMenu())}),o(1,"mat-icon"),s(2,"menu"),a()(),o(3,"a",23),b(4,"img",24),a(),o(5,"div",25)(6,"button",26),l("click",function(){c(e);let i=d();return m(i.navigateToMessages())}),o(7,"mat-icon",14),s(8," mail_outline "),a()(),b(9,"app-notification-nav"),o(10,"div",27),s(11),a()()}if(n&2){let e=d();p(7),k("matBadge",e.messageCount())("matBadgeHidden",e.messageCount()===0),p(4),S(" ",e.getUserInitials()," ")}}function fi(n,r){if(n&1){let e=_();o(0,"button",22),l("click",function(){c(e);let i=d();return m(i.toggleMobileMenu())}),o(1,"mat-icon"),s(2,"menu"),a()(),o(3,"a",23),b(4,"img",24),a(),o(5,"button",28),s(6," Sign up "),a()}}function gi(n,r){if(n&1){let e=_();o(0,"button",35),l("click",function(){c(e);let i=d(2);return i.navigateToAdmin(),m(i.closeMobileMenu())}),o(1,"mat-icon",36),s(2,"admin_panel_settings"),a(),o(3,"span",37),s(4,"Admin Panel"),a()()}}function bi(n,r){if(n&1){let e=_();o(0,"button",35),l("click",function(){c(e);let i=d(3);return i.navigateToCreateBusiness(),m(i.closeMobileMenu())}),o(1,"mat-icon",36),s(2,"add_business"),a(),o(3,"span",37),s(4,"Add a Business"),a()()}}function wi(n,r){if(n&1){let e=_();o(0,"button",35),l("click",function(){c(e);let i=d(3);return i.switchToBusinessMode(),m(i.closeMobileMenu())}),o(1,"mat-icon",36),s(2,"business"),a(),o(3,"span",37),s(4,"Switch to Business Owner"),a()()}}function vi(n,r){if(n&1&&f(0,bi,5,0,"button",38)(1,wi,5,0,"button",38),n&2){let e=d(2);g(e.hasBusinesses()?1:0)}}function xi(n,r){if(n&1){let e=_();o(0,"button",35),l("click",function(){c(e);let i=d(2);return i.switchToClientMode(),m(i.closeMobileMenu())}),o(1,"mat-icon",36),s(2,"person_outline"),a(),o(3,"span",37),s(4,"Switch to Client Mode"),a()()}}function Ci(n,r){if(n&1){let e=_();o(0,"div",29)(1,"div",30)(2,"div",31),s(3),a(),o(4,"div")(5,"div",32),s(6),a(),o(7,"div",33),s(8),a()()(),o(9,"button",26),l("click",function(){c(e);let i=d();return m(i.closeMobileMenu())}),o(10,"mat-icon"),s(11,"close"),a()()(),o(12,"nav",34)(13,"button",35),l("click",function(){c(e);let i=d();return i.navigateToDashboard(),m(i.closeMobileMenu())}),o(14,"mat-icon",36),s(15,"dashboard"),a(),o(16,"span",37),s(17,"Dashboard"),a()(),o(18,"button",35),l("click",function(){c(e);let i=d();return i.navigateToProfile(),m(i.closeMobileMenu())}),o(19,"mat-icon",36),s(20,"person"),a(),o(21,"span",37),s(22,"Profile"),a()(),f(23,gi,5,0,"button",38),b(24,"mat-divider",39),f(25,vi,2,1)(26,xi,5,0,"button",38),b(27,"mat-divider",39),o(28,"button",35),l("click",function(){c(e);let i=d();return i.navigateToSettings(),m(i.closeMobileMenu())}),o(29,"mat-icon",36),s(30,"settings"),a(),o(31,"span",37),s(32,"Settings"),a()(),o(33,"button",40),l("click",function(){c(e);let i=d();return i.signOut(),m(i.closeMobileMenu())}),o(34,"mat-icon",41),s(35,"logout"),a(),o(36,"span"),s(37,"Sign Out"),a()()()}if(n&2){let e=d();p(3),S(" ",e.getUserInitials()," "),p(3),Z(e.getUserFullName()),p(2),Z(e.isBusinessOwner()?"Business Owner":"Client"),p(15),g(e.hasAdminAccess()?23:-1),p(2),g(e.isBusinessOwner()?26:25)}}function yi(n,r){if(n&1){let e=_();o(0,"div",29)(1,"div",42),b(2,"img",43),a(),o(3,"button",26),l("click",function(){c(e);let i=d();return m(i.closeMobileMenu())}),o(4,"mat-icon"),s(5,"close"),a()()(),o(6,"nav",34)(7,"button",44),l("click",function(){c(e);let i=d();return m(i.closeMobileMenu())}),o(8,"mat-icon",36),s(9,"home"),a(),o(10,"span",37),s(11,"Home"),a()(),o(12,"button",45),l("click",function(){c(e);let i=d();return m(i.closeMobileMenu())}),o(13,"mat-icon",36),s(14,"search"),a(),o(15,"span",37),s(16,"Find Services"),a()(),o(17,"button",46),l("click",function(){c(e);let i=d();return m(i.closeMobileMenu())}),o(18,"mat-icon",36),s(19,"info"),a(),o(20,"span",37),s(21,"How It Works"),a()(),b(22,"mat-divider",39),o(23,"button",47),l("click",function(){c(e);let i=d();return m(i.closeMobileMenu())}),s(24," Sign up "),a(),o(25,"button",48),l("click",function(){c(e);let i=d();return m(i.closeMobileMenu())}),s(26," Sign in "),a()()}}var St=class n{authService=u(ct);authorizationService=u(lt);businessService=u(mt);router=u(re);showMobileMenuButton=!1;isAdminMode=!1;isDashboardMode=!1;menuToggle=new I;user=this.authService.user;isAuthenticated=this.authService.isAuthenticated;showMobileMenu=B(!1);mobileMenuOpen=B(!1);messageCount=B(3);showHeaderSearch=B(!0);intersectionObserver;routerSub;hasBusinesses=B(!1);userMode=A(()=>this.user()?.user_mode||"client");isBusinessOwner=A(()=>this.userMode()==="business_owner");hasAdminAccess=A(()=>this.authorizationService.hasAdminAccess());constructor(){$(()=>{let r=this.user(),e=this.userMode(),t=this.isBusinessOwner();console.log("Header signals updated:",{user:r?.email,mode:e,isBusiness:t})}),$(()=>{this.user()?this.checkUserBusinesses():this.hasBusinesses.set(!1)}),this.setupRouteObserver()}setupRouteObserver(){this.routerSub=this.router.events.subscribe(t=>{t instanceof Ze&&(t.urlAfterRedirects==="/"||t.urlAfterRedirects===""?(this.showHeaderSearch.set(!1),this.attachHeroObserver()):(this.showHeaderSearch.set(!0),this.detachHeroObserver()))});let r=this.router.url;r==="/"||r===""?(this.showHeaderSearch.set(!1),this.attachHeroObserver()):this.showHeaderSearch.set(!0)}attachHeroObserver(){this.detachHeroObserver();let r=document.getElementById("hero-search-anchor");if(!r){this.showHeaderSearch.set(!0);return}this.intersectionObserver=new IntersectionObserver(e=>{e.forEach(t=>{this.showHeaderSearch.set(!t.isIntersecting)})},{root:null,threshold:0}),this.intersectionObserver.observe(r)}detachHeroObserver(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0)}checkUserBusinesses(){return y(this,null,function*(){try{let r=yield this.businessService.getMyBusinessesAsync();this.hasBusinesses.set(r.length>0)}catch(r){console.error("Error checking user businesses:",r),this.hasBusinesses.set(!1)}})}refreshBusinessCheck(){return y(this,null,function*(){yield this.checkUserBusinesses()})}getUserInitials(){let r=this.user();if(!r)return"";let e=r.first_name||"",t=r.last_name||"";return e&&t?e.charAt(0).toUpperCase()+t.charAt(0).toUpperCase():e?e.charAt(0).toUpperCase()+(r.email.charAt(0).toUpperCase()||""):t?r.email.charAt(0).toUpperCase()+t.charAt(0).toUpperCase():r.email.charAt(0).toUpperCase()}getUserFullName(){let r=this.user();if(!r)return"";let e=r.first_name||"",t=r.last_name||"";return e&&t?`${e} ${t}`:e||t||r.email}navigateToDashboard(){this.router.navigate(["/dashboard"])}navigateToProfile(){this.router.navigate(["/dashboard/profile"])}navigateToSettings(){this.router.navigate(["/dashboard/settings"])}navigateToMessages(){this.router.navigate(["/dashboard/messages"])}navigateToAdmin(){this.router.navigate(["/admin"])}navigateToCreateBusiness(){this.router.navigate(["/dashboard/businesses/create-business"])}navigateToOwnBusiness(){this.router.navigate(["/own-business"])}navigateToBecomeBusiness(){this.router.navigate(["/auth"],{queryParams:{mode:"business"}})}switchToBusinessMode(){return y(this,null,function*(){try{let r=yield this.authService.switchMode("business_owner");r.data?(console.log("Switched to business owner mode successfully"),console.log("Updated user mode:",this.userMode()),yield this.checkUserBusinesses(),this.navigateToDashboard()):console.error("Failed to switch to business mode:",r.error)}catch(r){console.error("Error switching to business mode:",r)}})}switchToClientMode(){return y(this,null,function*(){try{let r=yield this.authService.switchMode("client");r.data?(console.log("Switched to client mode successfully"),console.log("Updated user mode:",this.userMode()),this.router.navigate(["/search"])):console.error("Failed to switch to client mode:",r.error)}catch(r){console.error("Error switching to client mode:",r)}})}ngOnDestroy(){this.routerSub&&this.routerSub.unsubscribe?.(),this.detachHeroObserver()}toggleMobileMenu(){this.mobileMenuOpen.update(r=>!r)}closeMobileMenu(){this.mobileMenuOpen.set(!1)}onMenuToggle(){this.menuToggle.emit()}signOut(){return y(this,null,function*(){yield this.authService.signOut()})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-header"]],inputs:{showMobileMenuButton:"showMobileMenuButton",isAdminMode:"isAdminMode",isDashboardMode:"isDashboardMode"},outputs:{menuToggle:"menuToggle"},decls:19,vars:16,consts:[["userMenu","matMenu"],[1,"sticky","top-0","z-50",2,"--header-height","64px"],[1,"desktop-toolbar","bg-white","shadow-sm","border-b","border-gray-200"],[1,"w-full","mx-auto","px-4","sm:px-6","lg:px-8",3,"ngClass"],[1,"flex","justify-between","items-center","w-full"],[1,"flex","items-center","gap-4"],["routerLink","/",1,"text-2xl","font-bold","text-primary-600","hover:text-primary-700","transition-colors"],["src","/assets/logos/logo-with-text.png","alt","VouchHer",1,"h-10","w-auto"],["width","600px","backgroundColor","#efefef",1,"mx-4"],[1,"mobile-toolbar","bg-white","shadow-sm","border-b","border-gray-200","h-16"],[1,"w-full","flex","items-center","justify-between","px-3"],[1,"md:hidden","fixed","inset-0","bg-black","bg-opacity-50","z-40","transition-opacity","duration-300",3,"click"],[1,"md:hidden","fixed","left-0","top-0","bottom-0","w-72","bg-white","z-50","transform","transition-transform","duration-300","shadow-xl","overflow-y-auto"],["mat-icon-button","",1,"text-gray-600","hover:text-primary-600",3,"click"],["matBadgeColor","warn","matBadgeSize","small",3,"matBadge","matBadgeHidden"],[1,"w-9","h-9","m-0","p-0","bg-primary-600","cursor-pointer","text-white","rounded-full","flex","items-center","justify-center","text-sm","font-medium",3,"matMenuTriggerFor"],[1,"px-4","py-2","text-sm","text-gray-500","border-b"],["mat-menu-item","",3,"click"],["mat-menu-item",""],["mat-menu-item","",1,"text-red-600",3,"click"],["matButton","","routerLink","/auth",1,"text-[#484848]!"],["mat-flat-button","","color","primary","routerLink","/auth",1,"bg-primary-600","text-white"],["mat-icon-button","",1,"text-gray-700","-ml-2",3,"click"],["routerLink","/",1,"flex","items-center","absolute","left-1/2","transform","-translate-x-1/2"],["src","/assets/logos/logo-icon-md.png","alt","VouchHer",1,"h-8","w-auto"],[1,"flex","items-center","gap-1"],["mat-icon-button","",1,"text-gray-600",3,"click"],[1,"w-9","h-9","m-0","p-0","bg-primary-600","cursor-pointer","text-white","rounded-full","flex","items-center","justify-center","text-sm","font-medium"],["mat-flat-button","","color","primary","routerLink","/auth"],[1,"flex","items-center","justify-between","p-4","border-b","border-gray-200"],[1,"flex","items-center","gap-3"],[1,"w-12","h-12","bg-primary-600","text-white","rounded-full","flex","items-center","justify-center","text-lg","font-medium"],[1,"font-semibold","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"p-2"],["mat-button","",1,"w-full","justify-start","text-left","py-3","px-4","hover:bg-gray-50","rounded-lg",3,"click"],[1,"mr-3","text-gray-600"],[1,"text-gray-900"],["mat-button","",1,"w-full","justify-start","text-left","py-3","px-4","hover:bg-gray-50","rounded-lg"],[1,"my-2"],["mat-button","",1,"w-full","justify-start","text-left","py-3","px-4","hover:bg-red-50","rounded-lg","text-red-600",3,"click"],[1,"mr-3"],[1,"flex","items-center","gap-2"],["src","/assets/logos/logo-with-text.png","alt","VouchHer",1,"h-8","w-auto"],["mat-button","","routerLink","/",1,"w-full","justify-start","text-left","py-3","px-4","hover:bg-gray-50","rounded-lg",3,"click"],["mat-button","","routerLink","/search",1,"w-full","justify-start","text-left","py-3","px-4","hover:bg-gray-50","rounded-lg",3,"click"],["mat-button","","routerLink","/how-it-works",1,"w-full","justify-start","text-left","py-3","px-4","hover:bg-gray-50","rounded-lg",3,"click"],["mat-raised-button","","color","primary","routerLink","/auth",1,"w-full","bg-primary-600","text-white","my-2",3,"click"],["mat-stroked-button","","routerLink","/auth",1,"w-full","border-gray-300","text-gray-700",3,"click"]],template:function(e,t){if(e&1&&(o(0,"header",1)(1,"mat-toolbar",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"a",6),b(6,"img",7),a(),f(7,si,1,0,"app-search",8),a(),o(8,"div",5),f(9,pi,35,7)(10,hi,8,0),a()()()(),o(11,"mat-toolbar",9)(12,"div",10),f(13,_i,12,3)(14,fi,7,0),a()(),o(15,"div",11),l("click",function(){return t.closeMobileMenu()}),a(),o(16,"div",12),f(17,Ci,38,5)(18,yi,27,0),a()()),e&2){let i;p(2),k("ngClass",We(13,ai,t.isAuthenticated(),!t.isAuthenticated())),p(5),g(t.showHeaderSearch()?7:-1),p(2),g((i=t.isAuthenticated())?9:10,i),p(4),g(t.isAuthenticated()?13:14),p(2),C("opacity-0",!t.mobileMenuOpen())("pointer-events-none",!t.mobileMenuOpen()),p(),C("-translate-x-full",!t.mobileMenuOpen())("translate-x-0",t.mobileMenuOpen()),p(),g(t.isAuthenticated()?17:18)}},dependencies:[R,Ge,se,ae,L,U,Q,de,W,at,ot,nt,rt,ce,le,dt,st,vt,wt,Ct,he,ht,_e],styles:[".mat-toolbar[_ngcontent-%COMP%]{padding:0;height:64px}.absolute.left-1\\/2[_ngcontent-%COMP%]{pointer-events:auto}@media (max-width: 768px){.fixed.inset-0[_ngcontent-%COMP%]{transition:opacity .3s ease-in-out}.fixed.left-0[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}}.z-50[_ngcontent-%COMP%]{z-index:1100}.z-40[_ngcontent-%COMP%]{z-index:1000}.desktop-toolbar[_ngcontent-%COMP%]{display:none}.mobile-toolbar[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.desktop-toolbar[_ngcontent-%COMP%]{display:flex}.mobile-toolbar[_ngcontent-%COMP%]{display:none}}.link-button[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%]{color:#484848!important}.mat-card-avatar[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}"]})};export{vt as a,xt as b,Wt as c,en as d,Ct as e,_e as f,St as g};
