import{Mb as o,N as g,R as i,Yb as c,d as t,l as a}from"./chunk-D7HQ4GWZ.js";var d=class n{http=i(o);configService=i(c);get apiUrl(){return this.configService.getApiUrl("/chat")}createOrGetChat(e){return this.http.post(this.apiUrl,e)}createOrGetChatAsync(e){return t(this,null,function*(){return(yield a(this.createOrGetChat(e))).data})}getUserChats(){return this.http.get(this.apiUrl)}getUserChatsAsync(){return t(this,null,function*(){return(yield a(this.getUserChats())).data})}getChatById(e){return this.http.get(`${this.apiUrl}/${e}`)}getChatByIdAsync(e){return t(this,null,function*(){return(yield a(this.getChatById(e))).data})}getChatMessages(e,s=1,r=50){return this.http.get(`${this.apiUrl}/${e}/messages?page=${s}&limit=${r}`)}getChatMessagesAsync(e,s=1,r=50){return t(this,null,function*(){return(yield a(this.getChatMessages(e,s,r))).data})}sendMessage(e,s){return this.http.post(`${this.apiUrl}/${e}/messages`,s)}sendMessageAsync(e,s){return t(this,null,function*(){return(yield a(this.sendMessage(e,s))).data})}updateMessage(e,s,r){return this.http.patch(`${this.apiUrl}/${e}/messages/${s}`,r)}updateMessageAsync(e,s,r){return t(this,null,function*(){return(yield a(this.updateMessage(e,s,r))).data})}deleteMessage(e,s){return this.http.delete(`${this.apiUrl}/${e}/messages/${s}`)}deleteMessageAsync(e,s){return t(this,null,function*(){yield a(this.deleteMessage(e,s))})}markMessagesAsRead(e){return this.http.post(`${this.apiUrl}/${e}/mark-read`,{})}markMessagesAsReadAsync(e){return t(this,null,function*(){yield a(this.markMessagesAsRead(e))})}getUnreadMessageCount(){return this.http.get(`${this.apiUrl}/unread-count`)}getUnreadMessageCountAsync(){return t(this,null,function*(){return(yield a(this.getUnreadMessageCount())).data.count})}getChatByProjectId(e){return this.http.get(`${this.apiUrl}/project/${e}`)}getChatByProjectIdAsync(e){return t(this,null,function*(){return(yield a(this.getChatByProjectId(e))).data})}getChatUnreadCount(e){return this.http.get(`${this.apiUrl}/${e}/unread-count`)}getChatUnreadCountAsync(e){return t(this,null,function*(){return(yield a(this.getChatUnreadCount(e))).data.count})}static \u0275fac=function(s){return new(s||n)};static \u0275prov=g({token:n,factory:n.\u0275fac,providedIn:"root"})};export{d as a};
