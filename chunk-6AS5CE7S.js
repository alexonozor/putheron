import{A as ee,c as Y,h as q,k as K,s as Q,t as X,u as Z}from"./chunk-MOPYAMLF.js";import{a as J}from"./chunk-YYV7O7JP.js";import{c as N,g as W}from"./chunk-MEFNJ5SS.js";import"./chunk-GUCRBWY4.js";import{A as G,B as R,o as H,q as $,t as z}from"./chunk-REOVWAHI.js";import{Bb as v,Ea as g,Eb as k,Gb as f,Ib as I,Jb as L,Kb as V,Lb as i,Mb as n,Nb as m,Oc as y,Rb as U,Vb as p,Wb as c,ab as j,cb as d,fa as B,gc as s,hb as O,hc as w,ic as S,lc as E,mc as T,na as _,nc as P,oa as h,ob as D,pa as u,qa as x,ub as b,xc as M,yc as A,zc as F}from"./chunk-BEPULU6C.js";import"./chunk-JKOY2XUY.js";var re=(o,t)=>t._id;function se(o,t){o&1&&(i(0,"div",56)(1,"div",59),m(2,"div",60),i(3,"p",61),s(4,"Loading users..."),n()()())}function oe(o,t){if(o&1&&m(0,"img",74),o&2){let e=c().$implicit,r=c(2);v("src",e.avatar_url,j)("alt",r.getFullName(e))}}function ae(o,t){if(o&1&&(i(0,"div",75)(1,"span",92),s(2),n()()),o&2){let e=c().$implicit,r=c(2);d(2),w(r.getFullName(e).charAt(0))}}function le(o,t){if(o&1&&(i(0,"div",50),s(1),n()),o&2){let e=c().$implicit;d(),w(e.phone)}}function de(o,t){o&1&&(u(),i(0,"svg",93),m(1,"path",24),n(),x(),i(2,"span",94),s(3,"Verified"),n())}function ce(o,t){o&1&&(u(),i(0,"svg",95),m(1,"path",96),n(),x(),i(2,"span",97),s(3,"Unverified"),n())}function me(o,t){if(o&1&&(s(0),M(1,"date")),o&2){let e=c().$implicit;S(" ",F(1,1,e.createdAt,"short")," ")}}function ue(o,t){o&1&&(i(0,"span",82),s(1,"Unknown"),n())}function pe(o,t){o&1&&(u(),i(0,"svg",85),m(1,"path",98),n())}function ge(o,t){o&1&&(u(),i(0,"svg",85),m(1,"path",24),n())}function _e(o,t){if(o&1){let e=U();i(0,"button",89),p("click",function(){_(e);let a=c().$implicit,l=c(2);return h(l.toggleUserStatus(a._id,!a.is_active))}),b(1,pe,2,0,":svg:svg",85)(2,ge,2,0,":svg:svg",85),n()}if(o&2){let e=c().$implicit;k(e.is_active?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900"),v("title",e.is_active?"Deactivate User":"Activate User"),d(),f(e.is_active?1:2)}}function he(o,t){o&1&&(u(),i(0,"svg",85),m(1,"path",99),n())}function xe(o,t){o&1&&(u(),i(0,"svg",85),m(1,"path",26),n())}function fe(o,t){o&1&&(u(),i(0,"svg",85),m(1,"path",100),n())}function be(o,t){o&1&&(u(),i(0,"svg",85),m(1,"path",26),n())}function ve(o,t){if(o&1){let e=U();i(0,"tr",68)(1,"td",71)(2,"input",72),p("change",function(){let a=_(e).$implicit,l=c(2);return h(l.toggleUserSelection(a._id))}),n()(),i(3,"td",71)(4,"div",15)(5,"div",73),b(6,oe,1,2,"img",74)(7,ae,3,1,"div",75),n(),i(8,"div",76)(9,"div",77),s(10),n(),i(11,"div",50),s(12),n()()()(),i(13,"td",71)(14,"div",78),s(15),n(),b(16,le,2,1,"div",50),i(17,"div",79),b(18,de,4,0)(19,ce,4,0),n()(),i(20,"td",71)(21,"span",80),s(22),n()(),i(23,"td",71)(24,"span",80),s(25),n()(),i(26,"td",81),b(27,me,2,4)(28,ue,2,0,"span",82),n(),i(29,"td",81),s(30),M(31,"date"),n(),i(32,"td",83)(33,"div",49)(34,"button",84),p("click",function(){let a=_(e).$implicit,l=c(2);return h(l.viewUserDetails(a._id))}),u(),i(35,"svg",85),m(36,"path",86)(37,"path",87),n()(),b(38,_e,3,4,"button",88),x(),i(39,"button",89),p("click",function(){let a=_(e).$implicit,l=c(2);return h(a.is_banned?l.unbanUser(a._id):l.banUser(a._id))}),b(40,he,2,0,":svg:svg",85)(41,xe,2,0,":svg:svg",85),n(),i(42,"button",90),p("click",function(){let a=_(e).$implicit,l=c(2);return h(l.deleteUser(a._id))}),u(),i(43,"svg",85),m(44,"path",91),n()(),x(),i(45,"button",89),p("click",function(){let a=_(e).$implicit,l=c(2);return h(l.toggleBanUser(a))}),b(46,fe,2,0,":svg:svg",85)(47,be,2,0,":svg:svg",85),n(),i(48,"button",90),p("click",function(){let a=_(e).$implicit,l=c(2);return h(l.deleteUser(a._id))}),u(),i(49,"svg",85),m(50,"path",91),n()()()()()}if(o&2){let e=t.$implicit,r=c(2);d(2),v("checked",r.selectedUsers().has(e._id)),d(4),f(e.avatar_url?6:7),d(4),S(" ",r.getFullName(e)," "),d(2),S("ID: ",e._id.slice(-8),""),d(3),w(e.email),d(),f(e.phone?16:-1),d(2),f(e.email_verified?18:19),d(3),k(r.getRoleBadgeClass(e.user_mode||"client")),d(),S(" ",r.getRoleText(e)," "),d(2),k(r.getUserStatusBadge(e)),d(),S(" ",r.getUserStatusText(e)," "),d(2),f(e.createdAt?27:28),d(3),S(" ",F(31,24,e.createdAt,"short")," "),d(8),f(e.is_banned?-1:38),d(),k(e.is_banned?"text-green-600 hover:text-green-900":"text-orange-600 hover:text-orange-900"),v("title",e.is_banned?"Unban User":"Ban User"),d(),f(e.is_banned?40:41),d(5),k(e.is_banned?"text-green-600 hover:text-green-900":"text-orange-600 hover:text-orange-900"),v("title",e.is_banned?"Unban User":"Ban User"),d(),f(e.is_banned?46:47)}}function Ce(o,t){o&1&&(i(0,"div",69),u(),i(1,"svg",101),m(2,"path",19),n(),x(),i(3,"h3",102),s(4,"No users found"),n(),i(5,"p",103),s(6,"Try adjusting your search or filter criteria."),n()())}function we(o,t){o&1&&(i(0,"span",116),s(1," ... "),n())}function ye(o,t){if(o&1){let e=U();i(0,"button",118),p("click",function(){_(e);let a=c().$implicit,l=c(3);return h(l.goToPage(+a))}),s(1),n()}if(o&2){let e=c().$implicit,r=c(3);k(r.currentPage()===+e?"bg-blue-50 border-blue-500 text-blue-600 relative inline-flex items-center px-4 py-2 border text-sm font-medium":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50 relative inline-flex items-center px-4 py-2 border text-sm font-medium"),d(),S(" ",e," ")}}function Se(o,t){if(o&1&&b(0,we,2,0,"span",116)(1,ye,2,3,"button",117),o&2){let e=t.$implicit;f(e==="..."?0:1)}}function ke(o,t){if(o&1){let e=U();i(0,"div",70)(1,"div",104)(2,"button",105),p("click",function(){_(e);let a=c(2);return h(a.previousPage())}),s(3," Previous "),n(),i(4,"button",106),p("click",function(){_(e);let a=c(2);return h(a.nextPage())}),s(5," Next "),n()(),i(6,"div",107)(7,"div")(8,"p",108),s(9," Showing "),i(10,"span",109),s(11),n(),s(12," to "),i(13,"span",109),s(14),n(),s(15," of "),i(16,"span",109),s(17),n(),s(18," results "),n()(),i(19,"div")(20,"nav",110)(21,"button",111),p("click",function(){_(e);let a=c(2);return h(a.previousPage())}),u(),i(22,"svg",112),m(23,"path",113),n()(),L(24,Se,2,1,null,null,I),x(),i(26,"button",114),p("click",function(){_(e);let a=c(2);return h(a.nextPage())}),u(),i(27,"svg",112),m(28,"path",115),n()()()()()()}if(o&2){let e=c(2);d(2),v("disabled",e.currentPage()===1),d(2),v("disabled",e.currentPage()===e.totalPages()),d(7),w((e.currentPage()-1)*e.itemsPerPage()+1),d(3),w(e.Math.min(e.currentPage()*e.itemsPerPage(),e.totalUsers())),d(3),w(e.totalUsers()),d(4),v("disabled",e.currentPage()===1),d(3),V(e.getPageNumbers()),d(2),v("disabled",e.currentPage()===e.totalPages())}}function Ue(o,t){if(o&1){let e=U();i(0,"div",57)(1,"div",62)(2,"table",63)(3,"thead",64)(4,"tr")(5,"th",65)(6,"input",66),p("change",function(a){_(e);let l=c();return h(l.selectAll(a))}),n()(),i(7,"th",65),s(8,"User"),n(),i(9,"th",65),s(10,"Contact"),n(),i(11,"th",65),s(12,"Role"),n(),i(13,"th",65),s(14,"Status"),n(),i(15,"th",65),s(16,"Last Login"),n(),i(17,"th",65),s(18,"Joined"),n(),i(19,"th",65),s(20,"Actions"),n()()(),i(21,"tbody",67),L(22,ve,51,27,"tr",68,re),n()()(),b(24,Ce,7,0,"div",69)(25,ke,29,7,"div",70),n()}if(o&2){let e=c();d(22),V(e.users()),d(2),f(e.users().length===0?24:-1),d(),f(e.totalPages()>1?25:-1)}}function Me(o,t){o&1&&(i(0,"span",126),u(),i(1,"svg",127),m(2,"circle",128)(3,"path",129),n(),s(4," Deleting... "),n())}function Ee(o,t){o&1&&s(0," Delete User ")}function Te(o,t){if(o&1){let e=U();i(0,"div",58)(1,"div",119)(2,"div",120),u(),i(3,"svg",121),m(4,"path",91),n()(),x(),i(5,"h3",122),s(6,"Delete User"),n(),i(7,"p",123),s(8," Are you sure you want to delete this user? This action cannot be undone. This action cannot be undone and will permanently remove all user data. "),n(),i(9,"div",7)(10,"button",124),p("click",function(){_(e);let a=c();return h(a.cancelDelete())}),s(11," Cancel "),n(),i(12,"button",125),p("click",function(){_(e);let a=c();return h(a.confirmDelete())}),b(13,Me,5,0,"span",126)(14,Ee,1,0),n()()()()}if(o&2){let e=c();d(12),v("disabled",e.loading()),d(),f(e.loading()?13:14)}}var te=class o{constructor(t){this.http=t}router=B(N);users=g([]);loading=g(!1);selectedUsers=g(new Set);showDeleteModal=g(!1);showBulkActionModal=g(!1);bulkActionType=g(null);userToDelete=g(null);searchTerm=g("");statusFilter=g("all");roleFilter=g("all");sortBy=g("createdAt");sortOrder=g("desc");currentPage=g(1);itemsPerPage=g(10);totalUsers=g(0);totalPages=g(0);filteredUsersCount=y(()=>this.totalUsers());selectedCount=y(()=>this.selectedUsers().size);hasSelection=y(()=>this.selectedUsers().size>0);allSelected=y(()=>{let t=this.users(),e=this.selectedUsers();return t.length>0&&t.every(r=>e.has(r._id))});activeUsers=y(()=>this.users().filter(t=>t.is_active&&!t.is_banned).length);bannedUsers=y(()=>this.users().filter(t=>t.is_banned).length);pendingUsers=y(()=>this.users().filter(t=>!t.email_verified).length);pageSize=y(()=>this.itemsPerPage());apiUrl=`${J.api.baseUrl}/admin`;Math=Math;ngOnInit(){this.loadUsers()}loadUsers(){this.loading.set(!0);let t=new G().set("page",this.currentPage().toString()).set("limit",this.itemsPerPage().toString()).set("sortBy",this.sortBy()).set("sortOrder",this.sortOrder());this.searchTerm()&&(t=t.set("search",this.searchTerm())),this.statusFilter()==="active"?t=t.set("isActive","true"):this.statusFilter()==="inactive"?t=t.set("isActive","false"):this.statusFilter()==="banned"&&(t=t.set("isBanned","true")),this.roleFilter()!=="all"&&(t=t.set("userMode",this.roleFilter())),this.http.get(`${this.apiUrl}/users`,{params:t}).subscribe({next:e=>{this.users.set(e.users),this.totalUsers.set(e.total),this.totalPages.set(e.totalPages),this.loading.set(!1)},error:e=>{console.error("Error loading users:",e),this.loading.set(!1)}})}onSearch(t){t!==void 0&&this.searchTerm.set(t),this.currentPage.set(1),this.loadUsers()}onStatusFilterChange(t){let e=t.target;this.statusFilter.set(e.value),this.currentPage.set(1),this.loadUsers()}onRoleFilterChange(t){let e=t.target;this.roleFilter.set(e.value),this.currentPage.set(1),this.loadUsers()}onSort(t){this.sortBy()===t?this.sortOrder.set(this.sortOrder()==="asc"?"desc":"asc"):(this.sortBy.set(t),this.sortOrder.set("desc")),this.loadUsers()}onPageChange(t){t>=1&&t<=this.totalPages()&&(this.currentPage.set(t),this.loadUsers())}previousPage(){this.currentPage()>1&&this.onPageChange(this.currentPage()-1)}nextPage(){this.currentPage()<this.totalPages()&&this.onPageChange(this.currentPage()+1)}goToPage(t){this.onPageChange(t)}getPageNumbers(){return this.getPages()}onItemsPerPageChange(t){let e=t.target;this.itemsPerPage.set(parseInt(e.value)),this.currentPage.set(1),this.loadUsers()}toggleUserSelection(t){let e=new Set(this.selectedUsers());e.has(t)?e.delete(t):e.add(t),this.selectedUsers.set(e)}toggleAllSelection(){let t=this.users(),e=new Set(this.selectedUsers());this.allSelected()?t.forEach(r=>e.delete(r._id)):t.forEach(r=>e.add(r._id)),this.selectedUsers.set(e)}banUser(t){this.http.patch(`${this.apiUrl}/users/${t}/ban`,{isBanned:!0,banReason:"Banned by admin"}).subscribe({next:()=>{this.loadUsers()},error:e=>console.error("Error banning user:",e)})}unbanUser(t){this.http.patch(`${this.apiUrl}/users/${t}/ban`,{isBanned:!1}).subscribe({next:()=>{this.loadUsers()},error:e=>console.error("Error unbanning user:",e)})}toggleUserStatus(t,e){this.http.patch(`${this.apiUrl}/users/${t}/status`,{isActive:e}).subscribe({next:()=>{this.loadUsers()},error:r=>console.error("Error updating user status:",r)})}deleteUser(t){this.userToDelete.set(t),this.showDeleteModal.set(!0)}cancelDelete(){this.showDeleteModal.set(!1),this.userToDelete.set(null)}confirmDelete(){let t=this.userToDelete();t&&this.http.delete(`${this.apiUrl}/users/${t}`).subscribe({next:()=>{this.loadUsers(),this.showDeleteModal.set(!1),this.userToDelete.set(null)},error:e=>console.error("Error deleting user:",e)})}performBulkAction(t){this.bulkActionType.set(t),this.showBulkActionModal.set(!0)}confirmBulkAction(){let t=Array.from(this.selectedUsers()),e=this.bulkActionType();if(!e||t.length===0)return;let r;switch(e){case"ban":r=this.http.patch(`${this.apiUrl}/users/bulk-ban`,{userIds:t,isBanned:!0,banReason:"Bulk banned by admin"});break;case"unban":r=this.http.patch(`${this.apiUrl}/users/bulk-ban`,{userIds:t,isBanned:!1});break;case"activate":r=this.http.patch(`${this.apiUrl}/users/bulk-status`,{userIds:t,isActive:!0});break;case"deactivate":r=this.http.patch(`${this.apiUrl}/users/bulk-status`,{userIds:t,isActive:!1});break;case"delete":r=this.http.delete(`${this.apiUrl}/users/bulk-delete`,{body:{userIds:t}});break;default:return}r.subscribe({next:()=>{this.loadUsers(),this.selectedUsers.set(new Set),this.showBulkActionModal.set(!1),this.bulkActionType.set(null)},error:a=>{console.error("Error performing bulk action:",a),this.showBulkActionModal.set(!1)}})}exportUsers(t="json"){let e={status:this.statusFilter()!=="all"?this.statusFilter():void 0,role:this.roleFilter()!=="all"?this.roleFilter():void 0};this.http.get(`${this.apiUrl}/users/export`,{params:{format:t,filters:JSON.stringify(e)}}).subscribe({next:r=>{t==="csv"?this.downloadFile(r.data.data,"users.csv","text/csv"):this.downloadFile(JSON.stringify(r.data.data,null,2),"users.json","application/json")},error:r=>console.error("Error exporting users:",r)})}downloadFile(t,e,r){let a=new Blob([t],{type:r}),l=window.URL.createObjectURL(a),C=document.createElement("a");C.href=l,C.download=e,document.body.appendChild(C),C.click(),document.body.removeChild(C),window.URL.revokeObjectURL(l)}getUserStatusBadge(t){return t.is_banned?"bg-red-100 text-red-800":t.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}getUserStatusText(t){return t.is_banned?"Banned":t.is_active?"Active":"Inactive"}getRoleText(t){return t.user_mode==="business_owner"?"Business Owner":"Customer"}getRoleBadgeClass(t){return{client:"bg-blue-100 text-blue-800",business_owner:"bg-green-100 text-green-800"}[t]||"bg-gray-100 text-gray-800"}getFullName(t){return t.first_name||t.last_name?`${t.first_name||""} ${t.last_name||""}`.trim():"No name"}closeDeleteModal(){this.showDeleteModal.set(!1)}closeBulkActionModal(){this.showBulkActionModal.set(!1),this.bulkActionType.set(null)}getPages(){let t=this.totalPages(),e=this.currentPage(),r=2,a=[],l=[];for(let C=Math.max(2,e-r);C<=Math.min(t-1,e+r);C++)a.push(C);return e-r>2?l.push(1,"..."):l.push(1),l.push(...a),e+r<t-1?l.push("...",t):t>1&&l.push(t),l.filter((C,ie,ne)=>ne.indexOf(C)===ie)}onFilter(){this.currentPage.set(1),this.loadUsers()}clearFilters(){this.searchTerm.set(""),this.statusFilter.set("all"),this.roleFilter.set("all"),this.currentPage.set(1),this.loadUsers()}onPageSizeChange(){this.currentPage.set(1),this.loadUsers()}selectAll(t){if(t.target.checked){let r=this.users(),a=new Set(this.selectedUsers());r.forEach(l=>a.add(l._id)),this.selectedUsers.set(a)}else this.selectedUsers.set(new Set)}viewUserDetails(t){this.router.navigate(["/admin/dashboard/users",t])}toggleBanUser(t){console.log("Toggle ban user:",t._id)}static \u0275fac=function(e){return new(e||o)(O(R))};static \u0275cmp=D({type:o,selectors:[["app-admin-users-list"]],decls:121,vars:19,consts:[[1,"min-h-screen","bg-gradient-to-br","from-slate-50","via-blue-50","to-indigo-50"],[1,"p-4","sm:p-6","lg:p-8"],[1,"mb-8"],[1,"flex","flex-col","sm:flex-row","sm:items-center","sm:justify-between"],[1,"mb-4","sm:mb-0"],[1,"text-3xl","font-bold","text-gray-900","bg-gradient-to-r","from-blue-600","to-indigo-600","bg-clip-text","text-transparent"],[1,"text-gray-600","mt-2"],[1,"flex","space-x-3"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","rounded-lg","shadow-sm","text-sm","font-medium","text-white","bg-gradient-to-r","from-blue-600","to-indigo-600","hover:from-blue-700","hover:to-indigo-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:opacity-50","disabled:cursor-not-allowed","transform","transition-all","duration-200","hover:scale-105",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","rounded-lg","shadow-sm","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","transform","transition-all","duration-200","hover:scale-105",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-4","sm:gap-6","mb-8"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-100","p-6"],[1,"flex","items-center"],[1,"flex-shrink-0"],[1,"w-12","h-12","bg-gradient-to-r","from-blue-500","to-blue-600","rounded-xl","flex","items-center","justify-center","shadow-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-.5a4 4 0 11-8 0 4 4 0 018 0z"],[1,"ml-4","flex-1"],[1,"text-sm","font-medium","text-gray-500"],[1,"text-2xl","font-bold","text-gray-900"],[1,"w-12","h-12","bg-gradient-to-r","from-green-500","to-green-600","rounded-xl","flex","items-center","justify-center","shadow-lg"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"w-12","h-12","bg-gradient-to-r","from-red-500","to-red-600","rounded-xl","flex","items-center","justify-center","shadow-lg"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636M5.636 18.364l12.728-12.728"],[1,"w-12","h-12","bg-gradient-to-r","from-yellow-500","to-yellow-600","rounded-xl","flex","items-center","justify-center","shadow-lg"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-100","p-6","mb-8"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"lg:col-span-2"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"relative"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Search by name, email, or phone...",1,"block","w-full","pl-10","pr-3","py-2","border","border-gray-300","rounded-lg","leading-5","bg-white","placeholder-gray-500","focus:outline-none","focus:placeholder-gray-400","focus:ring-1","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],[1,"block","w-full","px-3","py-2","border","border-gray-300","rounded-lg","bg-white","focus:outline-none","focus:ring-1","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],["value",""],["value","active"],["value","inactive"],["value","banned"],["value","pending"],["value","user"],["value","business_owner"],["value","admin"],[1,"flex","flex-wrap","gap-3","mt-6"],[1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","rounded-lg","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],[1,"flex","items-center","space-x-2"],[1,"text-sm","text-gray-500"],[1,"px-3","py-1","border","border-gray-300","rounded","text-sm","focus:outline-none","focus:ring-1","focus:ring-blue-500",3,"ngModelChange","ngModel"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"flex","items-center","justify-center","h-64"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-100","overflow-hidden"],[1,"fixed","inset-0","bg-gray-600","bg-opacity-50","overflow-y-auto","h-full","w-full","z-50","flex","items-center","justify-center"],[1,"text-center"],[1,"inline-block","animate-spin","rounded-full","h-12","w-12","border-b-2","border-blue-600"],[1,"mt-4","text-sm","text-gray-600"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],["type","checkbox",1,"h-4","w-4","text-blue-600","focus:ring-blue-500","border-gray-300","rounded",3,"change"],[1,"bg-white","divide-y","divide-gray-200"],[1,"hover:bg-gray-50"],[1,"text-center","py-12"],[1,"bg-white","px-4","py-3","flex","items-center","justify-between","border-t","border-gray-200","sm:px-6"],[1,"px-6","py-4","whitespace-nowrap"],["type","checkbox",1,"h-4","w-4","text-blue-600","focus:ring-blue-500","border-gray-300","rounded",3,"change","checked"],[1,"flex-shrink-0","h-10","w-10"],[1,"h-10","w-10","rounded-full","object-cover",3,"src","alt"],[1,"h-10","w-10","rounded-full","bg-gradient-to-r","from-blue-500","to-indigo-600","flex","items-center","justify-center"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-900"],[1,"flex","items-center","mt-1"],[1,"inline-flex","px-2","py-1","text-xs","font-semibold","rounded-full"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"text-gray-400"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium"],["title","View Details",1,"text-blue-600","hover:text-blue-900","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],[1,"transition-colors",3,"class","title"],[1,"transition-colors",3,"click","title"],["title","Delete User",1,"text-red-600","hover:text-red-900","transition-colors",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"text-white","font-medium","text-sm"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-green-500","mr-1"],[1,"text-xs","text-green-600"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-red-500","mr-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"text-xs","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2 2v6a2 2 0 002 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 11V7a4 4 0 118 0m-4 8v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-12","w-12","text-gray-400"],[1,"mt-2","text-sm","font-medium","text-gray-900"],[1,"mt-1","text-sm","text-gray-500"],[1,"flex-1","flex","justify-between","sm:hidden"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"ml-3","relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","text-sm","font-medium","rounded-md","text-gray-700","bg-white","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"hidden","sm:flex-1","sm:flex","sm:items-center","sm:justify-between"],[1,"text-sm","text-gray-700"],[1,"font-medium"],[1,"relative","z-0","inline-flex","rounded-md","shadow-sm","-space-x-px"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-l-md","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-500","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"relative","inline-flex","items-center","px-2","py-2","rounded-r-md","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-500","hover:bg-gray-50","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],[1,"relative","inline-flex","items-center","px-4","py-2","border","border-gray-300","bg-white","text-sm","font-medium","text-gray-700"],[3,"class"],[3,"click"],[1,"bg-white","p-6","rounded-lg","shadow-xl","max-w-md","w-full","mx-4"],[1,"flex","items-center","justify-center","w-12","h-12","mx-auto","bg-red-100","rounded-full","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-red-600"],[1,"text-lg","font-medium","text-gray-900","text-center","mb-2"],[1,"text-sm","text-gray-500","text-center","mb-6"],[1,"flex-1","px-4","py-2","border","border-gray-300","rounded-md","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],[1,"flex-1","px-4","py-2","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-red-600","hover:bg-red-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"inline-flex","items-center"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-2","h-4","w-4","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,r){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),s(6," User Management "),n(),i(7,"p",6),s(8,"Manage and monitor user accounts"),n()(),i(9,"div",7)(10,"button",8),p("click",function(){return r.loadUsers()}),u(),i(11,"svg",9),m(12,"path",10),n(),s(13," Refresh "),n(),x(),i(14,"button",11),p("click",function(){return r.exportUsers("json")}),u(),i(15,"svg",9),m(16,"path",12),n(),s(17," Export "),n()()()(),x(),i(18,"div",13)(19,"div",14)(20,"div",15)(21,"div",16)(22,"div",17),u(),i(23,"svg",18),m(24,"path",19),n()()(),x(),i(25,"div",20)(26,"p",21),s(27,"Total Users"),n(),i(28,"p",22),s(29),M(30,"number"),n()()()(),i(31,"div",14)(32,"div",15)(33,"div",16)(34,"div",23),u(),i(35,"svg",18),m(36,"path",24),n()()(),x(),i(37,"div",20)(38,"p",21),s(39,"Active Users"),n(),i(40,"p",22),s(41),M(42,"number"),n()()()(),i(43,"div",14)(44,"div",15)(45,"div",16)(46,"div",25),u(),i(47,"svg",18),m(48,"path",26),n()()(),x(),i(49,"div",20)(50,"p",21),s(51,"Banned Users"),n(),i(52,"p",22),s(53),M(54,"number"),n()()()(),i(55,"div",14)(56,"div",15)(57,"div",16)(58,"div",27),u(),i(59,"svg",18),m(60,"path",28),n()()(),x(),i(61,"div",20)(62,"p",21),s(63,"Pending"),n(),i(64,"p",22),s(65),M(66,"number"),n()()()()(),i(67,"div",29)(68,"div",30)(69,"div",31)(70,"label",32),s(71,"Search Users"),n(),i(72,"div",33)(73,"div",34),u(),i(74,"svg",35),m(75,"path",36),n()(),x(),i(76,"input",37),P("ngModelChange",function(l){return T(r.searchTerm,l)||(r.searchTerm=l),l}),p("ngModelChange",function(l){return r.onSearch(l)}),n()()(),i(77,"div")(78,"label",32),s(79,"Status"),n(),i(80,"select",38),P("ngModelChange",function(l){return T(r.statusFilter,l)||(r.statusFilter=l),l}),p("ngModelChange",function(){return r.onFilter()}),i(81,"option",39),s(82,"All Status"),n(),i(83,"option",40),s(84,"Active"),n(),i(85,"option",41),s(86,"Inactive"),n(),i(87,"option",42),s(88,"Banned"),n(),i(89,"option",43),s(90,"Pending"),n()()(),i(91,"div")(92,"label",32),s(93,"Role"),n(),i(94,"select",38),P("ngModelChange",function(l){return T(r.roleFilter,l)||(r.roleFilter=l),l}),p("ngModelChange",function(){return r.onFilter()}),i(95,"option",39),s(96,"All Roles"),n(),i(97,"option",44),s(98,"User"),n(),i(99,"option",45),s(100,"Business Owner"),n(),i(101,"option",46),s(102,"Admin"),n()()()(),i(103,"div",47)(104,"button",48),p("click",function(){return r.clearFilters()}),s(105," Clear Filters "),n(),i(106,"div",49)(107,"span",50),s(108,"Results per page:"),n(),i(109,"select",51),P("ngModelChange",function(l){return T(r.pageSize,l)||(r.pageSize=l),l}),p("ngModelChange",function(){return r.onPageSizeChange()}),i(110,"option",52),s(111,"10"),n(),i(112,"option",53),s(113,"25"),n(),i(114,"option",54),s(115,"50"),n(),i(116,"option",55),s(117,"100"),n()()()()(),b(118,se,5,0,"div",56)(119,Ue,26,2,"div",57),n()(),b(120,Te,15,2,"div",58)),e&2&&(d(10),v("disabled",r.loading()),d(19),w(A(30,11,r.totalUsers())),d(12),w(A(42,13,r.activeUsers())),d(12),w(A(54,15,r.bannedUsers())),d(12),w(A(66,17,r.pendingUsers())),d(11),E("ngModel",r.searchTerm),d(4),E("ngModel",r.statusFilter),d(14),E("ngModel",r.roleFilter),d(15),E("ngModel",r.pageSize),d(9),f(r.loading()?118:119),d(2),f(r.showDeleteModal()?120:-1))},dependencies:[z,$,H,W,ee,X,Z,Y,Q,q,K],styles:[".user-management[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#f8fafc,#e0f2fe,#e8eaf6)}.action-button[_ngcontent-%COMP%]{transform:scale(1);transition:all .2s ease}.action-button[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 12px #0000001a}.table-row[_ngcontent-%COMP%]{transition:background-color .15s ease}.table-row[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.avatar-placeholder[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#3b82f6,#6366f1);color:#fff;font-weight:500;font-size:14px}.stats-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;border:1px solid #f3f4f6;padding:24px;transition:box-shadow .2s ease}.stats-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a}.loading-spinner[_ngcontent-%COMP%]{display:inline-block;width:48px;height:48px;border:2px solid transparent;border-top:2px solid #2563eb;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#4b556380;display:flex;align-items:center;justify-content:center;z-index:50}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:24px;border-radius:8px;box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a;max-width:28rem;width:100%;margin:0 16px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;height:8px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f5f9;border-radius:4px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:4px}.custom-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}@media (max-width: 640px){.modal-content[_ngcontent-%COMP%]{margin:16px}.stats-card[_ngcontent-%COMP%]{padding:16px}}"]})};export{te as AdminUsersListComponent};
