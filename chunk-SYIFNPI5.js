import{a as ne}from"./chunk-VB22CMOY.js";import{c as z,h as q,i as J,l as K,o as Q,p as W,q as X,r as Y,s as Z,x as ee,y as te,z as ie}from"./chunk-55W6K65S.js";import"./chunk-V2EJJXO4.js";import"./chunk-4KL26AYK.js";import{e as j,i as U}from"./chunk-BOFJA5JL.js";import{$a as l,$c as $,Ab as E,Ba as y,Cb as w,Eb as B,Fb as P,Gb as T,Hb as t,Hc as D,Ib as i,Jb as u,Nb as S,Pb as m,Qb as d,Ya as M,ac as r,bc as p,bd as H,cc as R,cd as G,da as V,ec as O,la as c,lb as L,ma as g,na as f,oa as _,qb as h,rc as C,sc as k,tc as N,uc as I,xb as b}from"./chunk-QKXNVIL2.js";import{a as A,b as F,d as x}from"./chunk-QEZ3K4DX.js";var oe=(a,n)=>n._id;function ae(a,n){if(a&1&&(t(0,"div",6)(1,"div",46)(2,"div",47)(3,"div",48),f(),t(4,"svg",49),u(5,"path",50),i()(),_(),t(6,"div",51)(7,"p",52),r(8,"Total Reviews"),i(),t(9,"p",53),r(10),C(11,"number"),i()()()(),t(12,"div",46)(13,"div",47)(14,"div",54),f(),t(15,"svg",55),u(16,"path",56),i()(),_(),t(17,"div",51)(18,"p",52),r(19,"Verified"),i(),t(20,"p",53),r(21),C(22,"number"),i()()()(),t(23,"div",46)(24,"div",47)(25,"div",57),f(),t(26,"svg",58),u(27,"path",59),i()(),_(),t(28,"div",51)(29,"p",52),r(30,"Flagged"),i(),t(31,"p",53),r(32),C(33,"number"),i()()()(),t(34,"div",46)(35,"div",47)(36,"div",60),f(),t(37,"svg",61),u(38,"path",62),i()(),_(),t(39,"div",51)(40,"p",52),r(41,"Pending"),i(),t(42,"p",53),r(43),C(44,"number"),i()()()(),t(45,"div",46)(46,"div",47)(47,"div",63),f(),t(48,"svg",64),u(49,"path",65),i()(),_(),t(50,"div",51)(51,"p",52),r(52,"Avg Rating"),i(),t(53,"p",53),r(54),C(55,"number"),i()()()()()),a&2){let e=n;l(10),p(k(11,5,e.total)),l(11),p(k(22,7,e.verified)),l(11),p(k(33,9,e.flagged)),l(11),p(k(44,11,e.total-e.verified-e.flagged)),l(11),p(N(55,13,e.averageRating,"1.1-1"))}}function le(a,n){if(a&1){let e=S();t(0,"div",42)(1,"div",66)(2,"div",47),f(),t(3,"svg",67),u(4,"path",68),i(),_(),t(5,"span",69),r(6),i()(),t(7,"div",70)(8,"button",71),m("click",function(){c(e);let s=d();return g(s.bulkVerifyReviews())}),r(9," Verify Selected "),i(),t(10,"button",72),m("click",function(){c(e);let s=d();return g(s.bulkFlagReviews())}),r(11," Flag Selected "),i(),t(12,"button",73),m("click",function(){c(e);let s=d();return g(s.deleteSelectedReviews())}),r(13," Delete Selected "),i(),t(14,"button",74),m("click",function(){c(e);let s=d();return g(s.deselectAllReviews())}),r(15," Deselect All "),i()()()()}if(a&2){let e=d();l(6),R(" ",e.selectedReviews().size," review(s) selected ")}}function se(a,n){if(a&1&&(t(0,"div",43)(1,"div",75),f(),t(2,"svg",76),u(3,"path",59),i(),_(),t(4,"span",77),r(5),i()()()),a&2){let e=d();l(5),p(e.error())}}function de(a,n){a&1&&(t(0,"div",45)(1,"div",78),f(),t(2,"svg",79),u(3,"circle",80)(4,"path",81),i(),r(5," Loading reviews... "),i()())}function me(a,n){a&1&&(t(0,"div",45),f(),t(1,"svg",82),u(2,"path",50),i(),_(),t(3,"h3",83),r(4,"No reviews found"),i(),t(5,"p",84),r(6,"No reviews match your current filters."),i()())}function ce(a,n){if(a&1&&(t(0,"div",110),r(1),i()),a&2){let e=d().$implicit,o=d(2);l(),p(o.getUserEmail(e.user_id))}}function ge(a,n){if(a&1&&(t(0,"span",112),r(1),C(2,"slice"),i()),a&2){let e=d().$implicit;b("title",e.flagged_reason),l(),R(" ",e.flagged_reason.length>20?I(2,2,e.flagged_reason,0,20)+"...":e.flagged_reason," ")}}function ue(a,n){if(a&1&&(t(0,"div",114),r(1),i()),a&2){let e=d().$implicit,o=d(2);l(),R("Updated: ",o.formatDate(e.updatedAt),"")}}function pe(a,n){if(a&1){let e=S();t(0,"button",118),m("click",function(){c(e);let s=d().$implicit,v=d(2);return g(v.quickVerifyReview(s._id))}),r(1," Verify "),i()}}function ve(a,n){if(a&1){let e=S();t(0,"button",119),m("click",function(){c(e);let s=d().$implicit,v=d(2);return g(v.quickFlagReview(s._id))}),r(1," Flag "),i()}}function xe(a,n){if(a&1){let e=S();t(0,"tr",92)(1,"td",102)(2,"input",103),m("change",function(){let s=c(e).$implicit,v=d(2);return g(v.toggleReviewSelection(s._id))}),i()(),t(3,"td",102)(4,"div",104)(5,"p",105),r(6),i(),t(7,"p",106),r(8),i()()(),t(9,"td",102)(10,"div",47),u(11,"div",107),t(12,"span",108),r(13),i()()(),t(14,"td",102)(15,"div",109),r(16),i(),h(17,ce,2,1,"div",110),i(),t(18,"td",102)(19,"div",109),r(20),i()(),t(21,"td",102)(22,"div",111)(23,"span"),r(24),i(),h(25,ge,3,6,"span",112),i()(),t(26,"td",102)(27,"div",113),r(28),i(),h(29,ue,2,1,"div",114),i(),t(30,"td",102)(31,"div",100)(32,"button",115),m("click",function(){let s=c(e).$implicit,v=d(2);return g(v.viewReviewDetails(s))}),r(33," View "),i(),h(34,pe,2,0,"button",116)(35,ve,2,0,"button",117),i()()()}if(a&2){let e=n.$implicit,o=d(2);l(2),b("checked",o.selectedReviews().has(e._id)),l(4),p(o.getProjectTitle(e.project_id)),l(2),p(e.review_text),l(3),b("innerHTML",o.generateStarDisplay(e.rating),M),l(2),p(e.rating),l(3),p(o.getUserName(e.user_id)),l(),w(o.hasUserEmail(e.user_id)?17:-1),l(3),p(o.getBusinessName(e.business_id)),l(3),E("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+o.getStatusColor(e.is_verified,e.is_flagged)),l(),R(" ",o.getStatusLabel(e.is_verified,e.is_flagged)," "),l(),w(e.is_flagged&&e.flagged_reason?25:-1),l(3),p(o.formatDate(e.createdAt)),l(),w(e.updatedAt&&e.updatedAt!==e.createdAt?29:-1),l(5),w(e.is_verified?-1:34),l(),w(e.is_flagged?-1:35)}}function we(a,n){if(a&1){let e=S();t(0,"button",121),m("click",function(){c(e);let s=d().$index,v=d(2);return g(v.onPageChange(s+1))}),r(1),i()}if(a&2){let e=d().$index,o=d(2);E("px-3 py-2 text-sm font-medium rounded-md "+(o.pagination().currentPage===e+1?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50")),l(),R(" ",e+1," ")}}function fe(a,n){if(a&1&&h(0,we,2,3,"button",120),a&2){let e=n.$index,o=d(2);w(o.pagination().totalPages<=5||e===0||e===o.Math.min(5,o.pagination().totalPages)-1||o.Math.abs(o.pagination().currentPage-(e+1))<=1?0:-1)}}function _e(a,n){if(a&1){let e=S();t(0,"div",85)(1,"table",86)(2,"thead",87)(3,"tr")(4,"th",88)(5,"input",89),m("change",function(s){c(e);let v=d();return g(v.onSelectAllChange(s))}),i()(),t(6,"th",90),r(7,"Review"),i(),t(8,"th",90),r(9,"Rating"),i(),t(10,"th",90),r(11,"User"),i(),t(12,"th",90),r(13,"Business"),i(),t(14,"th",90),r(15,"Status"),i(),t(16,"th",90),r(17,"Date"),i(),t(18,"th",90),r(19,"Actions"),i()()(),t(20,"tbody",91),P(21,xe,36,16,"tr",92,oe),i()()(),t(23,"div",93)(24,"div",66)(25,"div",47)(26,"p",94),r(27),i(),t(28,"div",51)(29,"select",95),m("change",function(s){c(e);let v=d();return g(v.onPerPageChangeEvent(s))}),t(30,"option",96),r(31,"10 per page"),i(),t(32,"option",97),r(33,"25 per page"),i(),t(34,"option",98),r(35,"50 per page"),i(),t(36,"option",99),r(37,"100 per page"),i()()()(),t(38,"div",100)(39,"button",101),m("click",function(){c(e);let s=d();return g(s.onPageChange(s.pagination().currentPage-1))}),r(40," Previous "),i(),P(41,fe,1,1,null,null,B),t(43,"button",101),m("click",function(){c(e);let s=d();return g(s.onPageChange(s.pagination().currentPage+1))}),r(44," Next "),i()()()()}if(a&2){let e=d();l(5),b("checked",e.selectedReviews().size===e.reviews().length&&e.reviews().length>0)("indeterminate",e.selectedReviews().size>0&&e.selectedReviews().size<e.reviews().length),l(16),T(e.reviews()),l(6),O(" Showing ",(e.pagination().currentPage-1)*e.pagination().perPage+1," to ",e.Math.min(e.pagination().currentPage*e.pagination().perPage,e.pagination().total)," of ",e.pagination().total," results "),l(2),b("value",e.pagination().perPage),l(10),E("px-3 py-2 text-sm font-medium rounded-md "+(e.pagination().hasPrev?"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50":"text-gray-400 bg-gray-100 border border-gray-200 cursor-not-allowed")),b("disabled",!e.pagination().hasPrev),l(2),T(e.Array(e.Math.min(5,e.pagination().totalPages)).fill(0)),l(2),E("px-3 py-2 text-sm font-medium rounded-md "+(e.pagination().hasNext?"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50":"text-gray-400 bg-gray-100 border border-gray-200 cursor-not-allowed")),b("disabled",!e.pagination().hasNext)}}var re=class a{adminReviewsService=V(ne);router=V(j);fb=V(ee);Math=Math;Array=Array;loading=y(!1);error=y(null);reviews=y([]);stats=y(null);selectedReviews=y(new Set);showBulkActions=D(()=>this.selectedReviews().size>0);pagination=y({total:0,totalPages:0,currentPage:1,perPage:25,hasNext:!1,hasPrev:!1});filterForm;currentFilters=y({page:1,limit:25,sortBy:"createdAt",sortOrder:"desc"});constructor(){this.filterForm=this.fb.group({search:[""],rating:[""],dateFrom:[""],dateTo:[""],isVerified:[""],isFlagged:[""],sortBy:["createdAt"],sortOrder:["desc"]})}ngOnInit(){return x(this,null,function*(){yield Promise.all([this.loadReviews(),this.loadStats()])})}loadReviews(){return x(this,null,function*(){this.loading.set(!0),this.error.set(null);try{let n=yield this.adminReviewsService.getReviewsAsync(this.currentFilters());this.reviews.set(n.reviews),this.pagination.set(n.pagination)}catch(n){console.error("Error loading reviews:",n),this.error.set("Failed to load reviews. Please try again.")}finally{this.loading.set(!1)}})}loadStats(){return x(this,null,function*(){try{let n=yield this.adminReviewsService.getReviewStatsAsync();this.stats.set(n)}catch(n){console.error("Error loading review stats:",n)}})}onFiltersChange(){return x(this,null,function*(){let n=this.filterForm.value,e=F(A({},this.currentFilters()),{page:1,search:n.search||void 0,rating:n.rating?Number(n.rating):void 0,dateFrom:n.dateFrom||void 0,dateTo:n.dateTo||void 0,isVerified:n.isVerified===""?void 0:n.isVerified==="true",isFlagged:n.isFlagged===""?void 0:n.isFlagged==="true",sortBy:n.sortBy||"createdAt",sortOrder:n.sortOrder||"desc"});this.currentFilters.set(e),yield this.loadReviews()})}onPageChange(n){return x(this,null,function*(){let e=F(A({},this.currentFilters()),{page:n});this.currentFilters.set(e),yield this.loadReviews()})}onPerPageChange(n){return x(this,null,function*(){let e=F(A({},this.currentFilters()),{limit:n,page:1});this.currentFilters.set(e),yield this.loadReviews()})}clearFilters(){this.filterForm.reset({search:"",rating:"",dateFrom:"",dateTo:"",isVerified:"",isFlagged:"",sortBy:"createdAt",sortOrder:"desc"}),this.currentFilters.set({page:1,limit:25,sortBy:"createdAt",sortOrder:"desc"}),this.loadReviews()}toggleReviewSelection(n){let e=new Set(this.selectedReviews());e.has(n)?e.delete(n):e.add(n),this.selectedReviews.set(e)}selectAllReviews(){let n=new Set(this.reviews().map(e=>e._id));this.selectedReviews.set(n)}deselectAllReviews(){this.selectedReviews.set(new Set)}bulkVerifyReviews(){return x(this,null,function*(){let n=Array.from(this.selectedReviews());if(n.length!==0&&confirm(`Are you sure you want to verify ${n.length} selected reviews?`)){this.loading.set(!0);try{yield this.adminReviewsService.bulkUpdateReviewsAsync(n,{is_verified:!0}),this.selectedReviews.set(new Set),yield this.loadReviews(),yield this.loadStats()}catch(e){console.error("Error verifying reviews:",e),this.error.set("Failed to verify reviews. Please try again.")}finally{this.loading.set(!1)}}})}bulkFlagReviews(){return x(this,null,function*(){let n=Array.from(this.selectedReviews());if(n.length===0)return;let e=prompt("Please provide a reason for flagging these reviews:");if(e){this.loading.set(!0);try{yield this.adminReviewsService.bulkUpdateReviewsAsync(n,{is_flagged:!0,flagged_reason:e}),this.selectedReviews.set(new Set),yield this.loadReviews(),yield this.loadStats()}catch(o){console.error("Error flagging reviews:",o),this.error.set("Failed to flag reviews. Please try again.")}finally{this.loading.set(!1)}}})}deleteSelectedReviews(){return x(this,null,function*(){let n=Array.from(this.selectedReviews());if(n.length!==0&&confirm(`Are you sure you want to delete ${n.length} selected reviews? This action cannot be undone.`)){this.loading.set(!0);try{for(let e of n)yield this.adminReviewsService.deleteReviewAsync(e);this.selectedReviews.set(new Set),yield this.loadReviews(),yield this.loadStats()}catch(e){console.error("Error deleting reviews:",e),this.error.set("Failed to delete reviews. Please try again.")}finally{this.loading.set(!1)}}})}viewReviewDetails(n){this.router.navigate(["/admin/dashboard/reviews",n._id])}exportReviews(){return x(this,null,function*(){try{let n=this.filterForm.value,e={rating:n.rating?Number(n.rating):void 0,search:n.search||void 0,dateFrom:n.dateFrom||void 0,dateTo:n.dateTo||void 0,format:"csv"},o=yield this.adminReviewsService.exportReviewsAsync(e);console.log("Export data:",o)}catch(n){console.error("Error exporting reviews:",n),this.error.set("Failed to export reviews. Please try again.")}})}onSelectAllChange(n){n.target?.checked?this.selectAllReviews():this.deselectAllReviews()}onPerPageChangeEvent(n){let e=n.target;e?.value&&this.onPerPageChange(+e.value)}quickVerifyReview(n){return x(this,null,function*(){try{yield this.adminReviewsService.updateReviewStatusAsync(n,!0,!1),yield this.loadReviews(),yield this.loadStats()}catch(e){console.error("Error verifying review:",e),this.error.set("Failed to verify review. Please try again.")}})}quickFlagReview(n){return x(this,null,function*(){let e=prompt("Please provide a reason for flagging this review:");if(e)try{yield this.adminReviewsService.updateReviewStatusAsync(n,!1,!0,e),yield this.loadReviews(),yield this.loadStats()}catch(o){console.error("Error flagging review:",o),this.error.set("Failed to flag review. Please try again.")}})}getStatusColor=this.adminReviewsService.getStatusColor.bind(this.adminReviewsService);getStatusLabel=this.adminReviewsService.getStatusLabel.bind(this.adminReviewsService);getRatingColor=this.adminReviewsService.getRatingColor.bind(this.adminReviewsService);formatDate=this.adminReviewsService.formatDate.bind(this.adminReviewsService);getUserName=this.adminReviewsService.getUserName.bind(this.adminReviewsService);getBusinessName=this.adminReviewsService.getBusinessName.bind(this.adminReviewsService);getProjectTitle=this.adminReviewsService.getProjectTitle.bind(this.adminReviewsService);generateStarDisplay=this.adminReviewsService.generateStarDisplay.bind(this.adminReviewsService);hasUserEmail(n){return typeof n=="object"&&n!==null&&"email"in n}getUserEmail(n){return this.hasUserEmail(n)?n.email:null}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=L({type:a,selectors:[["app-admin-reviews-list"]],decls:94,vars:5,consts:[[1,"p-6"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-600","mt-1"],[1,"flex","gap-3"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-5","gap-6","mb-8"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","p-6","mb-6"],[3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4","mb-4"],["for","search",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","search","type","text","formControlName","search","placeholder","Search reviews, users, businesses...",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500"],["for","rating",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","rating","formControlName","rating",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500"],["value",""],["value","5"],["value","4"],["value","3"],["value","2"],["value","1"],["for","dateFrom",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","dateFrom","type","date","formControlName","dateFrom",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500"],["for","dateTo",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","dateTo","type","date","formControlName","dateTo",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500"],["for","isVerified",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","isVerified","formControlName","isVerified",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500"],["value","true"],["value","false"],["for","isFlagged",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","isFlagged","formControlName","isFlagged",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500"],["for","sortBy",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","sortBy","formControlName","sortBy",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500"],["value","createdAt"],["value","rating"],["value","user_id"],["value","business_id"],["for","sortOrder",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","sortOrder","formControlName","sortOrder",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500"],["value","desc"],["value","asc"],["type","submit",1,"px-4","py-2","bg-blue-600","text-white","rounded-md","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2"],["type","button",1,"px-4","py-2","bg-gray-300","text-gray-700","rounded-md","hover:bg-gray-400","focus:outline-none","focus:ring-2","focus:ring-gray-500","focus:ring-offset-2",3,"click"],[1,"bg-blue-50","border","border-blue-200","rounded-lg","p-4","mb-6"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-4","mb-6"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","overflow-hidden"],[1,"p-8","text-center"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-200","p-6"],[1,"flex","items-center"],[1,"p-3","bg-blue-50","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 8h10m0 0V6a2 2 0 00-2-2H9a2 2 0 00-2 2v2m10 0v10a2 2 0 01-2 2H9a2 2 0 01-2-2V8"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-600"],[1,"text-2xl","font-semibold","text-gray-900"],[1,"p-3","bg-green-50","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"p-3","bg-red-50","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"],[1,"p-3","bg-yellow-50","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-yellow-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"p-3","bg-purple-50","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-purple-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"],[1,"flex","items-center","justify-between"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-blue-600","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-sm","font-medium","text-blue-800"],[1,"flex","gap-2"],[1,"px-3","py-1","bg-green-600","text-white","text-sm","rounded","hover:bg-green-700","transition-colors",3,"click"],[1,"px-3","py-1","bg-red-600","text-white","text-sm","rounded","hover:bg-red-700","transition-colors",3,"click"],[1,"px-3","py-1","bg-red-800","text-white","text-sm","rounded","hover:bg-red-900","transition-colors",3,"click"],[1,"px-3","py-1","bg-gray-500","text-white","text-sm","rounded","hover:bg-gray-600","transition-colors",3,"click"],[1,"flex"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-red-400","mr-2"],[1,"text-sm","text-red-800"],[1,"inline-flex","items-center","px-4","py-2","font-semibold","leading-6","text-sm","shadow","rounded-md","text-blue-500","bg-white"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-blue-500"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-12","w-12","text-gray-400"],[1,"mt-2","text-sm","font-medium","text-gray-900"],[1,"mt-1","text-sm","text-gray-500"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left"],["type","checkbox",1,"h-4","w-4","text-blue-600","rounded","border-gray-300","focus:ring-blue-500",3,"change","checked","indeterminate"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[1,"hover:bg-gray-50","transition-colors"],[1,"bg-white","px-4","py-3","border-t","border-gray-200","sm:px-6"],[1,"text-sm","text-gray-700"],[1,"text-sm","border","border-gray-300","rounded","px-2","py-1",3,"change","value"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"flex","items-center","space-x-2"],[3,"click","disabled"],[1,"px-6","py-4"],["type","checkbox",1,"h-4","w-4","text-blue-600","rounded","border-gray-300","focus:ring-blue-500",3,"change","checked"],[1,"max-w-xs"],[1,"text-sm","font-medium","text-gray-900","truncate"],[1,"text-sm","text-gray-500","line-clamp-2"],[3,"innerHTML"],[1,"ml-2","text-sm","font-medium","text-gray-900"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"flex","flex-col","gap-1"],[1,"text-xs","text-red-600",3,"title"],[1,"text-sm","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"text-blue-600","hover:text-blue-800","text-sm","font-medium",3,"click"],[1,"text-green-600","hover:text-green-800","text-sm","font-medium"],[1,"text-red-600","hover:text-red-800","text-sm","font-medium"],[1,"text-green-600","hover:text-green-800","text-sm","font-medium",3,"click"],[1,"text-red-600","hover:text-red-800","text-sm","font-medium",3,"click"],[3,"class"],[3,"click"]],template:function(e,o){if(e&1&&(t(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),r(4,"Reviews Management"),i(),t(5,"p",3),r(6,"Manage and moderate customer reviews"),i()(),t(7,"div",4)(8,"button",5),m("click",function(){return o.exportReviews()}),r(9," Export Reviews "),i()()(),h(10,ae,56,16,"div",6),t(11,"div",7)(12,"form",8),m("ngSubmit",function(){return o.onFiltersChange()}),t(13,"div",9)(14,"div")(15,"label",10),r(16,"Search"),i(),u(17,"input",11),i(),t(18,"div")(19,"label",12),r(20,"Rating"),i(),t(21,"select",13)(22,"option",14),r(23,"All Ratings"),i(),t(24,"option",15),r(25,"5 Stars"),i(),t(26,"option",16),r(27,"4 Stars"),i(),t(28,"option",17),r(29,"3 Stars"),i(),t(30,"option",18),r(31,"2 Stars"),i(),t(32,"option",19),r(33,"1 Star"),i()()(),t(34,"div")(35,"label",20),r(36,"Date From"),i(),u(37,"input",21),i(),t(38,"div")(39,"label",22),r(40,"Date To"),i(),u(41,"input",23),i()(),t(42,"div",9)(43,"div")(44,"label",24),r(45,"Verification Status"),i(),t(46,"select",25)(47,"option",14),r(48,"All Reviews"),i(),t(49,"option",26),r(50,"Verified Only"),i(),t(51,"option",27),r(52,"Unverified Only"),i()()(),t(53,"div")(54,"label",28),r(55,"Flag Status"),i(),t(56,"select",29)(57,"option",14),r(58,"All Reviews"),i(),t(59,"option",26),r(60,"Flagged Only"),i(),t(61,"option",27),r(62,"Not Flagged"),i()()(),t(63,"div")(64,"label",30),r(65,"Sort By"),i(),t(66,"select",31)(67,"option",32),r(68,"Date Created"),i(),t(69,"option",33),r(70,"Rating"),i(),t(71,"option",34),r(72,"User"),i(),t(73,"option",35),r(74,"Business"),i()()(),t(75,"div")(76,"label",36),r(77,"Sort Order"),i(),t(78,"select",37)(79,"option",38),r(80,"Newest First"),i(),t(81,"option",39),r(82,"Oldest First"),i()()()(),t(83,"div",4)(84,"button",40),r(85," Apply Filters "),i(),t(86,"button",41),m("click",function(){return o.clearFilters()}),r(87," Clear Filters "),i()()()(),h(88,le,16,1,"div",42)(89,se,6,1,"div",43),t(90,"div",44),h(91,de,6,0,"div",45)(92,me,7,0,"div",45)(93,_e,45,12),i()()),e&2){let s;l(10),w((s=o.stats())?10:-1,s),l(2),b("formGroup",o.filterForm),l(76),w(o.showBulkActions()?88:-1),l(),w(o.error()?89:-1),l(2),w(o.loading()?91:o.reviews().length===0?92:93)}},dependencies:[G,H,$,U,te,K,Y,Z,z,X,q,J,ie,Q,W],styles:[`.line-clamp-2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.star-rating[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.star-rating[_ngcontent-%COMP%]:hover{transform:scale(1.05)}input[type=checkbox][_ngcontent-%COMP%]:indeterminate{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='8' height='2' x='4' y='7' rx='1'/%3E%3C/svg%3E")}tr[_ngcontent-%COMP%]:hover   .action-buttons[_ngcontent-%COMP%]{opacity:1;visibility:visible}.action-buttons[_ngcontent-%COMP%]{opacity:.7;visibility:visible;transition:all .2s ease-in-out}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}.text-rating-5[_ngcontent-%COMP%]{color:#10b981}.text-rating-4[_ngcontent-%COMP%]{color:#84cc16}.text-rating-3[_ngcontent-%COMP%]{color:#eab308}.text-rating-2[_ngcontent-%COMP%]{color:#f97316}.text-rating-1[_ngcontent-%COMP%]{color:#ef4444}`]})};export{re as AdminReviewsListComponent};
