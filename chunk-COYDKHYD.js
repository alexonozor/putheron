import{a as Bn,b as Nn,c as Hn,f as qn,g as Un,h as Wn,i as Gn,j as Qn,k as Yn,l as Zn,m as Kn,p as Jn,q as ea,r as ta,s as ia}from"./chunk-MTB7GO6V.js";import{a as Vn,b as zn}from"./chunk-E35SARXT.js";import{a as On,b as Ln}from"./chunk-JSK6PFSH.js";import{a as na,b as aa,c as ei,g as ti,h as oa,i as ra,j as sa}from"./chunk-YVYJOLTR.js";import{a as pt,b as ut,c as _t,d as $n,f as Xn}from"./chunk-Y7AWYRN3.js";import{b as Ht,c as se,d as le}from"./chunk-HA2IEMAC.js";import{A as _e,Aa as Kt,B as he,Ba as Xt,C as fe,Ca as Jt,Da as ke,J as St,K as zt,M as Pi,N as $t,O as Cn,P as yn,Q as Ke,R as wn,S as qt,T as Sn,U as kt,W as kn,X as Ut,Z as En,_ as Tn,a as Se,ca as Dn,da as Pn,ea as at,f as Ti,fa as In,g as Le,ga as ot,ha as Fn,ia as Qt,j as Di,k as hn,ka as rt,l as Vt,n as fn,na as st,o as gn,pa as Yt,s as bn,sa as lt,ta as ct,u as Ze,ua as dt,v as vn,w as xn,wa as An,xa as mt,y as wt,ya as ht,za as Zt}from"./chunk-BYUYD32A.js";import{a as Rn}from"./chunk-NT3ERU5R.js";import{$ as O,$a as cn,Ab as W,B as tn,Bb as Ei,C as yi,Ca as D,Da as Ce,Ea as T,Fa as L,Fc as it,Gb as we,Ha as _,Hb as We,Hc as nt,Ib as B,J as nn,Ja as ne,Jb as Ge,K as Mt,Ka as y,L as an,La as jt,Lb as R,M as ge,Ma as N,Na as P,Ob as Ft,P as on,Pa as m,Q as qe,Qb as pn,R as xe,Ra as ki,S as X,Sa as F,T as rn,Ta as A,Tb as Qe,U as u,Ua as o,Ub as At,Va as a,Vb as K,Wa as x,Xa as de,Y as De,Ya as me,Yb as un,Z as g,Za as ae,Zb as Bt,_ as b,_a as w,a as $e,aa as Q,ab as f,ba as Y,bb as d,ca as Te,cb as ye,cc as Ot,d as k,da as Ct,db as oe,e as Fe,ea as Z,eb as re,ec as Ye,f as Zi,fa as Pe,fb as U,fc as _n,gb as M,h as ie,ha as q,hb as j,i as Ci,ic as Lt,ja as E,jc as Nt,k as Ki,ka as sn,kb as Oe,l as Ae,lb as s,lc as Mn,mb as h,mc as Wt,n as Xi,na as Re,nb as v,nc as jn,o as ve,ob as dn,oc as pe,pa as ln,qa as Ue,rc as Xe,sa as Be,sc as Je,ta as l,ua as J,ub as H,v as Ji,vb as yt,vc as Gt,wa as wi,x as Rt,xa as Si,xb as It,xc as et,y as en,yb as mn,yc as tt,za as Me,zb as z}from"./chunk-ZRKSC3WE.js";var ca=(t,n)=>n._id;function qa(t,n){if(t&1&&(o(0,"div",0)(1,"div",2),O(),o(2,"svg",3),x(3,"path",4),a(),Q(),o(4,"div")(5,"h3",5),s(6,"Error"),a(),o(7,"p",6),s(8),a()()()()),t&2){let e=d();l(8),h(e.error())}}function Ua(t,n){t&1&&(o(0,"div",1),x(1,"div",7),o(2,"span",8),s(3,"Loading..."),a()())}function Wa(t,n){if(t&1){let e=w();o(0,"div",35)(1,"div",47),O(),o(2,"svg",48),x(3,"path",18),a()(),Q(),o(4,"h4",49),s(5,"No businesses yet"),a(),o(6,"p",50),s(7,"Get started by creating your first business"),a(),o(8,"button",51),f("click",function(){g(e);let r=d(3);return b(r.navigateToCreateBusiness())}),O(),o(9,"svg",52),x(10,"path",46),a(),s(11," Create Business "),a()()}}function Ga(t,n){if(t&1&&x(0,"img",55),t&2){let e=d().$implicit;y("src",e.logo_url,Be)("alt",e.name)}}function Qa(t,n){t&1&&(o(0,"div",56),O(),o(1,"svg",63),x(2,"path",18),a()())}function Ya(t,n){if(t&1){let e=w();o(0,"div",54),f("click",function(){let r=g(e).$implicit,c=d(4);return b(c.viewBusiness(r._id))}),_(1,Ga,1,2,"img",55)(2,Qa,3,0,"div",56),o(3,"div",57)(4,"p",58),s(5),a(),o(6,"div",59)(7,"span",60),s(8),z(9,"titlecase"),a()()(),O(),o(10,"svg",61),x(11,"path",62),a()()}if(t&2){let e=n.$implicit,i=d(4);l(),m(e.logo_url?1:2),l(4),h(e.name),l(2),P(i.getStatusColor(e.status)),l(),v(" ",W(9,5,e.status)," ")}}function Za(t,n){if(t&1&&(o(0,"div",36),F(1,Ya,12,7,"div",53,ca),a()),t&2){let e=d(3);l(),A(e.userBusinesses().slice(0,3))}}function Ka(t,n){if(t&1){let e=w();o(0,"div",9)(1,"div",11)(2,"div",12)(3,"div",13)(4,"div")(5,"p",14),s(6,"Total Businesses"),a(),o(7,"p",15),s(8),a()(),o(9,"div",16),O(),o(10,"svg",17),x(11,"path",18),a()()()(),Q(),o(12,"div",12)(13,"div",13)(14,"div")(15,"p",14),s(16,"Active Services"),a(),o(17,"p",15),s(18),a()(),o(19,"div",19),O(),o(20,"svg",20),x(21,"path",21)(22,"path",22),a()()()(),Q(),o(23,"div",12)(24,"div",13)(25,"div")(26,"p",14),s(27,"Projects"),a(),o(28,"p",15),s(29),a()(),o(30,"div",23),O(),o(31,"svg",24),x(32,"path",25),a()()()(),Q(),o(33,"div",12)(34,"div",13)(35,"div")(36,"p",14),s(37,"Messages"),a(),o(38,"p",15),s(39,"0"),a()(),o(40,"div",26),O(),o(41,"svg",27),x(42,"path",28),a()()()()(),Q(),o(43,"div",29)(44,"div",30)(45,"div",31)(46,"div",13)(47,"h3",32),s(48,"Recent Businesses"),a(),o(49,"button",33),f("click",function(){g(e);let r=d(2);return b(r.setActiveTab("businesses"))}),s(50," View All \u2192 "),a()()(),o(51,"div",34),_(52,Wa,12,0,"div",35)(53,Za,3,0,"div",36),a()(),o(54,"div",30)(55,"div",31)(56,"h3",32),s(57,"Quick Actions"),a()(),o(58,"div",34)(59,"div",36)(60,"button",37),f("click",function(){g(e);let r=d(2);return b(r.navigateToCreateBusiness())}),o(61,"div",38)(62,"div",39),O(),o(63,"svg",40),x(64,"path",18),a()(),Q(),o(65,"div",41)(66,"p",42),s(67,"Create New Business"),a(),o(68,"p",43),s(69,"Set up a new business profile"),a()()()(),o(70,"button",37),f("click",function(){g(e);let r=d(2);return b(r.createService())}),o(71,"div",38)(72,"div",44),O(),o(73,"svg",45),x(74,"path",46),a()(),Q(),o(75,"div",41)(76,"p",42),s(77,"Add New Service"),a(),o(78,"p",43),s(79,"Create a service for your business"),a()()()()()()()()()}if(t&2){let e=d(2);l(8),h(e.userBusinesses().length),l(10),h(e.getTotalServices()),l(11),h(e.getTotalProjects()),l(23),m(e.userBusinesses().length===0?52:53)}}function Xa(t,n){if(t&1){let e=w();o(0,"div",67)(1,"div",69),O(),o(2,"svg",70),x(3,"path",18),a()(),Q(),o(4,"h3",71),s(5,"No businesses yet"),a(),o(6,"p",50),s(7,"Get started by creating your first business listing."),a(),o(8,"button",72),f("click",function(){g(e);let r=d(3);return b(r.navigateToCreateBusiness())}),O(),o(9,"svg",52),x(10,"path",46),a(),s(11," Create Your First Business "),a()()}}function Ja(t,n){if(t&1&&x(0,"img",55),t&2){let e=d().$implicit;y("src",e.logo_url,Be)("alt",e.name+" logo")}}function eo(t,n){t&1&&(o(0,"div",56),O(),o(1,"svg",63),x(2,"path",18),a()())}function to(t,n){if(t&1){let e=w();o(0,"div",74),f("click",function(){let r=g(e).$implicit,c=d(4);return b(c.viewBusiness(r._id))}),o(1,"div",34)(2,"div",75),_(3,Ja,1,2,"img",55)(4,eo,3,0,"div",56),o(5,"div",57)(6,"h4",76),s(7),a(),o(8,"span",60),s(9),z(10,"titlecase"),a()()(),o(11,"p",77),s(12),a(),o(13,"div",78)(14,"span"),s(15),a(),o(16,"span"),s(17),a()()(),o(18,"div",79)(19,"div",13)(20,"div",80)(21,"button",81),f("click",function(r){let c=g(e).$implicit,p=d(4);return r.stopPropagation(),b(p.viewBusiness(c._id))}),O(),o(22,"svg",82),x(23,"path",22)(24,"path",83),a()(),Q(),o(25,"button",84),f("click",function(r){let c=g(e).$implicit,p=d(4);return r.stopPropagation(),b(p.editBusiness(c._id))}),O(),o(26,"svg",82),x(27,"path",85),a()()(),Q(),o(28,"button",86),f("click",function(r){let c=g(e).$implicit,p=d(4);return r.stopPropagation(),b(p.deleteBusiness(c._id))}),O(),o(29,"svg",87),x(30,"path",88),a()()()()()}if(t&2){let e=n.$implicit,i=d(4);l(3),m(e.logo_url?3:4),l(4),h(e.name),l(),P(i.getStatusColor(e.status)),l(),v(" ",W(10,8,e.status)," "),l(3),v(" ",e.short_description||e.description||"No description available"," "),l(3),h(i.getCategoryName(e)),l(2),v("",e.view_count||0," views")}}function io(t,n){if(t&1&&(o(0,"div",68),F(1,to,31,10,"div",73,ca),a()),t&2){let e=d(3);l(),A(e.userBusinesses())}}function no(t,n){if(t&1){let e=w();o(0,"div",10)(1,"div",13)(2,"div")(3,"h2",64),s(4,"Your Businesses"),a(),o(5,"p",65),s(6,"Manage and monitor your business listings"),a()(),o(7,"button",66),f("click",function(){g(e);let r=d(2);return b(r.navigateToCreateBusiness())}),O(),o(8,"svg",52),x(9,"path",46),a(),s(10," New Business "),a()(),_(11,Xa,12,0,"div",67)(12,io,3,0,"div",68),a()}if(t&2){let e=d(2);l(11),m(e.hasBusinesses()?12:11)}}function ao(t,n){if(t&1){let e=w();o(0,"div",10)(1,"div",13)(2,"div")(3,"h2",64),s(4,"Your Services"),a(),o(5,"p",65),s(6,"Manage services across all your businesses"),a()(),o(7,"button",66),f("click",function(){g(e);let r=d(2);return b(r.createService())}),O(),o(8,"svg",52),x(9,"path",46),a(),s(10," New Service "),a()(),Q(),o(11,"div",67)(12,"div",69),O(),o(13,"svg",70),x(14,"path",21)(15,"path",22),a()(),Q(),o(16,"h3",71),s(17,"Services Management"),a(),o(18,"p",50),s(19,"This feature will be available soon. You can manage services from individual business profiles."),a(),o(20,"button",89),f("click",function(){g(e);let r=d(2);return b(r.setActiveTab("businesses"))}),s(21," View Businesses "),a()()()}}function oo(t,n){t&1&&(o(0,"div",10)(1,"div",13)(2,"div")(3,"h2",64),s(4,"Your Projects"),a(),o(5,"p",65),s(6,"Showcase your work and portfolio"),a()()(),o(7,"div",67)(8,"div",69),O(),o(9,"svg",70),x(10,"path",25),a()(),Q(),o(11,"h3",71),s(12,"Projects Coming Soon"),a(),o(13,"p",90),s(14,"Portfolio and project management features will be available in a future update."),a()()())}function ro(t,n){t&1&&(o(0,"div",10)(1,"div",13)(2,"div")(3,"h2",64),s(4,"Messages"),a(),o(5,"p",65),s(6,"Communicate with clients and prospects"),a()()(),o(7,"div",67)(8,"div",69),O(),o(9,"svg",70),x(10,"path",28),a()(),Q(),o(11,"h3",71),s(12,"Messaging Coming Soon"),a(),o(13,"p",90),s(14,"Direct messaging and communication features will be available in a future update."),a()()())}function so(t,n){if(t&1&&_(0,Ka,80,4,"div",9)(1,no,13,1,"div",10)(2,ao,22,0,"div",10)(3,oo,15,0,"div",10)(4,ro,15,0,"div",10),t&2){let e,i=d();m((e=i.activeTab())==="overview"?0:e==="businesses"?1:e==="services"?2:e==="projects"?3:e==="messages"?4:-1)}}var ii=class t{authService=u(Se);router=u(Ye);route=u(Ot);businessService=u(Ln);projectService=u(_t);userBusinesses=E([]);userServices=E([]);userProjects=E([]);loading=E(!1);error=E(null);activeTab=E("overview");user=this.authService.user;hasBusinesses=R(()=>this.userBusinesses().length>0);totalServices=R(()=>this.userServices().length);totalProjects=R(()=>this.userProjects().length);ngOnInit(){if(!this.user()){this.router.navigate(["/auth"]);return}let n=this.router.url.split("/"),e=n[n.length-1];e==="dashboard"||e==="overview"||e===""?this.activeTab.set("overview"):this.activeTab.set(e),this.loadDashboardData()}loadDashboardData(){return k(this,null,function*(){this.loading.set(!0),this.error.set(null);try{let n=yield this.businessService.getMyBusinessesAsync();this.userBusinesses.set(n);let e=[];for(let i of n)try{let r=yield this.businessService.getBusinessServicesAsync(i._id);e=[...e,...r]}catch(r){console.warn(`Failed to load services for business ${i._id}:`,r)}this.userServices.set(e);try{let i=yield this.projectService.getAllMyProjectsAsync();this.userProjects.set(i)}catch(i){console.warn("Failed to load projects:",i),this.userProjects.set([])}}catch(n){console.error("Error loading dashboard data:",n),this.error.set(n.message||"Failed to load dashboard data")}finally{this.loading.set(!1)}})}setActiveTab(n){this.activeTab.set(n)}getTotalServices(){return this.totalServices()}getTotalProjects(){return this.totalProjects()}navigateToCreateBusiness(){this.router.navigate(["/dashboard/businesses/create-business"])}createService(){if(this.userBusinesses().length===0){alert("Please create a business first before adding services.");return}this.router.navigate(["/dashboard/services/create"])}viewProjects(){this.router.navigate(["/dashboard/projects"])}viewBusiness(n){this.router.navigate(["/business",n])}editBusiness(n){alert("Edit business functionality will be available soon!")}deleteBusiness(n){confirm("Are you sure you want to delete this business? This action cannot be undone.")&&alert("Delete business functionality will be available soon!")}viewProfile(){alert("Profile page will be available soon!")}viewMessages(){alert("Messages page will be available soon!")}getStatusColor(n){switch(n){case"approved":return"text-green-600";case"pending":return"text-yellow-600";case"rejected":return"text-red-600";case"suspended":return"text-gray-600";default:return"text-gray-600"}}getStatusIcon(n){switch(n){case"approved":return"bg-green-400";case"pending":return"bg-yellow-400";case"rejected":return"bg-red-400";case"suspended":return"bg-gray-400";default:return"bg-gray-400"}}getCategoryName(n){return typeof n.category_id=="object"&&n.category_id?.name?n.category_id.name:"Unknown Category"}getSubcategoryName(n){return typeof n.subcategory_id=="object"&&n.subcategory_id?.name?n.subcategory_id.name:null}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-overviews"]],decls:3,vars:2,consts:[[1,"mb-6","bg-red-50","border-l-4","border-red-400","p-4","rounded-r-lg"],[1,"flex","items-center","justify-center","py-12"],[1,"flex"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","text-red-400","mr-3"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"text-sm","font-medium","text-red-800"],[1,"mt-1","text-sm","text-red-700"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-gray-900"],[1,"ml-3","text-gray-600"],[1,"space-y-8"],[1,"space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-6"],[1,"bg-white","rounded-xl","border","border-gray-200","p-6","hover:shadow-lg","transition-all","duration-200"],[1,"flex","items-center","justify-between"],[1,"text-sm","font-medium","text-gray-500","mb-1"],[1,"text-3xl","font-bold","text-gray-900"],[1,"p-3","bg-blue-50","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],[1,"p-3","bg-green-50","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"p-3","bg-purple-50","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-purple-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"],[1,"p-3","bg-orange-50","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-orange-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-8"],[1,"bg-white","rounded-xl","border","border-gray-200","overflow-hidden"],[1,"px-6","py-4","border-b","border-gray-200"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-sm","text-blue-600","hover:text-blue-800","font-medium","transition-colors",3,"click"],[1,"p-6"],[1,"text-center","py-12"],[1,"space-y-4"],[1,"w-full","flex","items-center","p-4","border-2","border-dashed","border-gray-300","rounded-lg","hover:border-gray-400","hover:bg-gray-50","transition-all","duration-200","group",3,"click"],[1,"flex","items-center","space-x-4"],[1,"p-3","bg-blue-50","rounded-lg","group-hover:bg-blue-100","transition-colors"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-blue-600"],[1,"text-left"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"p-3","bg-green-50","rounded-lg","group-hover:bg-green-100","transition-colors"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"p-4","bg-gray-50","rounded-full","w-16","h-16","mx-auto","mb-4","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-gray-400"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-500","mb-6"],[1,"inline-flex","items-center","px-4","py-2","bg-gray-900","text-white","rounded-lg","hover:bg-gray-800","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],[1,"flex","items-center","space-x-4","p-3","rounded-lg","hover:bg-gray-50","cursor-pointer","transition-all","duration-200","border","border-transparent","hover:border-gray-200"],[1,"flex","items-center","space-x-4","p-3","rounded-lg","hover:bg-gray-50","cursor-pointer","transition-all","duration-200","border","border-transparent","hover:border-gray-200",3,"click"],[1,"h-12","w-12","rounded-lg","object-cover",3,"src","alt"],[1,"h-12","w-12","rounded-lg","bg-gray-100","flex","items-center","justify-center"],[1,"flex-1","min-w-0"],[1,"text-sm","font-medium","text-gray-900","truncate"],[1,"flex","items-center","space-x-2","mt-1"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5l7 7-7 7"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-gray-400"],[1,"text-xl","font-semibold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"inline-flex","items-center","px-4","py-2","bg-gray-900","text-white","rounded-lg","hover:bg-gray-800","transition-colors","font-medium","text-sm",3,"click"],[1,"bg-white","rounded-xl","border","border-gray-200","p-12","text-center","shadow-sm"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"p-4","bg-gray-50","rounded-full","w-20","h-20","mx-auto","mb-6","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-10","h-10","text-gray-300"],[1,"text-xl","font-medium","text-gray-900","mb-2"],[1,"inline-flex","items-center","px-6","py-3","bg-gray-900","text-white","rounded-lg","hover:bg-gray-800","transition-colors","font-medium",3,"click"],[1,"bg-white","rounded-xl","border","border-gray-200","shadow-sm","hover:shadow-lg","transition-all","cursor-pointer","overflow-hidden"],[1,"bg-white","rounded-xl","border","border-gray-200","shadow-sm","hover:shadow-lg","transition-all","cursor-pointer","overflow-hidden",3,"click"],[1,"flex","items-center","space-x-4","mb-4"],[1,"text-lg","font-medium","text-gray-900","truncate"],[1,"text-sm","text-gray-600","mb-4","line-clamp-2"],[1,"flex","items-center","justify-between","text-xs","text-gray-500"],[1,"px-6","py-3","border-t","border-gray-200","bg-gray-50"],[1,"flex","space-x-2"],["title","View Business",1,"p-2","hover:bg-gray-200","rounded-lg","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["title","Edit Business",1,"p-2","hover:bg-gray-200","rounded-lg","transition-colors",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["title","Delete Business",1,"p-2","hover:bg-red-50","hover:text-red-700","rounded-lg","transition-colors",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-red-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"],[1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","text-gray-700","rounded-lg","hover:bg-gray-50","transition-colors","font-medium",3,"click"],[1,"text-gray-500"]],template:function(e,i){e&1&&_(0,qa,9,1,"div",0)(1,Ua,4,0,"div",1)(2,so,5,1),e&2&&(m(i.error()?0:-1),l(),m(i.loading()?1:2))},dependencies:[K,Qe],styles:["[_nghost-%COMP%]{display:block}"]})};var Fi=["*"];function mo(t,n){t&1&&oe(0)}var po=["tabListContainer"],uo=["tabList"],_o=["tabListInner"],ho=["nextPaginator"],fo=["previousPaginator"],go=["content"];function bo(t,n){}var vo=["tabBodyWrapper"],xo=["tabHeader"];function Co(t,n){}function yo(t,n){if(t&1&&_(0,Co,0,0,"ng-template",12),t&2){let e=d().$implicit;y("cdkPortalOutlet",e.templateLabel)}}function wo(t,n){if(t&1&&s(0),t&2){let e=d().$implicit;h(e.textLabel)}}function So(t,n){if(t&1){let e=w();o(0,"div",7,2),f("click",function(){let r=g(e),c=r.$implicit,p=r.$index,C=d(),S=Oe(1);return b(C._handleClick(c,S,p))})("cdkFocusChange",function(r){let c=g(e).$index,p=d();return b(p._tabFocusChanged(r,c))}),x(2,"span",8)(3,"div",9),o(4,"span",10)(5,"span",11),_(6,yo,1,1,null,12)(7,wo,1,1),a()()()}if(t&2){let e=n.$implicit,i=n.$index,r=Oe(1),c=d();P(e.labelClass),N("mdc-tab--active",c.selectedIndex===i),y("id",c._getTabLabelId(e,i))("disabled",e.disabled)("fitInkBarToContent",c.fitInkBarToContent),ne("tabIndex",c._getTabIndex(i))("aria-posinset",i+1)("aria-setsize",c._tabs.length)("aria-controls",c._getTabContentId(i))("aria-selected",c.selectedIndex===i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),l(3),y("matRippleTrigger",r)("matRippleDisabled",e.disabled||c.disableRipple),l(3),m(e.templateLabel?6:7)}}function ko(t,n){t&1&&oe(0)}function Eo(t,n){if(t&1){let e=w();o(0,"mat-tab-body",13),f("_onCentered",function(){g(e);let r=d();return b(r._removeTabBodyWrapperHeight())})("_onCentering",function(r){g(e);let c=d();return b(c._setTabBodyWrapperHeight(r))})("_beforeCentering",function(r){g(e);let c=d();return b(c._bodyCentered(r))}),a()}if(t&2){let e=n.$implicit,i=n.$index,r=d();P(e.bodyClass),y("id",r._getTabContentId(i))("content",e.content)("position",e.position)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),ne("tabindex",r.contentTabIndex!=null&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(e,i))("aria-hidden",r.selectedIndex!==i)}}var To=new X("MatTabContent"),Do=(()=>{class t{template=u(J);constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=T({type:t,selectors:[["","matTabContent",""]],features:[H([{provide:To,useExisting:t}])]})}return t})(),Po=new X("MatTabLabel"),ua=new X("MAT_TAB"),Ro=(()=>{class t extends yn{_closestTab=u(ua,{optional:!0});static \u0275fac=(()=>{let e;return function(r){return(e||(e=Y(t)))(r||t)}})();static \u0275dir=T({type:t,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[H([{provide:Po,useExisting:t}]),L]})}return t})(),_a=new X("MAT_TAB_GROUP"),Ve=(()=>{class t{_viewContainerRef=u(Me);_closestTabGroup=u(_a,{optional:!0});disabled=!1;get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}_templateLabel;_explicitContent=void 0;_implicitContent;textLabel="";ariaLabel;ariaLabelledby;labelClass;bodyClass;id=null;_contentPortal=null;get content(){return this._contentPortal}_stateChanges=new ie;position=null;origin=null;isActive=!1;constructor(){u(Vt).load(zt)}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new $t(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=D({type:t,selectors:[["mat-tab"]],contentQueries:function(i,r,c){if(i&1&&(re(c,Ro,5),re(c,Do,7,J)),i&2){let p;M(p=j())&&(r.templateLabel=p.first),M(p=j())&&(r._explicitContent=p.first)}},viewQuery:function(i,r){if(i&1&&U(J,7),i&2){let c;M(c=j())&&(r._implicitContent=c.first)}},hostAttrs:["hidden",""],hostVars:1,hostBindings:function(i,r){i&2&&ne("id",null)},inputs:{disabled:[2,"disabled","disabled",B],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass",id:"id"},exportAs:["matTab"],features:[H([{provide:ua,useExisting:t}]),De],ngContentSelectors:Fi,decls:1,vars:0,template:function(i,r){i&1&&(ye(),_(0,mo,1,0,"ng-template"))},encapsulation:2})}return t})(),Ri="mdc-tab-indicator--active",da="mdc-tab-indicator--no-transition",Mi=class{_items;_currentItem;constructor(n){this._items=n}hide(){this._items.forEach(n=>n.deactivateInkBar()),this._currentItem=void 0}alignToElement(n){let e=this._items.find(r=>r.elementRef.nativeElement===n),i=this._currentItem;if(e!==i&&(i?.deactivateInkBar(),e)){let r=i?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(r),this._currentItem=e}}},Mo=(()=>{class t{_elementRef=u(q);_inkBarElement;_inkBarContentElement;_fitToContent=!1;get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){let i=this._elementRef.nativeElement;if(!e||!i.getBoundingClientRect||!this._inkBarContentElement){i.classList.add(Ri);return}let r=i.getBoundingClientRect(),c=e.width/r.width,p=e.left-r.left;i.classList.add(da),this._inkBarContentElement.style.setProperty("transform",`translateX(${p}px) scaleX(${c})`),i.getBoundingClientRect(),i.classList.remove(da),i.classList.add(Ri),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(Ri)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let e=this._elementRef.nativeElement.ownerDocument||document,i=this._inkBarElement=e.createElement("span"),r=this._inkBarContentElement=e.createElement("span");i.className="mdc-tab-indicator",r.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",i.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let e=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;e.appendChild(this._inkBarElement)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=T({type:t,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",B]}})}return t})();var ha=(()=>{class t extends Mo{elementRef=u(q);disabled=!1;focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Y(t)))(r||t)}})();static \u0275dir=T({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(i,r){i&2&&(ne("aria-disabled",!!r.disabled),N("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:[2,"disabled","disabled",B]},features:[L]})}return t})(),ma={passive:!0},jo=650,Io=100,Fo=(()=>{class t{_elementRef=u(q);_changeDetectorRef=u(we);_viewportRuler=u(Ut);_dir=u(wt,{optional:!0});_ngZone=u(Pe);_platform=u(Le);_sharedResizeObserver=u(In);_injector=u(Te);_renderer=u(wi);_animationMode=u(Re,{optional:!0});_eventCleanups;_scrollDistance=0;_selectedIndexChanged=!1;_destroyed=new ie;_showPaginationControls=!1;_disableScrollAfter=!0;_disableScrollBefore=!0;_tabLabelCount;_scrollDistanceChanged;_keyManager;_currentTextContent;_stopScrolling=new ie;disablePagination=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){let i=isNaN(e)?0:e;this._selectedIndex!=i&&(this._selectedIndexChanged=!0,this._selectedIndex=i,this._keyManager&&this._keyManager.updateActiveItem(i))}_selectedIndex=0;selectFocusedIndex=new Z;indexFocused=new Z;constructor(){this._eventCleanups=this._ngZone.runOutsideAngular(()=>[this._renderer.listen(this._elementRef.nativeElement,"mouseleave",()=>this._stopInterval())])}ngAfterViewInit(){this._eventCleanups.push(Ti(this._renderer,this._previousPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("before"),ma),Ti(this._renderer,this._nextPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("after"),ma))}ngAfterContentInit(){let e=this._dir?this._dir.change:Ae("ltr"),i=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(tn(32),ge(this._destroyed)),r=this._viewportRuler.change(150).pipe(ge(this._destroyed)),c=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new xn(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(Math.max(this._selectedIndex,0)),Ue(c,{injector:this._injector}),Rt(e,r,i,this._items.changes,this._itemsResized()).pipe(ge(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),c()})}),this._keyManager?.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(p=>{this.indexFocused.emit(p),this._setTabFocus(p)})}_itemsResized(){return typeof ResizeObserver!="function"?Ki:this._items.changes.pipe(Mt(this._items),an(e=>new Zi(i=>this._ngZone.runOutsideAngular(()=>{let r=new ResizeObserver(c=>i.next(c));return e.forEach(c=>r.observe(c.elementRef.nativeElement)),()=>{r.disconnect()}}))),nn(1),en(e=>e.some(i=>i.contentRect.width>0&&i.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!vn(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let i=this._items.get(this.focusIndex);i&&!i.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager?.onKeydown(e)}}_onContentChanges(){let e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return this._items?!!this._items.toArray()[e]:!0}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();let i=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?i.scrollLeft=0:i.scrollLeft=i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let e=this.scrollDistance,i=this._getLayoutDirection()==="ltr"?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){let i=this._tabListContainer.nativeElement.offsetWidth,r=(e=="before"?-1:1)*i/3;return this._scrollTo(this._scrollDistance+r)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;let i=this._items?this._items.toArray()[e]:null;if(!i)return;let r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:c,offsetWidth:p}=i.elementRef.nativeElement,C,S;this._getLayoutDirection()=="ltr"?(C=c,S=C+p):(S=this._tabListInner.nativeElement.offsetWidth-c,C=S-p);let I=this.scrollDistance,V=this.scrollDistance+r;C<I?this.scrollDistance-=I-C:S>V&&(this.scrollDistance+=Math.min(S-V,C-I))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let e=this._tabListInner.nativeElement.scrollWidth,i=this._elementRef.nativeElement.offsetWidth,r=e-i>=5;r||(this.scrollDistance=0),r!==this._showPaginationControls&&(this._showPaginationControls=r,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let e=this._tabListInner.nativeElement.scrollWidth,i=this._tabListContainer.nativeElement.offsetWidth;return e-i||0}_alignInkBarToSelectedTab(){let e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&i.button!=null&&i.button!==0||(this._stopInterval(),Ji(jo,Io).pipe(ge(Rt(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:r,distance:c}=this._scrollHeader(e);(c===0||c>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}static \u0275fac=function(i){return new(i||t)};static \u0275dir=T({type:t,inputs:{disablePagination:[2,"disablePagination","disablePagination",B],selectedIndex:[2,"selectedIndex","selectedIndex",Ge]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"}})}return t})(),Ao=(()=>{class t extends Fo{_items;_tabListContainer;_tabList;_tabListInner;_nextPaginator;_previousPaginator;_inkBar;ariaLabel;ariaLabelledby;disableRipple=!1;ngAfterContentInit(){this._inkBar=new Mi(this._items),super.ngAfterContentInit()}_itemSelected(e){e.preventDefault()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Y(t)))(r||t)}})();static \u0275cmp=D({type:t,selectors:[["mat-tab-header"]],contentQueries:function(i,r,c){if(i&1&&re(c,ha,4),i&2){let p;M(p=j())&&(r._items=p)}},viewQuery:function(i,r){if(i&1&&(U(po,7),U(uo,7),U(_o,7),U(ho,5),U(fo,5)),i&2){let c;M(c=j())&&(r._tabListContainer=c.first),M(c=j())&&(r._tabList=c.first),M(c=j())&&(r._tabListInner=c.first),M(c=j())&&(r._nextPaginator=c.first),M(c=j())&&(r._previousPaginator=c.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(i,r){i&2&&N("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl",r._getLayoutDirection()=="rtl")},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",B]},features:[L],ngContentSelectors:Fi,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(i,r){if(i&1){let c=w();ye(),o(0,"div",5,0),f("click",function(){return g(c),b(r._handlePaginatorClick("before"))})("mousedown",function(C){return g(c),b(r._handlePaginatorPress("before",C))})("touchend",function(){return g(c),b(r._stopInterval())}),x(2,"div",6),a(),o(3,"div",7,1),f("keydown",function(C){return g(c),b(r._handleKeydown(C))}),o(5,"div",8,2),f("cdkObserveContent",function(){return g(c),b(r._onContentChanges())}),o(7,"div",9,3),oe(9),a()()(),o(10,"div",10,4),f("mousedown",function(C){return g(c),b(r._handlePaginatorPress("after",C))})("click",function(){return g(c),b(r._handlePaginatorClick("after"))})("touchend",function(){return g(c),b(r._stopInterval())}),x(12,"div",6),a()}i&2&&(N("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),y("matRippleDisabled",r._disableScrollBefore||r.disableRipple),l(3),N("_mat-animation-noopable",r._animationMode==="NoopAnimations"),l(2),ne("aria-label",r.ariaLabel||null)("aria-labelledby",r.ariaLabelledby||null),l(5),N("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),y("matRippleDisabled",r._disableScrollAfter||r.disableRipple))},dependencies:[St,gn],styles:[`.mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height, 1px);border-bottom-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height, 1px);border-top-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height, 48px)}.mat-mdc-tab::before{margin:5px}@media(forced-colors: active){.mat-mdc-tab[aria-disabled=true]{color:GrayText}}
`],encapsulation:2})}return t})(),Bo=new X("MAT_TABS_CONFIG"),pa=(()=>{class t extends Ke{_host=u(ji);_centeringSub=Fe.EMPTY;_leavingSub=Fe.EMPTY;constructor(){super()}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Mt(this._host._isCenterPosition())).subscribe(e=>{this._host._content&&e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=T({type:t,selectors:[["","matTabBodyHost",""]],features:[L]})}return t})(),ji=(()=>{class t{_elementRef=u(q);_dir=u(wt,{optional:!0});_ngZone=u(Pe);_injector=u(Te);_renderer=u(wi);_animationsModule=u(Re,{optional:!0});_eventCleanups;_initialized;_fallbackTimer;_positionIndex;_dirChangeSubscription=Fe.EMPTY;_position;_previousPosition;_onCentering=new Z;_beforeCentering=new Z;_afterLeavingCenter=new Z;_onCentered=new Z(!0);_portalHost;_contentElement;_content;animationDuration="500ms";preserveContent=!1;set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(){if(this._dir){let e=u(we);this._dirChangeSubscription=this._dir.change.subscribe(i=>{this._computePositionAnimationState(i),e.markForCheck()})}}ngOnInit(){this._bindTransitionEvents(),this._position==="center"&&(this._setActiveClass(!0),Ue(()=>this._onCentering.emit(this._elementRef.nativeElement.clientHeight),{injector:this._injector})),this._initialized=!0}ngOnDestroy(){clearTimeout(this._fallbackTimer),this._eventCleanups?.forEach(e=>e()),this._dirChangeSubscription.unsubscribe()}_bindTransitionEvents(){this._ngZone.runOutsideAngular(()=>{let e=this._elementRef.nativeElement,i=r=>{r.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.remove("mat-tab-body-animating"),r.type==="transitionend"&&this._transitionDone())};this._eventCleanups=[this._renderer.listen(e,"transitionstart",r=>{r.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.add("mat-tab-body-animating"),this._transitionStarted())}),this._renderer.listen(e,"transitionend",i),this._renderer.listen(e,"transitioncancel",i)]})}_transitionStarted(){clearTimeout(this._fallbackTimer);let e=this._position==="center";this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_transitionDone(){this._position==="center"?this._onCentered.emit():this._previousPosition==="center"&&this._afterLeavingCenter.emit()}_setActiveClass(e){this._elementRef.nativeElement.classList.toggle("mat-mdc-tab-body-active",e)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(){return this._positionIndex===0}_computePositionAnimationState(e=this._getLayoutDirection()){this._previousPosition=this._position,this._positionIndex<0?this._position=e=="ltr"?"left":"right":this._positionIndex>0?this._position=e=="ltr"?"right":"left":this._position="center",this._animationsDisabled()?this._simulateTransitionEvents():this._initialized&&(this._position==="center"||this._previousPosition==="center")&&(clearTimeout(this._fallbackTimer),this._fallbackTimer=this._ngZone.runOutsideAngular(()=>setTimeout(()=>this._simulateTransitionEvents(),100)))}_simulateTransitionEvents(){this._transitionStarted(),Ue(()=>this._transitionDone(),{injector:this._injector})}_animationsDisabled(){return this._animationsModule==="NoopAnimations"||this.animationDuration==="0ms"||this.animationDuration==="0s"}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=D({type:t,selectors:[["mat-tab-body"]],viewQuery:function(i,r){if(i&1&&(U(pa,5),U(go,5)),i&2){let c;M(c=j())&&(r._portalHost=c.first),M(c=j())&&(r._contentElement=c.first)}},hostAttrs:[1,"mat-mdc-tab-body"],hostVars:1,hostBindings:function(i,r){i&2&&ne("inert",r._position==="center"?null:"")},inputs:{_content:[0,"content","_content"],animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_onCentered:"_onCentered"},decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(i,r){i&1&&(o(0,"div",1,0),_(2,bo,0,0,"ng-template",2),a()),i&2&&N("mat-tab-body-content-left",r._position==="left")("mat-tab-body-content-right",r._position==="right")("mat-tab-body-content-can-animate",r._position==="center"||r._previousPosition==="center")},dependencies:[pa,kn],styles:[`.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto;transform:none;visibility:hidden}.mat-tab-body-animating>.mat-mdc-tab-body-content,.mat-mdc-tab-body-active>.mat-mdc-tab-body-content{visibility:visible}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-tab-body-content-can-animate{transition:transform var(--mat-tab-animation-duration) 1ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable .mat-tab-body-content-can-animate{transition:none}.mat-tab-body-content-left{transform:translate3d(-100%, 0, 0)}.mat-tab-body-content-right{transform:translate3d(100%, 0, 0)}
`],encapsulation:2})}return t})(),ft=(()=>{class t{_elementRef=u(q);_changeDetectorRef=u(we);_ngZone=u(Pe);_tabsSubscription=Fe.EMPTY;_tabLabelSubscription=Fe.EMPTY;_tabBodySubscription=Fe.EMPTY;_diAnimationsDisabled=u(Re,{optional:!0})==="NoopAnimations";_allTabs;_tabBodies;_tabBodyWrapper;_tabHeader;_tabs=new sn;_indexToSelect=0;_lastFocusedTabIndex=null;_tabBodyWrapperHeight=0;color;get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=e,this._changeDetectorRef.markForCheck()}_fitInkBarToContent=!1;stretchTabs=!0;alignTabs=null;dynamicHeight=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=isNaN(e)?null:e}_selectedIndex=null;headerPosition="above";get animationDuration(){return this._animationDuration}set animationDuration(e){let i=e+"";this._animationDuration=/^\d+$/.test(i)?e+"ms":i}_animationDuration;get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=isNaN(e)?null:e}_contentTabIndex;disablePagination=!1;disableRipple=!1;preserveContent=!1;get backgroundColor(){return this._backgroundColor}set backgroundColor(e){let i=this._elementRef.nativeElement.classList;i.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&i.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}_backgroundColor;ariaLabel;ariaLabelledby;selectedIndexChange=new Z;focusChange=new Z;animationDone=new Z;selectedTabChange=new Z(!0);_groupId;_isServer=!u(Le).isBrowser;constructor(){let e=u(Bo,{optional:!0});this._groupId=u(Ze).getId("mat-tab-group-"),this.animationDuration=e&&e.animationDuration?e.animationDuration:"500ms",this.disablePagination=e&&e.disablePagination!=null?e.disablePagination:!1,this.dynamicHeight=e&&e.dynamicHeight!=null?e.dynamicHeight:!1,e?.contentTabIndex!=null&&(this.contentTabIndex=e.contentTabIndex),this.preserveContent=!!e?.preserveContent,this.fitInkBarToContent=e&&e.fitInkBarToContent!=null?e.fitInkBarToContent:!1,this.stretchTabs=e&&e.stretchTabs!=null?e.stretchTabs:!0,this.alignTabs=e&&e.alignTabs!=null?e.alignTabs:null}ngAfterContentChecked(){let e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){let i=this._selectedIndex==null;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));let r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,c)=>r.isActive=c===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-e,this._selectedIndex!=null&&i.position==0&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){let i=this._tabs.toArray(),r;for(let c=0;c<i.length;c++)if(i[c].isActive){this._indexToSelect=this._selectedIndex=c,this._lastFocusedTabIndex=null,r=i[c];break}!r&&i[e]&&Promise.resolve().then(()=>{i[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._tabBodySubscription=this._tabBodies.changes.subscribe(()=>this._bodyCentered(!0))}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Mt(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe(),this._tabBodySubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){let i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){let i=new Ii;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Rt(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e,i){return e.id||`${this._groupId}-label-${i}`}_getTabContentId(e){return`${this._groupId}-content-${e}`}_setTabBodyWrapperHeight(e){if(!this.dynamicHeight||!this._tabBodyWrapperHeight){this._tabBodyWrapperHeight=e;return}let i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){let e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this._ngZone.run(()=>this.animationDone.emit())}_handleClick(e,i,r){i.focusIndex=r,e.disabled||(this.selectedIndex=r)}_getTabIndex(e){let i=this._lastFocusedTabIndex??this.selectedIndex;return e===i?0:-1}_tabFocusChanged(e,i){e&&e!=="mouse"&&e!=="touch"&&(this._tabHeader.focusIndex=i)}_bodyCentered(e){e&&this._tabBodies?.forEach((i,r)=>i._setActiveClass(r===this._selectedIndex))}_animationsDisabled(){return this._diAnimationsDisabled||this.animationDuration==="0"||this.animationDuration==="0ms"}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=D({type:t,selectors:[["mat-tab-group"]],contentQueries:function(i,r,c){if(i&1&&re(c,Ve,5),i&2){let p;M(p=j())&&(r._allTabs=p)}},viewQuery:function(i,r){if(i&1&&(U(vo,5),U(xo,5),U(ji,5)),i&2){let c;M(c=j())&&(r._tabBodyWrapper=c.first),M(c=j())&&(r._tabHeader=c.first),M(c=j())&&(r._tabBodies=c)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:11,hostBindings:function(i,r){i&2&&(ne("mat-align-tabs",r.alignTabs),P("mat-"+(r.color||"primary")),jt("--mat-tab-animation-duration",r.animationDuration),N("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header",r.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",B],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",B],alignTabs:[0,"mat-align-tabs","alignTabs"],dynamicHeight:[2,"dynamicHeight","dynamicHeight",B],selectedIndex:[2,"selectedIndex","selectedIndex",Ge],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",Ge],disablePagination:[2,"disablePagination","disablePagination",B],disableRipple:[2,"disableRipple","disableRipple",B],preserveContent:[2,"preserveContent","preserveContent",B],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],features:[H([{provide:_a,useExisting:t}])],ngContentSelectors:Fi,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","class","content","position","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","_beforeCentering","id","content","position","animationDuration","preserveContent"]],template:function(i,r){if(i&1){let c=w();ye(),o(0,"mat-tab-header",3,0),f("indexFocused",function(C){return g(c),b(r._focusChanged(C))})("selectFocusedIndex",function(C){return g(c),b(r.selectedIndex=C)}),F(2,So,8,17,"div",4,ki),a(),_(4,ko,1,0),o(5,"div",5,1),F(7,Eo,1,10,"mat-tab-body",6,ki),a()}i&2&&(y("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby),l(2),A(r._tabs),l(2),m(r._isServer?4:-1),l(),N("_mat-animation-noopable",r._animationsDisabled()),l(2),A(r._tabs))},dependencies:[Ao,ha,hn,St,Ke,ji],styles:[`.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height, 48px);font-family:var(--mat-tab-header-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-tab-header-label-text-size, var(--mat-sys-title-small-size));letter-spacing:var(--mat-tab-header-label-text-tracking, var(--mat-sys-title-small-tracking));line-height:var(--mat-tab-header-label-text-line-height, var(--mat-sys-title-small-line-height));font-weight:var(--mat-tab-header-label-text-weight, var(--mat-sys-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-tab-indicator-active-indicator-height, 2px);border-radius:var(--mdc-tab-indicator-active-indicator-shape, 0)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color, var(--mat-sys-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}
`],encapsulation:2})}return t})(),Ii=class{index;tab};var gt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ce({type:t});static \u0275inj=xe({imports:[_e,_e]})}return t})();var Ee=(t,n)=>n._id;function Oo(t,n){if(t&1&&(o(0,"div",5)(1,"div",8)(2,"mat-icon",9),s(3,"error"),a(),o(4,"div")(5,"h3",10),s(6,"Error"),a(),o(7,"p",11),s(8),a()()()()),t&2){let e=d();l(8),h(e.error())}}function Lo(t,n){t&1&&(o(0,"div",6),x(1,"mat-spinner",12),o(2,"span",13),s(3,"Loading projects..."),a()())}function No(t,n){if(t&1){let e=w();o(0,"div",17)(1,"div",19)(2,"mat-icon",20),s(3,"assignment"),a()(),o(4,"h3",21),s(5,"No project requests yet"),a(),o(6,"p",22),s(7,"Start by browsing businesses and creating your first project request."),a(),o(8,"button",23),f("click",function(){g(e);let r=d(2);return b(r.navigateToHome())}),s(9," Browse Businesses "),a()()}}function Vo(t,n){if(t&1&&(o(0,"p",34),s(1),a()),t&2){let e=d().$implicit;l(),h(e.description)}}function zo(t,n){if(t&1){let e=w();o(0,"div",27)(1,"div",28)(2,"div",29)(3,"h3",30),s(4),a(),o(5,"span",31)(6,"mat-icon",32),s(7,"schedule"),a(),s(8),a()(),o(9,"p",33),s(10),a(),_(11,Vo,2,1,"p",34),o(12,"div",35)(13,"div",36)(14,"span",37)(15,"mat-icon",38),s(16,"attach_money"),a(),s(17," Budget "),a(),o(18,"span",39),s(19),a()(),o(20,"div",36)(21,"span",37)(22,"mat-icon",38),s(23,"event"),a(),s(24," Submitted "),a(),o(25,"span",40),s(26),a()()()(),o(27,"div",41)(28,"button",42),f("click",function(){let r=g(e).$implicit,c=d(4);return b(c.viewProject(r))}),o(29,"mat-icon"),s(30,"visibility"),a(),s(31," View Details "),a()()()}if(t&2){let e=n.$implicit,i=d(4);l(4),h(e.title),l(),P(i.getStatusColor(e.status)),l(3),v(" ",i.getStatusText(e.status)," "),l(2),h(i.getBusinessName(e)),l(),m(e.description?11:-1),l(8),h(i.formatPrice(e.offered_price)),l(7),h(i.formatDate(e.createdAt))}}function Ho(t,n){if(t&1&&(o(0,"div",2)(1,"h3",24)(2,"mat-icon",25),s(3,"schedule"),a(),s(4),a(),o(5,"div",26),F(6,zo,32,8,"div",27,Ee),a()()),t&2){let e=d(3);l(4),v(" Pending Approval (",e.pendingMyProjects().length,") "),l(2),A(e.pendingMyProjects())}}function $o(t,n){if(t&1&&(o(0,"p",34),s(1),a()),t&2){let e=d().$implicit;l(),h(e.description)}}function qo(t,n){if(t&1&&(o(0,"div",36)(1,"span",37)(2,"mat-icon",38),s(3,"check_circle"),a(),s(4," Accepted "),a(),o(5,"span",40),s(6),a()()),t&2){let e=d().$implicit,i=d(4);l(6),h(i.formatDate(e.accepted_at))}}function Uo(t,n){if(t&1){let e=w();o(0,"div",27)(1,"div",28)(2,"div",29)(3,"h3",30),s(4),a(),o(5,"span",31)(6,"mat-icon",32),s(7),a(),s(8),a()(),o(9,"p",33),s(10),a(),_(11,$o,2,1,"p",34),o(12,"div",35)(13,"div",36)(14,"span",37)(15,"mat-icon",38),s(16,"attach_money"),a(),s(17," Budget "),a(),o(18,"span",39),s(19),a()(),_(20,qo,7,1,"div",36),a()(),o(21,"div",41)(22,"button",42),f("click",function(){let r=g(e).$implicit,c=d(4);return b(c.viewProject(r))}),o(23,"mat-icon"),s(24,"visibility"),a(),s(25," View Details "),a()()()}if(t&2){let e=n.$implicit,i=d(4);l(4),h(e.title),l(),P(i.getStatusColor(e.status)),l(2),v(" ",e.status==="accepted"?"check_circle":"work"," "),l(),v(" ",i.getStatusText(e.status)," "),l(2),h(i.getBusinessName(e)),l(),m(e.description?11:-1),l(8),h(i.formatPrice(e.offered_price)),l(),m(e.accepted_at?20:-1)}}function Wo(t,n){if(t&1&&(o(0,"div",2)(1,"h3",24)(2,"mat-icon",43),s(3,"work"),a(),s(4),a(),o(5,"div",26),F(6,Uo,26,9,"div",27,Ee),a()()),t&2){let e=d(3);l(4),v(" Active Projects (",e.activeMyProjects().length,") "),l(2),A(e.activeMyProjects())}}function Go(t,n){if(t&1&&(o(0,"p",34),s(1),a()),t&2){let e=d().$implicit;l(),h(e.description)}}function Qo(t,n){if(t&1&&(o(0,"div",36)(1,"span",37)(2,"mat-icon",38),s(3,"event_available"),a(),s(4," Completed "),a(),o(5,"span",40),s(6),a()()),t&2){let e=d().$implicit,i=d(4);l(6),h(i.formatDate(e.completed_at))}}function Yo(t,n){if(t&1){let e=w();o(0,"div",27)(1,"div",28)(2,"div",29)(3,"h3",30),s(4),a(),o(5,"span",31)(6,"mat-icon",32),s(7,"check_circle"),a(),s(8),a()(),o(9,"p",33),s(10),a(),_(11,Go,2,1,"p",34),o(12,"div",35)(13,"div",36)(14,"span",37)(15,"mat-icon",38),s(16,"attach_money"),a(),s(17," Final Amount "),a(),o(18,"span",39),s(19),a()(),_(20,Qo,7,1,"div",36),a()(),o(21,"div",41)(22,"button",42),f("click",function(){let r=g(e).$implicit,c=d(4);return b(c.viewProject(r))}),o(23,"mat-icon"),s(24,"visibility"),a(),s(25," View Details "),a()()()}if(t&2){let e=n.$implicit,i=d(4);l(4),h(e.title),l(),P(i.getStatusColor(e.status)),l(3),v(" ",i.getStatusText(e.status)," "),l(2),h(i.getBusinessName(e)),l(),m(e.description?11:-1),l(8),h(i.formatPrice(e.offered_price)),l(),m(e.completed_at?20:-1)}}function Zo(t,n){if(t&1&&(o(0,"div",2)(1,"h3",24)(2,"mat-icon",44),s(3,"check_circle"),a(),s(4),a(),o(5,"div",26),F(6,Yo,26,8,"div",27,Ee),a()()),t&2){let e=d(3);l(4),v(" Completed Projects (",e.completedMyProjects().length,") "),l(2),A(e.completedMyProjects())}}function Ko(t,n){if(t&1&&(o(0,"p",34),s(1),a()),t&2){let e=d().$implicit;l(),h(e.description)}}function Xo(t,n){if(t&1&&(o(0,"div",46)(1,"p",47),s(2,"Rejection Reason:"),a(),o(3,"p",48),s(4),a()()),t&2){let e=d().$implicit;l(4),h(e.rejection_reason)}}function Jo(t,n){if(t&1&&(o(0,"div",36)(1,"span",37)(2,"mat-icon",38),s(3,"event"),a(),s(4," Rejected "),a(),o(5,"span",40),s(6),a()()),t&2){let e=d().$implicit,i=d(4);l(6),h(i.formatDate(e.rejected_at))}}function er(t,n){if(t&1){let e=w();o(0,"div",27)(1,"div",28)(2,"div",29)(3,"h3",30),s(4),a(),o(5,"span",31)(6,"mat-icon",32),s(7,"cancel"),a(),s(8),a()(),o(9,"p",33),s(10),a(),_(11,Ko,2,1,"p",34)(12,Xo,5,1,"div",46),o(13,"div",35)(14,"div",36)(15,"span",37)(16,"mat-icon",38),s(17,"attach_money"),a(),s(18," Proposed Budget "),a(),o(19,"span",39),s(20),a()(),_(21,Jo,7,1,"div",36),a()(),o(22,"div",41)(23,"button",42),f("click",function(){let r=g(e).$implicit,c=d(4);return b(c.viewProject(r))}),o(24,"mat-icon"),s(25,"visibility"),a(),s(26," View Details "),a()()()}if(t&2){let e=n.$implicit,i=d(4);l(4),h(e.title),l(),P(i.getStatusColor(e.status)),l(3),v(" ",i.getStatusText(e.status)," "),l(2),h(i.getBusinessName(e)),l(),m(e.description?11:-1),l(),m(e.rejection_reason?12:-1),l(8),h(i.formatPrice(e.offered_price)),l(),m(e.rejected_at?21:-1)}}function tr(t,n){if(t&1&&(o(0,"div",2)(1,"h3",24)(2,"mat-icon",45),s(3,"cancel"),a(),s(4),a(),o(5,"div",26),F(6,er,27,9,"div",27,Ee),a()()),t&2){let e=d(3);l(4),v(" Rejected Projects (",e.rejectedMyProjects().length,") "),l(2),A(e.rejectedMyProjects())}}function ir(t,n){if(t&1&&(o(0,"p",34),s(1),a()),t&2){let e=d().$implicit;l(),h(e.description)}}function nr(t,n){if(t&1&&(o(0,"div",50)(1,"p",51),s(2,"Cancellation Reason:"),a(),o(3,"p",52),s(4),a()()),t&2){let e=d().$implicit;l(4),h(e.cancellation_reason)}}function ar(t,n){if(t&1&&(o(0,"div",36)(1,"span",37)(2,"mat-icon",38),s(3,"event"),a(),s(4," Cancelled "),a(),o(5,"span",40),s(6),a()()),t&2){let e=d().$implicit,i=d(4);l(6),h(i.formatDate(e.cancelled_at))}}function or(t,n){if(t&1){let e=w();o(0,"div",27)(1,"div",28)(2,"div",29)(3,"h3",30),s(4),a(),o(5,"span",31)(6,"mat-icon",32),s(7,"block"),a(),s(8),a()(),o(9,"p",33),s(10),a(),_(11,ir,2,1,"p",34)(12,nr,5,1,"div",50),o(13,"div",35)(14,"div",36)(15,"span",37)(16,"mat-icon",38),s(17,"attach_money"),a(),s(18," Budget "),a(),o(19,"span",39),s(20),a()(),_(21,ar,7,1,"div",36),a()(),o(22,"div",41)(23,"button",42),f("click",function(){let r=g(e).$implicit,c=d(4);return b(c.viewProject(r))}),o(24,"mat-icon"),s(25,"visibility"),a(),s(26," View Details "),a()()()}if(t&2){let e=n.$implicit,i=d(4);l(4),h(e.title),l(),P(i.getStatusColor(e.status)),l(3),v(" ",i.getStatusText(e.status)," "),l(2),h(i.getBusinessName(e)),l(),m(e.description?11:-1),l(),m(e.cancellation_reason?12:-1),l(8),h(i.formatPrice(e.offered_price)),l(),m(e.cancelled_at?21:-1)}}function rr(t,n){if(t&1&&(o(0,"div",2)(1,"h3",24)(2,"mat-icon",49),s(3,"block"),a(),s(4),a(),o(5,"div",26),F(6,or,27,9,"div",27,Ee),a()()),t&2){let e=d(3);l(4),v(" Cancelled Projects (",e.cancelledMyProjects().length,") "),l(2),A(e.cancelledMyProjects())}}function sr(t,n){if(t&1&&_(0,Ho,8,1,"div",2)(1,Wo,8,1,"div",2)(2,Zo,8,1,"div",2)(3,tr,8,1,"div",2)(4,rr,8,1,"div",2),t&2){let e=d(2);m(e.pendingMyProjects().length>0?0:-1),l(),m(e.activeMyProjects().length>0?1:-1),l(),m(e.completedMyProjects().length>0?2:-1),l(),m(e.rejectedMyProjects().length>0?3:-1),l(),m(e.cancelledMyProjects().length>0?4:-1)}}function lr(t,n){t&1&&(o(0,"div",17)(1,"div",19)(2,"mat-icon",20),s(3,"business_center"),a()(),o(4,"h3",21),s(5,"No project inquiries yet"),a(),o(6,"p",22),s(7,"When clients are interested in your services, their project requests will appear here."),a()())}function cr(t,n){if(t&1&&(o(0,"p",34),s(1),a()),t&2){let e=d().$implicit;l(),h(e.description)}}function dr(t,n){if(t&1){let e=w();o(0,"div",27)(1,"div",28)(2,"div",29)(3,"h3",30),s(4),a(),o(5,"span",31)(6,"mat-icon",32),s(7,"schedule"),a(),s(8),a()(),o(9,"p",33),s(10),a(),_(11,cr,2,1,"p",34),o(12,"div",35)(13,"div",36)(14,"span",37)(15,"mat-icon",38),s(16,"attach_money"),a(),s(17," Client Budget "),a(),o(18,"span",39),s(19),a()(),o(20,"div",36)(21,"span",37)(22,"mat-icon",38),s(23,"event"),a(),s(24," Received "),a(),o(25,"span",40),s(26),a()()()(),o(27,"div",41)(28,"div",53)(29,"button",54),f("click",function(){let r=g(e).$implicit,c=d(4);return b(c.viewProject(r))}),o(30,"mat-icon"),s(31,"visibility"),a(),s(32," View "),a(),o(33,"button",55),f("click",function(){let r=g(e).$implicit,c=d(4);return b(c.acceptProject(r))}),o(34,"mat-icon"),s(35,"check"),a(),s(36," Accept "),a(),o(37,"button",56),f("click",function(){let r=g(e).$implicit,c=d(4);return b(c.rejectProject(r))}),o(38,"mat-icon"),s(39,"close"),a(),s(40," Reject "),a()()()()}if(t&2){let e=n.$implicit,i=d(4);l(4),h(e.title),l(),P(i.getStatusColor(e.status)),l(3),v(" ",i.getStatusText(e.status)," "),l(2),h(i.getClientName(e)),l(),m(e.description?11:-1),l(8),h(i.formatPrice(e.offered_price)),l(7),h(i.formatDate(e.createdAt))}}function mr(t,n){if(t&1&&(o(0,"div",2)(1,"h3",24)(2,"mat-icon",25),s(3,"schedule"),a(),s(4),a(),o(5,"div",26),F(6,dr,41,8,"div",27,Ee),a()()),t&2){let e=d(3);l(4),v(" Pending Requests (",e.pendingBusinessProjects().length,") "),l(2),A(e.pendingBusinessProjects())}}function pr(t,n){if(t&1&&(o(0,"p",34),s(1),a()),t&2){let e=d().$implicit;l(),h(e.description)}}function ur(t,n){if(t&1&&(o(0,"div",36)(1,"span",37)(2,"mat-icon",38),s(3,"event"),a(),s(4," Deadline "),a(),o(5,"span",40),s(6),a()()),t&2){let e=d().$implicit,i=d(4);l(6),h(i.formatDate(e.deadline))}}function _r(t,n){if(t&1){let e=w();o(0,"div",27)(1,"div",28)(2,"div",29)(3,"h3",30),s(4),a(),o(5,"span",31)(6,"mat-icon",32),s(7),a(),s(8),a()(),o(9,"p",33),s(10),a(),_(11,pr,2,1,"p",34),o(12,"div",35)(13,"div",36)(14,"span",37)(15,"mat-icon",38),s(16,"attach_money"),a(),s(17," Budget "),a(),o(18,"span",39),s(19),a()(),_(20,ur,7,1,"div",36),a()(),o(21,"div",41)(22,"button",42),f("click",function(){let r=g(e).$implicit,c=d(4);return b(c.viewProject(r))}),o(23,"mat-icon"),s(24,"visibility"),a(),s(25," View Details "),a()()()}if(t&2){let e=n.$implicit,i=d(4);l(4),h(e.title),l(),P(i.getStatusColor(e.status)),l(2),v(" ",e.status==="accepted"?"check_circle":"work"," "),l(),v(" ",i.getStatusText(e.status)," "),l(2),h(i.getClientName(e)),l(),m(e.description?11:-1),l(8),h(i.formatPrice(e.offered_price)),l(),m(e.deadline?20:-1)}}function hr(t,n){if(t&1&&(o(0,"div",2)(1,"h3",24)(2,"mat-icon",43),s(3,"work"),a(),s(4),a(),o(5,"div",26),F(6,_r,26,9,"div",27,Ee),a()()),t&2){let e=d(3);l(4),v(" Active Projects (",e.activeBusinessProjects().length,") "),l(2),A(e.activeBusinessProjects())}}function fr(t,n){if(t&1&&(o(0,"p",34),s(1),a()),t&2){let e=d().$implicit;l(),h(e.description)}}function gr(t,n){if(t&1&&(o(0,"div",36)(1,"span",37)(2,"mat-icon",38),s(3,"event_available"),a(),s(4," Completed "),a(),o(5,"span",40),s(6),a()()),t&2){let e=d().$implicit,i=d(4);l(6),h(i.formatDate(e.completed_at))}}function br(t,n){if(t&1){let e=w();o(0,"div",27)(1,"div",28)(2,"div",29)(3,"h3",30),s(4),a(),o(5,"span",31)(6,"mat-icon",32),s(7,"check_circle"),a(),s(8),a()(),o(9,"p",33),s(10),a(),_(11,fr,2,1,"p",34),o(12,"div",35)(13,"div",36)(14,"span",37)(15,"mat-icon",38),s(16,"attach_money"),a(),s(17," Final Amount "),a(),o(18,"span",39),s(19),a()(),_(20,gr,7,1,"div",36),a()(),o(21,"div",41)(22,"button",42),f("click",function(){let r=g(e).$implicit,c=d(4);return b(c.viewProject(r))}),o(23,"mat-icon"),s(24,"visibility"),a(),s(25," View Details "),a()()()}if(t&2){let e=n.$implicit,i=d(4);l(4),h(e.title),l(),P(i.getStatusColor(e.status)),l(3),v(" ",i.getStatusText(e.status)," "),l(2),h(i.getClientName(e)),l(),m(e.description?11:-1),l(8),h(i.formatPrice(e.offered_price)),l(),m(e.completed_at?20:-1)}}function vr(t,n){if(t&1&&(o(0,"div",2)(1,"h3",24)(2,"mat-icon",44),s(3,"check_circle"),a(),s(4),a(),o(5,"div",26),F(6,br,26,8,"div",27,Ee),a()()),t&2){let e=d(3);l(4),v(" Completed Projects (",e.completedBusinessProjects().length,") "),l(2),A(e.completedBusinessProjects())}}function xr(t,n){if(t&1&&(o(0,"p",34),s(1),a()),t&2){let e=d().$implicit;l(),h(e.description)}}function Cr(t,n){if(t&1&&(o(0,"div",46)(1,"p",47),s(2,"Rejection Reason:"),a(),o(3,"p",48),s(4),a()()),t&2){let e=d().$implicit;l(4),h(e.rejection_reason)}}function yr(t,n){if(t&1&&(o(0,"div",36)(1,"span",37)(2,"mat-icon",38),s(3,"event"),a(),s(4," Rejected "),a(),o(5,"span",40),s(6),a()()),t&2){let e=d().$implicit,i=d(4);l(6),h(i.formatDate(e.rejected_at))}}function wr(t,n){if(t&1){let e=w();o(0,"div",27)(1,"div",28)(2,"div",29)(3,"h3",30),s(4),a(),o(5,"span",31)(6,"mat-icon",32),s(7,"cancel"),a(),s(8),a()(),o(9,"p",33),s(10),a(),_(11,xr,2,1,"p",34)(12,Cr,5,1,"div",46),o(13,"div",35)(14,"div",36)(15,"span",37)(16,"mat-icon",38),s(17,"attach_money"),a(),s(18," Client Budget "),a(),o(19,"span",39),s(20),a()(),_(21,yr,7,1,"div",36),a()(),o(22,"div",41)(23,"button",42),f("click",function(){let r=g(e).$implicit,c=d(4);return b(c.viewProject(r))}),o(24,"mat-icon"),s(25,"visibility"),a(),s(26," View Details "),a()()()}if(t&2){let e=n.$implicit,i=d(4);l(4),h(e.title),l(),P(i.getStatusColor(e.status)),l(3),v(" ",i.getStatusText(e.status)," "),l(2),h(i.getClientName(e)),l(),m(e.description?11:-1),l(),m(e.rejection_reason?12:-1),l(8),h(i.formatPrice(e.offered_price)),l(),m(e.rejected_at?21:-1)}}function Sr(t,n){if(t&1&&(o(0,"div",2)(1,"h3",24)(2,"mat-icon",45),s(3,"cancel"),a(),s(4),a(),o(5,"div",26),F(6,wr,27,9,"div",27,Ee),a()()),t&2){let e=d(3);l(4),v(" Rejected Projects (",e.rejectedBusinessProjects().length,") "),l(2),A(e.rejectedBusinessProjects())}}function kr(t,n){if(t&1&&(o(0,"p",34),s(1),a()),t&2){let e=d().$implicit;l(),h(e.description)}}function Er(t,n){if(t&1&&(o(0,"div",50)(1,"p",51),s(2,"Cancellation Reason:"),a(),o(3,"p",52),s(4),a()()),t&2){let e=d().$implicit;l(4),h(e.cancellation_reason)}}function Tr(t,n){if(t&1&&(o(0,"div",36)(1,"span",37)(2,"mat-icon",38),s(3,"event"),a(),s(4," Cancelled "),a(),o(5,"span",40),s(6),a()()),t&2){let e=d().$implicit,i=d(4);l(6),h(i.formatDate(e.cancelled_at))}}function Dr(t,n){if(t&1){let e=w();o(0,"div",27)(1,"div",28)(2,"div",29)(3,"h3",30),s(4),a(),o(5,"span",31)(6,"mat-icon",32),s(7,"block"),a(),s(8),a()(),o(9,"p",33),s(10),a(),_(11,kr,2,1,"p",34)(12,Er,5,1,"div",50),o(13,"div",35)(14,"div",36)(15,"span",37)(16,"mat-icon",38),s(17,"attach_money"),a(),s(18," Budget "),a(),o(19,"span",39),s(20),a()(),_(21,Tr,7,1,"div",36),a()(),o(22,"div",41)(23,"button",42),f("click",function(){let r=g(e).$implicit,c=d(4);return b(c.viewProject(r))}),o(24,"mat-icon"),s(25,"visibility"),a(),s(26," View Details "),a()()()}if(t&2){let e=n.$implicit,i=d(4);l(4),h(e.title),l(),P(i.getStatusColor(e.status)),l(3),v(" ",i.getStatusText(e.status)," "),l(2),h(i.getClientName(e)),l(),m(e.description?11:-1),l(),m(e.cancellation_reason?12:-1),l(8),h(i.formatPrice(e.offered_price)),l(),m(e.cancelled_at?21:-1)}}function Pr(t,n){if(t&1&&(o(0,"div",2)(1,"h3",24)(2,"mat-icon",49),s(3,"block"),a(),s(4),a(),o(5,"div",26),F(6,Dr,27,9,"div",27,Ee),a()()),t&2){let e=d(3);l(4),v(" Cancelled Projects (",e.cancelledBusinessProjects().length,") "),l(2),A(e.cancelledBusinessProjects())}}function Rr(t,n){if(t&1&&_(0,mr,8,1,"div",2)(1,hr,8,1,"div",2)(2,vr,8,1,"div",2)(3,Sr,8,1,"div",2)(4,Pr,8,1,"div",2),t&2){let e=d(2);m(e.pendingBusinessProjects().length>0?0:-1),l(),m(e.activeBusinessProjects().length>0?1:-1),l(),m(e.completedBusinessProjects().length>0?2:-1),l(),m(e.rejectedBusinessProjects().length>0?3:-1),l(),m(e.cancelledBusinessProjects().length>0?4:-1)}}function Mr(t,n){if(t&1){let e=w();o(0,"mat-tab-group",14),f("selectedTabChange",function(r){g(e);let c=d();return b(c.onTabChange(r.index))}),o(1,"mat-tab",15)(2,"div",16),_(3,No,10,0,"div",17)(4,sr,5,5),a()(),o(5,"mat-tab",18)(6,"div",16),_(7,lr,8,0,"div",17)(8,Rr,5,5),a()()()}if(t&2){let e=d();l(3),m(e.myProjects().length===0?3:4),l(4),m(e.businessProjects().length===0?7:8)}}var ni=class t{authService=u(Se);projectService=u(_t);router=u(Ye);loading=E(!1);error=E(null);myProjects=E([]);businessProjects=E([]);activeTab=E(0);user=this.authService.user;pendingMyProjects=R(()=>this.myProjects().filter(n=>n.status==="pending"));activeMyProjects=R(()=>this.myProjects().filter(n=>["accepted","in_progress"].includes(n.status)));completedMyProjects=R(()=>this.myProjects().filter(n=>["completed","settled"].includes(n.status)));rejectedMyProjects=R(()=>this.myProjects().filter(n=>n.status==="rejected"));cancelledMyProjects=R(()=>this.myProjects().filter(n=>n.status==="cancelled"));pendingBusinessProjects=R(()=>this.businessProjects().filter(n=>n.status==="pending"));activeBusinessProjects=R(()=>this.businessProjects().filter(n=>["accepted","in_progress"].includes(n.status)));completedBusinessProjects=R(()=>this.businessProjects().filter(n=>["completed","settled"].includes(n.status)));rejectedBusinessProjects=R(()=>this.businessProjects().filter(n=>n.status==="rejected"));cancelledBusinessProjects=R(()=>this.businessProjects().filter(n=>n.status==="cancelled"));ngOnInit(){if(!this.user()){this.router.navigate(["/auth"]);return}this.loadProjects()}loadProjects(){return k(this,null,function*(){this.loading.set(!0),this.error.set(null);try{let n=yield this.projectService.getMyProjectsAsync("client");this.myProjects.set(n);let e=yield this.projectService.getMyProjectsAsync("business_owner");this.businessProjects.set(e)}catch(n){console.error("Error loading projects:",n),this.error.set("Failed to load projects")}finally{this.loading.set(!1)}})}onTabChange(n){this.activeTab.set(n)}getStatusColor(n){return{pending:"bg-yellow-100 text-yellow-800",accepted:"bg-blue-100 text-blue-800",in_progress:"bg-purple-100 text-purple-800",completed:"bg-green-100 text-green-800",settled:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",cancelled:"bg-orange-100 text-orange-800"}[n]||"bg-gray-100 text-gray-800"}getStatusText(n){return{pending:"Pending",accepted:"Accepted",in_progress:"In Progress",completed:"Completed",settled:"Settled",rejected:"Rejected",cancelled:"Cancelled"}[n]||n}formatPrice(n){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n)}formatDate(n){try{return(typeof n=="string"?new Date(n):n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"Unknown"}}getBusinessName(n){return typeof n.business_id=="object"&&n.business_id.name?n.business_id.name:"Unknown Business"}getClientName(n){if(typeof n.client_id=="object"){let e=n.client_id;return`${e.first_name} ${e.last_name}`}return"Unknown Client"}viewProject(n){this.router.navigate(["/dashboard/projects",n._id])}acceptProject(n){return k(this,null,function*(){try{yield this.projectService.updateProjectAsync(n._id,{status:"accepted"}),this.loadProjects()}catch(e){console.error("Error accepting project:",e),this.error.set("Failed to accept project")}})}rejectProject(n){return k(this,null,function*(){let e=prompt("Please provide a reason for rejection:");if(e)try{yield this.projectService.updateProjectAsync(n._id,{status:"rejected",rejection_reason:e}),this.loadProjects()}catch(i){console.error("Error rejecting project:",i),this.error.set("Failed to reject project")}})}navigateToHome(){this.router.navigate(["/"])}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-projects"]],decls:10,vars:2,consts:[[1,"min-h-screen","bg-gray-50","p-6"],[1,"max-w-7xl","mx-auto"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-gray-600"],[1,"mb-6","bg-red-50","border-l-4","border-red-400","p-4","rounded-r-lg"],[1,"flex","items-center","justify-center","py-12"],[1,"projects-tabs"],[1,"flex"],[1,"text-red-400","mr-3"],[1,"text-sm","font-medium","text-red-800"],[1,"mt-1","text-sm","text-red-700"],["diameter","40"],[1,"ml-3","text-gray-600"],[1,"projects-tabs",3,"selectedTabChange"],["label","My Project Requests"],[1,"py-6"],[1,"bg-white","rounded-xl","border","border-gray-200","p-12","text-center"],["label","Business Inquiries"],[1,"p-4","bg-gray-50","rounded-full","w-20","h-20","mx-auto","mb-6","flex","items-center","justify-center"],[1,"text-gray-400","text-4xl"],[1,"text-xl","font-medium","text-gray-900","mb-2"],[1,"text-gray-500","mb-6"],["mat-raised-button","","color","primary",3,"click"],[1,"text-lg","font-semibold","text-gray-900","mb-4","flex","items-center"],[1,"mr-2","text-yellow-600"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-200","overflow-hidden","hover:shadow-md","transition-shadow","duration-200"],[1,"p-6","pb-4"],[1,"flex","items-start","justify-between","mb-3"],[1,"text-lg","font-semibold","text-gray-900","line-clamp-2"],[1,"inline-flex","items-center","px-2.5","py-1","rounded-full","text-xs","font-medium"],[1,"w-3","h-3","mr-1","text-xs"],[1,"text-sm","text-gray-600","mb-4"],[1,"text-sm","text-gray-700","mb-4","line-clamp-3"],[1,"space-y-3"],[1,"flex","items-center","justify-between"],[1,"text-sm","text-gray-500","flex","items-center"],[1,"w-4","h-4","mr-1"],[1,"text-sm","font-semibold","text-gray-900"],[1,"text-sm","text-gray-700"],[1,"px-6","py-4","bg-gray-50","border-t","border-gray-100"],["mat-stroked-button","",1,"w-full",3,"click"],[1,"mr-2","text-blue-600"],[1,"mr-2","text-green-600"],[1,"mr-2","text-red-600"],[1,"mb-4","p-3","bg-red-50","border","border-red-200","rounded-lg"],[1,"text-sm","text-red-800","font-medium","mb-1"],[1,"text-sm","text-red-700"],[1,"mr-2","text-orange-600"],[1,"mb-4","p-3","bg-orange-50","border","border-orange-200","rounded-lg"],[1,"text-sm","text-orange-800","font-medium","mb-1"],[1,"text-sm","text-orange-700"],[1,"flex","space-x-2"],["mat-stroked-button","",1,"flex-1",3,"click"],["mat-raised-button","","color","primary",1,"flex-1",3,"click"],["mat-button","","color","warn",1,"flex-1",3,"click"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),s(4,"Projects"),a(),o(5,"p",4),s(6,"Manage your project requests and business inquiries"),a()(),_(7,Oo,9,1,"div",5)(8,Lo,4,0,"div",6)(9,Mr,9,2,"mat-tab-group",7),a()()),e&2&&(l(7),m(i.error()?7:-1),l(),m(i.loading()?8:9))},dependencies:[K,Lt,gt,Ve,ft,ke,Jn,le,se,fe,he,ut,pt],styles:[".projects-tabs[_ngcontent-%COMP%]     .mat-mdc-tab-body-wrapper{padding-top:0}.project-card[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.project-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026;transform:translateY(-2px)}.project-card[_ngcontent-%COMP%]   .mat-mdc-card-header[_ngcontent-%COMP%]{padding-bottom:8px}.project-card[_ngcontent-%COMP%]   .mat-mdc-card-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;line-height:1.4}.project-card[_ngcontent-%COMP%]   .mat-mdc-card-subtitle[_ngcontent-%COMP%]{font-size:14px;color:#6b7280;margin-top:4px}.project-card[_ngcontent-%COMP%]   .mat-mdc-card-content[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:8px}.project-card[_ngcontent-%COMP%]   .mat-mdc-card-actions[_ngcontent-%COMP%]{padding-top:8px;display:flex;align-items:center;gap:8px}.project-card[_ngcontent-%COMP%]   .mat-mdc-card-actions.action-buttons[_ngcontent-%COMP%]{flex-wrap:wrap}.project-card[_ngcontent-%COMP%]   .mat-mdc-card-actions.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;min-width:80px}.project-card.pending-request[_ngcontent-%COMP%]{border-left:4px solid #f59e0b;background:linear-gradient(135deg,#fffbeb,#fef3c7)}.line-clamp-2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.status-badge[_ngcontent-%COMP%]{font-weight:500;text-transform:capitalize}@media (max-width: 768px){.project-card[_ngcontent-%COMP%]   .mat-mdc-card-actions.action-buttons[_ngcontent-%COMP%]{flex-direction:column}.project-card[_ngcontent-%COMP%]   .mat-mdc-card-actions.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}.empty-state[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#f1f5f9);border:2px dashed #e2e8f0}"]})};var jr=()=>["pending","accepted","in_progress"],Ir=(t,n)=>n.url,Fr=(t,n)=>n.name,ga=(t,n)=>n._id;function Ar(t,n){t&1&&(o(0,"button",15)(1,"mat-icon",17),s(2,"hourglass_empty"),a(),s(3," Loading... "),a())}function Br(t,n){if(t&1&&(o(0,"span",19),s(1),a()),t&2){let e=d(3);l(),v(" ",e.chatUnreadCount()," ")}}function Or(t,n){if(t&1){let e=w();o(0,"button",18),f("click",function(){g(e);let r=d(2);return b(r.goToExistingChat())}),o(1,"mat-icon",17),s(2,"chat"),a(),s(3," Open Chat "),_(4,Br,2,1,"span",19),a()}if(t&2){let e=d(2);l(4),m(e.chatUnreadCount()>0?4:-1)}}function Lr(t,n){t&1&&(o(0,"button",15)(1,"mat-icon",17),s(2,"hourglass_empty"),a(),s(3," Loading... "),a())}function Nr(t,n){if(t&1&&(o(0,"span",19),s(1),a()),t&2){let e=d(5);l(),v(" ",e.chatUnreadCount()," ")}}function Vr(t,n){if(t&1){let e=w();o(0,"button",18),f("click",function(){g(e);let r=d(4);return b(r.goToExistingChat())}),o(1,"mat-icon",17),s(2,"chat"),a(),s(3," Open Chat "),_(4,Nr,2,1,"span",19),a()}if(t&2){let e=d(4);l(4),m(e.chatUnreadCount()>0?4:-1)}}function zr(t,n){if(t&1){let e=w();o(0,"button",21),f("click",function(){g(e);let r=d(4);return b(r.startChat())}),o(1,"mat-icon",17),s(2,"chat"),a(),s(3," Start Chat "),a()}}function Hr(t,n){if(t&1&&_(0,Lr,4,0,"button",15)(1,Vr,5,1,"button",16)(2,zr,4,0,"button",20),t&2){let e=d(3);m(e.loadingChat()?0:e.existingChat()?1:2)}}function $r(t,n){if(t&1&&_(0,Hr,3,1),t&2){let e=d(2);m(e.project()&&(e.project().status==="accepted"||e.project().status==="in_progress"||e.project().status==="completed")?0:-1)}}function qr(t,n){if(t&1&&_(0,Ar,4,0,"button",15)(1,Or,5,1,"button",16)(2,$r,1,1),t&2){let e=d();m(e.loadingChat()?0:e.existingChat()?1:2)}}function Ur(t,n){if(t&1&&(o(0,"span",24),s(1),a()),t&2){let e=d(2);l(),v(" ",e.chatUnreadCount()," ")}}function Wr(t,n){if(t&1){let e=w();o(0,"button",22),f("click",function(){g(e);let r=d();return b(r.navigateToChat())}),o(1,"mat-icon",23),s(2,"chat"),a(),s(3," Chat with Client "),_(4,Ur,2,1,"span",24),a(),o(5,"button",25),f("click",function(){g(e);let r=d();return b(r.acceptProject())}),o(6,"mat-icon",23),s(7,"check_circle"),a(),s(8," Accept Project "),a(),o(9,"button",26),f("click",function(){g(e);let r=d();return b(r.rejectProject())}),o(10,"mat-icon",23),s(11,"cancel"),a(),s(12," Reject Project "),a()}if(t&2){let e=d();l(4),m(e.chatUnreadCount()>0?4:-1)}}function Gr(t,n){if(t&1&&(o(0,"span",24),s(1),a()),t&2){let e=d(2);l(),v(" ",e.chatUnreadCount()," ")}}function Qr(t,n){if(t&1){let e=w();o(0,"button",22),f("click",function(){g(e);let r=d();return b(r.navigateToChat())}),o(1,"mat-icon",23),s(2,"chat"),a(),s(3," Chat with Client "),_(4,Gr,2,1,"span",24),a(),o(5,"button",25),f("click",function(){g(e);let r=d();return b(r.markInProgress())}),o(6,"mat-icon",23),s(7,"play_arrow"),a(),s(8," Start Project "),a()}if(t&2){let e=d();l(4),m(e.chatUnreadCount()>0?4:-1)}}function Yr(t,n){if(t&1&&(o(0,"span",24),s(1),a()),t&2){let e=d(2);l(),v(" ",e.chatUnreadCount()," ")}}function Zr(t,n){if(t&1){let e=w();o(0,"button",22),f("click",function(){g(e);let r=d();return b(r.navigateToChat())}),o(1,"mat-icon",23),s(2,"chat"),a(),s(3," Chat with Client "),_(4,Yr,2,1,"span",24),a(),o(5,"button",27),f("click",function(){g(e);let r=d();return b(r.markCompleted())}),o(6,"mat-icon",23),s(7,"check"),a(),s(8," Mark as Completed "),a()}if(t&2){let e=d();l(4),m(e.chatUnreadCount()>0?4:-1)}}function Kr(t,n){t&1&&s(0," Chat with Business ")}function Xr(t,n){t&1&&s(0," Chat with Business Owner ")}function Jr(t,n){if(t&1&&(o(0,"span",24),s(1),a()),t&2){let e=d(2);l(),v(" ",e.chatUnreadCount()," ")}}function es(t,n){if(t&1){let e=w();o(0,"div",9)(1,"h3",28),s(2,"Client Actions"),a(),o(3,"div",29)(4,"button",22),f("click",function(){g(e);let r=d();return b(r.navigateToChat())}),o(5,"mat-icon",23),s(6,"chat"),a(),_(7,Kr,1,0)(8,Xr,1,0)(9,Jr,2,1,"span",24),a()()()}if(t&2){let e=d();l(7),m(e.project().status==="pending"?7:8),l(2),m(e.chatUnreadCount()>0?9:-1)}}function ts(t,n){if(t&1&&(o(0,"span",24),s(1),a()),t&2){let e=d(2);l(),v(" ",e.chatUnreadCount()," ")}}function is(t,n){if(t&1){let e=w();o(0,"div",10)(1,"h3",28),s(2,"Project Completion Review"),a(),o(3,"p",30),s(4,"The business owner has marked this project as completed. Please review the work and approve or reject the completion."),a(),o(5,"div",29)(6,"button",25),f("click",function(){g(e);let r=d();return b(r.approveCompletion())}),o(7,"mat-icon",23),s(8,"check_circle"),a(),s(9," Approve Completion "),a(),o(10,"button",26),f("click",function(){g(e);let r=d();return b(r.rejectCompletion())}),o(11,"mat-icon",23),s(12,"cancel"),a(),s(13," Request Changes "),a(),o(14,"button",22),f("click",function(){g(e);let r=d();return b(r.navigateToChat())}),o(15,"mat-icon",23),s(16,"chat"),a(),s(17," Discuss with Business Owner "),_(18,ts,2,1,"span",24),a()()()}if(t&2){let e=d();l(18),m(e.chatUnreadCount()>0?18:-1)}}function ns(t,n){t&1&&(o(0,"p",30),s(1,"You have already reviewed this project. Click below to view your review."),a())}function as(t,n){t&1&&(o(0,"p",30),s(1,"Share your experience with this business to help other clients make informed decisions."),a())}function os(t,n){if(t&1){let e=w();o(0,"div",11)(1,"h3",28),s(2,"Project Review"),a(),_(3,ns,2,0,"p",30)(4,as,2,0,"p",30),o(5,"div",29)(6,"button",31),f("click",function(){g(e);let r=d();return b(r.handleReviewAction())}),o(7,"mat-icon",23),s(8),a(),s(9),a()()()}if(t&2){let e=d();l(3),m(e.existingReview()?3:4),l(5),h(e.existingReview()?"visibility":"star"),l(),v(" ",e.reviewButtonText()," ")}}function rs(t,n){if(t&1&&(o(0,"div",12)(1,"div",32)(2,"div",33)(3,"mat-icon",34),s(4,"error"),a()(),o(5,"div",35)(6,"h3",36),s(7,"Error"),a(),o(8,"p",37),s(9),a()()()()),t&2){let e=d();l(9),h(e.error())}}function ss(t,n){t&1&&(o(0,"div",13),x(1,"mat-spinner",38),o(2,"p",39),s(3,"Loading project details..."),a()())}function ls(t,n){if(t&1&&s(0),t&2){let e=d(2);v(" Project with ",e.getBusinessName(e.project())," ")}}function cs(t,n){if(t&1&&s(0),t&2){let e=d(2);v(" Project from ",e.getClientName(e.project())," ")}}function ds(t,n){if(t&1&&(o(0,"div")(1,"h3",62),s(2,"Description"),a(),o(3,"p",63),s(4),a()()),t&2){let e=d(2);l(4),h(e.project().description)}}function ms(t,n){if(t&1&&(o(0,"div")(1,"h3",62),s(2,"Additional Notes"),a(),o(3,"p",63),s(4),a()()),t&2){let e=d(2);l(4),h(e.project().additional_notes)}}function ps(t,n){if(t&1&&(o(0,"div")(1,"h3",62),s(2,"Project Image"),a(),o(3,"div",64),x(4,"img",65),a()()),t&2){let e=d(2);l(4),y("src",e.project().image_url,Be)("alt",e.project().title)}}function us(t,n){if(t&1&&(o(0,"div",67)(1,"div",69)(2,"div",70)(3,"mat-icon",71),s(4),a()(),o(5,"div",72)(6,"p",73),s(7),a(),o(8,"p",74),s(9),a(),o(10,"p",75),s(11),a()()(),o(12,"a",76)(13,"mat-icon",77),s(14,"download"),a(),s(15," Download "),a()()),t&2){let e=n.$implicit,i=d(3);l(4),h(i.getFileIcon(e.type)),l(3),h(e.name),l(2),h(i.formatFileSize(e.size)),l(2),h(e.type.split("/")[1]||"file"),l(),y("href",e.url,Be)}}function _s(t,n){if(t&1&&(o(0,"div")(1,"h3",28),s(2,"Project Documents"),a(),o(3,"div",66),F(4,us,16,5,"div",67,Ir),a(),o(6,"p",68),s(7),a()()),t&2){let e=d(2);l(4),A(e.project().attachments),l(3),v("",e.project().attachments.length," document(s) attached to this project")}}function hs(t,n){if(t&1&&(o(0,"p",83),s(1),a()),t&2){let e=d().$implicit;l(),h(e.description)}}function fs(t,n){if(t&1&&(o(0,"div",84)(1,"mat-icon",77),s(2,"attach_money"),a(),s(3),a()),t&2){let e=d().$implicit,i=d(3);l(3),v(" ",i.formatServicePrice(e.price,e.pricing_type)," ")}}function gs(t,n){t&1&&(o(0,"div",85)(1,"mat-icon",77),s(2,"help_outline"),a(),s(3," Price not specified "),a())}function bs(t,n){if(t&1&&(o(0,"div",79)(1,"div",43)(2,"div",44)(3,"div",80)(4,"mat-icon",81),s(5,"star"),a(),o(6,"h4",82),s(7),a()(),_(8,hs,2,1,"p",83)(9,fs,4,1,"div",84)(10,gs,4,0,"div",85),a()()()),t&2){let e=n.$implicit;l(7),h(e.name),l(),m(e.description?8:-1),l(),m(e.price?9:10)}}function vs(t,n){if(t&1&&(o(0,"div")(1,"h3",28),s(2,"Selected Services"),a(),o(3,"div",78),F(4,bs,11,3,"div",79,Fr),a(),o(6,"p",68),s(7),a()()),t&2){let e=d(2);l(4),A(e.getServiceDetails(e.project())),l(3),v("",e.getServiceDetails(e.project()).length," service(s) selected for this project")}}function xs(t,n){t&1&&(o(0,"div")(1,"h3",62),s(2,"Selected Services"),a(),o(3,"div",86)(4,"div",87)(5,"mat-icon",88),s(6,"info"),a(),o(7,"p",89),s(8,"No specific services selected for this project"),a()()()())}function Cs(t,n){if(t&1&&(o(0,"div",48)(1,"h3",90)(2,"mat-icon",91),s(3,"error_outline"),a(),s(4," Rejection Reason "),a(),o(5,"p",92),s(6),a()()),t&2){let e=d(2);l(6),h(e.project().rejection_reason)}}function ys(t,n){t&1&&s(0," Business Information ")}function ws(t,n){t&1&&s(0," Client Information ")}function Ss(t,n){if(t&1&&x(0,"img",93),t&2){let e=d();y("src",e.logo_url,Be)("alt",e.name)}}function ks(t,n){t&1&&(o(0,"div",94)(1,"mat-icon",97),s(2,"business"),a()())}function Es(t,n){if(t&1&&(o(0,"div",96)(1,"mat-icon",98),s(2,"link"),a(),o(3,"span",99),s(4),a()()),t&2){let e=d();l(4),v("/business/",e.slug,"")}}function Ts(t,n){if(t&1){let e=w();o(0,"div",51),_(1,Ss,1,2,"img",93)(2,ks,3,0,"div",94),o(3,"div",44)(4,"button",95),f("click",function(){let r=g(e),c=d(2);return b(c.navigateToBusinessProfile(r.slug))}),s(5),a(),o(6,"p",5),s(7,"Click to view business profile"),a(),_(8,Es,5,1,"div",96),a()()}if(t&2){let e=n;l(),m(e.logo_url?1:2),l(4),v(" ",e.name," "),l(3),m(e.slug?8:-1)}}function Ds(t,n){if(t&1&&(o(0,"p",5),s(1),a()),t&2){let e=d();l(),h(e.email)}}function Ps(t,n){if(t&1&&(o(0,"div",51)(1,"div",100)(2,"mat-icon",97),s(3,"person"),a()(),o(4,"div",44)(5,"h3",101),s(6),a(),_(7,Ds,2,1,"p",5),o(8,"p",102),s(9,"Project Client"),a()()()),t&2){let e=n;l(6),dn(" ",e.first_name," ",e.last_name," "),l(),m(e.email?7:-1)}}function Rs(t,n){if(t&1&&(o(0,"div",59)(1,"p",57),s(2,"Deadline"),a(),o(3,"p",54),s(4),a()()),t&2){let e=d(2);l(4),h(e.formatDate(e.project().deadline))}}function Ms(t,n){if(t&1&&(o(0,"div",59)(1,"p",57),s(2,"Accepted"),a(),o(3,"p",54),s(4),a()()),t&2){let e=d(2);l(4),h(e.formatDate(e.project().accepted_at))}}function js(t,n){if(t&1&&(o(0,"div",59)(1,"p",57),s(2,"Completed"),a(),o(3,"p",54),s(4),a()()),t&2){let e=d(2);l(4),h(e.formatDate(e.project().completed_at))}}function Is(t,n){if(t&1&&(o(0,"div",59)(1,"p",57),s(2,"Rejected"),a(),o(3,"p",54),s(4),a()()),t&2){let e=d(2);l(4),h(e.formatDate(e.project().rejected_at))}}function Fs(t,n){t&1&&(o(0,"div",105),x(1,"mat-spinner",107),o(2,"span",108),s(3,"Loading payment requests..."),a()())}function As(t,n){if(t&1&&(o(0,"p",112),s(1),a()),t&2){let e=d().$implicit;l(),h(e.payment_description)}}function Bs(t,n){if(t&1&&(o(0,"p",89),s(1),a()),t&2){let e=d().$implicit;l(),h(e.content)}}function Os(t,n){if(t&1){let e=w();o(0,"div",113)(1,"button",114),f("click",function(){g(e);let r=d().$implicit,c=d(4);return b(c.approvePaymentRequest(r))}),o(2,"mat-icon",77),s(3,"check"),a(),s(4," Approve & Pay "),a(),o(5,"button",115),f("click",function(){g(e);let r=d().$implicit,c=d(4);return b(c.rejectPaymentRequest(r))}),o(6,"mat-icon",77),s(7,"close"),a(),s(8," Reject "),a()()}}function Ls(t,n){if(t&1&&(o(0,"div",109)(1,"div",110)(2,"div",44)(3,"div",80)(4,"span"),s(5),z(6,"titlecase"),a(),o(7,"span",74),s(8),a()(),o(9,"h4",111),s(10),z(11,"currency"),a(),_(12,As,2,1,"p",112)(13,Bs,2,1,"p",89),a()(),_(14,Os,9,0,"div",113),a()),t&2){let e=n.$implicit,i=d(4);l(4),P("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+i.getPaymentStatusColor(e.payment_status||"pending")),l(),v(" ",W(6,8,e.payment_status||"pending")," "),l(3),h(i.formatPaymentTime(e.createdAt)),l(2),v(" ",Ei(11,10,e.payment_amount,"USD","symbol","1.0-0")," "),l(2),m(e.payment_description?12:-1),l(),m(e.content?13:-1),l(),m(e.payment_status==="pending"?14:-1)}}function Ns(t,n){if(t&1&&F(0,Ls,15,15,"div",109,ga),t&2){let e=d(3);A(e.pendingPaymentRequests())}}function Vs(t,n){t&1&&(o(0,"div",106)(1,"mat-icon",116),s(2,"payment"),a(),o(3,"p",89),s(4,"No pending payment requests"),a()())}function zs(t,n){if(t&1&&(o(0,"div",41)(1,"div",53)(2,"h3",103)(3,"mat-icon",104),s(4,"payment"),a(),s(5," Payment Requests "),a()(),o(6,"div",60),_(7,Fs,4,0,"div",105)(8,Ns,2,0)(9,Vs,5,0,"div",106),a()()),t&2){let e=d(2);l(7),m(e.loadingPaymentRequests()?7:8),l(2),m(!e.loadingPaymentRequests()&&e.pendingPaymentRequests().length===0?9:-1)}}function Hs(t,n){t&1&&(o(0,"div",105),x(1,"mat-spinner",107),o(2,"span",108),s(3,"Loading payment history..."),a()())}function $s(t,n){if(t&1&&(o(0,"p",122),s(1),a()),t&2){let e=d().$implicit;l(),h(e.payment_description)}}function qs(t,n){if(t&1&&(o(0,"p",99),s(1),a()),t&2){let e=d().$implicit;l(),h(e.content)}}function Us(t,n){t&1&&(o(0,"mat-icon",124),s(1,"check_circle"),a())}function Ws(t,n){t&1&&(o(0,"mat-icon",125),s(1,"cancel"),a())}function Gs(t,n){t&1&&(o(0,"mat-icon",126),s(1,"schedule"),a())}function Qs(t,n){if(t&1){let e=w();o(0,"div",113)(1,"button",114),f("click",function(){g(e);let r=d().$implicit,c=d(4);return b(c.approvePaymentRequest(r))}),o(2,"mat-icon",77),s(3,"check"),a(),s(4," Approve & Pay "),a(),o(5,"button",115),f("click",function(){g(e);let r=d().$implicit,c=d(4);return b(c.rejectPaymentRequest(r))}),o(6,"mat-icon",77),s(7,"close"),a(),s(8," Reject "),a()()}}function Ys(t,n){if(t&1&&(o(0,"div",120)(1,"div",110)(2,"div",44)(3,"div",80)(4,"span"),s(5),z(6,"titlecase"),a(),o(7,"span",74),s(8),a()(),o(9,"h4",121),s(10),z(11,"currency"),a(),_(12,$s,2,1,"p",122)(13,qs,2,1,"p",99),a(),o(14,"div",123),_(15,Us,2,0,"mat-icon",124)(16,Ws,2,0,"mat-icon",125)(17,Gs,2,0,"mat-icon",126),a()(),_(18,Qs,9,0,"div",113),a()),t&2){let e=n.$implicit,i=d(4);l(4),P("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium "+i.getPaymentStatusColor(e.payment_status||"pending")),l(),v(" ",W(6,9,e.payment_status||"pending")," "),l(3),h(i.formatPaymentTime(e.createdAt)),l(2),v(" ",Ei(11,11,e.payment_amount,"USD","symbol","1.0-0")," "),l(2),m(e.payment_description?12:-1),l(),m(e.content?13:-1),l(2),m(e.payment_status==="approved"?15:e.payment_status==="rejected"?16:17),l(3),m(e.payment_status==="pending"&&i.isClient()?18:-1)}}function Zs(t,n){if(t&1&&(o(0,"div",78),F(1,Ys,19,16,"div",120,ga),a()),t&2){let e=d(3);l(),A(e.paymentRequests())}}function Ks(t,n){t&1&&(o(0,"div",119)(1,"mat-icon",127),s(2,"payment"),a(),o(3,"p",89),s(4,"No payment requests have been made for this project"),a()())}function Xs(t,n){if(t&1&&(o(0,"div",41)(1,"div",53)(2,"h3",103)(3,"mat-icon",117),s(4,"history"),a(),s(5," Payment Request History "),a()(),o(6,"div",118),_(7,Hs,4,0,"div",105)(8,Zs,3,0,"div",78)(9,Ks,5,0,"div",119),a()()),t&2){let e=d(2);l(7),m(e.loadingPaymentRequests()?7:8),l(2),m(!e.loadingPaymentRequests()&&e.paymentRequests().length===0?9:-1)}}function Js(t,n){if(t&1){let e=w();o(0,"div",14)(1,"div",40)(2,"div",41)(3,"div",42)(4,"div",43)(5,"div",44)(6,"h2",45),s(7),a(),o(8,"p",5),_(9,ls,1,1)(10,cs,1,1),a()(),o(11,"div",46)(12,"span"),s(13),a()()()(),o(14,"div",47),_(15,ds,5,1,"div")(16,ms,5,1,"div")(17,ps,5,2,"div")(18,_s,8,1,"div")(19,vs,8,1,"div")(20,xs,9,0,"div")(21,Cs,7,1,"div",48),a()(),o(22,"div",41)(23,"div",42)(24,"h2",49),_(25,ys,1,0)(26,ws,1,0),a()(),o(27,"div",50),_(28,Ts,9,3,"div",51)(29,Ps,10,3,"div",51),a()()(),o(30,"div",52)(31,"div",41)(32,"div",53)(33,"h3",54),s(34,"Project Details"),a()(),o(35,"div",55)(36,"div",56)(37,"p",57),s(38,"Budget"),a(),o(39,"p",58),s(40),a()(),_(41,Rs,5,1,"div",59),o(42,"div",59)(43,"p",57),s(44,"Created"),a(),o(45,"p",54),s(46),a()(),_(47,Ms,5,1,"div",59)(48,js,5,1,"div",59)(49,Is,5,1,"div",59),a()(),_(50,zs,10,2,"div",41)(51,Xs,10,2,"div",41),o(52,"div",41)(53,"div",53)(54,"h3",54),s(55,"Actions"),a()(),o(56,"div",60)(57,"button",61),f("click",function(){g(e);let r=d();return b(r.goBack())}),o(58,"mat-icon",17),s(59,"arrow_back"),a(),s(60," Back to Projects "),a()()()()()}if(t&2){let e,i,r=d();l(7),h(r.project().title),l(2),m(r.isClient()?9:r.isBusinessOwner()?10:-1),l(3),P("inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold "+r.getStatusColor(r.project().status)),l(),v(" ",r.getStatusText(r.project().status)," "),l(2),m(r.project().description?15:-1),l(),m(r.project().additional_notes?16:-1),l(),m(r.project().image_url?17:-1),l(),m(r.project().attachments&&r.project().attachments.length>0?18:-1),l(),m(r.getServiceDetails(r.project()).length>0?19:20),l(2),m(r.project().rejection_reason?21:-1),l(4),m(r.isClient()?25:r.isBusinessOwner()?26:-1),l(3),m((e=r.isClient()&&r.getBusinessInfo(r.project()))?28:-1,e),l(),m((i=r.isBusinessOwner()&&r.getClientInfo(r.project()))?29:-1,i),l(11),h(r.formatPrice(r.project().offered_price)),l(),m(r.project().deadline?41:-1),l(5),h(r.formatDate(r.project().createdAt)),l(),m(r.project().accepted_at?47:-1),l(),m(r.project().completed_at?48:-1),l(),m(r.project().rejected_at?49:-1),l(),m(r.isClient()&&r.hasPendingPaymentRequests()?50:-1),l(),m(r.paymentRequests().length>0?51:-1)}}var ai=class t{route=u(Ot);router=u(Ye);projectService=u(_t);authService=u(Se);chatService=u(oa);reviewService=u(Xn);dashboardRefreshService=u(Kn);dialog=u(ei);loading=E(!1);error=E(null);project=E(null);existingChat=E(null);chatUnreadCount=E(0);loadingChat=E(!1);paymentRequests=E([]);loadingPaymentRequests=E(!1);canLeaveReview=E(!1);existingReview=E(null);user=this.authService.user;isClient=R(()=>{let n=this.project(),e=this.user();if(!n||!e)return!1;let i=typeof n.client_id=="string"?n.client_id:n.client_id?._id;return e._id===i});isBusinessOwner=R(()=>{let n=this.project(),e=this.user();if(!n||!e)return!1;let i=typeof n.business_owner_id=="string"?n.business_owner_id:n.business_owner_id?._id;return e._id===i});pendingPaymentRequests=R(()=>this.paymentRequests().filter(n=>n.message_type==="payment_request"&&n.payment_status==="pending"));approvedPaymentRequests=R(()=>this.paymentRequests().filter(n=>n.message_type==="payment_request"&&n.payment_status==="approved"));rejectedPaymentRequests=R(()=>this.paymentRequests().filter(n=>n.message_type==="payment_request"&&n.payment_status==="rejected"));hasPendingPaymentRequests=R(()=>this.pendingPaymentRequests().length>0);hasPaymentHistory=R(()=>this.paymentRequests().length>0);reviewButtonText=R(()=>{let n=this.existingReview(),e=this.canLeaveReview();return n?`View Review (${n.rating}\u2B50)`:e?"Leave Review":""});showReviewButton=R(()=>{let n=this.canLeaveReview(),e=this.existingReview();return!!(n||e)});ngOnInit(){if(!this.user()){this.router.navigate(["/auth"]);return}let n=this.route.snapshot.params.id;if(!n){this.error.set("Project ID is required"),this.router.navigate(["/dashboard/projects"]);return}this.loadProject(n)}loadProject(n){return k(this,null,function*(){this.loading.set(!0),this.error.set(null);try{let e=yield this.projectService.getProjectAsync(n);if(this.project.set(e),e.status==="accepted"||e.status==="in_progress"||e.status==="awaiting_client_approval"||e.status==="completed"){yield this.checkForExistingChat(n);let i=this.existingChat();i&&(yield this.loadPaymentRequests(i._id))}yield this.checkReviewEligibility(),console.log("Review service available:",!!this.reviewService)}catch(e){console.error("Error loading project:",e),this.error.set("Failed to load project details")}finally{this.loading.set(!1)}})}checkForExistingChat(n){return k(this,null,function*(){this.loadingChat.set(!0);try{let e=yield this.chatService.getChatByProjectIdAsync(n);if(this.existingChat.set(e),e){let i=yield this.chatService.getChatUnreadCountAsync(e._id);this.chatUnreadCount.set(i)}}catch(e){console.error("Error checking for existing chat:",e)}finally{this.loadingChat.set(!1)}})}loadPaymentRequests(n){return k(this,null,function*(){this.loadingPaymentRequests.set(!0);try{let i=(yield this.chatService.getChatMessagesAsync(n)).filter(r=>r.message_type==="payment_request");this.paymentRequests.set(i)}catch(e){console.error("Error loading payment requests:",e)}finally{this.loadingPaymentRequests.set(!1)}})}goBack(){this.router.navigate(["/dashboard/projects"])}acceptProject(){return k(this,null,function*(){let n=this.project();if(n)try{yield this.projectService.updateProjectAsync(n._id,{status:"accepted"}),this.loadProject(n._id),this.dashboardRefreshService.triggerRefresh()}catch(e){console.error("Error accepting project:",e),this.error.set("Failed to accept project")}})}rejectProject(){return k(this,null,function*(){let n=this.project();if(!n)return;let e=prompt("Please provide a reason for rejection:");if(e)try{yield this.projectService.updateProjectAsync(n._id,{status:"rejected",rejection_reason:e}),this.loadProject(n._id),this.dashboardRefreshService.triggerRefresh()}catch(i){console.error("Error rejecting project:",i),this.error.set("Failed to reject project")}})}markInProgress(){return k(this,null,function*(){let n=this.project();if(n)try{yield this.projectService.updateProjectAsync(n._id,{status:"in_progress"}),this.loadProject(n._id),this.dashboardRefreshService.triggerRefresh()}catch(e){console.error("Error marking project as in progress:",e),this.error.set("Failed to update project status")}})}markCompleted(){return k(this,null,function*(){let n=this.project();if(n)try{yield this.projectService.updateProjectAsync(n._id,{status:"completed"}),this.loadProject(n._id),this.dashboardRefreshService.triggerRefresh()}catch(e){console.error("Error marking project as completed:",e),this.error.set("Failed to update project status")}})}startChat(){return k(this,null,function*(){let n=this.project();if(n)try{let e=yield this.chatService.createOrGetChatAsync({project_id:n._id});this.router.navigate(["/dashboard/messages/chat",e._id])}catch(e){console.error("Error starting chat:",e),alert("Failed to start chat. Please try again.")}})}goToExistingChat(){return k(this,null,function*(){let n=this.existingChat();n&&this.router.navigate(["/dashboard/messages/chat",n._id])})}getStatusColor(n){return{pending:"bg-yellow-100 text-yellow-800 border-yellow-200",accepted:"bg-blue-100 text-blue-800 border-blue-200",in_progress:"bg-purple-100 text-purple-800 border-purple-200",awaiting_client_approval:"bg-orange-100 text-orange-800 border-orange-200",completed:"bg-green-100 text-green-800 border-green-200",rejected:"bg-red-100 text-red-800 border-red-200",cancelled:"bg-gray-100 text-gray-800 border-gray-200"}[n]||"bg-gray-100 text-gray-800 border-gray-200"}getStatusText(n){return{pending:"Pending",accepted:"Accepted",in_progress:"In Progress",awaiting_client_approval:"Awaiting Your Approval",completed:"Completed",rejected:"Rejected",cancelled:"Cancelled"}[n]||n}approveCompletion(){return k(this,null,function*(){let n=this.project();if(n)try{let e=this.existingChat();if(e){let r=(yield this.chatService.getChatMessagesAsync(e._id)).filter(c=>c.message_type==="completion_request"&&c.completion_status==="pending").sort((c,p)=>new Date(p.createdAt).getTime()-new Date(c.createdAt).getTime())[0];r&&(yield this.chatService.respondToCompletionRequestAsync(e._id,r._id,{status:"approved"}))}else yield this.projectService.updateProjectAsync(n._id,{status:"completed"});yield this.loadProject(n._id),yield this.checkReviewEligibility(),this.dashboardRefreshService.triggerRefresh()}catch(e){console.error("Error approving completion:",e),this.error.set("Failed to approve completion")}})}rejectCompletion(){return k(this,null,function*(){let n=this.project();if(!n)return;let e=prompt("Please provide a reason for rejecting the completion:");if(e)try{let i=this.existingChat();if(i){let c=(yield this.chatService.getChatMessagesAsync(i._id)).filter(p=>p.message_type==="completion_request"&&p.completion_status==="pending").sort((p,C)=>new Date(C.createdAt).getTime()-new Date(p.createdAt).getTime())[0];c&&(yield this.chatService.respondToCompletionRequestAsync(i._id,c._id,{status:"rejected",rejection_reason:e}))}else yield this.projectService.updateProjectAsync(n._id,{status:"in_progress"});yield this.loadProject(n._id),this.dashboardRefreshService.triggerRefresh()}catch(i){console.error("Error rejecting completion:",i),this.error.set("Failed to reject completion")}})}canApproveCompletion(){let n=this.project(),e=this.user();if(!n||!e)return!1;let i=typeof n.client_id=="string"?n.client_id:n.client_id?._id;return n.status==="awaiting_client_approval"&&i===e._id}approvePaymentRequest(n){return k(this,null,function*(){try{let e=this.existingChat(),i=this.project();if(!e||!i)return;let r=typeof i.business_id=="string"?"Business Owner":i.business_id?.name||"Business Owner";this.dialog.open(ra,{width:"500px",disableClose:!0,data:{amount:n.payment_amount?.toString()||"0",description:n.payment_description||"Additional payment",businessName:r,chatId:e._id,messageId:n._id}}).afterClosed().subscribe(p=>k(this,null,function*(){if(p&&p.paymentIntentId)try{yield this.loadPaymentRequests(e._id),console.log("Payment approved successfully with method:",p.paymentMethod),console.log("Payment completed for amount:",p.amount)}catch(C){console.error("Error approving payment request:",C),this.error.set("Failed to approve payment request")}}))}catch(e){console.error("Error opening payment modal:",e),this.error.set("Failed to open payment modal")}})}rejectPaymentRequest(n){return k(this,null,function*(){let e=prompt("Please provide a reason for rejecting this payment request:");if(e)try{let i=this.existingChat();if(!i)return;yield this.chatService.respondToPaymentRequestAsync(i._id,n._id,{status:"rejected",rejection_reason:e}),yield this.loadPaymentRequests(i._id)}catch(i){console.error("Error rejecting payment request:",i),this.error.set("Failed to reject payment request")}})}getPaymentStatusColor(n){return{pending:"bg-yellow-100 text-yellow-800 border-yellow-200",approved:"bg-green-100 text-green-800 border-green-200",payment_pending:"bg-blue-100 text-blue-800 border-blue-200",paid:"bg-green-100 text-green-800 border-green-200",rejected:"bg-red-100 text-red-800 border-red-200"}[n]||"bg-gray-100 text-gray-800 border-gray-200"}formatPaymentTime(n){let e=new Date(n),r=Math.floor((new Date().getTime()-e.getTime())/1e3);return r<60?"just now":r<3600?`${Math.floor(r/60)}m ago`:r<86400?`${Math.floor(r/3600)}h ago`:e.toLocaleDateString()}formatPrice(n){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n)}formatDate(n){if(!n)return"Not set";try{return(typeof n=="string"?new Date(n):n).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Unknown"}}getBusinessName(n){return typeof n.business_id=="object"&&n.business_id.name?n.business_id.name:"Unknown Business"}getClientName(n){if(typeof n.client_id=="object"){let e=n.client_id;return`${e.first_name} ${e.last_name}`}return"Unknown Client"}getServiceNames(n){return n.selected_services&&Array.isArray(n.selected_services)?n.selected_services.map(e=>{if(typeof e=="object"&&e!==null){if("name"in e&&e.name)return e.name;if("service_id"in e&&typeof e.service_id=="object"&&e.service_id!==null&&"name"in e.service_id)return e.service_id.name}return typeof e=="string"?"Service Details Available":"Unknown Service"}):[]}getServiceDetails(n){return n.selected_services&&Array.isArray(n.selected_services)?n.selected_services.map(e=>typeof e=="object"&&e!==null&&"_id"in e?{name:e.name||"Unnamed Service",price:e.price,pricing_type:e.pricing_type,description:e.short_description||e.description}:typeof e=="string"?{name:"Service Details Not Available",price:void 0,pricing_type:void 0,description:`Service ID: ${e} - Please contact support if this persists`}:{name:"Unknown Service Format",price:void 0,pricing_type:void 0,description:"Service data structure not recognized"}):[]}formatServicePrice(n,e){if(!n)return"Price not specified";let i=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n);if(!e)return i;switch(e.toLowerCase()){case"fixed":return`${i} (Fixed)`;case"hourly":return`${i}/hour`;case"daily":return`${i}/day`;case"weekly":return`${i}/week`;case"monthly":return`${i}/month`;case"per_project":return`${i} (Per Project)`;default:return`${i} (${e})`}}navigateToBusinessProfile(n){n&&this.router.navigate(["/business",n])}getBusinessInfo(n){return typeof n.business_id=="object"&&n.business_id?{name:n.business_id.name||"Unknown Business",logo_url:n.business_id.logo_url,slug:n.business_id.slug}:null}getClientInfo(n){return typeof n.client_id=="object"&&n.client_id?{first_name:n.client_id.first_name||"Unknown",last_name:n.client_id.last_name||"Client",email:n.client_id.email}:null}formatFileSize(n){if(n===0)return"0 Bytes";let e=1024,i=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(n)/Math.log(e));return parseFloat((n/Math.pow(e,r)).toFixed(2))+" "+i[r]}getFileIcon(n){return n.startsWith("image/")?"image":n.includes("pdf")?"picture_as_pdf":n.includes("word")||n.includes("document")?"description":n.includes("sheet")||n.includes("excel")?"table_chart":n.includes("presentation")||n.includes("powerpoint")?"slideshow":n.includes("text")?"text_snippet":"attach_file"}navigateToChat(){return k(this,null,function*(){let n=this.project();if(n)try{let e=this.existingChat();e||(e=yield this.chatService.createOrGetChatAsync({project_id:n._id}),this.existingChat.set(e)),e&&this.router.navigate(["/dashboard/messages/chat",e._id])}catch(e){console.error("Error navigating to chat:",e),this.error.set("Failed to open chat. Please try again.")}})}checkReviewEligibility(){return k(this,null,function*(){let n=this.user(),e=this.project();if(!n||!e){this.canLeaveReview.set(!1),this.existingReview.set(null);return}let i=typeof e.client_id=="string"?e.client_id:e.client_id?._id,r=n._id===i,c=e.status==="completed";if(!r||!c){this.canLeaveReview.set(!1),this.existingReview.set(null);return}try{let p=typeof e.business_id=="string"?e.business_id:e.business_id._id,S=(yield this.reviewService.getBusinessReviewsAsync(p)).find(I=>I.project_id._id===e._id&&I.user_id._id===n._id);S?(this.canLeaveReview.set(!1),this.existingReview.set(S)):(this.canLeaveReview.set(!0),this.existingReview.set(null))}catch(p){console.error("Error checking review eligibility:",p),this.canLeaveReview.set(!1),this.existingReview.set(null)}})}handleReviewAction(){this.existingReview()?this.viewExistingReview():this.canLeaveReview()&&this.openReviewDialog()}openReviewDialog(){return k(this,null,function*(){let n=this.project();if(!n)return;let e=typeof n.business_id=="string"?n.business_id:n.business_id._id,i=typeof n.business_id=="object"&&n.business_id.name?n.business_id.name:"Business";this.dialog.open(sa,{width:"600px",data:{businessId:e,projectId:n._id,businessName:i,projectTitle:n.title}}).afterClosed().subscribe(c=>k(this,null,function*(){c&&(console.log("Review submitted successfully"),yield this.checkReviewEligibility())}))})}viewExistingReview(){let n=this.existingReview();if(!n)return;let e=["Your Review for this Project","",`Overall Rating: ${n.rating}/5 \u2B50`,"","Detailed Ratings:",`\u2022 Service Quality: ${n.service_quality||"N/A"}/5`,`\u2022 Communication: ${n.communication||"N/A"}/5`,`\u2022 Timeliness: ${n.timeliness||"N/A"}/5`,`\u2022 Value for Money: ${n.value_for_money||"N/A"}/5`,"",`Comment: ${n.comment||"No comment provided"}`,"",`Submitted: ${new Date(n.createdAt).toLocaleDateString()}`].join(`
`);alert(e)}testReviewEligibility(){return k(this,null,function*(){console.log("=== Manual Review Eligibility Test ==="),yield this.checkReviewEligibility(),console.log("Current state after test:",{canLeaveReview:this.canLeaveReview(),existingReview:this.existingReview(),showReviewButton:this.showReviewButton()})})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-project-details"]],decls:23,vars:10,consts:[[1,"min-h-screen","bg-gray-50","py-8","px-4","sm:px-6","lg:px-8"],[1,"max-w-7xl","mx-auto"],[1,"flex","items-center","justify-between","mb-8"],[1,"flex","items-center","space-x-4"],["mat-icon-button","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","bg-white","shadow-sm","border","border-gray-200","hover:bg-gray-50","transition-colors",3,"click"],[1,"text-gray-600"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-gray-600","mt-1"],[1,"flex","items-center","space-x-3"],[1,"p-6","bg-gray-50","border-b","border-gray-200"],[1,"p-6","bg-orange-50","border-b","border-orange-200"],[1,"p-6","bg-yellow-50","border-b","border-yellow-200"],[1,"mb-8","bg-red-50","border-l-4","border-red-400","p-6","rounded-r-lg","shadow-sm"],[1,"flex","flex-col","items-center","justify-center","py-20"],[1,"grid","grid-cols-1","xl:grid-cols-3","gap-8"],["mat-raised-button","","disabled","",1,"px-6","py-3","text-base","font-semibold","rounded-lg"],["mat-raised-button","","color","primary",1,"px-6","py-3","text-base","font-semibold","rounded-lg","relative"],[1,"mr-2"],["mat-raised-button","","color","primary",1,"px-6","py-3","text-base","font-semibold","rounded-lg","relative",3,"click"],[1,"absolute","-top-2","-right-2","bg-red-500","text-white","text-xs","font-bold","rounded-full","h-6","w-6","flex","items-center","justify-center"],["mat-raised-button","","color","primary",1,"px-6","py-3","text-base","font-semibold","rounded-lg"],["mat-raised-button","","color","primary",1,"px-6","py-3","text-base","font-semibold","rounded-lg",3,"click"],[1,"flex","items-center","px-6","py-3","bg-blue-600","hover:bg-blue-700","text-white","text-base","font-semibold","rounded-lg","transition-colors","shadow-sm",3,"click"],[1,"mr-2","w-5","h-5"],[1,"ml-2","bg-red-500","text-white","text-xs","rounded-full","px-2","py-1","min-w-[20px]","h-5","flex","items-center","justify-center"],[1,"flex","items-center","px-6","py-3","bg-green-600","hover:bg-green-700","text-white","text-base","font-semibold","rounded-lg","transition-colors","shadow-sm",3,"click"],[1,"flex","items-center","px-6","py-3","bg-red-600","hover:bg-red-700","text-white","text-base","font-semibold","rounded-lg","transition-colors","shadow-sm",3,"click"],[1,"flex","items-center","px-6","py-3","bg-purple-600","hover:bg-purple-700","text-white","text-base","font-semibold","rounded-lg","transition-colors","shadow-sm",3,"click"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[1,"flex","flex-wrap","gap-3"],[1,"text-gray-700","mb-4"],[1,"flex","items-center","px-6","py-3","bg-yellow-600","hover:bg-yellow-700","text-white","text-base","font-semibold","rounded-lg","transition-colors","shadow-sm",3,"click"],[1,"flex","items-start"],[1,"flex-shrink-0"],[1,"text-red-400","w-6","h-6"],[1,"ml-3"],[1,"text-lg","font-medium","text-red-800"],[1,"mt-2","text-red-700"],["diameter","48"],[1,"mt-4","text-lg","text-gray-600"],[1,"xl:col-span-2","space-y-8"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-200","overflow-hidden"],[1,"px-8","py-6","border-b","border-gray-200"],[1,"flex","items-start","justify-between"],[1,"flex-1"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],[1,"flex-shrink-0","ml-4"],[1,"px-8","py-6","space-y-6"],[1,"p-6","bg-red-50","border","border-red-200","rounded-xl"],[1,"text-xl","font-semibold","text-gray-900"],[1,"px-8","py-6"],[1,"flex","items-center","space-x-6"],[1,"space-y-8"],[1,"px-6","py-5","border-b","border-gray-200"],[1,"text-lg","font-semibold","text-gray-900"],[1,"px-6","py-6","space-y-6"],[1,"text-center"],[1,"text-sm","font-medium","text-gray-500","uppercase","tracking-wide","mb-2"],[1,"text-3xl","font-bold","text-green-600"],[1,"pt-6","border-t","border-gray-200"],[1,"px-6","py-6","space-y-4"],["mat-stroked-button","",1,"w-full","h-12","text-base","font-semibold","rounded-lg","border-2","border-gray-300","text-gray-700","hover:bg-gray-50",3,"click"],[1,"text-lg","font-semibold","text-gray-900","mb-3"],[1,"text-gray-700","leading-relaxed","text-base"],[1,"rounded-lg","overflow-hidden","border","border-gray-200","max-w-md"],[1,"w-full","h-auto","object-cover",3,"src","alt"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"flex","items-center","justify-between","p-4","bg-gray-50","rounded-xl","border","border-gray-200","hover:bg-gray-100","hover:border-gray-300","transition-all","duration-200"],[1,"text-xs","text-gray-500","mt-3"],[1,"flex","items-center","space-x-3","flex-1","min-w-0"],[1,"p-3","bg-white","rounded-lg","shadow-sm","border","border-gray-200"],[1,"text-blue-600","w-6","h-6"],[1,"flex-1","min-w-0"],[1,"text-sm","font-semibold","text-gray-900","truncate"],[1,"text-xs","text-gray-500"],[1,"text-xs","text-gray-400","capitalize"],["target","_blank","rel","noopener noreferrer",1,"flex","items-center","px-4","py-2","text-sm","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors","shadow-sm","ml-3","flex-shrink-0",3,"href"],[1,"w-4","h-4","mr-1"],[1,"space-y-4"],[1,"bg-blue-50","border","border-blue-200","rounded-xl","p-5","hover:bg-blue-100","transition-colors"],[1,"flex","items-center","space-x-2","mb-2"],[1,"w-5","h-5","text-blue-600"],[1,"text-lg","font-semibold","text-blue-900"],[1,"text-sm","text-blue-700","mb-3","leading-relaxed"],[1,"inline-flex","items-center","px-3","py-1.5","bg-blue-200","text-blue-800","rounded-lg","text-sm","font-semibold"],[1,"inline-flex","items-center","px-3","py-1.5","bg-gray-200","text-gray-600","rounded-lg","text-sm"],[1,"p-4","bg-gray-50","rounded-xl","border","border-gray-200"],[1,"flex","items-center","space-x-2"],[1,"w-5","h-5","text-gray-400"],[1,"text-sm","text-gray-600"],[1,"text-lg","font-semibold","text-red-800","mb-2","flex","items-center"],[1,"w-5","h-5","mr-2","text-red-600"],[1,"text-red-700","leading-relaxed"],[1,"w-20","h-20","rounded-xl","object-cover","border","border-gray-200","shadow-sm",3,"src","alt"],[1,"w-20","h-20","rounded-xl","bg-gradient-to-br","from-blue-500","to-blue-600","flex","items-center","justify-center","border","border-gray-200","shadow-sm"],[1,"text-2xl","font-bold","text-blue-600","hover:text-blue-800","transition-colors","mb-1","text-left","cursor-pointer","underline-offset-4","hover:underline",3,"click"],[1,"mt-2","flex","items-center","space-x-2"],[1,"text-white","w-10","h-10"],[1,"w-4","h-4","text-gray-400"],[1,"text-sm","text-gray-500"],[1,"w-20","h-20","rounded-full","bg-gradient-to-br","from-indigo-400","to-indigo-600","flex","items-center","justify-center","shadow-sm"],[1,"text-2xl","font-bold","text-gray-900","mb-1"],[1,"text-sm","text-gray-500","mt-1"],[1,"text-lg","font-semibold","text-gray-900","flex","items-center"],[1,"mr-2","text-orange-600"],[1,"flex","items-center","justify-center","py-4"],[1,"text-center","py-4"],["diameter","24"],[1,"ml-2","text-sm","text-gray-600"],[1,"border","border-orange-200","rounded-lg","p-4","bg-orange-50"],[1,"flex","items-start","justify-between","mb-3"],[1,"font-semibold","text-lg","text-orange-900"],[1,"text-sm","text-orange-700","mb-2"],[1,"flex","gap-2","mt-4"],[1,"flex-1","px-4","py-2","bg-green-600","hover:bg-green-700","text-white","text-sm","font-medium","rounded-lg","transition-colors",3,"click"],[1,"flex-1","px-4","py-2","bg-red-600","hover:bg-red-700","text-white","text-sm","font-medium","rounded-lg","transition-colors",3,"click"],[1,"text-gray-400","mb-2"],[1,"mr-2","text-blue-600"],[1,"px-6","py-6"],[1,"text-center","py-8"],[1,"border","border-gray-200","rounded-lg","p-4"],[1,"font-semibold","text-lg","text-gray-900"],[1,"text-sm","text-gray-600","mb-2"],[1,"text-right"],[1,"text-green-600"],[1,"text-red-600"],[1,"text-yellow-600"],[1,"text-gray-400","mb-2",2,"font-size","48px","width","48px","height","48px"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),f("click",function(){return i.goBack()}),o(5,"mat-icon",5),s(6,"arrow_back"),a()(),o(7,"div")(8,"h1",6),s(9,"Project Details"),a(),o(10,"p",7),s(11,"View complete project information"),a()()(),o(12,"div",8),_(13,qr,3,1)(14,Wr,13,1)(15,Qr,9,1)(16,Zr,9,1),a(),_(17,es,10,2,"div",9)(18,is,19,1,"div",10)(19,os,10,3,"div",11),a(),_(20,rs,10,1,"div",12)(21,ss,4,0,"div",13)(22,Js,61,22,"div",14),a()()),e&2&&(l(13),m(i.project()&&(i.project().status==="accepted"||i.project().status==="in_progress"||i.project().status==="completed")?13:-1),l(),m(i.project()&&i.isBusinessOwner()&&i.project().status==="pending"?14:-1),l(),m(i.project()&&i.isBusinessOwner()&&i.project().status==="accepted"?15:-1),l(),m(i.project()&&i.isBusinessOwner()&&i.project().status==="in_progress"?16:-1),l(),m(i.project()&&i.isClient()&&yt(9,jr).includes(i.project().status)?17:-1),l(),m(i.project()&&i.canApproveCompletion()?18:-1),l(),m(i.project()&&i.isClient()&&i.showReviewButton()?19:-1),l(),m(i.error()?20:-1),l(),m(i.loading()?21:i.project()?22:-1))},dependencies:[K,Qe,At,le,se,Ht,fe,he,ut,pt,ke],styles:[".mat-mdc-raised-button.mat-primary{border-radius:.5rem!important}  .mat-mdc-outlined-button{border-radius:.5rem!important}  .mat-icon{width:auto!important;height:auto!important;font-size:inherit!important}  .mat-mdc-progress-spinner circle{stroke:#3b82f6}"]})};var oi=class t{notificationService=u(Rn);ngOnInit(){console.log("Test Notifications Component loaded")}createTestProjectNotification(){let n={_id:"test-project-"+Date.now(),recipient_id:"current-user",title:"Test Project Created",message:"A new project has been created for your business.",type:"project_created",priority:"high",is_read:!1,is_seen:!1,project_id:{_id:"test-project-id",title:"Test Project",description:"This is a test project",status:"pending"},business_id:{_id:"test-business-id",name:"Test Business",logo_url:""},createdAt:new Date,updatedAt:new Date};this.notificationService.handleNewNotification(n),console.log("Test project notification created")}createTestMessageNotification(){let n={_id:"test-message-"+Date.now(),recipient_id:"current-user",title:"New Message",message:"You have received a new message.",type:"message_received",priority:"medium",is_read:!1,is_seen:!1,metadata:{chatId:"test-chat-id"},createdAt:new Date,updatedAt:new Date};this.notificationService.handleNewNotification(n),console.log("Test message notification created")}createTestSystemNotification(){let n={_id:"test-system-"+Date.now(),recipient_id:"current-user",title:"System Update",message:"The system has been updated with new features.",type:"system_announcement",priority:"low",is_read:!1,is_seen:!1,createdAt:new Date,updatedAt:new Date};this.notificationService.handleNewNotification(n),console.log("Test system notification created")}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-test-notifications"]],decls:10,vars:0,consts:[[1,"p-6"],[1,"text-xl","font-bold","mb-4"],[1,"space-y-2"],[1,"px-4","py-2","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","mr-2",3,"click"],[1,"px-4","py-2","bg-green-600","text-white","rounded-lg","hover:bg-green-700","mr-2",3,"click"],[1,"px-4","py-2","bg-purple-600","text-white","rounded-lg","hover:bg-purple-700",3,"click"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"h2",1),s(2,"Test Notifications"),a(),o(3,"div",2)(4,"button",3),f("click",function(){return i.createTestProjectNotification()}),s(5," Create Test Project Notification "),a(),o(6,"button",4),f("click",function(){return i.createTestMessageNotification()}),s(7," Create Test Message Notification "),a(),o(8,"button",5),f("click",function(){return i.createTestSystemNotification()}),s(9," Create Test System Notification "),a()()())},dependencies:[K],encapsulation:2})};function el(t,n){if(t&1){let e=w();o(0,"div",1)(1,"button",2),f("click",function(){g(e);let r=d();return b(r.action())}),s(2),a()()}if(t&2){let e=d();l(2),v(" ",e.data.action," ")}}var tl=["label"];function il(t,n){}var nl=Math.pow(2,31)-1,Dt=class{_overlayRef;instance;containerInstance;_afterDismissed=new ie;_afterOpened=new ie;_onAction=new ie;_durationTimeoutId;_dismissedByAction=!1;constructor(n,e){this._overlayRef=e,this.containerInstance=n,n._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(n){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(n,nl))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},ba=new X("MatSnackBarData"),bt=class{politeness="assertive";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},al=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=T({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return t})(),ol=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=T({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return t})(),rl=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275dir=T({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return t})(),va=(()=>{class t{snackBarRef=u(Dt);data=u(ba);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=D({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,r){i&1&&(o(0,"div",0),s(1),a(),_(2,el,3,1,"div",1)),i&2&&(l(),v(" ",r.data.message,`
`),l(),m(r.hasAction?2:-1))},dependencies:[se,al,ol,rl],styles:[`.mat-mdc-simple-snack-bar{display:flex}
`],encapsulation:2,changeDetection:0})}return t})(),Bi="_mat-snack-bar-enter",Oi="_mat-snack-bar-exit",sl=(()=>{class t extends Cn{_ngZone=u(Pe);_elementRef=u(q);_changeDetectorRef=u(we);_platform=u(Le);_rendersRef;_animationsDisabled=u(Re,{optional:!0})==="NoopAnimations";snackBarConfig=u(bt);_document=u(Ft);_trackedModals=new Set;_enterFallback;_exitFallback;_renders=new ie;_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new ie;_onExit=new ie;_onEnter=new ie;_animationState="void";_live;_label;_role;_liveElementId=u(Ze).getId("mat-snack-bar-container-live-");constructor(){super();let e=this.snackBarConfig;e.politeness==="assertive"&&!e.announcementMessage?this._live="assertive":e.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert")),this._rendersRef=ln(()=>this._renders.next(),{manualCleanup:!0})}attachComponentPortal(e){this._assertNotAttached();let i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();let i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}attachDomPortal=e=>{this._assertNotAttached();let i=this._portalOutlet.attachDomPortal(e);return this._afterPortalAttached(),i};onAnimationEnd(e){e===Oi?this._completeExit():e===Bi&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?this._renders.pipe(yi(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(Bi)))}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(Bi)},200)))}exit(){return this._destroyed?Ae(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?this._renders.pipe(yi(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(Oi)))}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(Oi),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit(),this._renders.complete(),this._rendersRef.destroy()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(p=>e.classList.add(p)):e.classList.add(i)),this._exposeToModals();let r=this._label.nativeElement,c="mdc-snackbar__label";r.classList.toggle(c,!r.querySelector(`.${c}`))}_exposeToModals(){let e=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){let c=i[r],p=c.getAttribute("aria-owns");this._trackedModals.add(c),p?p.indexOf(e)===-1&&c.setAttribute("aria-owns",p+" "+e):c.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let i=e.getAttribute("aria-owns");if(i){let r=i.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let e=this._elementRef.nativeElement,i=e.querySelector("[aria-hidden]"),r=e.querySelector("[aria-live]");if(i&&r){let c=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&i.contains(document.activeElement)&&(c=document.activeElement),i.removeAttribute("aria-hidden"),r.appendChild(i),c?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=D({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(i&1&&(U(Ke,7),U(tl,7)),i&2){let c;M(c=j())&&(r._portalOutlet=c.first),M(c=j())&&(r._label=c.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(i,r){i&1&&f("animationend",function(p){return r.onAnimationEnd(p.animationName)})("animationcancel",function(p){return r.onAnimationEnd(p.animationName)}),i&2&&N("mat-snack-bar-container-enter",r._animationState==="visible")("mat-snack-bar-container-exit",r._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!r._animationsDisabled)},features:[L],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){i&1&&(o(0,"div",1)(1,"div",2,0)(3,"div",3),_(4,il,0,0,"ng-template",4),a(),x(5,"div"),a()()),i&2&&(l(5),ne("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[Ke],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return t})();function ll(){return new bt}var cl=new X("mat-snack-bar-default-options",{providedIn:"root",factory:ll}),ze=(()=>{class t{_overlay=u(Dn);_live=u(bn);_injector=u(Te);_breakpointObserver=u(fn);_parentSnackBar=u(t,{optional:!0,skipSelf:!0});_defaultConfig=u(cl);_snackBarRefAtThisLevel=null;simpleSnackBarComponent=va;snackBarContainerComponent=sl;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(){}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){let c=$e($e({},this._defaultConfig),r);return c.data={message:e,action:i},c.announcementMessage===e&&(c.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,c)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){let r=i&&i.viewContainerRef&&i.viewContainerRef.injector,c=Te.create({parent:r||this._injector,providers:[{provide:bt,useValue:i}]}),p=new Pi(this.snackBarContainerComponent,i.viewContainerRef,c),C=e.attach(p);return C.instance.snackBarConfig=i,C.instance}_attach(e,i){let r=$e($e($e({},new bt),this._defaultConfig),i),c=this._createOverlay(r),p=this._attachSnackBarContainer(c,r),C=new Dt(p,c);if(e instanceof J){let S=new $t(e,null,{$implicit:r.data,snackBarRef:C});C.instance=p.attachTemplatePortal(S)}else{let S=this._createInjector(r,C),I=new Pi(e,void 0,S),V=p.attachComponentPortal(I);C.instance=V.instance}return this._breakpointObserver.observe($n.HandsetPortrait).pipe(ge(c.detachments())).subscribe(S=>{c.overlayElement.classList.toggle(this.handsetCssClass,S.matches)}),r.announcementMessage&&p._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(C,r),this._openedSnackBarRef=C,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter()}_createOverlay(e){let i=new Tn;i.direction=e.direction;let r=this._overlay.position().global(),c=e.direction==="rtl",p=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!c||e.horizontalPosition==="end"&&c,C=!p&&e.horizontalPosition!=="center";return p?r.left("0"):C?r.right("0"):r.centerHorizontally(),e.verticalPosition==="top"?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){let r=e&&e.viewContainerRef&&e.viewContainerRef.injector;return Te.create({parent:r||this._injector,providers:[{provide:Dt,useValue:i},{provide:ba,useValue:e.data}]})}static \u0275fac=function(i){return new(i||t)};static \u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var vt=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ce({type:t});static \u0275inj=xe({providers:[ze],imports:[Pn,wn,le,_e,va,_e]})}return t})();var xa=(t,n)=>n.code,dl=(t,n)=>n.name;function ml(t,n){t&1&&(o(0,"mat-error"),s(1,"First name is required"),a())}function pl(t,n){t&1&&(o(0,"mat-error"),s(1,"Last name is required"),a())}function ul(t,n){t&1&&(o(0,"mat-error"),s(1,"Email is required"),a())}function _l(t,n){t&1&&(o(0,"mat-error"),s(1,"Please enter a valid email"),a())}function hl(t,n){t&1&&(o(0,"mat-error"),s(1,"Phone number is required"),a())}function fl(t,n){if(t&1&&(o(0,"mat-error"),s(1),a()),t&2){let e=d();l(),h(e.phone==null||e.phone.errors==null||e.phone.errors.usaPhone==null?null:e.phone.errors.usaPhone.message)}}function gl(t,n){if(t&1&&(o(0,"mat-option",20),s(1),a()),t&2){let e=n.$implicit;y("value",e.code),l(),h(e.name)}}function bl(t,n){t&1&&(o(0,"mat-error"),s(1,"State is required"),a())}function vl(t,n){t&1&&(o(0,"mat-option",22),s(1,"Please select a state first"),a())}function xl(t,n){if(t&1&&(o(0,"mat-option",20),s(1),a()),t&2){let e=n.$implicit;y("value",e.name),l(),h(e.name)}}function Cl(t,n){t&1&&(o(0,"mat-error"),s(1,"City is required"),a())}function yl(t,n){if(t&1&&(o(0,"mat-option",20),s(1),a()),t&2){let e=n.$implicit;y("value",e.code),l(),h(e.name)}}function wl(t,n){t&1&&(o(0,"mat-error"),s(1,"Country of origin is required"),a())}function Sl(t,n){t&1&&(o(0,"mat-icon",28),s(1,"refresh"),a())}function kl(t,n){t&1&&(o(0,"mat-error"),s(1,"Current password is required"),a())}function El(t,n){t&1&&(o(0,"mat-error"),s(1,"New password is required"),a())}function Tl(t,n){t&1&&(o(0,"mat-error"),s(1,"Password must be at least 6 characters"),a())}function Dl(t,n){t&1&&(o(0,"mat-error"),s(1,"Please confirm your password"),a())}function Pl(t,n){t&1&&(o(0,"mat-error"),s(1,"Passwords do not match"),a())}function Rl(t,n){t&1&&(o(0,"mat-icon",28),s(1,"refresh"),a())}var ri=class t{authService=u(Se);fb=u(it);snackBar=u(ze);citiesService=u(Nn);user=this.authService.user;isLoading=E(!1);countries=Bn;usStates=Hn;availableCities=E([]);profileForm;passwordForm;constructor(){let n=this.user();this.profileForm=this.fb.group({first_name:[n?.first_name||"",[pe.required]],last_name:[n?.last_name||"",[pe.required]],email:[n?.email||"",[pe.required,pe.email]],phone:[n?.phone||"",[pe.required,Vn.usaPhone()]],bio:[n?.bio||""],city:[n?.city||"",[pe.required]],state:[n?.state||"",[pe.required]],country:[{value:n?.country||"USA",disabled:!0}],country_of_origin:[n?.country_of_origin||"",[pe.required]]}),n?.state&&(this.onStateSelected(n.state,!0),n?.city&&setTimeout(()=>{this.citiesService.getCitiesByState(n.state).some(r=>r.name===n.city)?this.profileForm.patchValue({city:n.city}):(console.warn(`City "${n.city}" not found in state "${n.state}"`),this.profileForm.patchValue({city:""}))},0)),this.passwordForm=this.fb.group({currentPassword:["",[pe.required]],newPassword:["",[pe.required,pe.minLength(6)]],confirmPassword:["",[pe.required]]},{validators:this.passwordMatchValidator})}onStateSelected(n,e=!1){if(n){let i=this.citiesService.getCitiesByState(n);this.availableCities.set(i),e||this.profileForm.patchValue({city:""})}else this.availableCities.set([])}displayCity(n){return n?n.name:""}passwordMatchValidator(n){let e=n.get("newPassword"),i=n.get("confirmPassword");return e&&i&&e.value!==i.value?i.setErrors({mismatch:!0}):i?.setErrors(null),null}updateProfile(){return k(this,null,function*(){if(this.profileForm.invalid){this.snackBar.open("Please fill in all required fields correctly","Close",{duration:3e3,panelClass:["error-snackbar"]});return}this.isLoading.set(!0);try{let n=this.profileForm.value,e=yield this.authService.updateProfile(n);if(e.error)throw e.error;this.snackBar.open("Profile updated successfully!","Close",{duration:3e3,panelClass:["success-snackbar"]})}catch(n){this.snackBar.open(n?.message||"Failed to update profile. Please try again.","Close",{duration:3e3,panelClass:["error-snackbar"]})}finally{this.isLoading.set(!1)}})}updatePassword(){return k(this,null,function*(){if(this.passwordForm.invalid){this.snackBar.open("Please fill in all fields correctly","Close",{duration:3e3,panelClass:["error-snackbar"]});return}this.isLoading.set(!0);try{let{currentPassword:n,newPassword:e}=this.passwordForm.value;this.passwordForm.reset(),this.snackBar.open("Password updated successfully!","Close",{duration:3e3,panelClass:["success-snackbar"]})}catch{this.snackBar.open("Failed to update password. Please try again.","Close",{duration:3e3,panelClass:["error-snackbar"]})}finally{this.isLoading.set(!1)}})}getUserInitials(){let n=this.user();if(!n)return"";if(n.first_name||n.last_name){let e=n.first_name?.charAt(0).toUpperCase()||"",i=n.last_name?.charAt(0).toUpperCase()||"";return e+i}return n.email.charAt(0).toUpperCase()}get phone(){return this.profileForm.get("phone")}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-profile"]],decls:135,vars:25,consts:[[1,"max-w-4xl","mx-auto","p-6"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"profile-tabs"],["label","Profile Information"],[1,"tab-content"],[1,"profile-card"],[1,"flex","items-center","space-x-4","mb-6"],[1,"w-16","h-16","bg-blue-600","text-white","rounded-full","flex","items-center","justify-center","text-xl","font-bold"],[1,"text-xl","font-semibold"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["appearance","outline",1,"w-full"],["matInput","","formControlName","first_name","placeholder","Enter your first name"],["matSuffix",""],["matInput","","formControlName","last_name","placeholder","Enter your last name"],["matInput","","formControlName","email","type","email","placeholder","Enter your email"],["matInput","","formControlName","phone","placeholder","(555) 123-4567","type","tel","appPhoneFormat",""],["formControlName","state",3,"selectionChange"],[3,"value"],["formControlName","city",3,"disabled"],["disabled",""],["matInput","","formControlName","country","readonly",""],["formControlName","country_of_origin"],["matInput","","formControlName","bio","rows","4","placeholder","Tell us about yourself"],[1,"flex","justify-end","pt-4"],["mat-raised-button","","color","primary","type","submit",1,"px-8",3,"disabled"],[1,"animate-spin","mr-2"],["label","Change Password"],[1,"password-card"],["matInput","","formControlName","currentPassword","type","password","placeholder","Enter current password"],["matInput","","formControlName","newPassword","type","password","placeholder","Enter new password"],["matInput","","formControlName","confirmPassword","type","password","placeholder","Confirm new password"]],template:function(e,i){if(e&1&&(o(0,"div",0)(1,"div",1)(2,"h1",2),s(3,"Profile Settings"),a(),o(4,"p",3),s(5,"Manage your account information and settings"),a()(),o(6,"mat-tab-group",4)(7,"mat-tab",5)(8,"div",6)(9,"mat-card",7)(10,"mat-card-header")(11,"div",8)(12,"div",9),s(13),a(),o(14,"div")(15,"h2",10),s(16),a(),o(17,"p",3),s(18),a()()()(),o(19,"mat-card-content")(20,"form",11),f("ngSubmit",function(){return i.updateProfile()}),o(21,"div",12)(22,"mat-form-field",13)(23,"mat-label"),s(24,"First Name *"),a(),x(25,"input",14),o(26,"mat-icon",15),s(27,"person"),a(),_(28,ml,2,0,"mat-error"),a(),o(29,"mat-form-field",13)(30,"mat-label"),s(31,"Last Name *"),a(),x(32,"input",16),o(33,"mat-icon",15),s(34,"person"),a(),_(35,pl,2,0,"mat-error"),a(),o(36,"mat-form-field",13)(37,"mat-label"),s(38,"Email"),a(),x(39,"input",17),o(40,"mat-icon",15),s(41,"email"),a(),_(42,ul,2,0,"mat-error")(43,_l,2,0,"mat-error"),a(),o(44,"mat-form-field",13)(45,"mat-label"),s(46,"Phone *"),a(),x(47,"input",18),o(48,"mat-icon",15),s(49,"phone"),a(),_(50,hl,2,0,"mat-error")(51,fl,2,1,"mat-error"),a(),o(52,"mat-form-field",13)(53,"mat-label"),s(54,"State *"),a(),o(55,"mat-select",19),f("selectionChange",function(c){return i.onStateSelected(c.value)}),F(56,gl,2,2,"mat-option",20,xa),a(),o(58,"mat-icon",15),s(59,"map"),a(),_(60,bl,2,0,"mat-error"),a(),o(61,"mat-form-field",13)(62,"mat-label"),s(63,"City *"),a(),o(64,"mat-select",21),_(65,vl,2,0,"mat-option",22),F(66,xl,2,2,"mat-option",20,dl),a(),o(68,"mat-icon",15),s(69,"location_city"),a(),_(70,Cl,2,0,"mat-error"),a(),o(71,"mat-form-field",13)(72,"mat-label"),s(73,"Country"),a(),x(74,"input",23),o(75,"mat-icon",15),s(76,"flag"),a(),o(77,"mat-hint"),s(78,"Country is set to USA by default"),a()(),o(79,"mat-form-field",13)(80,"mat-label"),s(81,"Country of Origin"),a(),o(82,"mat-select",24),F(83,yl,2,2,"mat-option",20,xa),a(),o(85,"mat-icon",15),s(86,"home"),a(),_(87,wl,2,0,"mat-error"),a()(),o(88,"mat-form-field",13)(89,"mat-label"),s(90,"Bio"),a(),x(91,"textarea",25),o(92,"mat-icon",15),s(93,"description"),a()(),o(94,"div",26)(95,"button",27),_(96,Sl,2,0,"mat-icon",28),s(97," Update Profile "),a()()()()()()(),o(98,"mat-tab",29)(99,"div",6)(100,"mat-card",30)(101,"mat-card-header")(102,"mat-card-title"),s(103,"Change Password"),a(),o(104,"mat-card-subtitle"),s(105,"Update your account password"),a()(),o(106,"mat-card-content")(107,"form",11),f("ngSubmit",function(){return i.updatePassword()}),o(108,"mat-form-field",13)(109,"mat-label"),s(110,"Current Password"),a(),x(111,"input",31),o(112,"mat-icon",15),s(113,"lock"),a(),_(114,kl,2,0,"mat-error"),a(),o(115,"mat-form-field",13)(116,"mat-label"),s(117,"New Password"),a(),x(118,"input",32),o(119,"mat-icon",15),s(120,"lock_outline"),a(),_(121,El,2,0,"mat-error")(122,Tl,2,0,"mat-error"),a(),o(123,"mat-form-field",13)(124,"mat-label"),s(125,"Confirm New Password"),a(),x(126,"input",33),o(127,"mat-icon",15),s(128,"lock_outline"),a(),_(129,Dl,2,0,"mat-error")(130,Pl,2,0,"mat-error"),a(),o(131,"div",26)(132,"button",27),_(133,Rl,2,0,"mat-icon",28),s(134," Update Password "),a()()()()()()()()()),e&2){let r,c,p,C,S,I,V,ee,te,ce,je,Ie,G,$;l(13),v(" ",i.getUserInitials()," "),l(3),h((((r=i.user())==null?null:r.first_name)+" "+(((r=i.user())==null?null:r.last_name)||"")).trim()||((r=i.user())==null?null:r.email)),l(2),h((c=i.user())==null?null:c.email),l(2),y("formGroup",i.profileForm),l(8),m((p=i.profileForm.get("first_name"))!=null&&p.hasError("required")&&((p=i.profileForm.get("first_name"))!=null&&p.touched)?28:-1),l(7),m((C=i.profileForm.get("last_name"))!=null&&C.hasError("required")&&((C=i.profileForm.get("last_name"))!=null&&C.touched)?35:-1),l(7),m((S=i.profileForm.get("email"))!=null&&S.hasError("required")&&((S=i.profileForm.get("email"))!=null&&S.touched)?42:-1),l(),m((I=i.profileForm.get("email"))!=null&&I.hasError("email")&&((I=i.profileForm.get("email"))!=null&&I.touched)?43:-1),l(7),m(i.phone!=null&&i.phone.hasError("required")&&(i.phone!=null&&i.phone.touched)?50:-1),l(),m(i.phone!=null&&i.phone.hasError("usaPhone")&&(i.phone!=null&&i.phone.touched)?51:-1),l(5),A(i.usStates),l(4),m((V=i.profileForm.get("state"))!=null&&V.hasError("required")&&((V=i.profileForm.get("state"))!=null&&V.touched)?60:-1),l(4),y("disabled",i.availableCities().length===0),l(),m(i.availableCities().length===0?65:-1),l(),A(i.availableCities()),l(4),m((ee=i.profileForm.get("city"))!=null&&ee.hasError("required")&&((ee=i.profileForm.get("city"))!=null&&ee.touched)?70:-1),l(13),A(i.countries),l(4),m((te=i.profileForm.get("country_of_origin"))!=null&&te.hasError("required")&&((te=i.profileForm.get("country_of_origin"))!=null&&te.touched)?87:-1),l(8),y("disabled",i.isLoading()||i.profileForm.invalid),l(),m(i.isLoading()?96:-1),l(11),y("formGroup",i.passwordForm),l(7),m((ce=i.passwordForm.get("currentPassword"))!=null&&ce.hasError("required")&&((ce=i.passwordForm.get("currentPassword"))!=null&&ce.touched)?114:-1),l(7),m((je=i.passwordForm.get("newPassword"))!=null&&je.hasError("required")&&((je=i.passwordForm.get("newPassword"))!=null&&je.touched)?121:-1),l(),m((Ie=i.passwordForm.get("newPassword"))!=null&&Ie.hasError("minlength")&&((Ie=i.passwordForm.get("newPassword"))!=null&&Ie.touched)?122:-1),l(7),m((G=i.passwordForm.get("confirmPassword"))!=null&&G.hasError("required")&&((G=i.passwordForm.get("confirmPassword"))!=null&&G.touched)?129:-1),l(),m(($=i.passwordForm.get("confirmPassword"))!=null&&$.hasError("mismatch")&&(($=i.passwordForm.get("confirmPassword"))!=null&&$.touched)?130:-1),l(2),y("disabled",i.isLoading()||i.passwordForm.invalid),l(),m(i.isLoading()?133:-1)}},dependencies:[K,nt,Gt,Wt,Xe,Je,et,tt,ke,ht,Kt,Jt,Xt,Zt,lt,st,ot,Qt,Fn,rt,mt,An,le,se,fe,he,vt,gt,Ve,ft,dt,ct,at,zn],styles:[".profile-tabs[_ngcontent-%COMP%]{margin-top:2rem}.profile-tabs[_ngcontent-%COMP%]   .tab-content[_ngcontent-%COMP%]{padding:2rem 0}.profile-tabs[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%], .profile-tabs[_ngcontent-%COMP%]   .password-card[_ngcontent-%COMP%]{box-shadow:0 4px 6px -1px #0000001a;border-radius:12px;border:1px solid #e5e7eb}.profile-tabs[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.profile-tabs[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-bottom:1rem}.profile-tabs[_ngcontent-%COMP%]   .animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}  .mat-mdc-tab-group .mat-mdc-tab-header{border-bottom:1px solid #e5e7eb}  .mat-mdc-tab-group .mat-mdc-tab{font-weight:500}  .mat-mdc-card .mat-mdc-card-header .mat-mdc-card-title{font-size:1.5rem;font-weight:600;color:#111827}  .mat-mdc-card .mat-mdc-card-header .mat-mdc-card-subtitle{color:#6b7280}  .mat-mdc-form-field .mat-mdc-form-field-flex{border-radius:8px}  .mat-mdc-raised-button.mat-primary{background-color:#2563eb}  .mat-mdc-raised-button.mat-primary:hover:not([disabled]){background-color:#1d4ed8}  .error-snackbar{background-color:#dc2626!important;color:#fff!important}  .success-snackbar{background-color:#059669!important;color:#fff!important}"]})};var Ml=["switch"],jl=["*"];function Il(t,n){t&1&&(o(0,"span",10),O(),o(1,"svg",12),x(2,"path",13),a(),o(3,"svg",14),x(4,"path",15),a()())}var Fl=new X("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),Al={provide:Mn,useExisting:on(()=>li),multi:!0},si=class{source;checked;constructor(n,e){this.source=n,this.checked=e}},li=(()=>{class t{_elementRef=u(q);_focusMonitor=u(Di);_changeDetectorRef=u(we);defaults=u(Fl);_onChange=e=>{};_onTouched=()=>{};_validatorOnChange=()=>{};_uniqueId;_checked=!1;_createChangeEvent(e){return new si(this,e)}_labelId;get buttonId(){return`${this.id||this._uniqueId}-button`}_switchElement;focus(){this._switchElement.nativeElement.focus()}_noopAnimations;_focused;name=null;id;labelPosition="after";ariaLabel=null;ariaLabelledby=null;ariaDescribedby;required;color;disabled=!1;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(e){this._checked=e,this._changeDetectorRef.markForCheck()}hideIcon;disabledInteractive;change=new Z;toggleChange=new Z;get inputId(){return`${this.id||this._uniqueId}-input`}constructor(){u(Vt).load(zt);let e=u(new Ct("tabindex"),{optional:!0}),i=this.defaults,r=u(Re,{optional:!0});this.tabIndex=e==null?0:parseInt(e)||0,this.color=i.color||"accent",this._noopAnimations=r==="NoopAnimations",this.id=this._uniqueId=u(Ze).getId("mat-mdc-slide-toggle-"),this.hideIcon=i.hideIcon??!1,this.disabledInteractive=i.disabledInteractive??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e==="keyboard"||e==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(e){e.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorOnChange=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new si(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=D({type:t,selectors:[["mat-slide-toggle"]],viewQuery:function(i,r){if(i&1&&U(Ml,5),i&2){let c;M(c=j())&&(r._switchElement=c.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(i,r){i&2&&(cn("id",r.id),ne("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),P(r.color?"mat-"+r.color:""),N("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",B],color:"color",disabled:[2,"disabled","disabled",B],disableRipple:[2,"disableRipple","disableRipple",B],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Ge(e)],checked:[2,"checked","checked",B],hideIcon:[2,"hideIcon","hideIcon",B],disabledInteractive:[2,"disabledInteractive","disabledInteractive",B]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[H([Al,{provide:jn,useExisting:t,multi:!0}]),De],ngContentSelectors:jl,decls:13,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,r){if(i&1){let c=w();ye(),o(0,"div",1)(1,"button",2,0),f("click",function(){return g(c),b(r._handleClick())}),x(3,"span",3),o(4,"span",4)(5,"span",5)(6,"span",6),x(7,"span",7),a(),o(8,"span",8),x(9,"span",9),a(),_(10,Il,5,0,"span",10),a()()(),o(11,"label",11),f("click",function(C){return g(c),b(C.stopPropagation())}),oe(12),a()()}if(i&2){let c=Oe(2);y("labelPosition",r.labelPosition),l(),N("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled)("mat-mdc-slide-toggle-disabled-interactive",r.disabledInteractive),y("tabIndex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex)("disabled",r.disabled&&!r.disabledInteractive),ne("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked)("aria-disabled",r.disabled&&r.disabledInteractive?"true":null),l(8),y("matRippleTrigger",c)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),l(),m(r.hideIcon?-1:10),l(),y("for",r.buttonId),ne("id",r._labelId)}},dependencies:[St,On],styles:[`.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width, 52px)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height, 32px);border-radius:var(--mdc-switch-track-shape, var(--mat-sys-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity, 0.12)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width, 2px);border-color:var(--mat-switch-track-outline-color, var(--mat-sys-outline))}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width, 2px);border-color:var(--mat-switch-selected-track-outline-color, transparent)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width, 2px);border-color:var(--mat-switch-disabled-unselected-track-outline-color, var(--mat-sys-on-surface))}@media(forced-colors: active){.mdc-switch__track{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color, var(--mat-sys-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity, 0);transition:var(--mat-switch-hidden-track-transition, opacity 75ms)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity, 1);transition:var(--mat-switch-visible-track-transition, opacity 75ms)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, var(--mat-sys-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, var(--mat-sys-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, var(--mat-sys-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, var(--mat-sys-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color, var(--mat-sys-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity, 1);transition:var(--mat-switch-visible-track-transition, opacity 75ms)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity, 0);transition:var(--mat-switch-hidden-track-transition, opacity 75ms)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, var(--mat-sys-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, var(--mat-sys-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, var(--mat-sys-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, var(--mat-sys-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape, var(--mat-sys-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size, 16px);height:var(--mat-switch-unselected-handle-size, 16px);margin:var(--mat-switch-unselected-handle-horizontal-margin, 0 8px)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin, 0 4px)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size, 24px);height:var(--mat-switch-selected-handle-size, 24px);margin:var(--mat-switch-selected-handle-horizontal-margin, 0 24px)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin, 0 24px)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size, 24px);height:var(--mat-switch-with-icon-handle-size, 24px)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size, 28px);height:var(--mat-switch-pressed-handle-size, 28px)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin, 0 22px)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin, 0 2px)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity, 1)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity, 0.38)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media(forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mat-sys-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, var(--mat-sys-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, var(--mat-sys-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, var(--mat-sys-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, var(--mat-sys-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, var(--mat-sys-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, var(--mat-sys-on-surface))}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size, 40px);height:var(--mdc-switch-state-layer-size, 40px)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color, var(--mat-sys-primary));opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1;transform:translateZ(0)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity, 0.38)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity, 0.38)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size, 16px);height:var(--mdc-switch-unselected-icon-size, 16px);fill:var(--mdc-switch-unselected-icon-color, var(--mat-sys-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mat-sys-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size, 16px);height:var(--mdc-switch-selected-icon-size, 16px);fill:var(--mdc-switch-selected-icon-color, var(--mat-sys-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mat-sys-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-switch-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-switch-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-switch-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-switch-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-switch-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}
`],encapsulation:2,changeDetection:0})}return t})();var Sa=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ce({type:t});static \u0275inj=xe({imports:[li,_e,_e]})}return t})();function Ol(t,n){t&1&&(o(0,"mat-icon",39),s(1,"refresh"),a())}var ci=class t{authService=u(Se);fb=u(it);snackBar=u(ze);user=this.authService.user;isLoading=E(!1);settingsForm;constructor(){let n=this.user();this.settingsForm=this.fb.group({emailNotifications:[!0],pushNotifications:[!0],marketingEmails:[!1],projectUpdates:[!0],messageNotifications:[!0],language:["en"],timezone:["UTC"],theme:["light"]})}saveSettings(){return k(this,null,function*(){this.isLoading.set(!0);try{let n=this.settingsForm.value;this.snackBar.open("Settings saved successfully!","Close",{duration:3e3,panelClass:["success-snackbar"]})}catch{this.snackBar.open("Failed to save settings. Please try again.","Close",{duration:3e3,panelClass:["error-snackbar"]})}finally{this.isLoading.set(!1)}})}resetSettings(){return k(this,null,function*(){this.settingsForm.patchValue({emailNotifications:!0,pushNotifications:!0,marketingEmails:!1,projectUpdates:!0,messageNotifications:!0,language:"en",timezone:"UTC",theme:"light"}),this.snackBar.open("Settings reset to default values","Close",{duration:3e3})})}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-settings"]],decls:114,vars:4,consts:[[1,"max-w-4xl","mx-auto","p-6"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"settings-card"],[1,"mr-2"],[1,"space-y-4"],[1,"flex","items-center","justify-between"],[1,"font-medium","text-gray-900"],[1,"text-sm","text-gray-600"],["formControlName","emailNotifications","color","primary"],["formControlName","pushNotifications","color","primary"],["formControlName","marketingEmails","color","primary"],["formControlName","projectUpdates","color","primary"],["formControlName","messageNotifications","color","primary"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["appearance","outline"],["formControlName","language"],["value","en"],["value","es"],["value","fr"],["value","de"],["matSuffix",""],["formControlName","timezone"],["value","UTC"],["value","America/New_York"],["value","America/Chicago"],["value","America/Denver"],["value","America/Los_Angeles"],["value","Europe/London"],["value","Europe/Paris"],["formControlName","theme"],["value","light"],["value","dark"],["value","auto"],[1,"flex","justify-between","pt-6"],["mat-stroked-button","","type","button",1,"px-6",3,"click","disabled"],["mat-raised-button","","color","primary","type","submit",1,"px-8",3,"disabled"],[1,"animate-spin","mr-2"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1)(2,"h1",2),s(3,"Settings"),a(),o(4,"p",3),s(5,"Manage your account preferences and notification settings"),a()(),o(6,"form",4),f("ngSubmit",function(){return i.saveSettings()}),o(7,"mat-card",5)(8,"mat-card-header")(9,"mat-card-title")(10,"mat-icon",6),s(11,"notifications"),a(),s(12," Notifications "),a(),o(13,"mat-card-subtitle"),s(14,"Choose how you want to be notified about activity"),a()(),o(15,"mat-card-content")(16,"div",7)(17,"div",8)(18,"div")(19,"h3",9),s(20,"Email Notifications"),a(),o(21,"p",10),s(22,"Receive notifications via email"),a()(),x(23,"mat-slide-toggle",11),a(),o(24,"div",8)(25,"div")(26,"h3",9),s(27,"Push Notifications"),a(),o(28,"p",10),s(29,"Receive push notifications in your browser"),a()(),x(30,"mat-slide-toggle",12),a(),o(31,"div",8)(32,"div")(33,"h3",9),s(34,"Marketing Emails"),a(),o(35,"p",10),s(36,"Receive promotional and marketing emails"),a()(),x(37,"mat-slide-toggle",13),a(),o(38,"div",8)(39,"div")(40,"h3",9),s(41,"Project Updates"),a(),o(42,"p",10),s(43,"Get notified about project status changes"),a()(),x(44,"mat-slide-toggle",14),a(),o(45,"div",8)(46,"div")(47,"h3",9),s(48,"Message Notifications"),a(),o(49,"p",10),s(50,"Get notified when you receive new messages"),a()(),x(51,"mat-slide-toggle",15),a()()()(),o(52,"mat-card",5)(53,"mat-card-header")(54,"mat-card-title")(55,"mat-icon",6),s(56,"tune"),a(),s(57," Preferences "),a(),o(58,"mat-card-subtitle"),s(59,"Customize your experience"),a()(),o(60,"mat-card-content")(61,"div",16)(62,"mat-form-field",17)(63,"mat-label"),s(64,"Language"),a(),o(65,"mat-select",18)(66,"mat-option",19),s(67,"English"),a(),o(68,"mat-option",20),s(69,"Spanish"),a(),o(70,"mat-option",21),s(71,"French"),a(),o(72,"mat-option",22),s(73,"German"),a()(),o(74,"mat-icon",23),s(75,"language"),a()(),o(76,"mat-form-field",17)(77,"mat-label"),s(78,"Timezone"),a(),o(79,"mat-select",24)(80,"mat-option",25),s(81,"UTC"),a(),o(82,"mat-option",26),s(83,"Eastern Time"),a(),o(84,"mat-option",27),s(85,"Central Time"),a(),o(86,"mat-option",28),s(87,"Mountain Time"),a(),o(88,"mat-option",29),s(89,"Pacific Time"),a(),o(90,"mat-option",30),s(91,"London"),a(),o(92,"mat-option",31),s(93,"Paris"),a()(),o(94,"mat-icon",23),s(95,"schedule"),a()(),o(96,"mat-form-field",17)(97,"mat-label"),s(98,"Theme"),a(),o(99,"mat-select",32)(100,"mat-option",33),s(101,"Light"),a(),o(102,"mat-option",34),s(103,"Dark"),a(),o(104,"mat-option",35),s(105,"Auto"),a()(),o(106,"mat-icon",23),s(107,"palette"),a()()()()(),o(108,"div",36)(109,"button",37),f("click",function(){return i.resetSettings()}),s(110," Reset to Default "),a(),o(111,"button",38),_(112,Ol,2,0,"mat-icon",39),s(113," Save Settings "),a()()()()),e&2&&(l(6),y("formGroup",i.settingsForm),l(103),y("disabled",i.isLoading()),l(2),y("disabled",i.isLoading()||i.settingsForm.invalid),l(),m(i.isLoading()?112:-1))},dependencies:[K,nt,Gt,Xe,Je,et,tt,ke,ht,Kt,Jt,Xt,Zt,lt,st,ot,rt,mt,le,se,fe,he,Sa,li,dt,ct,at,vt],styles:[".settings-card[_ngcontent-%COMP%]{box-shadow:0 4px 6px -1px #0000001a;border-radius:12px;border:1px solid #e5e7eb;margin-bottom:1.5rem}.settings-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-bottom:1rem}.settings-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.25rem;font-weight:600;color:#111827}.settings-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#6b7280;margin-top:.5rem}.settings-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding-top:0}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}  .mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected .mdc-switch__track{background-color:#2563eb}  .mat-mdc-slide-toggle .mdc-switch.mdc-switch--selected .mdc-switch__handle .mdc-switch__ripple{background-color:#2563eb}  .mat-mdc-form-field .mat-mdc-form-field-flex{border-radius:8px}  .mat-mdc-raised-button.mat-primary{background-color:#2563eb}  .mat-mdc-raised-button.mat-primary:hover:not([disabled]){background-color:#1d4ed8}  .mat-mdc-outlined-button{border-color:#d1d5db;color:#374151}  .mat-mdc-outlined-button:hover:not([disabled]){background-color:#f9fafb;border-color:#9ca3af}  .error-snackbar{background-color:#dc2626!important;color:#fff!important}  .success-snackbar{background-color:#059669!important;color:#fff!important}"]})};var Nl=[[["caption"]],[["colgroup"],["col"]],"*"],Vl=["caption","colgroup, col","*"];function zl(t,n){t&1&&oe(0,2)}function Hl(t,n){t&1&&(o(0,"thead",0),ae(1,1),a(),o(2,"tbody",0),ae(3,2)(4,3),a(),o(5,"tfoot",0),ae(6,4),a())}function $l(t,n){t&1&&ae(0,1)(1,2)(2,3)(3,4)}var be=new X("CDK_TABLE");var hi=(()=>{class t{template=u(J);constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=T({type:t,selectors:[["","cdkCellDef",""]]})}return t})(),fi=(()=>{class t{template=u(J);constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=T({type:t,selectors:[["","cdkHeaderCellDef",""]]})}return t})(),Ta=(()=>{class t{template=u(J);constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=T({type:t,selectors:[["","cdkFooterCellDef",""]]})}return t})(),xt=(()=>{class t{_table=u(be,{optional:!0});_hasStickyChanged=!1;get name(){return this._name}set name(e){this._setNameInput(e)}_name;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;get stickyEnd(){return this._stickyEnd}set stickyEnd(e){e!==this._stickyEnd&&(this._stickyEnd=e,this._hasStickyChanged=!0)}_stickyEnd=!1;cell;headerCell;footerCell;cssClassFriendlyName;_columnCssClassName;constructor(){}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static \u0275fac=function(i){return new(i||t)};static \u0275dir=T({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(i,r,c){if(i&1&&(re(c,hi,5),re(c,fi,5),re(c,Ta,5)),i&2){let p;M(p=j())&&(r.cell=p.first),M(p=j())&&(r.headerCell=p.first),M(p=j())&&(r.footerCell=p.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",B],stickyEnd:[2,"stickyEnd","stickyEnd",B]},features:[H([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}])]})}return t})(),mi=class{constructor(n,e){e.nativeElement.classList.add(...n._columnCssClassName)}},Da=(()=>{class t extends mi{constructor(){super(u(xt),u(q))}static \u0275fac=function(i){return new(i||t)};static \u0275dir=T({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[L]})}return t})();var Pa=(()=>{class t extends mi{constructor(){let e=u(xt),i=u(q);super(e,i);let r=e._table?._getCellRole();r&&i.nativeElement.setAttribute("role",r)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=T({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[L]})}return t})(),pi=class{tasks=[];endTasks=[]},ui=new X("_COALESCED_STYLE_SCHEDULER"),Ni=(()=>{class t{_currentSchedule=null;_ngZone=u(Pe);constructor(){}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new pi,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){let e=this._currentSchedule;this._currentSchedule=new pi;for(let i of e.tasks)i();for(let i of e.endTasks)i()}this._currentSchedule=null})))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=qe({token:t,factory:t.\u0275fac})}return t})();var Vi=(()=>{class t{template=u(J);_differs=u(We);columns;_columnsDiffer;constructor(){}ngOnChanges(e){if(!this._columnsDiffer){let i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof Pt?e.headerCell.template:this instanceof zi?e.footerCell.template:e.cell.template}static \u0275fac=function(i){return new(i||t)};static \u0275dir=T({type:t,features:[De]})}return t})(),Pt=(()=>{class t extends Vi{_table=u(be,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(u(J),u(We))}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(i){return new(i||t)};static \u0275dir=T({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",B]},features:[L,De]})}return t})(),zi=(()=>{class t extends Vi{_table=u(be,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(u(J),u(We))}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(i){return new(i||t)};static \u0275dir=T({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",B]},features:[L,De]})}return t})(),gi=(()=>{class t extends Vi{_table=u(be,{optional:!0});when;constructor(){super(u(J),u(We))}static \u0275fac=function(i){return new(i||t)};static \u0275dir=T({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},features:[L]})}return t})(),He=(()=>{class t{_viewContainer=u(Me);cells;context;static mostRecentCellOutlet=null;constructor(){t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}static \u0275fac=function(i){return new(i||t)};static \u0275dir=T({type:t,selectors:[["","cdkCellOutlet",""]]})}return t})(),Hi=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=D({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){i&1&&ae(0,0)},dependencies:[He],encapsulation:2})}return t})();var $i=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=D({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){i&1&&ae(0,0)},dependencies:[He],encapsulation:2})}return t})(),Ra=(()=>{class t{templateRef=u(J);_contentClassName="cdk-no-data-row";constructor(){}static \u0275fac=function(i){return new(i||t)};static \u0275dir=T({type:t,selectors:[["ng-template","cdkNoDataRow",""]]})}return t})(),ka=["top","bottom","left","right"],Li=class{_isNativeHtmlTable;_stickCellCss;direction;_coalescedStyleScheduler;_isBrowser;_needsPositionStickyOnElement;_positionListener;_tableInjector;_elemSizeCache=new WeakMap;_resizeObserver=globalThis?.ResizeObserver?new globalThis.ResizeObserver(n=>this._updateCachedSizes(n)):null;_updatedStickyColumnsParamsToReplay=[];_stickyColumnsReplayTimeout=null;_cachedCellWidths=[];_borderCellCss;_destroyed=!1;constructor(n,e,i,r,c=!0,p=!0,C,S){this._isNativeHtmlTable=n,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=c,this._needsPositionStickyOnElement=p,this._positionListener=C,this._tableInjector=S,this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(n,e){(e.includes("left")||e.includes("right"))&&this._removeFromStickyColumnReplayQueue(n);let i=[];for(let r of n)r.nodeType===r.ELEMENT_NODE&&i.push(r,...Array.from(r.children));this._afterNextRender({write:()=>{for(let r of i)this._removeStickyStyle(r,e)}})}updateStickyColumns(n,e,i,r=!0,c=!0){if(!n.length||!this._isBrowser||!(e.some(G=>G)||i.some(G=>G))){this._positionListener?.stickyColumnsUpdated({sizes:[]}),this._positionListener?.stickyEndColumnsUpdated({sizes:[]});return}let p=n[0],C=p.children.length,S=this.direction==="rtl",I=S?"right":"left",V=S?"left":"right",ee=e.lastIndexOf(!0),te=i.indexOf(!0),ce,je,Ie;c&&this._updateStickyColumnReplayQueue({rows:[...n],stickyStartStates:[...e],stickyEndStates:[...i]}),this._afterNextRender({earlyRead:()=>{ce=this._getCellWidths(p,r),je=this._getStickyStartColumnPositions(ce,e),Ie=this._getStickyEndColumnPositions(ce,i)},write:()=>{for(let G of n)for(let $=0;$<C;$++){let Yi=G.children[$];e[$]&&this._addStickyStyle(Yi,I,je[$],$===ee),i[$]&&this._addStickyStyle(Yi,V,Ie[$],$===te)}this._positionListener&&ce.some(G=>!!G)&&(this._positionListener.stickyColumnsUpdated({sizes:ee===-1?[]:ce.slice(0,ee+1).map((G,$)=>e[$]?G:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:te===-1?[]:ce.slice(te).map((G,$)=>i[$+te]?G:null).reverse()}))}})}stickRows(n,e,i){if(!this._isBrowser)return;let r=i==="bottom"?n.slice().reverse():n,c=i==="bottom"?e.slice().reverse():e,p=[],C=[],S=[];this._afterNextRender({earlyRead:()=>{for(let I=0,V=0;I<r.length;I++){if(!c[I])continue;p[I]=V;let ee=r[I];S[I]=this._isNativeHtmlTable?Array.from(ee.children):[ee];let te=this._retrieveElementSize(ee).height;V+=te,C[I]=te}},write:()=>{let I=c.lastIndexOf(!0);for(let V=0;V<r.length;V++){if(!c[V])continue;let ee=p[V],te=V===I;for(let ce of S[V])this._addStickyStyle(ce,i,ee,te)}i==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:C,offsets:p,elements:S}):this._positionListener?.stickyFooterRowsUpdated({sizes:C,offsets:p,elements:S})}})}updateStickyFooterContainer(n,e){this._isNativeHtmlTable&&this._afterNextRender({write:()=>{let i=n.querySelector("tfoot");i&&(e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1))}})}destroy(){this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._resizeObserver?.disconnect(),this._destroyed=!0}_removeStickyStyle(n,e){if(!n.classList.contains(this._stickCellCss))return;for(let r of e)n.style[r]="",n.classList.remove(this._borderCellCss[r]);ka.some(r=>e.indexOf(r)===-1&&n.style[r])?n.style.zIndex=this._getCalculatedZIndex(n):(n.style.zIndex="",this._needsPositionStickyOnElement&&(n.style.position=""),n.classList.remove(this._stickCellCss))}_addStickyStyle(n,e,i,r){n.classList.add(this._stickCellCss),r&&n.classList.add(this._borderCellCss[e]),n.style[e]=`${i}px`,n.style.zIndex=this._getCalculatedZIndex(n),this._needsPositionStickyOnElement&&(n.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(n){let e={top:100,bottom:10,left:1,right:1},i=0;for(let r of ka)n.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(n,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;let i=[],r=n.children;for(let c=0;c<r.length;c++){let p=r[c];i.push(this._retrieveElementSize(p).width)}return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(n,e){let i=[],r=0;for(let c=0;c<n.length;c++)e[c]&&(i[c]=r,r+=n[c]);return i}_getStickyEndColumnPositions(n,e){let i=[],r=0;for(let c=n.length;c>0;c--)e[c]&&(i[c]=r,r+=n[c]);return i}_retrieveElementSize(n){let e=this._elemSizeCache.get(n);if(e)return e;let i=n.getBoundingClientRect(),r={width:i.width,height:i.height};return this._resizeObserver&&(this._elemSizeCache.set(n,r),this._resizeObserver.observe(n,{box:"border-box"})),r}_updateStickyColumnReplayQueue(n){this._removeFromStickyColumnReplayQueue(n.rows),this._stickyColumnsReplayTimeout||this._updatedStickyColumnsParamsToReplay.push(n)}_removeFromStickyColumnReplayQueue(n){let e=new Set(n);for(let i of this._updatedStickyColumnsParamsToReplay)i.rows=i.rows.filter(r=>!e.has(r));this._updatedStickyColumnsParamsToReplay=this._updatedStickyColumnsParamsToReplay.filter(i=>!!i.rows.length)}_updateCachedSizes(n){let e=!1;for(let i of n){let r=i.borderBoxSize?.length?{width:i.borderBoxSize[0].inlineSize,height:i.borderBoxSize[0].blockSize}:{width:i.contentRect.width,height:i.contentRect.height};r.width!==this._elemSizeCache.get(i.target)?.width&&ql(i.target)&&(e=!0),this._elemSizeCache.set(i.target,r)}e&&this._updatedStickyColumnsParamsToReplay.length&&(this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._stickyColumnsReplayTimeout=setTimeout(()=>{if(!this._destroyed){for(let i of this._updatedStickyColumnsParamsToReplay)this.updateStickyColumns(i.rows,i.stickyStartStates,i.stickyEndStates,!0,!1);this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null}},0))}_afterNextRender(n){this._tableInjector?Ue(n,{injector:this._tableInjector}):this._coalescedStyleScheduler.schedule(()=>{n.earlyRead?.(),n.write()})}};function ql(t){return["cdk-cell","cdk-header-cell","cdk-footer-cell"].some(n=>t.classList.contains(n))}var _i=new X("CDK_SPL");var qi=(()=>{class t{viewContainer=u(Me);elementRef=u(q);constructor(){let e=u(be);e._rowOutlet=this,e._outletAssigned()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=T({type:t,selectors:[["","rowOutlet",""]]})}return t})(),Ui=(()=>{class t{viewContainer=u(Me);elementRef=u(q);constructor(){let e=u(be);e._headerRowOutlet=this,e._outletAssigned()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=T({type:t,selectors:[["","headerRowOutlet",""]]})}return t})(),Wi=(()=>{class t{viewContainer=u(Me);elementRef=u(q);constructor(){let e=u(be);e._footerRowOutlet=this,e._outletAssigned()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=T({type:t,selectors:[["","footerRowOutlet",""]]})}return t})(),Gi=(()=>{class t{viewContainer=u(Me);elementRef=u(q);constructor(){let e=u(be);e._noDataRowOutlet=this,e._outletAssigned()}static \u0275fac=function(i){return new(i||t)};static \u0275dir=T({type:t,selectors:[["","noDataRowOutlet",""]]})}return t})();var Qi=(()=>{class t{_differs=u(We);_changeDetectorRef=u(we);_elementRef=u(q);_dir=u(wt,{optional:!0});_platform=u(Le);_viewRepeater=u(kt);_coalescedStyleScheduler=u(ui);_viewportRuler=u(Ut);_stickyPositioningListener=u(_i,{optional:!0,skipSelf:!0});_document=u(Ft);_data;_onDestroy=new ie;_renderRows;_renderChangeSubscription;_columnDefsByName=new Map;_rowDefs;_headerRowDefs;_footerRowDefs;_dataDiffer;_defaultRowDef;_customColumnDefs=new Set;_customRowDefs=new Set;_customHeaderRowDefs=new Set;_customFooterRowDefs=new Set;_customNoDataRow;_headerRowDefChanged=!0;_footerRowDefChanged=!0;_stickyColumnStylesNeedReset=!0;_forceRecalculateCellWidths=!0;_cachedRenderRowsMap=new Map;_isNativeHtmlTable;_stickyStyler;stickyCssClass="cdk-table-sticky";needsPositionStickyOnElement=!0;_isServer;_isShowingNoDataRow=!1;_hasAllOutlets=!1;_hasInitialized=!1;_getCellRole(){if(this._cellRoleInternal===void 0){let e=this._elementRef.nativeElement.getAttribute("role");return e==="grid"||e==="treegrid"?"gridcell":"cell"}return this._cellRoleInternal}_cellRoleInternal=void 0;get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}_trackByFn;get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}_dataSource;get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=e,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}_multiTemplateDataRows=!1;get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=e,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}_fixedLayout=!1;contentChanged=new Z;viewChange=new Ci({start:0,end:Number.MAX_VALUE});_rowOutlet;_headerRowOutlet;_footerRowOutlet;_noDataRowOutlet;_contentColumnDefs;_contentRowDefs;_contentHeaderRowDefs;_contentFooterRowDefs;_noDataRow;_injector=u(Te);constructor(){u(new Ct("role"),{optional:!0})||this._elementRef.nativeElement.setAttribute("role","table"),this._isServer=!this._platform.isBrowser,this._isNativeHtmlTable=this._elementRef.nativeElement.nodeName==="TABLE",this._dataDiffer=this._differs.find([]).create((i,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r)}ngOnInit(){this._setupStickyStyler(),this._viewportRuler.change().pipe(ge(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){this._stickyStyler?.destroy(),[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),qt(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let e=this._dataDiffer.diff(this._renderRows);if(!e){this._updateNoDataRow(),this.contentChanged.next();return}let i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,c,p)=>this._getEmbeddedViewArgs(r.item,p),r=>r.item.data,r=>{r.operation===Sn.INSERTED&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{let c=i.get(r.currentIndex);c.context.$implicit=r.item.data}),this._updateNoDataRow(),this.contentChanged.next(),this.updateStickyColumnStyles()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){let e=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let r=Ea(this._headerRowOutlet,"thead");r&&(r.style.display=e.length?"":"none")}let i=this._headerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,i,"top"),this._headerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyFooterRowStyles(){let e=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let r=Ea(this._footerRowOutlet,"tfoot");r&&(r.style.display=e.length?"":"none")}let i=this._footerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,i,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,i),this._footerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyColumnStyles(){let e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((c,p)=>{this._addStickyColumnStyles([c],this._headerRowDefs[p])}),this._rowDefs.forEach(c=>{let p=[];for(let C=0;C<i.length;C++)this._renderRows[C].rowDef===c&&p.push(i[C]);this._addStickyColumnStyles(p,c)}),r.forEach((c,p)=>{this._addStickyColumnStyles([c],this._footerRowDefs[p])}),Array.from(this._columnDefsByName.values()).forEach(c=>c.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let e=[],i=this._cachedRenderRowsMap;if(this._cachedRenderRowsMap=new Map,!this._data)return e;for(let r=0;r<this._data.length;r++){let c=this._data[r],p=this._getRenderRowsForData(c,r,i.get(c));this._cachedRenderRowsMap.has(c)||this._cachedRenderRowsMap.set(c,new WeakMap);for(let C=0;C<p.length;C++){let S=p[C],I=this._cachedRenderRowsMap.get(S.data);I.has(S.rowDef)?I.get(S.rowDef).push(S):I.set(S.rowDef,[S]),e.push(S)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(p=>{let C=r&&r.has(p)?r.get(p):[];if(C.length){let S=C.shift();return S.dataIndex=i,S}else return{data:e,rowDef:p,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),di(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=di(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=di(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=di(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let e=this._rowDefs.filter(i=>!i.when);!this.multiTemplateDataRows&&e.length>1,this._defaultRowDef=e[0]}_renderUpdatedColumns(){let e=(p,C)=>{let S=!!C.getColumnsDiff();return p||S},i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();let r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();let c=this._footerRowDefs.reduce(e,!1);return c&&this._forceRenderFooterRows(),i||r||c}_switchDataSource(e){this._data=[],qt(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;qt(this.dataSource)?e=this.dataSource.connect(this):Xi(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Ae(this.dataSource)),this._renderChangeSubscription=e.pipe(ge(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){let r=Array.from(i?.columns||[]).map(C=>{let S=this._columnDefsByName.get(C);return S}),c=r.map(C=>C.sticky),p=r.map(C=>C.stickyEnd);this._stickyStyler.updateStickyColumns(e,c,p,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){let i=[];for(let r=0;r<e.viewContainer.length;r++){let c=e.viewContainer.get(r);i.push(c.rootNodes[0])}return i}_getRowDefs(e,i){if(this._rowDefs.length==1)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(c=>!c.when||c.when(i,e));else{let c=this._rowDefs.find(p=>p.when&&p.when(i,e))||this._defaultRowDef;c&&r.push(c)}return r.length,r}_getEmbeddedViewArgs(e,i){let r=e.rowDef,c={$implicit:e.data};return{templateRef:r.template,context:c,index:i}}_renderRow(e,i,r,c={}){let p=e.viewContainer.createEmbeddedView(i.template,c,r);return this._renderCellTemplateForItem(i,c),p}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))He.mostRecentCellOutlet&&He.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){let p=e.get(i).context;p.count=r,p.first=i===0,p.last=i===r-1,p.even=i%2===0,p.odd=!p.even,this.multiTemplateDataRows?(p.dataIndex=this._renderRows[i].dataIndex,p.renderIndex=i):p.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return!e||!e.columns?[]:Array.from(e.columns,i=>{let r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let e=this._dir?this._dir.value:"ltr";this._stickyStyler=new Li(this._isNativeHtmlTable,this.stickyCssClass,e,this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener,this._injector),(this._dir?this._dir.change:Ae()).pipe(ge(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){let e=this._customNoDataRow||this._noDataRow;if(!e)return;let i=this._rowOutlet.viewContainer.length===0;if(i===this._isShowingNoDataRow)return;let r=this._noDataRowOutlet.viewContainer;if(i){let c=r.createEmbeddedView(e.templateRef),p=c.rootNodes[0];c.rootNodes.length===1&&p?.nodeType===this._document.ELEMENT_NODE&&(p.setAttribute("role","row"),p.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i,this._changeDetectorRef.markForCheck()}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=D({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(i,r,c){if(i&1&&(re(c,Ra,5),re(c,xt,5),re(c,gi,5),re(c,Pt,5),re(c,zi,5)),i&2){let p;M(p=j())&&(r._noDataRow=p.first),M(p=j())&&(r._contentColumnDefs=p),M(p=j())&&(r._contentRowDefs=p),M(p=j())&&(r._contentHeaderRowDefs=p),M(p=j())&&(r._contentFooterRowDefs=p)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(i,r){i&2&&N("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",B],fixedLayout:[2,"fixedLayout","fixedLayout",B]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[H([{provide:be,useExisting:t},{provide:kt,useClass:Yt},{provide:ui,useClass:Ni},{provide:_i,useValue:null}])],ngContentSelectors:Vl,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,r){i&1&&(ye(Nl),oe(0),oe(1,1),_(2,zl,1,0)(3,Hl,7,0)(4,$l,4,0)),i&2&&(l(2),m(r._isServer?2:-1),l(),m(r._isNativeHtmlTable?3:4))},dependencies:[Ui,qi,Gi,Wi],styles:[`.cdk-table-fixed-layout{table-layout:fixed}
`],encapsulation:2})}return t})();function di(t,n){return t.concat(Array.from(n))}function Ea(t,n){let e=n.toUpperCase(),i=t.viewContainer.element.nativeElement;for(;i;){let r=i.nodeType===1?i.nodeName:null;if(r===e)return i;if(r==="TABLE")break;i=i.parentNode}return null}var Ma=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ce({type:t});static \u0275inj=xe({imports:[En]})}return t})();var Ul=[[["caption"]],[["colgroup"],["col"]],"*"],Wl=["caption","colgroup, col","*"];function Gl(t,n){t&1&&oe(0,2)}function Ql(t,n){t&1&&(o(0,"thead",0),ae(1,1),a(),o(2,"tbody",2),ae(3,3)(4,4),a(),o(5,"tfoot",0),ae(6,5),a())}function Yl(t,n){t&1&&ae(0,1)(1,3)(2,4)(3,5)}var ja=(()=>{class t extends Qi{stickyCssClass="mat-mdc-table-sticky";needsPositionStickyOnElement=!1;static \u0275fac=(()=>{let e;return function(r){return(e||(e=Y(t)))(r||t)}})();static \u0275cmp=D({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(i,r){i&2&&N("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[H([{provide:Qi,useExisting:t},{provide:be,useExisting:t},{provide:ui,useClass:Ni},{provide:kt,useClass:Yt},{provide:_i,useValue:null}]),L],ngContentSelectors:Wl,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,r){i&1&&(ye(Ul),oe(0),oe(1,1),_(2,Gl,1,0)(3,Ql,7,0)(4,Yl,4,0)),i&2&&(l(2),m(r._isServer?2:-1),l(),m(r._isNativeHtmlTable?3:4))},dependencies:[Ui,qi,Gi,Wi],styles:[`.mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:var(--mat-table-header-container-height, 56px)}mat-row{min-height:var(--mat-table-row-item-container-height, 52px)}mat-footer-row{min-height:var(--mat-table-footer-container-height, 52px)}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-sys-surface))}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-sys-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-sys-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-sys-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-sys-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-sys-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mdc-data-table__row:last-child>.mat-mdc-header-cell{border-bottom:none}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child>.mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}
`],encapsulation:2})}return t})(),Ia=(()=>{class t extends hi{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Y(t)))(r||t)}})();static \u0275dir=T({type:t,selectors:[["","matCellDef",""]],features:[H([{provide:hi,useExisting:t}]),L]})}return t})(),Fa=(()=>{class t extends fi{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Y(t)))(r||t)}})();static \u0275dir=T({type:t,selectors:[["","matHeaderCellDef",""]],features:[H([{provide:fi,useExisting:t}]),L]})}return t})();var Aa=(()=>{class t extends xt{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Y(t)))(r||t)}})();static \u0275dir=T({type:t,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},features:[H([{provide:xt,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),L]})}return t})(),Ba=(()=>{class t extends Da{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Y(t)))(r||t)}})();static \u0275dir=T({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[L]})}return t})();var Oa=(()=>{class t extends Pa{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Y(t)))(r||t)}})();static \u0275dir=T({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[L]})}return t})();var La=(()=>{class t extends Pt{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Y(t)))(r||t)}})();static \u0275dir=T({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",B]},features:[H([{provide:Pt,useExisting:t}]),L]})}return t})();var Na=(()=>{class t extends gi{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Y(t)))(r||t)}})();static \u0275dir=T({type:t,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},features:[H([{provide:gi,useExisting:t}]),L]})}return t})(),Va=(()=>{class t extends Hi{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Y(t)))(r||t)}})();static \u0275cmp=D({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[H([{provide:Hi,useExisting:t}]),L],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){i&1&&ae(0,0)},dependencies:[He],encapsulation:2})}return t})();var za=(()=>{class t extends $i{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Y(t)))(r||t)}})();static \u0275cmp=D({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[H([{provide:$i,useExisting:t}]),L],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){i&1&&ae(0,0)},dependencies:[He],encapsulation:2})}return t})();var Ha=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=Ce({type:t});static \u0275inj=xe({imports:[_e,Ma,_e]})}return t})();var bi=class t{constructor(n){this.http=n}apiUrl=`${Nt.api.baseUrl}/withdrawals`;createWithdrawal(n){return this.http.post(this.apiUrl,n)}getWithdrawals(n=1,e=10,i){let r=new un().set("page",n.toString()).set("limit",e.toString());return i&&(r=r.set("status",i)),this.http.get(this.apiUrl,{params:r})}getWithdrawal(n){return this.http.get(`${this.apiUrl}/${n}`)}cancelWithdrawal(n){return this.http.post(`${this.apiUrl}/${n}/cancel`,{})}getWithdrawalStats(){return this.http.get(`${this.apiUrl}/stats/summary`)}processWithdrawal(n){return this.http.post(`${this.apiUrl}/${n}/process`,{})}getStatusColor(n){switch(n){case"pending":return"text-yellow-600 bg-yellow-100";case"processing":return"text-blue-600 bg-blue-100";case"completed":return"text-green-600 bg-green-100";case"failed":return"text-red-600 bg-red-100";case"cancelled":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}}getStatusIcon(n){switch(n){case"pending":return"clock";case"processing":return"sync";case"completed":return"check-circle";case"failed":return"x-circle";case"cancelled":return"minus-circle";default:return"help-circle"}}formatCurrency(n){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n)}calculateFee(n){return Math.round(n*.03*100)/100}calculateNetAmount(n){return n-this.calculateFee(n)}static \u0275fac=function(e){return new(e||t)(rn(Bt))};static \u0275prov=qe({token:t,factory:t.\u0275fac,providedIn:"root"})};function Kl(t,n){if(t&1&&(o(0,"mat-icon",8),s(1),a()),t&2){let e=d();P(e.getIconClass()),l(),v(" ",e.data.icon," ")}}var vi=class t{constructor(n,e){this.dialogRef=n;this.data=e}onConfirm(){this.dialogRef.close(!0)}onCancel(){this.dialogRef.close(!1)}getIconClass(){let n="w-8 h-8";switch(this.data.type){case"danger":return`${n} text-red-600`;case"warning":return`${n} text-yellow-600`;case"info":default:return`${n} text-blue-600`}}getConfirmButtonClass(){switch(this.data.type){case"danger":return"bg-red-600 hover:bg-red-700 text-white";case"warning":return"bg-yellow-600 hover:bg-yellow-700 text-white";case"info":default:return"bg-blue-600 hover:bg-blue-700 text-white"}}static \u0275fac=function(e){return new(e||t)(Si(na),Si(aa))};static \u0275cmp=D({type:t,selectors:[["app-confirmation-dialog"]],decls:12,vars:7,consts:[[1,"p-6"],[1,"flex","items-center","mb-4"],[1,"mr-3","text-3xl",3,"class"],[1,"text-xl","font-semibold","text-gray-900"],[1,"text-gray-600","mb-6","leading-relaxed"],[1,"flex","justify-end","gap-3"],["mat-stroked-button","",1,"px-4","py-2",3,"click"],["mat-raised-button","",1,"px-4","py-2",3,"click"],[1,"mr-3","text-3xl"]],template:function(e,i){e&1&&(o(0,"div",0)(1,"div",1),_(2,Kl,2,3,"mat-icon",2),o(3,"h2",3),s(4),a()(),o(5,"p",4),s(6),a(),o(7,"div",5)(8,"button",6),f("click",function(){return i.onCancel()}),s(9),a(),o(10,"button",7),f("click",function(){return i.onConfirm()}),s(11),a()()()),e&2&&(l(2),m(i.data.icon?2:-1),l(2),h(i.data.title),l(2),h(i.data.message),l(3),v(" ",i.data.cancelText||"Cancel"," "),l(),P(i.getConfirmButtonClass()),l(),v(" ",i.data.confirmText||"Confirm"," "))},dependencies:[K,ti,le,se,fe,he],encapsulation:2})};var Xl=(t,n,e,i)=>({"bg-green-50 border-green-200":t,"bg-yellow-50 border-yellow-200":n,"bg-red-50 border-red-200":e,"bg-gray-50 border-gray-200":i}),Jl=(t,n,e,i)=>({"text-green-600":t,"text-yellow-600":n,"text-red-600":e,"text-gray-600":i}),ec=(t,n,e,i)=>({"text-green-700":t,"text-yellow-700":n,"text-red-700":e,"text-gray-700":i}),$a=()=>["date","method","description","amount","status"],tc=(t,n,e,i,r)=>({"bg-yellow-100 text-yellow-800":t,"bg-blue-100 text-blue-800":n,"bg-green-100 text-green-800":e,"bg-red-100 text-red-800":i,"bg-gray-100 text-gray-800":r}),ic=(t,n)=>n._id;function nc(t,n){t&1&&x(0,"mat-spinner",12)}function ac(t,n){t&1&&(o(0,"mat-icon",13),s(1,"account_balance_wallet"),a())}function oc(t,n){if(t&1){let e=w();o(0,"button",11),f("click",function(){g(e);let r=d();return b(r.withdrawToStripe())}),_(1,nc,1,0,"mat-spinner",12)(2,ac,2,0,"mat-icon",13),s(3," Withdraw to Stripe "),a()}if(t&2){let e=d();y("disabled",e.stripeLoading()),l(),m(e.stripeLoading()?1:2)}}function rc(t,n){t&1&&x(0,"mat-spinner",12)}function sc(t,n){t&1&&(o(0,"mat-icon",13),s(1,"payment"),a())}function lc(t,n){if(t&1){let e=w();o(0,"button",14),f("click",function(){g(e);let r=d();return b(r.connectStripe())}),_(1,rc,1,0,"mat-spinner",12)(2,sc,2,0,"mat-icon",13),s(3," Connect Stripe "),a()}if(t&2){let e=d();y("disabled",e.stripeLoading()),l(),m(e.stripeLoading()?1:2)}}function cc(t,n){t&1&&x(0,"mat-spinner",12)}function dc(t,n){t&1&&(o(0,"mat-icon",13),s(1,"dashboard"),a())}function mc(t,n){t&1&&x(0,"mat-spinner",12)}function pc(t,n){t&1&&(o(0,"mat-icon",13),s(1,"link_off"),a())}function uc(t,n){if(t&1){let e=w();o(0,"div",8)(1,"button",15),f("click",function(){g(e);let r=d();return b(r.openStripeDashboard())}),_(2,cc,1,0,"mat-spinner",12)(3,dc,2,0,"mat-icon",13),s(4," Stripe Dashboard "),a(),o(5,"button",16),f("click",function(){g(e);let r=d();return b(r.disconnectStripe())}),_(6,mc,1,0,"mat-spinner",12)(7,pc,2,0,"mat-icon",13),s(8," Disconnect "),a()()}if(t&2){let e=d();l(),y("disabled",e.stripeLoading()),l(),m(e.stripeLoading()?2:3),l(3),y("disabled",e.stripeLoading()),l(),m(e.stripeLoading()?6:7)}}function _c(t,n){t&1&&(o(0,"div",9),x(1,"mat-spinner",17),o(2,"span",18),s(3,"Loading earnings data..."),a()())}function hc(t,n){if(t&1){let e=w();o(0,"div",10)(1,"mat-icon",19),s(2,"error"),a(),o(3,"h3",20),s(4,"Error Loading Data"),a(),o(5,"p",21),s(6),a(),o(7,"button",22),f("click",function(){g(e);let r=d();return b(r.retryLoad())}),o(8,"mat-icon",13),s(9,"refresh"),a(),s(10," Try Again "),a()()}if(t&2){let e=d();l(6),h(e.error())}}function fc(t,n){t&1&&s(0," check_circle ")}function gc(t,n){t&1&&s(0," schedule ")}function bc(t,n){t&1&&s(0," error ")}function vc(t,n){t&1&&s(0," payment ")}function xc(t,n){t&1&&s(0," Stripe Connected ")}function Cc(t,n){t&1&&s(0," Stripe Setup Pending ")}function yc(t,n){t&1&&s(0," Stripe Connection Failed ")}function wc(t,n){t&1&&s(0," Stripe Not Connected ")}function Sc(t,n){t&1&&x(0,"mat-spinner",83)}function kc(t,n){if(t&1){let e=w();o(0,"button",82),f("click",function(){g(e);let r=d(2);return b(r.withdrawToStripe())}),_(1,Sc,1,0,"mat-spinner",83),s(2," Withdraw to Stripe "),a()}if(t&2){let e=d(2);y("disabled",e.stripeLoading()),l(),m(e.stripeLoading()?1:-1)}}function Ec(t,n){t&1&&x(0,"mat-spinner",83)}function Tc(t,n){if(t&1){let e=w();o(0,"button",84),f("click",function(){g(e);let r=d(2);return b(r.connectStripe())}),_(1,Ec,1,0,"mat-spinner",83),s(2," Connect Stripe "),a()}if(t&2){let e=d(2);y("disabled",e.stripeLoading()),l(),m(e.stripeLoading()?1:-1)}}function Dc(t,n){t&1&&(o(0,"button",38),s(1," No funds available "),a())}function Pc(t,n){t&1&&x(0,"mat-spinner",83)}function Rc(t,n){if(t&1){let e=w();o(0,"button",85),f("click",function(){g(e);let r=d(2);return b(r.connectStripe())}),_(1,Pc,1,0,"mat-spinner",83),s(2," Complete Stripe Setup "),a()}if(t&2){let e=d(2);y("disabled",e.stripeLoading()),l(),m(e.stripeLoading()?1:-1)}}function Mc(t,n){t&1&&x(0,"mat-spinner",87)}function jc(t,n){t&1&&(o(0,"mat-icon",88),s(1,"dashboard"),a())}function Ic(t,n){t&1&&x(0,"mat-spinner",87)}function Fc(t,n){t&1&&(o(0,"mat-icon",88),s(1,"link_off"),a())}function Ac(t,n){if(t&1){let e=w();o(0,"div",8)(1,"button",86),f("click",function(){g(e);let r=d(2);return b(r.openStripeDashboard())}),_(2,Mc,1,0,"mat-spinner",87)(3,jc,2,0,"mat-icon",88),s(4," Dashboard "),a(),o(5,"button",89),f("click",function(){g(e);let r=d(2);return b(r.disconnectStripe())}),_(6,Ic,1,0,"mat-spinner",87)(7,Fc,2,0,"mat-icon",88),s(8," Disconnect "),a()()}if(t&2){let e=d(2);l(),y("disabled",e.stripeLoading()),l(),m(e.stripeLoading()?2:3),l(3),y("disabled",e.stripeLoading()),l(),m(e.stripeLoading()?6:7)}}function Bc(t,n){t&1&&s(0," Connected to Stripe Express account. You can access your dashboard or disconnect anytime. ")}function Oc(t,n){t&1&&s(0," Connect Stripe to withdraw funds ")}function Lc(t,n){if(t&1){let e=w();o(0,"button",90),f("click",function(){g(e);let r=d(2);return b(r.clearFilters())}),o(1,"mat-icon"),s(2,"clear"),a(),s(3," Clear Filters "),a()}}function Nc(t,n){t&1&&(o(0,"div",77),x(1,"mat-spinner",91),o(2,"p",92),s(3,"Loading transactions..."),a()())}function Vc(t,n){if(t&1){let e=w();o(0,"div",78)(1,"mat-icon",93),s(2,"filter_list_off"),a(),o(3,"h3",94),s(4,"No Transactions Match Your Filters"),a(),o(5,"p",95),s(6,"Try adjusting your date range or activity type filters."),a(),o(7,"button",96),f("click",function(){g(e);let r=d(2);return b(r.clearFilters())}),s(8," Clear Filters "),a()()}}function zc(t,n){t&1&&(o(0,"div",78)(1,"mat-icon",93),s(2,"receipt_long"),a(),o(3,"h3",94),s(4,"No Transactions Yet"),a(),o(5,"p",97),s(6,"Your transaction history will appear here once you start earning."),a()())}function Hc(t,n){t&1&&(o(0,"th",112),s(1,"Date"),a())}function $c(t,n){if(t&1&&(o(0,"td",113),s(1),a()),t&2){let e=n.$implicit,i=d(4);l(),v(" ",i.formatDate(e.createdAt)," ")}}function qc(t,n){t&1&&(o(0,"th",112),s(1,"Activity"),a())}function Uc(t,n){if(t&1&&(o(0,"td",114)(1,"span",115),s(2),a()()),t&2){let e=n.$implicit,i=d(4);l(),P(i.getTransactionTypeColor(e.transaction_type)),l(),v(" ",i.getTransactionTypeLabel(e.transaction_type)," ")}}function Wc(t,n){t&1&&(o(0,"th",112),s(1,"Description"),a())}function Gc(t,n){if(t&1&&(o(0,"p",116),s(1),a()),t&2){let e=d().$implicit;l(),v("Project: ",e.project_id.title,"")}}function Qc(t,n){if(t&1&&(o(0,"p",116),s(1),a()),t&2){let e=d().$implicit;l(),v("From: ",e.business_id.name,"")}}function Yc(t,n){if(t&1&&(o(0,"td",113)(1,"div")(2,"p",115),s(3),a(),_(4,Gc,2,1,"p",116)(5,Qc,2,1,"p",116),a()()),t&2){let e=n.$implicit;l(3),h(e.description||"No description"),l(),m(e.project_id?4:-1),l(),m(e.business_id?5:-1)}}function Zc(t,n){t&1&&(o(0,"th",117),s(1,"Amount"),a())}function Kc(t,n){if(t&1&&(o(0,"td",118)(1,"span",119),s(2),a()()),t&2){let e=n.$implicit,i=d(4);l(),P(e.amount>=0?"text-green-600":"text-red-600"),l(),v(" ",i.formatCurrency(e.amount)," ")}}function Xc(t,n){t&1&&(o(0,"th",112),s(1,"Status"),a())}function Jc(t,n){if(t&1&&(o(0,"td",114)(1,"span",120),s(2),z(3,"titlecase"),a()()),t&2){let e=n.$implicit,i=d(4);l(),P(i.getStatusColor(e.status)),l(),v(" ",W(3,3,e.status)," ")}}function ed(t,n){t&1&&x(0,"tr",121)}function td(t,n){t&1&&x(0,"tr",122)}function id(t,n){if(t&1&&(o(0,"div",80)(1,"table",99),de(2,100),_(3,Hc,2,0,"th",101)(4,$c,2,1,"td",102),me(),de(5,103),_(6,qc,2,0,"th",101)(7,Uc,3,3,"td",104),me(),de(8,105),_(9,Wc,2,0,"th",101)(10,Yc,6,3,"td",102),me(),de(11,106),_(12,Zc,2,0,"th",107)(13,Kc,3,3,"td",108),me(),de(14,109),_(15,Xc,2,0,"th",101)(16,Jc,4,5,"td",104),me(),_(17,ed,1,0,"tr",110)(18,td,1,0,"tr",111),a()()),t&2){let e=d(3);l(),y("dataSource",e.filteredTransactions()),l(16),y("matHeaderRowDef",e.displayedColumns),l(),y("matRowDefColumns",e.displayedColumns)}}function nd(t,n){if(t&1&&(o(0,"p",130),s(1),a()),t&2){let e=d().$implicit;l(),v("Project: ",e.project_id.title,"")}}function ad(t,n){if(t&1&&(o(0,"p",45),s(1),a()),t&2){let e=d().$implicit;l(),v("From: ",e.business_id.name,"")}}function od(t,n){if(t&1&&(o(0,"div",123)(1,"div",124)(2,"div",125)(3,"h4",126),s(4),a(),o(5,"p",29),s(6),a()(),o(7,"span",127),s(8),a()(),o(9,"div",128)(10,"p",129),s(11),a(),_(12,nd,2,1,"p",130)(13,ad,2,1,"p",45),a(),o(14,"div",131)(15,"span",132),s(16),a(),o(17,"span",120),s(18),z(19,"titlecase"),a()()()),t&2){let e=n.$implicit,i=d(4);l(4),v(" ",i.getTransactionTypeLabel(e.transaction_type)," "),l(2),h(i.formatDate(e.createdAt)),l(),P(e.amount>=0?"text-green-600":"text-red-600"),l(),v(" ",i.formatCurrency(e.amount)," "),l(3),h(e.description||"No description"),l(),m(e.project_id?12:-1),l(),m(e.business_id?13:-1),l(2),P(i.getTransactionTypeColor(e.transaction_type)),l(),v(" ",i.getTransactionTypeLabel(e.transaction_type)," "),l(),P(i.getStatusColor(e.status)),l(),v(" ",W(19,14,e.status)," ")}}function rd(t,n){if(t&1&&(o(0,"div",98),F(1,od,20,16,"div",123,ic),a()),t&2){let e=d(3);l(),A(e.filteredTransactions())}}function sd(t,n){if(t&1&&_(0,id,19,3,"div",80)(1,rd,3,0,"div",98),t&2){let e=d(2);m(e.viewMode()==="list"?0:1)}}function ld(t,n){t&1&&(o(0,"div",77),x(1,"mat-spinner",91),o(2,"p",92),s(3,"Loading withdrawals..."),a()())}function cd(t,n){if(t&1){let e=w();o(0,"button",135),f("click",function(){g(e);let r=d(3);return b(r.connectStripe())}),s(1," Connect Stripe to Start "),a()}}function dd(t,n){if(t&1){let e=w();o(0,"div",134)(1,"div",136)(2,"mat-icon",137),s(3,"info"),a(),o(4,"span",138),s(5,"Stripe Account Connected"),a()(),o(6,"p",139),s(7," Your withdrawals will appear here. You can manage your Stripe account using the buttons above. "),a(),o(8,"div",8)(9,"button",140),f("click",function(){g(e);let r=d(3);return b(r.openStripeDashboard())}),s(10," View Dashboard "),a(),o(11,"button",141),f("click",function(){g(e);let r=d(3);return b(r.disconnectStripe())}),s(12," Disconnect "),a()()()}if(t&2){let e=d(3);l(9),y("disabled",e.stripeLoading()),l(2),y("disabled",e.stripeLoading())}}function md(t,n){if(t&1&&(o(0,"div",78)(1,"mat-icon",93),s(2,"account_balance_wallet"),a(),o(3,"h3",94),s(4,"No Withdrawals Yet"),a(),o(5,"p",95),s(6,"Your withdrawal history will appear here once you make your first withdrawal."),a(),_(7,cd,2,0,"button",133)(8,dd,13,2,"div",134),a()),t&2){let e=d(2);l(7),m(e.hasStripeAccount()?8:7)}}function pd(t,n){t&1&&(o(0,"th",112),s(1,"Date"),a())}function ud(t,n){if(t&1&&(o(0,"td",113),s(1),a()),t&2){let e=n.$implicit,i=d(3);l(),v(" ",i.formatDate(e.createdAt)," ")}}function _d(t,n){t&1&&(o(0,"th",112),s(1,"Method"),a())}function hd(t,n){if(t&1&&(o(0,"td",114)(1,"div",32)(2,"mat-icon",42),s(3,"payment"),a(),o(4,"span",115),s(5),z(6,"titlecase"),a()()()),t&2){let e=n.$implicit;l(5),h(W(6,1,e.method))}}function fd(t,n){t&1&&(o(0,"th",112),s(1,"Description"),a())}function gd(t,n){if(t&1&&(o(0,"p",116),s(1),a()),t&2){let e=d().$implicit;l(),v("Stripe Account: ",e.stripe_account_id,"")}}function bd(t,n){if(t&1&&(o(0,"p",143),s(1),a()),t&2){let e=d().$implicit;l(),v("Transfer ID: ",e.stripe_transfer_id,"")}}function vd(t,n){if(t&1&&(o(0,"p",116),s(1),a()),t&2){let e=d().$implicit;l(),v("To: ",e.paypal_account.email,"")}}function xd(t,n){if(t&1&&(o(0,"p",143),s(1),a()),t&2){let e=d().$implicit;l(),v("PayPal ID: ",e.paypal_transaction_id,"")}}function Cd(t,n){if(t&1&&(o(0,"td",113)(1,"div")(2,"p",115),s(3),a(),_(4,gd,2,1,"p",116)(5,bd,2,1,"p",143)(6,vd,2,1,"p",116)(7,xd,2,1,"p",143),a()()),t&2){let e=n.$implicit;l(3),h(e.description||"Withdrawal via Stripe"),l(),m(e.stripe_account_id?4:-1),l(),m(e.stripe_transfer_id?5:-1),l(),m(e.paypal_account!=null&&e.paypal_account.email?6:-1),l(),m(e.paypal_transaction_id?7:-1)}}function yd(t,n){t&1&&(o(0,"th",117),s(1,"Amount"),a())}function wd(t,n){if(t&1&&(o(0,"p",45),s(1),z(2,"currency"),a(),o(3,"p",145),s(4),z(5,"currency"),a()),t&2){let e=d().$implicit;l(),v("Fee: ",W(2,2,e.fee),""),l(3),v("Net: ",W(5,4,e.net_amount),"")}}function Sd(t,n){if(t&1&&(o(0,"td",118)(1,"div")(2,"span",144),s(3),z(4,"currency"),a(),_(5,wd,6,6),a()()),t&2){let e=n.$implicit;l(3),v("-",W(4,2,e.amount),""),l(2),m(e.fee>0?5:-1)}}function kd(t,n){t&1&&(o(0,"th",112),s(1,"Status"),a())}function Ed(t,n){if(t&1&&(o(0,"td",114)(1,"span",146),s(2),z(3,"titlecase"),a()()),t&2){let e=n.$implicit;l(),y("ngClass",mn(4,tc,e.status==="pending",e.status==="processing",e.status==="completed",e.status==="failed",e.status==="cancelled")),l(),v(" ",W(3,2,e.status)," ")}}function Td(t,n){t&1&&x(0,"tr",121)}function Dd(t,n){t&1&&x(0,"tr",122)}function Pd(t,n){if(t&1&&(o(0,"div",80)(1,"table",99),de(2,100),_(3,pd,2,0,"th",101)(4,ud,2,1,"td",102),me(),de(5,142),_(6,_d,2,0,"th",101)(7,hd,7,3,"td",104),me(),de(8,105),_(9,fd,2,0,"th",101)(10,Cd,8,5,"td",102),me(),de(11,106),_(12,yd,2,0,"th",107)(13,Sd,6,4,"td",108),me(),de(14,109),_(15,kd,2,0,"th",101)(16,Ed,4,10,"td",104),me(),_(17,Td,1,0,"tr",110)(18,Dd,1,0,"tr",111),a()()),t&2){let e=d(2);l(),y("dataSource",e.withdrawals()),l(16),y("matHeaderRowDef",yt(3,$a)),l(),y("matRowDefColumns",yt(4,$a))}}function Rd(t,n){t&1&&(o(0,"div",81)(1,"mat-icon",93),s(2,"account_balance_wallet"),a(),o(3,"h3",94),s(4,"Start Earning Today"),a(),o(5,"p",147),s(6,"Complete projects and build your portfolio to start earning money."),a(),o(7,"button",148)(8,"mat-icon",13),s(9,"business"),a(),s(10," Create Your Business Profile "),a()())}function Md(t,n){if(t&1){let e=w();o(0,"div",23)(1,"mat-card",24)(2,"div",25)(3,"h3",26),s(4,"Available funds"),a(),o(5,"mat-icon",27),s(6,"account_balance_wallet"),a()(),o(7,"div",28)(8,"p",29),s(9,"Balance available for withdrawal"),a(),o(10,"p",30),s(11),z(12,"currency"),a()(),o(13,"div",31)(14,"div",32)(15,"mat-icon",33),_(16,fc,1,0)(17,gc,1,0)(18,bc,1,0)(19,vc,1,0),a(),o(20,"span",34),_(21,xc,1,0)(22,Cc,1,0)(23,yc,1,0)(24,wc,1,0),a()()(),o(25,"div",35),_(26,kc,3,2,"button",36)(27,Tc,3,2,"button",37)(28,Dc,2,0,"button",38)(29,Rc,3,2,"button",39)(30,Ac,9,4,"div",8),a(),o(31,"p",40),_(32,Bc,1,0)(33,Oc,1,0),a()(),o(34,"mat-card",41)(35,"div",25)(36,"h3",26),s(37,"Future payments"),a(),o(38,"mat-icon",42),s(39,"schedule"),a()(),o(40,"div",43)(41,"div")(42,"p",29),s(43,"Payments being cleared"),a(),o(44,"p",44),s(45),z(46,"currency"),a(),o(47,"p",45),s(48,"Funds from completed projects awaiting clearance."),a()(),o(49,"div")(50,"p",29),s(51,"Active project earnings"),a(),o(52,"p",44),s(53),z(54,"currency"),a(),o(55,"p",45),s(56,"Earnings from ongoing projects."),a()()()(),o(57,"mat-card",41)(58,"div",25)(59,"h3",26),s(60,"Earnings to date"),a(),o(61,"mat-icon",46),s(62,"trending_up"),a()(),o(63,"p",30),s(64),z(65,"currency"),a(),o(66,"p",47),s(67,"Your total earnings since joining."),a()()(),o(68,"div",48)(69,"div",49)(70,"div",50)(71,"mat-form-field",51)(72,"mat-label"),s(73,"Date Range"),a(),o(74,"mat-date-range-input",52)(75,"input",53),f("dateChange",function(){g(e);let r=d();return b(r.onDateFilterChange())}),a(),o(76,"input",54),f("dateChange",function(){g(e);let r=d();return b(r.onDateFilterChange())}),a()(),o(77,"mat-hint"),s(78,"MM/DD/YYYY \u2013 MM/DD/YYYY"),a(),x(79,"mat-datepicker-toggle",55)(80,"mat-date-range-picker",null,0),a(),o(82,"mat-form-field",56)(83,"mat-label"),s(84,"Activity Type"),a(),o(85,"mat-select",57),f("selectionChange",function(r){g(e);let c=d();return b(c.onActivityFilterChange(r))}),o(86,"mat-option",58),s(87,"All Activities"),a(),o(88,"mat-option",59),s(89,"Project Started"),a(),o(90,"mat-option",60),s(91,"Project Completed"),a(),o(92,"mat-option",61),s(93,"Additional Payment"),a(),o(94,"mat-option",62),s(95,"Payment Cleared"),a(),o(96,"mat-option",63),s(97,"Withdrawal"),a(),o(98,"mat-option",64),s(99,"Refund"),a(),o(100,"mat-option",65),s(101,"Platform Fee"),a()()(),_(102,Lc,4,0,"button",66),a(),o(103,"div",67)(104,"button",68),f("click",function(){g(e);let r=d();return b(r.setViewMode("grid"))}),o(105,"mat-icon"),s(106,"grid_view"),a()(),o(107,"button",69),f("click",function(){g(e);let r=d();return b(r.setViewMode("list"))}),o(108,"mat-icon"),s(109,"view_list"),a()(),o(110,"button",70),f("click",function(){g(e);let r=d();return b(r.emailActivityReport())}),o(111,"mat-icon",13),s(112,"email"),a(),s(113," Email Report "),a(),o(114,"button",71),f("click",function(){g(e);let r=d();return b(r.debugFilters())}),s(115," Debug "),a()()()(),o(116,"mat-card",72)(117,"div",73)(118,"h2",74),s(119,"Transaction History"),a(),o(120,"p",4),s(121,"View your earnings and withdrawal history"),a()(),o(122,"mat-tab-group",75)(123,"mat-tab",76),_(124,Nc,4,0,"div",77)(125,Vc,9,0,"div",78)(126,zc,7,0,"div",78)(127,sd,2,1),a(),o(128,"mat-tab",79),_(129,ld,4,0,"div",77)(130,md,9,1,"div",78)(131,Pd,19,5,"div",80),a()()(),_(132,Rd,11,0,"div",81)}if(t&2){let e,i,r=Oe(81),c=d();l(11),h(W(12,24,c.earningsSummary().available)),l(2),y("ngClass",It(32,Xl,c.stripeConnectionStatus()==="connected",c.stripeConnectionStatus()==="pending",c.stripeConnectionStatus()==="failed",c.stripeConnectionStatus()==="not-connected")),l(2),y("ngClass",It(37,Jl,c.stripeConnectionStatus()==="connected",c.stripeConnectionStatus()==="pending",c.stripeConnectionStatus()==="failed",c.stripeConnectionStatus()==="not-connected")),l(),m((e=c.stripeConnectionStatus())==="connected"?16:e==="pending"?17:e==="failed"?18:19),l(4),y("ngClass",It(42,ec,c.stripeConnectionStatus()==="connected",c.stripeConnectionStatus()==="pending",c.stripeConnectionStatus()==="failed",c.stripeConnectionStatus()==="not-connected")),l(),m((i=c.stripeConnectionStatus())==="connected"?21:i==="pending"?22:i==="failed"?23:24),l(5),m(c.stripeConnectionStatus()==="connected"&&c.earningsSummary().available>0?26:c.stripeConnectionStatus()==="not-connected"?27:c.earningsSummary().available<=0?28:29),l(4),m(c.stripeConnectionStatus()==="connected"?30:-1),l(2),m(c.hasStripeAccount()?32:33),l(13),h(W(46,26,c.earningsSummary().payments_clearing)),l(8),h(W(54,28,c.earningsSummary().active_orders)),l(11),h(W(65,30,c.earningsSummary().total_earnings)),l(10),y("rangePicker",r)("formGroup",c.filterForm),l(5),y("for",r),l(23),m(c.hasActiveFilters()?102:-1),l(2),N("bg-gray-200",c.viewMode()==="grid"),l(3),N("bg-gray-200",c.viewMode()==="list"),l(3),y("disabled",c.loading()),l(14),m(c.loadingTransactions()?124:c.filteredTransactions().length===0&&c.hasActiveFilters()?125:c.transactions().length===0?126:127),l(5),m(c.stripeLoading()?129:c.withdrawals().length===0?130:131),l(3),m(c.showEmptyState()?132:-1)}}var xi=class t{http=u(Bt);stripeConnectService=u(ia);withdrawalService=u(bi);dialog=u(ei);snackBar=u(ze);fb=u(it);apiUrl=`${Nt.api.baseUrl}/wallets`;loading=E(!1);loadingTransactions=E(!1);earningsSummary=E(null);transactions=E([]);filteredTransactions=E([]);error=E(null);viewMode=E("list");stripeAccountStatus=E({has_account:!1,payouts_enabled:!1,requirements_due:!1});withdrawals=E([]);stripeLoading=E(!1);filterForm=this.fb.group({startDate:[null],endDate:[null],activityFilter:[""]});hasEarnings=R(()=>{let n=this.earningsSummary();return n&&n.total_earnings>0});canWithdraw=R(()=>{let n=this.earningsSummary();return n&&n.available>0});showEmptyState=R(()=>{let n=this.earningsSummary(),e=this.transactions();return!this.loading()&&n&&e.length===0});hasActiveFilters=R(()=>{let n=this.filterForm.value;return!!(n.startDate||n.endDate||n.activityFilter&&n.activityFilter!=="")});hasStripeAccount=R(()=>{let n=this.stripeAccountStatus();return n.has_account&&n.payouts_enabled&&!n.requirements_due});canWithdrawToStripe=R(()=>this.canWithdraw()&&this.hasStripeAccount());stripeConnectionStatus=R(()=>{let n=this.stripeAccountStatus();return n.has_account?n.requirements_due?"pending":n.payouts_enabled?"connected":"failed":"not-connected"});displayedColumns=["date","type","description","amount","status"];ngOnInit(){return k(this,null,function*(){yield this.loadEarningsSummary(),yield this.loadTransactions(),yield this.loadStripeAccountStatus(),yield this.loadWithdrawals(),this.filterForm.valueChanges.subscribe(()=>{this.applyFilters()})})}loadEarningsSummary(){return k(this,null,function*(){console.log("\u{1F504} Loading earnings summary..."),this.loading.set(!0),this.error.set(null);try{console.log("\u{1F4E1} Making API call to:",`${this.apiUrl}/summary`);let n=yield ve(this.http.get(`${this.apiUrl}/summary`));if(console.log("\u2705 API Response:",n),n)this.earningsSummary.set(n),console.log("\u{1F4B0} Earnings summary set:",n);else{console.log("\u{1F3D7}\uFE0F No earnings data, setting default...");let e={active_orders:0,payments_clearing:0,available:0,total_earnings:0};this.earningsSummary.set(e)}}catch(n){if(console.error("\u274C Error loading earnings summary:",n),console.error("Error details:",{status:n.status,statusText:n.statusText,message:n.message,url:n.url}),n.status===401)this.error.set("Authentication failed. Please log in again.");else if(n.status===404){console.log("\u{1F3D7}\uFE0F Wallets not found, setting default summary...");let e={active_orders:0,payments_clearing:0,available:0,total_earnings:0};this.earningsSummary.set(e)}else this.error.set("Failed to load earnings data")}finally{this.loading.set(!1),console.log("\u{1F3C1} Loading complete. Summary:",this.earningsSummary())}})}loadTransactions(){return k(this,null,function*(){this.loadingTransactions.set(!0);try{let e=(yield ve(this.http.get(`${this.apiUrl}/transactions`)))||[];this.transactions.set(e);let i=[...new Set(e.map(r=>r.transaction_type))];console.log("Available transaction types in data:",i),this.applyFilters()}catch(n){console.error("Error loading transactions:",n),this.transactions.set([]),this.filteredTransactions.set([])}finally{this.loadingTransactions.set(!1)}})}formatCurrency(n){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n)}formatDate(n){return new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}getTransactionTypeLabel(n){return{project_started:"Project Started",project_completed:"Project Completed",additional_payment:"Additional Payment",payment_cleared:"Payment Cleared",withdrawal:"Withdrawal",refund:"Refund",platform_fee:"Platform Fee"}[n]||n}getStatusColor(n){return{completed:"text-green-600",pending:"text-yellow-600",failed:"text-red-600",cancelled:"text-gray-600"}[n]||"text-gray-600"}getTransactionTypeColor(n){return{project_started:"text-blue-600",project_completed:"text-green-600",additional_payment:"text-green-600",payment_cleared:"text-purple-600",withdrawal:"text-red-600",platform_fee:"text-orange-600",refund:"text-purple-600"}[n]||"text-gray-600"}retryLoad(){return k(this,null,function*(){yield this.loadEarningsSummary(),yield this.loadTransactions()})}loadStripeAccountStatus(){return k(this,null,function*(){try{this.stripeLoading.set(!0);let n=yield ve(this.stripeConnectService.getAccountStatus());this.stripeAccountStatus.set(n)}catch(n){console.error("Error loading Stripe account status:",n)}finally{this.stripeLoading.set(!1)}})}loadWithdrawals(){return k(this,null,function*(){try{let n=yield ve(this.withdrawalService.getWithdrawals());this.withdrawals.set(n.withdrawals)}catch(n){console.error("Error loading withdrawals:",n)}})}connectStripe(){return k(this,null,function*(){try{this.stripeLoading.set(!0);let n=yield ve(this.stripeConnectService.createOrGetAccount());n.onboarding_url?window.location.href=n.onboarding_url:(yield this.loadStripeAccountStatus(),this.snackBar.open("Stripe account already connected","Close",{duration:3e3}))}catch(n){console.error("Error connecting Stripe:",n),this.snackBar.open("Failed to connect Stripe account","Close",{duration:3e3})}finally{this.stripeLoading.set(!1)}})}withdrawToStripe(){return k(this,null,function*(){let n=this.earningsSummary();if(!n||n.available<=0){this.snackBar.open("No funds available for withdrawal","Close",{duration:3e3});return}if(!this.hasStripeAccount()){this.snackBar.open("Please complete your Stripe account setup first","Close",{duration:3e3});return}try{let e={amount:n.available,method:"stripe"},i=yield ve(this.withdrawalService.createWithdrawal(e));this.snackBar.open(`Withdrawal of $${n.available.toFixed(2)} initiated successfully`,"Close",{duration:5e3}),yield this.loadEarningsSummary(),yield this.loadWithdrawals()}catch(e){console.error("Error initiating withdrawal:",e),this.snackBar.open("Failed to initiate withdrawal","Close",{duration:3e3})}})}disconnectStripe(){return k(this,null,function*(){if(!this.hasStripeAccount()){this.snackBar.open("No Stripe account connected","Close",{duration:3e3});return}let n={title:"Disconnect Stripe Account",message:"Are you sure you want to disconnect your Stripe account? You will not be able to withdraw funds until you reconnect. Any pending withdrawals will continue to process normally.",confirmText:"Disconnect",cancelText:"Keep Connected",type:"warning",icon:"warning"},e=this.dialog.open(vi,{width:"450px",data:n,disableClose:!0});if(yield ve(e.afterClosed()))try{this.stripeLoading.set(!0);let r=yield ve(this.stripeConnectService.disconnectAccount());r.success?(this.snackBar.open("Stripe account disconnected successfully","Close",{duration:3e3}),yield this.loadStripeAccountStatus()):this.snackBar.open(r.message||"Failed to disconnect Stripe account","Close",{duration:3e3})}catch(r){console.error("Error disconnecting Stripe:",r),this.snackBar.open("Failed to disconnect Stripe account","Close",{duration:3e3})}finally{this.stripeLoading.set(!1)}})}openStripeDashboard(){return k(this,null,function*(){if(!this.hasStripeAccount()){this.snackBar.open("No Stripe account connected","Close",{duration:3e3});return}try{this.stripeLoading.set(!0);let n=yield ve(this.stripeConnectService.createLoginLink());n.url&&window.open(n.url,"_blank")}catch(n){console.error("Error opening Stripe dashboard:",n),this.snackBar.open("Failed to open Stripe dashboard","Close",{duration:3e3})}finally{this.stripeLoading.set(!1)}})}onDateFilterChange(){console.log("Date filter changed:",this.filterForm.value),this.applyFilters()}onActivityFilterChange(n){console.log("Activity filter changed:",this.filterForm.value,n),this.applyFilters()}clearFilters(){this.filterForm.reset({startDate:null,endDate:null,activityFilter:""}),this.applyFilters()}applyFilters(){let n=this.filterForm.value,e=[...this.transactions()];if(console.log("Applying filters with form value:",n),console.log("Original transactions count:",e.length),n.startDate||n.endDate){let i=e.length;e=e.filter(r=>{let c=new Date(r.createdAt);return!(n.startDate&&c<new Date(n.startDate)||n.endDate&&c>new Date(n.endDate))}),console.log("After date filter:",e.length,"removed:",i-e.length)}if(n.activityFilter&&n.activityFilter!==""){let i=e.length;e=e.filter(r=>{let c=r.transaction_type===n.activityFilter;return console.log("Transaction type:",r.transaction_type,"Filter:",n.activityFilter,"Matches:",c),c}),console.log("After activity filter:",e.length,"removed:",i-e.length)}console.log("Final filtered transactions count:",e.length),this.filteredTransactions.set(e)}setViewMode(n){this.viewMode.set(n)}emailActivityReport(){return k(this,null,function*(){try{this.loading.set(!0),this.snackBar.open("Activity report sent to your email","Close",{duration:3e3})}catch(n){console.error("Error sending email report:",n),this.snackBar.open("Failed to send email report","Close",{duration:3e3})}finally{this.loading.set(!1)}})}debugFilters(){console.log("=== FILTER DEBUG ==="),console.log("Form value:",this.filterForm.value),console.log("Total transactions:",this.transactions().length),console.log("Filtered transactions:",this.filteredTransactions().length),console.log("Has active filters:",this.hasActiveFilters());let n=[...new Set(this.transactions().map(e=>e.transaction_type))];console.log("Available transaction types:",n),this.applyFilters()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-earnings"]],decls:14,vars:3,consts:[["picker",""],[1,"earnings-container","p-6","space-y-6","bg-gray-50","min-h-screen"],[1,"flex","justify-between","items-center"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-gray-600","mt-1"],[1,"flex","gap-3"],[1,"bg-green-600","hover:bg-green-700","text-white","px-6","py-3","rounded-lg","font-medium","transition-colors","disabled:opacity-50",3,"disabled"],[1,"bg-blue-600","hover:bg-blue-700","text-white","px-6","py-3","rounded-lg","font-medium","transition-colors","disabled:opacity-50",3,"disabled"],[1,"flex","gap-2"],[1,"flex","items-center","justify-center","py-12"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-6","text-center"],[1,"bg-green-600","hover:bg-green-700","text-white","px-6","py-3","rounded-lg","font-medium","transition-colors","disabled:opacity-50",3,"click","disabled"],["diameter","20",1,"inline-block","mr-2"],[1,"mr-2"],[1,"bg-blue-600","hover:bg-blue-700","text-white","px-6","py-3","rounded-lg","font-medium","transition-colors","disabled:opacity-50",3,"click","disabled"],["matTooltip","Open Stripe Dashboard",1,"bg-gray-100","hover:bg-gray-200","text-gray-700","px-4","py-3","rounded-lg","font-medium","transition-colors","disabled:opacity-50",3,"click","disabled"],["matTooltip","Disconnect Stripe Account",1,"bg-red-100","hover:bg-red-200","text-red-700","px-4","py-3","rounded-lg","font-medium","transition-colors","disabled:opacity-50",3,"click","disabled"],["diameter","40"],[1,"ml-3","text-gray-600"],[1,"text-red-600","mb-2",2,"font-size","48px","width","48px","height","48px"],[1,"text-lg","font-semibold","text-red-900","mb-2"],[1,"text-red-700","mb-4"],[1,"bg-red-600","hover:bg-red-700","text-white","px-4","py-2","rounded-lg","font-medium","transition-colors",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"p-6","hover:shadow-lg","transition-shadow"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-sm","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"text-green-600"],[1,"space-y-2"],[1,"text-sm","text-gray-600"],[1,"text-4xl","font-bold","text-gray-900"],[1,"mt-4","p-3","rounded-lg","border",3,"ngClass"],[1,"flex","items-center","space-x-2"],[1,"text-lg",3,"ngClass"],[1,"text-sm","font-medium",3,"ngClass"],[1,"mt-4","space-y-2"],[1,"w-full","bg-green-600","text-white","px-4","py-2","rounded-lg","hover:bg-green-700","transition-colors","disabled:opacity-50",3,"disabled"],[1,"w-full","bg-blue-600","text-white","px-4","py-2","rounded-lg","hover:bg-blue-700","transition-colors","disabled:opacity-50",3,"disabled"],["disabled","",1,"w-full","bg-gray-300","text-gray-500","px-4","py-2","rounded-lg","cursor-not-allowed"],[1,"w-full","bg-orange-600","text-white","px-4","py-2","rounded-lg","hover:bg-orange-700","transition-colors","disabled:opacity-50",3,"disabled"],[1,"mt-3","text-xs","text-gray-500"],[1,"p-6"],[1,"text-blue-600"],[1,"space-y-4"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"text-purple-600"],[1,"text-sm","text-gray-600","mt-2"],[1,"bg-white","rounded-lg","border","border-gray-200","p-6"],[1,"flex","flex-wrap","gap-4","items-center"],[1,"flex","gap-4","flex-wrap"],["appearance","outline",1,"min-w-[250px]"],[3,"rangePicker","formGroup"],["matStartDate","","formControlName","startDate","placeholder","Start date",3,"dateChange"],["matEndDate","","formControlName","endDate","placeholder","End date",3,"dateChange"],["matIconSuffix","",3,"for"],["appearance","outline",1,"min-w-[200px]"],["formControlName","activityFilter",3,"selectionChange"],["value",""],["value","project_started"],["value","project_completed"],["value","additional_payment"],["value","payment_cleared"],["value","withdrawal"],["value","refund"],["value","platform_fee"],["mat-stroked-button","",1,"self-start","mt-2"],[1,"ml-auto","flex","gap-2"],["mat-icon-button","","matTooltip","Grid View",1,"hover:bg-gray-100","transition-colors",3,"click"],["mat-icon-button","","matTooltip","List View",1,"hover:bg-gray-100","transition-colors",3,"click"],["mat-raised-button","","color","primary",1,"ml-2",3,"click","disabled"],["mat-stroked-button","",1,"ml-2","text-xs",3,"click"],[1,"overflow-hidden"],[1,"p-6","border-b","border-gray-200"],[1,"text-xl","font-semibold","text-gray-900"],[1,"transaction-tabs"],["label","Earnings"],[1,"p-6","text-center"],[1,"p-12","text-center"],["label","Withdrawals"],[1,"overflow-x-auto"],[1,"bg-white","rounded-lg","border","border-gray-200","p-12","text-center"],[1,"w-full","bg-green-600","text-white","px-4","py-2","rounded-lg","hover:bg-green-700","transition-colors","disabled:opacity-50",3,"click","disabled"],["diameter","16",1,"inline-block","mr-2"],[1,"w-full","bg-blue-600","text-white","px-4","py-2","rounded-lg","hover:bg-blue-700","transition-colors","disabled:opacity-50",3,"click","disabled"],[1,"w-full","bg-orange-600","text-white","px-4","py-2","rounded-lg","hover:bg-orange-700","transition-colors","disabled:opacity-50",3,"click","disabled"],[1,"flex-1","bg-gray-100","text-gray-700","px-3","py-2","rounded-lg","hover:bg-gray-200","transition-colors","disabled:opacity-50","text-sm",3,"click","disabled"],["diameter","14",1,"inline-block","mr-2"],[1,"mr-1","text-sm"],[1,"flex-1","bg-red-100","text-red-700","px-3","py-2","rounded-lg","hover:bg-red-200","transition-colors","disabled:opacity-50","text-sm",3,"click","disabled"],["mat-stroked-button","",1,"self-start","mt-2",3,"click"],["diameter","30"],[1,"mt-2","text-gray-600"],[1,"text-gray-400","mb-4",2,"font-size","64px","width","64px","height","64px"],[1,"text-lg","font-semibold","text-gray-900","mb-2"],[1,"text-gray-600","mb-4"],["mat-raised-button","","color","primary",3,"click"],[1,"text-gray-600"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4","p-6"],["mat-table","",1,"w-full",3,"dataSource"],["matColumnDef","date"],["mat-header-cell","","class","font-semibold text-gray-900",4,"matHeaderCellDef"],["mat-cell","","class","text-gray-600",4,"matCellDef"],["matColumnDef","type"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","amount"],["mat-header-cell","","class","font-semibold text-gray-900 text-right",4,"matHeaderCellDef"],["mat-cell","","class","text-right",4,"matCellDef"],["matColumnDef","status"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","hover:bg-gray-50",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"font-semibold","text-gray-900"],["mat-cell","",1,"text-gray-600"],["mat-cell",""],[1,"font-medium"],[1,"text-sm","text-gray-500"],["mat-header-cell","",1,"font-semibold","text-gray-900","text-right"],["mat-cell","",1,"text-right"],[1,"font-semibold"],[1,"px-2","py-1","rounded-full","text-xs","font-medium","bg-gray-100"],["mat-header-row",""],["mat-row","",1,"hover:bg-gray-50"],[1,"bg-white","p-4","rounded-lg","border","border-gray-200","hover:shadow-lg","transition-shadow"],[1,"flex","items-start","justify-between","mb-3"],[1,"flex-1"],[1,"font-medium","text-gray-900","mb-1"],[1,"font-bold","text-lg"],[1,"mb-3"],[1,"text-sm","text-gray-700"],[1,"text-xs","text-gray-500","mt-1"],[1,"flex","items-center","justify-between"],[1,"text-xs","font-medium"],[1,"bg-blue-600","hover:bg-blue-700","text-white","px-4","py-2","rounded-lg","font-medium","transition-colors"],[1,"mt-4","p-4","bg-blue-50","border","border-blue-200","rounded-lg"],[1,"bg-blue-600","hover:bg-blue-700","text-white","px-4","py-2","rounded-lg","font-medium","transition-colors",3,"click"],[1,"flex","items-center","mb-2"],[1,"text-blue-600","mr-2"],[1,"font-medium","text-blue-900"],[1,"text-blue-700","text-sm","mb-3"],[1,"bg-blue-600","hover:bg-blue-700","text-white","px-3","py-2","rounded-lg","text-sm","font-medium","transition-colors","disabled:opacity-50",3,"click","disabled"],[1,"bg-white","border","border-blue-300","text-blue-700","px-3","py-2","rounded-lg","text-sm","font-medium","hover:bg-blue-50","transition-colors","disabled:opacity-50",3,"click","disabled"],["matColumnDef","method"],[1,"text-xs","text-gray-400"],[1,"font-semibold","text-red-600"],[1,"text-xs","text-gray-600","font-medium"],[1,"px-2","py-1","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"text-gray-600","mb-6"],["routerLink","../businesses",1,"bg-gray-900","text-white","px-6","py-3","rounded-lg","font-medium","hover:bg-gray-800","transition-colors"]],template:function(e,i){e&1&&(o(0,"div",1)(1,"div",2)(2,"div")(3,"h1",3),s(4,"Earnings & Payments"),a(),o(5,"p",4),s(6,"Manage your earnings, track payments, and request withdrawals"),a()(),o(7,"div",5),_(8,oc,4,2,"button",6)(9,lc,4,2,"button",7)(10,uc,9,4,"div",8),a()(),_(11,_c,4,0,"div",9)(12,hc,11,1,"div",10)(13,Md,133,47),a()),e&2&&(l(8),m(i.canWithdrawToStripe()?8:i.canWithdraw()&&!i.hasStripeAccount()?9:-1),l(2),m(i.hasStripeAccount()?10:-1),l(),m(i.loading()?11:i.error()?12:i.earningsSummary()?13:-1))},dependencies:[K,pn,Qe,At,Lt,_n,nt,Wt,Xe,Je,et,tt,ke,ht,le,se,Ht,fe,he,ut,pt,gt,Ve,ft,Ha,ja,Fa,La,Aa,Ia,Na,Ba,Oa,Va,za,ti,vt,lt,st,ot,Qt,rt,mt,dt,ct,at,Yn,qn,Un,Wn,Gn,Qn,Zn,ta,ea],styles:[".earnings-container[_ngcontent-%COMP%]{min-height:calc(100vh - 64px)}.mat-mdc-card[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f;transition:box-shadow .2s ease-in-out}.mat-mdc-card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d}.transaction-tabs[_ngcontent-%COMP%]   .mat-mdc-tab-group[_ngcontent-%COMP%]{--mat-tab-header-divider-color: #e5e7eb}.transaction-tabs[_ngcontent-%COMP%]   .mat-mdc-tab[_ngcontent-%COMP%]{min-width:120px}.mat-mdc-table[_ngcontent-%COMP%]{background:transparent}.mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{background:#f9fafb;border-bottom:1px solid #e5e7eb;font-weight:600;color:#374151;padding:16px}.mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{border-bottom:1px solid #f3f4f6;padding:16px}.mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-row[_ngcontent-%COMP%]:hover{background-color:#f9fafb}button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;font-weight:500;transition:all .2s ease-in-out}button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:4px 8px;border-radius:9999px;font-size:12px;font-weight:500}.status-badge.completed[_ngcontent-%COMP%]{background-color:#dcfce7;color:#166534}.status-badge.pending[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.status-badge.failed[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.status-badge.cancelled[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#6b7280}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.animate-pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s cubic-bezier(.4,0,.6,1) infinite}@media (max-width: 768px){.earnings-container[_ngcontent-%COMP%]{padding:16px}.grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.mat-mdc-table[_ngcontent-%COMP%]{font-size:14px}.mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{padding:8px}}"]})};var w_=[{path:"",redirectTo:"overview",pathMatch:"full"},{path:"overview",component:ii},{path:"businesses",loadChildren:()=>import("./chunk-CS4UTBTF.js").then(t=>t.BUSINESSES_ROUTES)},{path:"services",loadChildren:()=>import("./chunk-MX5AB5GA.js").then(t=>t.SERVICES_ROUTES)},{path:"notifications",loadChildren:()=>import("./chunk-JNGC2YHL.js").then(t=>t.NOTIFICATION_ROUTES)},{path:"messages",loadChildren:()=>import("./chunk-H4TI6M5O.js").then(t=>t.MESSAGES_ROUTES)},{path:"projects",component:ni},{path:"projects/:id",component:ai},{path:"earnings",component:xi},{path:"profile",component:ri},{path:"settings",component:ci},{path:"test-notifications",component:oi},{path:"**",redirectTo:""}];export{w_ as DASHBOARD_ROUTES};
