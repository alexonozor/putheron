import{a as he,b as pe}from"./chunk-UPEXE4YW.js";import{a as fe,b as _e}from"./chunk-ROYNIK6S.js";import{a as at,b as dt}from"./chunk-322BGZT3.js";import{a as ce,b as le,c as me,d as ue}from"./chunk-PUTTUKWR.js";import{a as st}from"./chunk-LCCWZAEX.js";import{h as mt}from"./chunk-FY37IJMK.js";import{j as tt,k as de,l as it,m as Ee}from"./chunk-J6NDGHDX.js";import{B as ft,c as ut,h as ht,l as pt}from"./chunk-U7A7OHU6.js";import{a as ot}from"./chunk-MNGBVTM3.js";import{a as rt}from"./chunk-4MGQA2I3.js";import{a as nt}from"./chunk-EPCACDVR.js";import{a as ct,b as lt}from"./chunk-U3KPP4N4.js";import{c as $e,k as j,s as U,t as se,u as W}from"./chunk-VSWUYYDO.js";import{a as Q,b as z}from"./chunk-QFHPWKDD.js";import{D as et,F as H,a as I,l as Je,r as Ke,s as Ye,x as Xe}from"./chunk-O2FJLJYH.js";import{b as ne,e as Ze,g as re,h as oe,l as ae}from"./chunk-72SEU4B5.js";import{i as Ge,l as qe,t as R}from"./chunk-FI3M32ZM.js";import{$a as l,$b as m,A as Ne,B as N,Bc as Ue,Da as P,Ea as Fe,Eb as He,F as Pe,Fb as _,Gb as g,H as Ae,I as Ce,Jb as je,Kb as Qe,Lb as b,Mb as o,Nb as a,Ob as v,Rc as B,Sc as V,U as xe,Vb as f,Vc as We,W as y,Wc as G,Zb as u,Zc as Le,_c as ie,ac as A,ba as q,bc as k,cc as L,da as ye,dc as Se,eb as $,ec as T,f as D,fa as d,fb as J,fc as E,gb as ke,jb as Ve,jc as F,ka as h,kc as De,la as p,lc as O,mc as Y,nc as s,oa as Me,oc as ze,pa as Z,pc as S,q as ve,qb as x,rb as K,sb as Re,sc as X,tc as ee,ua as M,ub as Ie,uc as te,x as Be,xc as Te}from"./chunk-M7BUBJMW.js";import{e as C}from"./chunk-JKOY2XUY.js";var kt=["*",[["mat-toolbar-row"]]],St=["*","mat-toolbar-row"],Dt=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275dir=Re({type:r,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return r})(),_t=(()=>{class r{_elementRef=d(P);_platform=d(I);_document=d(Z);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=x({type:r,selectors:[["mat-toolbar"]],contentQueries:function(t,i,c){if(t&1&&L(c,Dt,5),t&2){let w;T(w=E())&&(i._toolbarRows=w)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(t,i){t&2&&(Y(i.color?"mat-"+i.color:""),O("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",i._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:St,decls:2,vars:0,template:function(t,i){t&1&&(A(kt),k(0),k(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mat-button-text-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mat-button-outlined-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return r})();var gt=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=K({type:r});static \u0275inj=q({imports:[H,H]})}return r})();var bt=["*"],Ot=["content"],Bt=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Nt=["mat-drawer","mat-drawer-content","*"];function Pt(r,n){if(r&1){let e=f();o(0,"div",1),u("click",function(){h(e);let i=m();return p(i._onBackdropClicked())}),a()}if(r&2){let e=m();O("mat-drawer-shown",e._isShowingBackdrop())}}function At(r,n){r&1&&(o(0,"mat-drawer-content"),k(1,2),a())}var Ft=new ye("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:Vt}),wt=new ye("MAT_DRAWER_CONTAINER");function Vt(){return!1}var Oe=(()=>{class r extends de{_platform=d(I);_changeDetectorRef=d(ie);_container=d(It);constructor(){let e=d(P),t=d(tt),i=d(J);super(e,t,i)}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}_shouldBeHidden(){if(this._platform.isBrowser)return!1;let{start:e,end:t}=this._container;return e!=null&&e.mode!=="over"&&e.opened||t!=null&&t.mode!=="over"&&t.opened}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=x({type:r,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:6,hostBindings:function(t,i){t&2&&(De("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px"),O("mat-drawer-content-hidden",i._shouldBeHidden()))},features:[Te([{provide:de,useExisting:r}]),Ie],ngContentSelectors:bt,decls:1,vars:0,template:function(t,i){t&1&&(A(),k(0))},encapsulation:2,changeDetection:0})}return r})(),Rt=(()=>{class r{_elementRef=d(P);_focusTrapFactory=d(Ye);_focusMonitor=d(Je);_platform=d(I);_ngZone=d(J);_renderer=d(Ve);_interactivityChecker=d(Ke);_doc=d(Z);_container=d(wt,{optional:!0});_focusTrap=null;_elementFocusedBeforeDrawerWasOpened=null;_eventCleanups;_isAttached;_anchor;get position(){return this._position}set position(e){e=e==="end"?"end":"start",e!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}_position="start";get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}_mode="over";get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=j(e)}_disableClose=!1;get autoFocus(){let e=this._autoFocus;return e??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(e){(e==="true"||e==="false"||e==null)&&(e=j(e)),this._autoFocus=e}_autoFocus;get opened(){return this._opened()}set opened(e){this.toggle(j(e))}_opened=M(!1);_openedVia;_animationStarted=new D;_animationEnd=new D;openedChange=new $(!0);_openedStream=this.openedChange.pipe(N(e=>e),ve(()=>{}));openedStart=this._animationStarted.pipe(N(()=>this.opened),Ce(void 0));_closedStream=this.openedChange.pipe(N(e=>!e),ve(()=>{}));closedStart=this._animationStarted.pipe(N(()=>!this.opened),Ce(void 0));_destroyed=new D;onPositionChanged=new $;_content;_modeChanged=new D;_injector=d(Me);_changeDetectorRef=d(ie);constructor(){this.openedChange.pipe(y(this._destroyed)).subscribe(e=>{e?(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement,this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{let e=this._elementRef.nativeElement;Be(e,"keydown").pipe(N(t=>t.keyCode===27&&!this.disableClose&&!Xe(t)),y(this._destroyed)).subscribe(t=>this._ngZone.run(()=>{this.close(),t.stopPropagation(),t.preventDefault()})),this._eventCleanups=[this._renderer.listen(e,"transitionrun",this._handleTransitionEvent),this._renderer.listen(e,"transitionend",this._handleTransitionEvent),this._renderer.listen(e,"transitioncancel",this._handleTransitionEvent)]}),this._animationEnd.subscribe(()=>{this.openedChange.emit(this.opened)})}_forceFocus(e,t){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let i=()=>{c(),w(),e.removeAttribute("tabindex")},c=this._renderer.listen(e,"blur",i),w=this._renderer.listen(e,"mousedown",i)})),e.focus(t)}_focusByCssSelector(e,t){let i=this._elementRef.nativeElement.querySelector(e);i&&this._forceFocus(i,t)}_takeFocus(){if(!this._focusTrap)return;let e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":ke(()=>{!this._focusTrap.focusInitialElement()&&typeof e.focus=="function"&&e.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(e){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,t){e&&t&&(this._openedVia=t);let i=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),i}_setOpen(e,t,i){return e===this.opened?Promise.resolve(e?"open":"close"):(this._opened.set(e),this._container?._transitionsEnabled?this._setIsAnimating(!0):setTimeout(()=>{this._animationStarted.next(),this._animationEnd.next()}),this._elementRef.nativeElement.classList.toggle("mat-drawer-opened",e),!e&&t&&this._restoreFocus(i),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(c=>{this.openedChange.pipe(Ae(1)).subscribe(w=>c(w?"open":"close"))}))}_setIsAnimating(e){this._elementRef.nativeElement.classList.toggle("mat-drawer-animating",e)}_getWidth(){return this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(e){if(!this._platform.isBrowser)return;let t=this._elementRef.nativeElement,i=t.parentNode;e==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),i.insertBefore(this._anchor,t)),i.appendChild(t)):this._anchor&&this._anchor.parentNode.insertBefore(t,this._anchor)}_handleTransitionEvent=e=>{let t=this._elementRef.nativeElement;e.target===t&&this._ngZone.run(()=>{e.type==="transitionrun"?this._animationStarted.next(e):(e.type==="transitionend"&&this._setIsAnimating(!1),this._animationEnd.next(e))})};static \u0275fac=function(t){return new(t||r)};static \u0275cmp=x({type:r,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(t&1&&Se(Ot,5),t&2){let c;T(c=E())&&(i._content=c.first)}},hostAttrs:[1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){t&2&&(He("align",null)("tabIndex",i.mode!=="side"?"-1":null),De("visibility",!i._container&&!i.opened?"hidden":null),O("mat-drawer-end",i.position==="end")("mat-drawer-over",i.mode==="over")("mat-drawer-push",i.mode==="push")("mat-drawer-side",i.mode==="side"))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:bt,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(t,i){t&1&&(A(),o(0,"div",1,0),k(2),a())},dependencies:[de],encapsulation:2,changeDetection:0})}return r})(),It=(()=>{class r{_dir=d(et,{optional:!0});_element=d(P);_ngZone=d(J);_changeDetectorRef=d(ie);_animationDisabled=$e();_transitionsEnabled=!1;_allDrawers;_drawers=new Fe;_content;_userContent;get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=j(e)}_autosize=d(Ft);get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=e==null?null:j(e)}_backdropOverride;backdropClick=new $;_start;_end;_left;_right;_destroyed=new D;_doCheckSubject=new D;_contentMargins={left:null,right:null};_contentMarginChanges=new D;get scrollable(){return this._userContent||this._content}_injector=d(Me);constructor(){let e=d(I),t=d(it);this._dir?.change.pipe(y(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),t.change().pipe(y(this._destroyed)).subscribe(()=>this.updateContentMargins()),!this._animationDisabled&&e.isBrowser&&this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._element.nativeElement.classList.add("mat-drawer-transition"),this._transitionsEnabled=!0},200)})}ngAfterContentInit(){this._allDrawers.changes.pipe(xe(this._allDrawers),y(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(t=>!t._container||t._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(xe(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Pe(10),y(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,t=0;if(this._left&&this._left.opened){if(this._left.mode=="side")e+=this._left._getWidth();else if(this._left.mode=="push"){let i=this._left._getWidth();e+=i,t-=i}}if(this._right&&this._right.opened){if(this._right.mode=="side")t+=this._right._getWidth();else if(this._right.mode=="push"){let i=this._right._getWidth();t+=i,e-=i}}e=e||null,t=t||null,(e!==this._contentMargins.left||t!==this._contentMargins.right)&&(this._contentMargins={left:e,right:t},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(y(this._drawers.changes)).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),e.mode!=="side"&&e.openedChange.pipe(y(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e.onPositionChanged.pipe(y(this._drawers.changes)).subscribe(()=>{ke({read:()=>this._validateDrawers()},{injector:this._injector})})}_watchDrawerMode(e){e._modeChanged.pipe(y(Ne(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){let t=this._element.nativeElement.classList,i="mat-drawer-container-has-open";e?t.add(i):t.remove(i)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{e.position=="end"?(this._end!=null,this._end=e):(this._start!=null,this._start=e)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return e!=null&&e.opened}_drawerHasBackdrop(e){return this._backdropOverride==null?!!e&&e.mode!=="side":this._backdropOverride}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=x({type:r,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,c){if(t&1&&(L(c,Oe,5),L(c,Rt,5)),t&2){let w;T(w=E())&&(i._content=w.first),T(w=E())&&(i._allDrawers=w)}},viewQuery:function(t,i){if(t&1&&Se(Oe,5),t&2){let c;T(c=E())&&(i._userContent=c.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){t&2&&O("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Te([{provide:wt,useExisting:r}])],ngContentSelectors:Nt,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){t&1&&(A(Bt),_(0,Pt,1,2,"div",0),k(1),k(2,1),_(3,At,2,0,"mat-drawer-content")),t&2&&(g(i.hasBackdrop?0:-1),l(3),g(i._content?-1:3))},dependencies:[Oe],styles:[`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`],encapsulation:2,changeDetection:0})}return r})();var vt=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=K({type:r});static \u0275inj=q({imports:[H,Ee,Ee,H]})}return r})();var Ut=(r,n)=>n._id;function Wt(r,n){if(r&1){let e=f();o(0,"button",12),u("menuOpened",function(){h(e);let i=m();return p(i.onMenuOpened())}),o(1,"mat-icon",13),s(2,"notifications_none"),a()()}if(r&2){let e=m(),t=F(3);b("matMenuTriggerFor",t),l(),b("matBadge",e.unreadCount()>99?"99+":e.unreadCount())}}function Lt(r,n){if(r&1){let e=f();o(0,"button",14),u("menuOpened",function(){h(e);let i=m();return p(i.onMenuOpened())}),o(1,"mat-icon",15),s(2,"notifications_none"),a()()}if(r&2){m();let e=F(3);b("matMenuTriggerFor",e)}}function Gt(r,n){if(r&1){let e=f();o(0,"button",16),u("click",function(i){return h(e),m().markAllAsRead(),p(i.stopPropagation())}),s(1),a()}if(r&2){let e=m();b("disabled",e.isMarkingAllRead),l(),S(" ",e.isMarkingAllRead?"Marking...":"Mark all read"," ")}}function qt(r,n){r&1&&(o(0,"div",11),v(1,"mat-spinner",17),a())}function Zt(r,n){r&1&&(o(0,"div",11)(1,"mat-icon",18),s(2,"notifications_none"),a(),o(3,"p",19),s(4,"No notifications yet"),a()())}function $t(r,n){r&1&&v(0,"div",29)}function Jt(r,n){r&1&&v(0,"mat-divider")}function Kt(r,n){if(r&1){let e=f();o(0,"button",20),u("click",function(){let i=h(e).$implicit,c=m(2);return p(c.handleNotificationClick(i))}),o(1,"div",21)(2,"div",22)(3,"span",23),s(4),a()(),o(5,"div",24)(6,"div",25)(7,"div",24)(8,"p",26),s(9),a(),o(10,"p",27),s(11),a(),o(12,"p",28),s(13),a()(),_(14,$t,1,0,"div",29),a()()()(),_(15,Jt,1,0,"mat-divider")}if(r&2){let e=n.$implicit,t=n.$index,i=n.$count,c=m(2);Y(c.getNotificationStyles(e)),l(4),ze(c.getNotificationIcon(e.type)),l(5),S(" ",e.title," "),l(2),S(" ",e.message," "),l(2),S(" ",c.formatTimeAgo(e.createdAt)," "),l(),g(e.is_read?-1:14),l(),g(t!==i-1?15:-1)}}function Yt(r,n){if(r&1&&je(0,Kt,16,8,null,null,Ut),r&2){let e=m();Qe(e.recentNotifications())}}var be=class r{notificationService=d(st);socketService=d(dt);router=d(re);isMarkingAllRead=!1;notifications=this.notificationService.notifications;unreadCount=this.notificationService.unreadCount;isLoading=this.notificationService.isLoading;hasUnreadNotifications=B(()=>this.unreadCount()>0);recentNotifications=B(()=>this.notifications().slice(0,5));constructor(){V(()=>{this.updatePageTitle()})}ngOnInit(){this.loadNotifications(),this.notificationService.requestNotificationPermission()}loadNotifications(){return C(this,null,function*(){try{yield this.notificationService.getNotifications({limit:20,page:1})}catch(n){console.error("Error loading notifications:",n)}})}onMenuOpened(){this.markUnseenAsSeen()}markUnseenAsSeen(){return C(this,null,function*(){try{yield this.notificationService.markAllAsSeen()}catch(n){console.error("Error marking notifications as seen:",n)}})}markAllAsRead(){return C(this,null,function*(){this.isMarkingAllRead=!0;try{yield this.notificationService.markAllAsRead()}catch(n){console.error("Error marking all as read:",n)}finally{this.isMarkingAllRead=!1}})}handleNotificationClick(n){return C(this,null,function*(){if(!n.is_read)try{yield this.notificationService.markAsRead(n._id)}catch(e){console.error("Error marking notification as read:",e)}this.navigateFromNotification(n)})}navigateFromNotification(n){switch(n.type){case"project_created":case"project_accepted":case"project_rejected":case"project_started":case"project_completed":n.project_id&&this.router.navigate(["/dashboard/projects",n.project_id._id]);break;case"message_received":n.metadata?.chatId&&this.router.navigate(["/dashboard/messages"],{queryParams:{chat:n.metadata.chatId}});break;default:this.router.navigate(["/dashboard/notifications"]);break}}getNotificationIcon(n){return this.notificationService.getNotificationIcon(n)}getNotificationStyles(n){let e="";return n.priority==="urgent"?e+="bg-red-50 border-l-4 border-red-400 ":n.priority==="high"?e+="bg-orange-50 border-l-4 border-orange-400 ":n.is_read||(e+="bg-blue-50 "),e}formatTimeAgo(n){return this.notificationService.formatTimeAgo(n)}updatePageTitle(){let n=this.unreadCount(),e=document.title.replace(/^\(\d+\)\s/,"");n>0?document.title=`(${n}) ${e}`:document.title=e}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=x({type:r,selectors:[["app-notification-nav"]],decls:17,vars:3,consts:[["notificationMenu","matMenu"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-icon-button","",1,"text-gray-600","hover:text-primary-600",3,"matMenuTriggerFor"],["xPosition","before",1,"notification-menu"],[1,"notification-header",3,"click"],[1,"flex","items-center","justify-between","px-4","py-3"],[1,"text-sm","font-semibold","text-gray-900"],[1,"flex","items-center","gap-3"],[1,"text-xs","text-blue-600","hover:text-blue-800","font-medium",3,"disabled"],["routerLink","/dashboard/notifications",1,"text-xs","text-gray-600","hover:text-gray-800","font-medium"],[1,"notification-list"],[1,"notification-empty"],["mat-icon-button","",3,"menuOpened","matMenuTriggerFor"],["matBadgePosition","after","matBadgeColor","warn",1,"material-icons-outlined",3,"matBadge"],["mat-icon-button","",1,"text-gray-600","hover:text-primary-600",3,"menuOpened","matMenuTriggerFor"],[1,"material-icons-outlined"],[1,"text-xs","text-blue-600","hover:text-blue-800","font-medium",3,"click","disabled"],["diameter","32"],[1,"empty-icon"],[1,"text-sm","text-gray-500"],["mat-menu-item","",1,"notification-item","!h-auto","!p-3",3,"click"],[1,"flex","items-start","gap-3","w-full"],[1,"flex-shrink-0","mt-0.5"],[1,"text-lg"],[1,"flex-1","min-w-0"],[1,"flex","items-start","justify-between","gap-2"],[1,"text-sm","font-medium","text-gray-900","line-clamp-1"],[1,"text-xs","text-gray-600","mt-1","line-clamp-2"],[1,"text-xs","text-gray-400","mt-1"],[1,"w-2","h-2","bg-blue-500","rounded-full","flex-shrink-0","mt-1"]],template:function(e,t){if(e&1){let i=f();_(0,Wt,3,2,"button",1)(1,Lt,3,1,"button",2),o(2,"mat-menu",3,0)(4,"div",4),u("click",function(w){return h(i),p(w.stopPropagation())}),o(5,"div",5)(6,"h3",6),s(7,"Notifications"),a(),o(8,"div",7),_(9,Gt,2,2,"button",8),o(10,"a",9),s(11," View all "),a()()()(),v(12,"mat-divider"),o(13,"div",10),_(14,qt,2,0,"div",11)(15,Zt,5,0,"div",11)(16,Yt,2,0),a()()}e&2&&(g(t.unreadCount()>0?0:1),l(9),g(t.unreadCount()>0?9:-1),l(5),g(t.isLoading()?14:t.recentNotifications().length===0?15:16))},dependencies:[R,ae,oe,W,U,z,Q,pe,he,ue,le,ce,me,_e,fe,lt,ct],styles:[".notification-menu{background:#fff}  .notification-menu .mat-mdc-menu-panel{max-width:90vw!important;width:400px!important;max-height:500px!important}@media (max-width: 640px){  .notification-menu .mat-mdc-menu-panel{width:calc(100vw - 32px)!important;max-width:400px!important}}  .notification-menu .mat-mdc-menu-content{padding:0!important}.notification-header[_ngcontent-%COMP%]{background-color:#f9fafb;border-bottom:1px solid #e5e7eb}.notification-list[_ngcontent-%COMP%]{max-height:384px;overflow-y:auto}@media (max-width: 640px){.notification-list[_ngcontent-%COMP%]{max-height:60vh}}.notification-item[_ngcontent-%COMP%]{white-space:normal!important;line-height:normal!important}.notification-item.bg-red-50[_ngcontent-%COMP%]{background-color:#fef2f2!important;border-left:4px solid #f87171!important}.notification-item.bg-orange-50[_ngcontent-%COMP%]{background-color:#fff7ed!important;border-left:4px solid #fb923c!important}.notification-item.bg-blue-50[_ngcontent-%COMP%]{background-color:#eff6ff!important}.notification-item[_ngcontent-%COMP%]:hover{background-color:#f9fafb!important}.notification-empty[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px 16px;text-align:center;color:#6b7280}.notification-empty[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#d1d5db;margin-bottom:8px}.line-clamp-1[_ngcontent-%COMP%]{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1;line-clamp:1}.line-clamp-2[_ngcontent-%COMP%]{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;line-clamp:2}"]})};var ei=(r,n,e)=>({"background-color":r,width:n,"box-shadow":e}),we=class r{width=G("100%");backgroundColor=G("#ffffff");placeholder=G("Search business, service or location");boxShadow=G("");searchQuery=Le("");searchEvent=We();onSearch(){console.log("Search:",this.searchQuery()),this.searchEvent.emit(this.searchQuery())}onQueryChange(){}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=x({type:r,selectors:[["app-search"]],inputs:{width:[1,"width"],backgroundColor:[1,"backgroundColor"],placeholder:[1,"placeholder"],boxShadow:[1,"boxShadow"],searchQuery:[1,"searchQuery"]},outputs:{searchQuery:"searchQueryChange",searchEvent:"searchEvent"},decls:7,vars:7,consts:[[1,"flex","items-center","rounded-full","pl-4","pr-2","sm:py-1.5",3,"ngStyle"],["type","search",1,"flex-1","bg-transparent","outline-none","border-none","text-gray-700","text-sm","sm:text-base","placeholder:text-gray-500","min-w-0",3,"ngModelChange","keyup.enter","placeholder","ngModel"],["mat-flat-button","","color","primary","type","button",1,"hidden","sm:inline-flex","rounded-full","h-9","sm:h-10","px-4","text-sm","leading-none","search-desktop-button",3,"click"],["mat-icon-button","","color","primary","type","button","aria-label","Search",1,"inline-flex","my-2","sm:hidden","bg-green-600!","text-white","rounded-full","h-9","w-9","items-center","justify-center","search-mobile-button",3,"click"],[1,"text-white!"]],template:function(e,t){e&1&&(o(0,"div",0)(1,"input",1),te("ngModelChange",function(c){return ee(t.searchQuery,c)||(t.searchQuery=c),c}),u("keyup.enter",function(){return t.onSearch()}),a(),o(2,"button",2),u("click",function(){return t.onSearch()}),s(3," Search "),a(),o(4,"button",3),u("click",function(){return t.onSearch()}),o(5,"mat-icon",4),s(6,"search"),a()()()),e&2&&(b("ngStyle",Ue(3,ei,t.backgroundColor(),t.width(),t.boxShadow()?t.boxShadow():void 0)),l(),b("placeholder",t.placeholder()),X("ngModel",t.searchQuery))},dependencies:[W,se,U,z,Q,R,qe,ft,ut,ht,pt],styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:100%}@media (max-width: 639px){[_nghost-%COMP%]   .search-desktop-button[_ngcontent-%COMP%]{display:none!important}[_nghost-%COMP%]   .search-mobile-button[_ngcontent-%COMP%]{display:inline-flex!important}}@media (min-width: 640px){[_nghost-%COMP%]   .search-desktop-button[_ngcontent-%COMP%]{display:inline-flex!important}[_nghost-%COMP%]   .search-mobile-button[_ngcontent-%COMP%]{display:none!important}}"]})};function ti(r,n){if(r&1){let e=f();o(0,"app-search",15),te("searchQueryChange",function(i){h(e);let c=m();return ee(c.headerSearchQuery,i)||(c.headerSearchQuery=i),p(i)}),u("searchEvent",function(i){h(e);let c=m();return p(c.onHeaderSearch(i))}),a()}if(r&2){let e=m();X("searchQuery",e.headerSearchQuery)}}function ii(r,n){if(r&1){let e=f();o(0,"button",16),u("click",function(){h(e);let i=m();return p(i.navigateToMessages())}),o(1,"mat-icon",17),s(2,"mail_outline"),a()(),v(3,"app-notification-nav"),o(4,"div",18),s(5),a()}if(r&2){let e=m(),t=F(12);l(),b("matBadge",e.unreadMessageCount()>99?"99+":e.unreadMessageCount())("matBadgeHidden",e.unreadMessageCount()<1),l(3),b("matMenuTriggerFor",t),l(),S(" ",e.getUserInitials()," ")}}function ni(r,n){r&1&&(o(0,"a",19),s(1,"How It Works"),a(),o(2,"a",19),s(3,"Why Choose VouchHer"),a(),o(4,"button",20),s(5," Sign In "),a(),o(6,"button",21),s(7," Join "),a())}function ri(r,n){if(r&1){let e=f();o(0,"button",10),u("click",function(){h(e);let i=m();return p(i.navigateToAdmin())}),o(1,"mat-icon"),s(2,"admin_panel_settings"),a(),o(3,"span"),s(4,"Admin Panel"),a()()}}function oi(r,n){if(r&1){let e=f();o(0,"button",10),u("click",function(){h(e);let i=m(2);return p(i.navigateToCreateBusiness())}),o(1,"mat-icon"),s(2,"add_business"),a(),o(3,"span"),s(4,"Add a Business"),a()()}}function ai(r,n){if(r&1){let e=f();o(0,"button",10),u("click",function(){h(e);let i=m(2);return p(i.switchToBusinessMode())}),o(1,"mat-icon"),s(2,"business"),a(),o(3,"span"),s(4,"Switch to Business Owner"),a()()}}function si(r,n){if(r&1&&_(0,oi,5,0,"button",11)(1,ai,5,0,"button",11),r&2){let e=m();g(e.hasBusinesses()?1:0)}}function di(r,n){if(r&1){let e=f();o(0,"button",10),u("click",function(){h(e);let i=m();return p(i.switchToClientMode())}),o(1,"mat-icon"),s(2,"person_outline"),a(),o(3,"span"),s(4,"Switch to Client Mode"),a()()}}function ci(r,n){if(r&1){let e=f();o(0,"div",22)(1,"button",23),u("click",function(){h(e);let i=m();return p(i.toggleMobileMenu())}),o(2,"mat-icon"),s(3,"menu"),a()(),o(4,"a",24),v(5,"img",25),a()(),o(6,"div",26)(7,"button",27),u("click",function(){h(e);let i=m();return p(i.navigateToMessages())}),o(8,"mat-icon",17),s(9,"mail_outline"),a()(),v(10,"app-notification-nav"),o(11,"div",18),s(12),a()()}if(r&2){let e=m(),t=F(12);l(8),b("matBadge",e.unreadMessageCount()>99?"99+":e.unreadMessageCount())("matBadgeHidden",e.unreadMessageCount()<1),l(3),b("matMenuTriggerFor",t),l(),S(" ",e.getUserInitials()," ")}}function li(r,n){if(r&1){let e=f();o(0,"div",22)(1,"button",23),u("click",function(){h(e);let i=m();return p(i.toggleMobileMenu())}),o(2,"mat-icon"),s(3,"menu"),a()(),o(4,"a",24),v(5,"img",25),a()(),o(6,"button",28),s(7," Sign up "),a()}}var Mt=class r{authService=d(rt);authorizationService=d(nt);businessService=d(ot);chatService=d(at);router=d(re);route=d(Ze);drawer;maxWidth="max-w-12xl";headerSearchQuery=M("");user=this.authService.user;isAuthenticated=this.authService.isAuthenticated;showMobileMenu=M(!1);mobileMenuOpen=M(!1);unreadMessageCount=M(0);showHeaderSearch=M(!0);intersectionObserver;routerSub;hasBusinesses=M(!1);userMode=B(()=>this.user()?.user_mode||"client");isBusinessOwner=B(()=>this.userMode()==="business_owner");hasAdminAccess=B(()=>this.authorizationService.hasAdminAccess());constructor(){V(()=>{let n=this.user(),e=this.userMode(),t=this.isBusinessOwner();console.log("Header signals updated:",{user:n?.email,mode:e,isBusiness:t})}),V(()=>{this.isAuthenticated()?this.loadUnreadMessageCount():this.unreadMessageCount.set(0)}),this.router.events.subscribe(n=>{n instanceof ne&&this.isAuthenticated()&&this.loadUnreadMessageCount()}),V(()=>{this.user()?this.checkUserBusinesses():this.hasBusinesses.set(!1)}),this.setupRouteObserver(),this.syncHeaderSearchWithUrl()}syncHeaderSearchWithUrl(){this.router.events.subscribe(t=>{if(t instanceof ne){let c=this.router.parseUrl(this.router.url).queryParams.q||"";this.headerSearchQuery.set(c),console.log("Header search synced with URL:",c)}});let e=this.router.parseUrl(this.router.url).queryParams.q||"";this.headerSearchQuery.set(e)}setupRouteObserver(){this.routerSub=this.router.events.subscribe(t=>{t instanceof ne&&(t.urlAfterRedirects==="/"||t.urlAfterRedirects===""?(this.showHeaderSearch.set(!1),this.attachHeroObserver()):(this.showHeaderSearch.set(!0),this.detachHeroObserver()))});let n=this.router.url;n==="/"||n===""?(this.showHeaderSearch.set(!1),this.attachHeroObserver()):this.showHeaderSearch.set(!0)}attachHeroObserver(){this.detachHeroObserver(),setTimeout(()=>{let n=document.getElementById("hero-search-anchor");if(!n){console.warn("Hero search anchor not found, showing header search"),this.showHeaderSearch.set(!0);return}console.log("Hero search observer attached"),this.intersectionObserver=new IntersectionObserver(e=>{e.forEach(t=>{let i=!t.isIntersecting;console.log("Hero intersection:",{isIntersecting:t.isIntersecting,shouldShowHeader:i}),this.showHeaderSearch.set(i)})},{root:null,threshold:0}),this.intersectionObserver.observe(n)},100)}detachHeroObserver(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0)}checkUserBusinesses(){return C(this,null,function*(){try{let n=yield this.businessService.getMyBusinessesAsync();this.hasBusinesses.set(n.length>0)}catch(n){console.error("Error checking user businesses:",n),this.hasBusinesses.set(!1)}})}loadUnreadMessageCount(){return C(this,null,function*(){try{let n=yield this.chatService.getUnreadMessageCountAsync();this.unreadMessageCount.set(n)}catch(n){console.error("Error loading unread message count:",n),this.unreadMessageCount.set(0)}})}refreshBusinessCheck(){return C(this,null,function*(){yield this.checkUserBusinesses()})}getUserInitials(){let n=this.user();if(!n)return"";let e=n.first_name||"",t=n.last_name||"";return e&&t?e.charAt(0).toUpperCase()+t.charAt(0).toUpperCase():e?e.charAt(0).toUpperCase()+(n.email.charAt(0).toUpperCase()||""):t?n.email.charAt(0).toUpperCase()+t.charAt(0).toUpperCase():n.email.charAt(0).toUpperCase()}getUserFullName(){let n=this.user();if(!n)return"";let e=n.first_name||"",t=n.last_name||"";return e&&t?`${e} ${t}`:e||t||n.email}navigateToDashboard(){this.router.navigate(["/dashboard"])}navigateToProfile(){this.router.navigate(["/dashboard/profile"])}navigateToSettings(){this.router.navigate(["/dashboard/settings"])}navigateToMessages(){this.router.navigate(["/dashboard/messages"])}navigateToAdmin(){this.router.navigate(["/admin"])}navigateToCreateBusiness(){this.router.navigate(["/dashboard/businesses/create-business"])}navigateToOwnBusiness(){this.router.navigate(["/own-business"])}navigateToBecomeBusiness(){this.router.navigate(["/auth"],{queryParams:{mode:"business"}})}switchToBusinessMode(){return C(this,null,function*(){try{let n=yield this.authService.switchMode("business_owner");n.data?(console.log("Switched to business owner mode successfully"),console.log("Updated user mode:",this.userMode()),yield this.checkUserBusinesses(),this.navigateToDashboard()):console.error("Failed to switch to business mode:",n.error)}catch(n){console.error("Error switching to business mode:",n)}})}switchToClientMode(){return C(this,null,function*(){try{let n=yield this.authService.switchMode("client");n.data?(console.log("Switched to client mode successfully"),console.log("Updated user mode:",this.userMode()),this.router.navigate(["/search"])):console.error("Failed to switch to client mode:",n.error)}catch(n){console.error("Error switching to client mode:",n)}})}ngOnDestroy(){this.routerSub&&this.routerSub.unsubscribe?.(),this.detachHeroObserver()}toggleMobileMenu(){this.drawer.toggle()}onHeaderSearch(n){console.log("Header search triggered with query:",n),this.router.navigate(["/search"],{queryParams:{q:n.trim()}})}signOut(){return C(this,null,function*(){yield this.authService.signOut()})}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=x({type:r,selectors:[["app-header"]],inputs:{drawer:"drawer",maxWidth:"maxWidth"},decls:44,vars:7,consts:[["userMenu","matMenu"],[1,"sticky","top-0","z-50","bg-white!",2,"--header-height","64px"],[1,"desktop-toolbar","bg-white","shadow-sm","border-b","border-gray-200"],[1,"w-full","mx-auto","px-4","sm:px-6","lg:px-8",3,"ngClass"],[1,"flex","justify-between","items-center","w-full"],[1,"flex","items-center","gap-4"],["routerLink","/",1,"text-2xl","font-bold","text-primary-600","hover:text-primary-700","transition-colors"],["src","/assets/logos/logo-icon-md.png","alt","VouchHer",1,"h-10","w-auto"],["width","600px","backgroundColor","#efefef",1,"mx-4",3,"searchQuery"],[1,"px-4","py-2","text-sm","text-gray-500","border-b"],["mat-menu-item","",3,"click"],["mat-menu-item",""],["mat-menu-item","",1,"text-red-600",3,"click"],[1,"mobile-toolbar","bg-white","shadow-sm","border-b","border-gray-200","h-16"],[1,"w-full","flex","items-center","justify-between","px-3"],["width","600px","backgroundColor","#efefef",1,"mx-4",3,"searchQueryChange","searchEvent","searchQuery"],["mat-icon-button","",1,"text-gray-600","hover:text-primary-600","relative",3,"click"],["matBadgePosition","after","matBadgeColor","warn",3,"matBadge","matBadgeHidden"],[1,"w-9","h-9","m-0","p-0","bg-primary-600","cursor-pointer","text-white","rounded-full","flex","items-center","justify-center","text-sm","font-medium",3,"matMenuTriggerFor"],["matButton","","routerLink","/auth",1,"text-[#484848]!"],["matButton","","routerLink","/auth/login",1,"text-[#484848]!"],["mat-flat-button","","color","primary","routerLink","/auth/signup",1,"bg-primary-600","text-white"],[1,"flex","items-center","gap-3"],["mat-icon-button","",1,"text-gray-700","-ml-2",3,"click"],["routerLink","/",1,"flex","items-center"],["src","/assets/logos/logo-icon-md.png","alt","VouchHer",1,"h-8","w-auto"],[1,"flex","items-center","gap-1"],["mat-icon-button","",1,"text-gray-600","relative",3,"click"],["mat-flat-button","","color","primary","routerLink","/auth/signup"]],template:function(e,t){if(e&1){let i=f();o(0,"header",1)(1,"mat-toolbar",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"a",6),v(6,"img",7),a(),_(7,ti,1,1,"app-search",8),a(),o(8,"div",5),_(9,ii,6,4)(10,ni,8,0),a()()()(),o(11,"mat-menu",null,0)(13,"div",9),s(14),a(),o(15,"button",10),u("click",function(){return h(i),p(t.navigateToDashboard())}),o(16,"mat-icon"),s(17,"dashboard"),a(),o(18,"span"),s(19,"Dashboard"),a()(),o(20,"button",10),u("click",function(){return h(i),p(t.navigateToProfile())}),o(21,"mat-icon"),s(22,"person"),a(),o(23,"span"),s(24,"Profile"),a()(),_(25,ri,5,0,"button",11),_(26,si,2,1)(27,di,5,0,"button",11),v(28,"mat-divider"),o(29,"button",10),u("click",function(){return h(i),p(t.navigateToSettings())}),o(30,"mat-icon"),s(31,"settings"),a(),o(32,"span"),s(33,"Settings"),a()(),v(34,"mat-divider"),o(35,"button",12),u("click",function(){return h(i),p(t.signOut())}),o(36,"mat-icon"),s(37,"logout"),a(),o(38,"span"),s(39,"Sign Out"),a()()(),o(40,"mat-toolbar",13)(41,"div",14),_(42,ci,13,4)(43,li,8,0),a()()()}if(e&2){let i;l(2),b("ngClass",t.maxWidth),l(5),g(t.showHeaderSearch()?7:-1),l(2),g((i=t.isAuthenticated())?9:10,i),l(5),S(" Mode: ",t.isBusinessOwner()?"Business Owner":"Client"," "),l(11),g(t.hasAdminAccess()?25:-1),l(),g(t.isBusinessOwner()?27:26),l(16),g(t.isAuthenticated()?42:43)}},dependencies:[R,Ge,ae,oe,z,Q,W,se,U,ue,le,ce,me,pe,he,_e,fe,gt,_t,vt,be,mt,we],styles:["[_nghost-%COMP%]{display:block;position:relative;z-index:50}header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:50;background-color:#fff}.mat-toolbar[_ngcontent-%COMP%]{position:relative;z-index:50}.mat-toolbar[_ngcontent-%COMP%]{padding:0;height:64px}.absolute.left-1\\/2[_ngcontent-%COMP%]{pointer-events:auto}.mobile-drawer-container[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1000;pointer-events:none}.mobile-drawer-container[_ngcontent-%COMP%]     .mat-drawer-backdrop{pointer-events:auto}.mobile-drawer-container[_ngcontent-%COMP%]     .mat-drawer{pointer-events:auto}.mobile-drawer[_ngcontent-%COMP%]{width:288px}.mobile-drawer[_ngcontent-%COMP%]     .mat-drawer-inner-container{overflow:visible}@media (max-width: 768px){.fixed.inset-0[_ngcontent-%COMP%]{transition:opacity .3s ease-in-out}.fixed.left-0[_ngcontent-%COMP%]{transition:transform .3s ease-in-out}}.z-50[_ngcontent-%COMP%]{z-index:1100}.z-40[_ngcontent-%COMP%]{z-index:1000}.desktop-toolbar[_ngcontent-%COMP%]{display:none}.mobile-toolbar[_ngcontent-%COMP%]{display:flex}@media (min-width: 768px){.desktop-toolbar[_ngcontent-%COMP%]{display:flex}.mobile-toolbar[_ngcontent-%COMP%], .mobile-drawer-container[_ngcontent-%COMP%]{display:none}}.link-button[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%]{color:#484848!important}.mat-card-avatar[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}"]})};export{gt as a,Oe as b,Rt as c,It as d,vt as e,we as f,Mt as g};
