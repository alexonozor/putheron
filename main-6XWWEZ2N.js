import{a as Rn,b as Nn,c as Hn}from"./chunk-UMHOUBP2.js";import{a as Un,b as Gn}from"./chunk-B6DLCJEA.js";import{a as Zn}from"./chunk-I6IDU4VH.js";import{a as Kn}from"./chunk-SS2J4W2F.js";import{b as vn}from"./chunk-3MEZZXVJ.js";import"./chunk-K47VNJH6.js";import{c as Ln}from"./chunk-FDRSO24F.js";import{a as jn}from"./chunk-6FNCEQ3E.js";import{a as Bn}from"./chunk-IIWI7RNT.js";import"./chunk-PVDG46DZ.js";import{b as zn}from"./chunk-4KLUT5D3.js";import{a as qn,c as $n,e as Qn,f as Wn,h as Yn}from"./chunk-K7PNLN6O.js";import{b as De,c as Fe,d as Re,e as ie,f as Tn,g as ce}from"./chunk-M44CDA2G.js";import{b as Ie}from"./chunk-FI3VV2NK.js";import"./chunk-ZMOCIWIS.js";import{a as _n,b as yn,c as Cn,d as ne}from"./chunk-GLM2L5MD.js";import{a as Mn}from"./chunk-CJUEAHAI.js";import"./chunk-QHPZHR3U.js";import{b as Fn,d as me}from"./chunk-PJU4DV6K.js";import"./chunk-NGFVKWGJ.js";import{b as Vn}from"./chunk-QGIEMHXT.js";import{a as qe}from"./chunk-WJ4DFVWN.js";import"./chunk-6C3M3IVV.js";import{d as fn,h as Q,i as Dn,j as de,l as Le,m as pe}from"./chunk-VQYWIE5E.js";import"./chunk-XSZRGKJA.js";import{f as bn}from"./chunk-CEEB2P3N.js";import{d as ze,g as Ue,h as In,k as Ge}from"./chunk-TZEPKFDI.js";import{A as An,B as le,c as je,h as Be,i as He,j as Sn,k as Pn,l as Ve,p as On,r as En,x as kn,z as se}from"./chunk-BUMYHMI6.js";import{a as Ne}from"./chunk-HWKOWWIA.js";import{a as re,b as ae}from"./chunk-XYNPI2D6.js";import{b as xn,c as D,d as E}from"./chunk-T34NS44N.js";import{a as B}from"./chunk-WQPBABDM.js";import{a as wn}from"./chunk-LBEA66BC.js";import{a as gn}from"./chunk-WJ6YIAW5.js";import"./chunk-YBFS2WES.js";import{a as oe}from"./chunk-QD7SSFII.js";import{a as j,b as I}from"./chunk-57PI4XLL.js";import{F as hn,d as un}from"./chunk-MELUVGUL.js";import{a as an,b as sn,c as ln,d as cn,e as te,f as Te,g as P,j as dn,k as pn,l as mn}from"./chunk-42IDZLZS.js";import{a as Xt,b as Jt}from"./chunk-UHITDPPY.js";import{A as Ae,B as en,C as tn,D as nn,E as on,F as rn,k as ee,n as Kt,t as T}from"./chunk-UFDTBXZU.js";import{$a as l,$b as m,B as ye,Ba as ht,D as Ft,Eb as fe,Fb as _,Fc as Qt,Gb as y,Gc as Wt,Ib as qt,J as pt,Ja as Vt,Jb as L,Kb as q,L as Ce,Lb as p,Mb as o,Mc as Yt,Nb as r,Ob as f,Pb as M,Pc as Zt,Qb as w,Qc as ve,Rb as Oe,Rc as k,Sc as $,V as mt,Vb as A,Vc as Ot,W as we,Wc as F,Y as X,Ya as Se,Z as ut,Zb as u,aa as N,ba as Me,bd as ke,c as ct,cd as Y,da as z,db as zt,dc as bt,ea as Rt,eb as ft,ec as _t,fa as d,fb as Ut,fc as yt,g as _e,ga as Nt,i as Tt,ib as Gt,jc as J,k as It,ka as x,kb as U,kc as Ee,l as Dt,la as b,lb as Lt,lc as Ct,nc as s,oa as gt,oc as S,pa as jt,pc as R,q as K,qa as Bt,qb as v,qc as wt,rb as Pe,sb as W,sc as Mt,tc as St,ua as h,ub as vt,uc as Pt,va as Ht,vb as xt,wb as G,y as dt,yc as $t}from"./chunk-WCXAA7HR.js";import{a as he,b as lt,e as C}from"./chunk-JKOY2XUY.js";var fi="@",vi=(()=>{class n{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=d(gt);loadingSchedulerFn=d(xi,{optional:!0});_engine;constructor(t,i,a,c,g){this.doc=t,this.delegate=i,this.zone=a,this.animationType=c,this.moduleImpl=g}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-4WLR7WOF.js").then(a=>a),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(t):i=t(),i.catch(a=>{throw new ut(5300,!1)}).then(({\u0275createEngine:a,\u0275AnimationRendererFactory:c})=>{this._engine=a(this.animationType,this.doc);let g=new c(this.delegate,this._engine,this.zone);return this.delegate=g,g})}createRenderer(t,i){let a=this.delegate.createRenderer(t,i);if(a.\u0275type===0)return a;typeof a.throwOnSyntheticProps=="boolean"&&(a.throwOnSyntheticProps=!1);let c=new Et(a);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(g=>{let V=g.createRenderer(t,i);c.use(V),this.scheduler??=this.injector.get(Ht,null,{optional:!0}),this.scheduler?.notify(10)}).catch(g=>{c.use(a)}),c}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(t){this._engine?.flush(),this.delegate.componentReplaced?.(t)}static \u0275fac=function(i){Lt()};static \u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),Et=class{delegate;replay=[];\u0275type=1;constructor(e){this.delegate=e}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,i,a){this.delegate.insertBefore(e,t,i,a)}removeChild(e,t,i,a){this.delegate.removeChild(e,t,i,a)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,a){this.delegate.setAttribute(e,t,i,a)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,a){this.delegate.setStyle(e,t,i,a)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){this.shouldReplay(t)&&this.replay.push(a=>a.setProperty(e,t,i)),this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i,a){return this.shouldReplay(t)&&this.replay.push(c=>c.listen(e,t,i,a)),this.delegate.listen(e,t,i,a)}shouldReplay(e){return this.replay!==null&&e.startsWith(fi)}},xi=new z("");function Xn(n="animations"){return zt("NgAsyncAnimations"),Nt([{provide:Gt,useFactory:(e,t,i)=>new vi(e,t,i,n),deps:[jt,Xt,Ut]},{provide:Vt,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var $e=class n{router=d(P);intercept(e,t){let i=this.getTokenFromStorage(),a=e;return i&&(a=e.clone({setHeaders:{Authorization:`Bearer ${i}`}})),t.handle(a).pipe(Ft(c=>(c.status===401&&(console.warn("Authentication failed, redirecting to login"),this.clearAuthData(),this.router.navigate(["/auth"],{queryParams:{message:"Your session has expired. Please log in again."}})),Dt(()=>c))))}getTokenFromStorage(){return typeof window<"u"?localStorage.getItem("access_token"):null}clearAuthData(){typeof window<"u"&&(localStorage.removeItem("access_token"),localStorage.removeItem("current_user"),localStorage.removeItem("userPermissions"),localStorage.removeItem("permissionsTimestamp"))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=N({token:n,factory:n.\u0275fac})};var ue=class n{http=d(Ae);apiUrl=oe.api.baseUrl;categoriesSubject=new _e([]);categories$=this.categoriesSubject.asObservable();getCategories(){return this.http.get(`${this.apiUrl}/categories`)}getSubcategories(e){let t=e?`${this.apiUrl}/subcategories?categoryId=${e}`:`${this.apiUrl}/subcategories`;return this.http.get(t)}loadCategories(){return C(this,null,function*(){try{let e=yield this.getCategories().toPromise();return e?.success&&e.data?(this.categoriesSubject.next(e.data),e.data):[]}catch(e){return console.error("Error loading categories:",e),[]}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var Jn=(n,e)=>e._id;function bi(n,e){if(n&1){let t=A();o(0,"mat-chip",11),u("click",function(){let a=x(t).$implicit,c=m();return b(c.selectCategory(a))}),s(1),r()}if(n&2){let t=e.$implicit;l(),R(" ",t.name," ")}}function _i(n,e){if(n&1&&(o(0,"mat-icon"),s(1),r()),n&2){let t=m().$implicit;l(),S(t.icon)}}function yi(n,e){if(n&1){let t=A();o(0,"button",12),u("click",function(){let a=x(t).$implicit,c=m();return b(c.selectCategory(a))}),_(1,_i,2,1,"mat-icon"),o(2,"span"),s(3),r()()}if(n&2){let t=e.$implicit;l(),y(t.icon?1:-1),l(2),S(t.name)}}var xe=class n{fb=d(se);categoryService=d(ue);filtersChanged=new ft;categorySelected=new ft;filterForm;categories=h([]);displayedCategories=h([]);selectedCategoryName=h("Category");ngOnInit(){this.filterForm=this.fb.group({category:[""]}),this.loadCategories(),this.filterForm.valueChanges.subscribe(e=>{this.filtersChanged.emit(e)})}loadCategories(){return C(this,null,function*(){try{let e=yield this.categoryService.getCategories().toPromise();if(e?.success&&e.data){let t=e.data.filter(i=>i.is_active);this.categories.set(t),this.setRandomCategories(t)}}catch(e){console.error("Error loading categories:",e)}})}setRandomCategories(e){let t=[...e].sort(()=>Math.random()-.5);this.displayedCategories.set(t.slice(0,4))}selectCategory(e){this.selectedCategoryName.set(e.name),this.filterForm.patchValue({category:e._id}),this.categorySelected.emit(e)}clearCategory(){this.selectedCategoryName.set("Category"),this.filterForm.patchValue({category:""})}getFormValue(){return{category:this.filterForm.value.category,categoryName:this.selectedCategoryName()}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=v({type:n,selectors:[["app-search-filters"]],outputs:{filtersChanged:"filtersChanged",categorySelected:"categorySelected"},decls:15,vars:2,consts:[["categoryMenuMobile","matMenu"],[1,"flex","flex-wrap","items-center","gap-2","lg:gap-3"],[1,"w-full","lg:hidden"],["mat-stroked-button","",1,"rounded-full","border-gray-300","px-4","w-full",3,"matMenuTriggerFor"],[1,"text-gray-700","truncate"],[1,"ml-1"],[1,"hidden","lg:flex","items-center","gap-3","w-full","flex-wrap"],[1,"cursor-pointer"],[1,"search-filter-menu"],[1,"max-h-96","overflow-y-auto"],["mat-menu-item",""],[1,"cursor-pointer",3,"click"],["mat-menu-item","",3,"click"]],template:function(t,i){if(t&1&&(o(0,"div",1)(1,"div",2)(2,"button",3)(3,"span",4),s(4),r(),o(5,"mat-icon",5),s(6,"expand_more"),r()()(),o(7,"div",6),L(8,bi,2,1,"mat-chip",7,Jn),r(),o(10,"mat-menu",8,0)(12,"div",9),L(13,yi,4,2,"button",10,Jn),r()()()),t&2){let a=J(11);l(2),p("matMenuTriggerFor",a),l(2),S(i.selectedCategoryName()),l(4),q(i.displayedCategories()),l(5),q(i.categories())}},dependencies:[T,le,E,D,I,j,ne,yn,_n,Cn,me,Fn],styles:[".search-filter-menu .mat-mdc-menu-content{padding:8px 0}  .search-filter-menu .mat-mdc-menu-item{min-height:44px}  .search-filter-menu .mat-mdc-menu-item:hover{background-color:#20aa6214}  mat-chip{cursor:pointer}"]})};var We=class n{fb=d(se);router=d(P);searchFiltersComponent;searchForm;currentFilters={};countries=qe;ngOnInit(){this.searchForm=this.fb.group({searchQuery:[""]})}onFiltersChanged(e){this.currentFilters=e}onCategorySelected(e){let t=this.searchForm.get("searchQuery")?.value?.trim(),i={};t&&(i.q=t),e._id&&(i.category=e._id),this.router.navigate(["/search"],{queryParams:i})}onSearchQueryChange(e){this.searchForm.patchValue({searchQuery:e})}onSearch(){let e=this.searchForm.get("searchQuery")?.value?.trim(),t=this.searchFiltersComponent?.getFormValue()||{},i={};e&&(i.q=e),t.category&&(i.category=t.category),Object.keys(i).length>0&&this.router.navigate(["/search"],{queryParams:i})}onFindBusinesses(){this.onSearch()}onListBusiness(){this.router.navigate(["/list-business"])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=v({type:n,selectors:[["hero-section"]],viewQuery:function(t,i){if(t&1&&bt(xe,5),t&2){let a;_t(a=yt())&&(i.searchFiltersComponent=a.first)}},decls:26,vars:4,consts:[[1,"bg-[#C9F3DD]","relative","overflow-hidden",2,"height","calc(100vh - var(--header-height, 64px))","background-image","url('/assets/images/hero-background.svg')","background-size","cover","background-position","center","background-repeat","no-repeat"],[1,"max-w-7xl","mx-auto","w-full","h-full","px-3","lg:px-8","flex","flex-col","lg:flex-row","relative"],[1,"w-full","lg:w-1/2","h-full","flex","flex-col","justify-center","sm:pt-16","lg:pt-0","relative","z-10","text-center","lg:text-left"],[1,"text-5xl","lg:text-[60px]","font-bold","leading-tight","mb-6","poppins"],[1,"text-[#6B0FAE]"],[1,"block","lg:hidden"],[1,"text-black"],[1,"mt-1"],["src","/assets/svg/VOUCHHER.svg","alt","VouchHer",1,"h-10","lg:h-[51px]","w-auto","mx-auto","lg:mx-0"],[1,"text-lg","lg:text-xl","text-gray-700","mb-8","lg:mb-10","lg:max-w-none","mx-auto","lg:mx-0"],["id","hero-search-anchor",1,"mb-8","w-full","mx-auto","lg:mx-0","lg:max-w-xl"],[3,"searchEvent","queryChange","width","backgroundColor","placeholder","boxShadow"],[1,"mb-10"],[3,"filtersChanged","categorySelected"],[1,"flex","flex-col","lg:flex-row","items-stretch","lg:items-start","gap-3","lg:gap-4","lg:px-0"],["mat-flat-button","","color","primary",1,"rounded-full","py-3","lg:py-2.5","px-8","text-base","font-medium","w-full","lg:w-fit",3,"click"],["mat-stroked-button","","color","primary",1,"rounded-full","py-3","lg:py-2.5","px-8","text-base","font-medium","w-full","lg:w-fit","!border-primary-600",3,"click"],[1,"hidden","lg:block","lg:w-[55%]","absolute","inset-y-0","right-0","overflow-visible"],["src","/assets/images/hero-women-images.png","alt","Professional women",1,"w-full","h-full","object-contain","object-bottom","transform","lg:scale-100","lg:translate-x-6"]],template:function(t,i){t&1&&(o(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),s(4," Find "),o(5,"span",4),s(6,"Her."),r(),f(7,"br",5),s(8," Hire "),o(9,"span",6),s(10,"Her."),r(),o(11,"div",7),f(12,"img",8),r()(),o(13,"p",9),s(14," A trusted platform connecting women in Business nationwide. "),r(),o(15,"div",10)(16,"app-search",11),u("searchEvent",function(){return i.onSearch()})("queryChange",function(c){return i.onSearchQueryChange(c)}),r()(),o(17,"div",12)(18,"app-search-filters",13),u("filtersChanged",function(c){return i.onFiltersChanged(c)})("categorySelected",function(c){return i.onCategorySelected(c)}),r()(),o(19,"div",14)(20,"button",15),u("click",function(){return i.onFindBusinesses()}),s(21," Find Businesses "),r(),o(22,"button",16),u("click",function(){return i.onListBusiness()}),s(23," List A Business "),r()()(),o(24,"div",17),f(25,"img",18),r()()()),t&2&&(l(16),p("width","100%")("backgroundColor","white")("placeholder","Search business or service")("boxShadow","0 2px 6px 0 #20212451"))},dependencies:[T,le,de,Q,pe,E,D,Tn,me,I,ne,xe],styles:["[_ngcontent-%COMP%]:root{--mat-select-panel-background-color: orange;--mat-select-enabled-trigger-text-color: red}.mdc-text-field[_ngcontent-%COMP%]{background-color:#fff!important;border-radius:4px}"]})};var Ye=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=v({type:n,selectors:[["how-it-works-section"]],decls:46,vars:0,consts:[[1,"bg-white"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"text-center","mb-16"],[1,"text-4xl","md:text-5xl","font-bold","text-gray-900","mb-6"],[1,"text-xl","text-gray-600","max-w-3xl","mx-auto"],[1,"grid","md:grid-cols-2","gap-8","lg:gap-12"],[1,"bg-white","border","border-gray-200","rounded-lg","p-8"],[1,"text-lg","font-semibold","text-primary-500","mb-4"],[1,"space-y-4","text-gray-700"],[1,"font-semibold"],[1,"text-sm","text-gray-600"]],template:function(t,i){t&1&&(M(0,"section",0)(1,"div",1)(2,"div",2)(3,"h3",3),s(4," How it works "),w(),M(5,"p",4),s(6," Connect with talented women in business has never been easier. Bridging the gap between women professionals and companies that value them. "),w()(),M(7,"div",5)(8,"div",6)(9,"h4",7),s(10,"For Finding Business(es)"),w(),M(11,"div",8)(12,"div")(13,"div",9),s(14,"Search for a business"),w(),M(15,"div",10),s(16,"Browse by industry, location or heritage and more."),w()(),M(17,"div")(18,"div",9),s(19,"Apply for desired business"),w(),M(20,"div",10),s(21,"Submit a request to get hired and work."),w()(),M(22,"div")(23,"div",9),s(24,"Get paid"),w(),M(25,"div",10),s(26,"You get paid when work is done or completed with satisfaction from client."),w()()()(),M(27,"div",6)(28,"h4",7),s(29,"For Listing Business(es)"),w(),M(30,"div",8)(31,"div")(32,"div",9),s(33,"Create or list business(es)"),w(),M(34,"div",10),s(35,"Post a business by creating one."),w()(),M(36,"div")(37,"div",9),s(38,"Get Offers or bids"),w(),M(39,"div",10),s(40,"Receive tailored offers, proposals, or bids from professionals ready to work with you."),w()(),M(41,"div")(42,"div",9),s(43,"Pay when job is done"),w(),M(44,"div",10),s(45,"Secure, fair, and risk-free. Make payment once the work is completed."),w()()()()()()())},encapsulation:2})};var Ze=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=v({type:n,selectors:[["app-why-choose-voucher"]],decls:25,vars:0,consts:[[1,"relative","bg-white","py-12","md:py-16"],[1,"lg:max-w-7xl","mx-auto","lg:px-4","sm:px-6","lg:px-8"],[1,"block","md:hidden","relative"],[1,"absolute","right-0","-top-40","w-[85%]","z-0","pr-0"],["src","/assets/images/dashboard.png","alt","Dashboard preview",1,"w-full","h-auto","rounded-lg","shadow-lg"],[1,"bg-primary-600","text-white","rounded-none","p-6","pt-32","mt-32","relative","z-10","flex","flex-col","justify-center","min-h-[300px]"],[1,"text-2xl","font-bold","mb-4","text-white","text-center"],[1,"text-sm","text-white/90","leading-relaxed","mb-6","text-center","px-4"],[1,"flex","justify-center","pb-2"],["mat-flat-button","",1,"bg-white!","text-primary-600!","rounded-full","px-8","py-3","font-semibold"],[1,"hidden","md:block"],[1,"grid","md:grid-cols-2","gap-6","items-center"],["src","/assets/images/women-talking.png","alt","Two women talking",1,"w-full","h-72","md:h-96","object-cover","rounded-md","shadow-sm"],[1,"pl-0","md:pl-12"],[1,"text-3xl","md:text-4xl","font-bold","mb-4","text-primary-500"],[1,"text-gray-700","mb-6"],["mat-flat-button","","color","primary",1,"px-8","py-3"]],template:function(t,i){t&1&&(o(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),f(4,"img",4),r(),o(5,"div",5)(6,"h3",6),s(7,"Why choose VouchHer"),r(),o(8,"p",7),s(9," We are a professional and trusted hub that connects ambitious women ready to showcase their skills with businesses seeking top talent to grow. Our platform bridges opportunity and expertise, empowering women to get hired while helping companies discover and hire the best. "),r(),o(10,"div",8)(11,"button",9),s(12," Join VouchHer "),r()()()(),o(13,"div",10)(14,"div",11)(15,"div"),f(16,"img",12),r(),o(17,"div",13)(18,"h3",14),s(19,"Why choose VouchHer"),r(),o(20,"p",15),s(21," We are a professional and trusted hub that connects ambitious women ready to showcase their skills with businesses seeking top talent to grow. Our platform bridges opportunity and expertise, empowering women to get hired while helping companies discover and hire the best. "),r(),o(22,"div")(23,"button",16),s(24,"Join VouchHer"),r()()()()()()())},dependencies:[E,D],styles:["[_nghost-%COMP%]{display:block}"]})};var Ke=class n{authService=d(B);router=d(P);constructor(){$(()=>{let e=this.authService.isAuthenticated(),t=this.authService.user();e&&t&&(t.user_mode==="business_owner"?(console.log("Redirecting business owner to dashboard"),this.router.navigate(["/dashboard"])):(console.log("Redirecting client to search page"),this.router.navigate(["/search"])))})}ngOnInit(){}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=v({type:n,selectors:[["app-home"]],decls:11,vars:3,consts:[["drawer",""],[3,"drawer"],["autosize","",1,"content-body",3,"hasBackdrop"],[1,"drawer",3,"mode"],[1,"bg-white!"],[1,"space-y-16","flex","flex-col","md:space-y-24"]],template:function(t,i){if(t&1&&(f(0,"app-header",1),o(1,"mat-drawer-container",2)(2,"mat-drawer",3,0),f(4,"app-guest-sidenav"),r(),o(5,"mat-drawer-content",4)(6,"div",5),f(7,"hero-section")(8,"how-it-works-section")(9,"app-why-choose-voucher")(10,"footer-component"),r()()()),t&2){let a=J(3);p("drawer",a),l(),p("hasBackdrop",!0),l(),p("mode","over")}},dependencies:[ce,We,Ye,Ze,Rn,ie,Fe,Re,De,Q,de,E,Nn],styles:[".drawer[_ngcontent-%COMP%]{height:100vh;border-radius:0}.content-body[_ngcontent-%COMP%]{height:100vh;overflow-y:scroll}"]})};var Xe=class n{authService=d(B);router=d(P);businessService=d(Ne);projectService=d(jn);socketService=d(Mn);breakpointObserver=d(un);favoritesService=d(Bn);sidenavOpened=h(!1);isMobile=h(!1);userBusinessCount=h(0);totalServices=h(0);totalProjects=h(0);favoritesCount=k(()=>this.favoritesService.getFavoritesCount());user=this.authService.user;isAuthenticated=this.authService.isAuthenticated;userMode=k(()=>this.user()?.user_mode||"client");isBusinessOwner=k(()=>this.userMode()==="business_owner");isAdmin=k(()=>this.user()?.email?.includes("admin")||!1);mobileSubscription;userModeEffect=$(()=>{let e=this.userMode(),t=this.user(),i=this.isBusinessOwner();console.log("Dashboard signals updated:",{user:t?.email,mode:e,isBusiness:i}),t&&this.loadDashboardCounts()});ngOnInit(){this.setupMobileDetection(),this.loadDashboardCounts(),this.socketService.connect()}ngOnDestroy(){this.mobileSubscription&&this.mobileSubscription.unsubscribe()}setupMobileDetection(){this.mobileSubscription=this.breakpointObserver.observe([gn.Handset]).subscribe(e=>{this.isMobile.set(e.matches),e.matches?this.sidenavOpened.set(!1):this.sidenavOpened.set(!0)})}loadDashboardCounts(){return C(this,null,function*(){try{let e=yield this.businessService.getMyBusinessesAsync();this.userBusinessCount.set(e.length);let t=0;for(let i of e)try{let a=yield this.businessService.getBusinessServicesAsync(i._id);t+=a.length}catch(a){console.warn(`Failed to load services for business ${i._id}:`,a)}this.totalServices.set(t);try{let i=yield this.projectService.getAllMyProjectsAsync();this.totalProjects.set(i.length)}catch(i){console.warn("Failed to load projects:",i),this.totalProjects.set(0)}}catch(e){console.error("Error loading dashboard counts:",e)}})}toggleSidenav(){this.sidenavOpened.set(!this.sidenavOpened())}onMenuToggle(){this.toggleSidenav()}onNavigationClick(){this.isMobile()&&this.sidenavOpened.set(!1)}navigateToCreateBusiness(){this.router.navigate(["/dashboard/businesses/create-business"])}createService(){this.router.navigate(["/dashboard/services/create-service"])}getActiveTabTitle(){let e=this.router.url.split("/");switch(e[e.length-1]){case"dashboard":case"":return this.isBusinessOwner()?"Dashboard Overview":"My Projects";case"overview":return"Dashboard Overview";case"businesses":return"My Businesses";case"services":return"My Services";case"projects":return"My Projects";case"notifications":return"Notifications";case"profile":return"Profile";case"settings":return"Settings";default:return this.router.url.includes("/messages")?"Messages":this.isBusinessOwner()?"Dashboard":"My Projects"}}getUserInitials(){let e=this.user();if(!e)return"";if(e.first_name||e.last_name){let t=e.first_name?.charAt(0).toUpperCase()||"",i=e.last_name?.charAt(0).toUpperCase()||"";return t+i}return e.email.charAt(0).toUpperCase()}navigateToDashboard(){this.router.navigate(["/dashboard"])}navigateToProfile(){this.router.navigate(["/dashboard/profile"])}navigateToSettings(){this.router.navigate(["/dashboard/settings"])}navigateToAdmin(){this.router.navigate(["/admin"])}switchToBusinessMode(){return C(this,null,function*(){try{let e=yield this.authService.switchMode("business_owner");e.data?(console.log("Switched to business owner mode successfully"),console.log("Updated user mode:",this.userMode()),this.loadDashboardCounts()):console.error("Failed to switch to business mode:",e.error)}catch(e){console.error("Error switching to business mode:",e)}})}switchToClientMode(){return C(this,null,function*(){try{let e=yield this.authService.switchMode("client");e.data?(console.log("Switched to client mode successfully"),console.log("Updated user mode:",this.userMode()),this.router.navigate(["/search"])):console.error("Failed to switch to client mode:",e.error)}catch(e){console.error("Error switching to client mode:",e)}})}viewProfile(){this.navigateToProfile()}logout(){this.authService.logout(),this.router.navigate(["/auth"])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=v({type:n,selectors:[["app-dashboard"]],decls:7,vars:5,consts:[["drawer",""],[3,"drawer"],[3,"hasBackdrop"],["position","start",1,"drawer",3,"opened","disableClose","mode"],[1,"content-body"]],template:function(t,i){if(t&1&&(f(0,"app-header",1),o(1,"mat-drawer-container",2)(2,"mat-drawer",3,0),f(4,"app-user-sidenav"),r(),o(5,"mat-drawer-content",4),f(6,"router-outlet"),r()()),t&2){let a=J(3);p("drawer",a),l(),p("hasBackdrop",i.isMobile()),l(),p("opened",i.sidenavOpened())("disableClose",!i.isMobile())("mode",i.isMobile()?"over":"side")}},dependencies:[T,ie,Fe,Re,De,ne,I,E,Ie,Te,mn,ce,Hn],styles:[".drawer[_ngcontent-%COMP%]{height:calc(100vh - 64px);border-radius:0}.content-body[_ngcontent-%COMP%]{height:calc(100vh - 64px);overflow-y:scroll}.dashboard-loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:3rem 0}.dashboard-loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite;border-radius:50%;height:3rem;width:3rem;border:2px solid #e5e7eb;border-top:2px solid #2563eb}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.business-item[_ngcontent-%COMP%]:hover{background-color:#f9fafb;transition:background-color .15s ease-in-out}.status-approved[_ngcontent-%COMP%]{background-color:#dcfce7;color:#166534}.status-pending[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.status-rejected[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.status-suspended[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#374151}.create-business-btn[_ngcontent-%COMP%]:hover{background-color:#1d4ed8;transform:translateY(-1px);transition:all .2s ease-in-out}.action-btn[_ngcontent-%COMP%]:hover{background-color:#f9fafb;transform:translateY(-1px);transition:all .15s ease-in-out}.action-btn-danger[_ngcontent-%COMP%]:hover{background-color:#fef2f2;transform:translateY(-1px);transition:all .15s ease-in-out}.stat-card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;transition:box-shadow .2s ease-in-out}.empty-state[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:.6}  .mat-drawer-content{height:calc(100vh - 64px)!important;overflow-y:auto!important;overflow-x:hidden!important;display:flex!important;flex-direction:column!important}  .mat-drawer-container{height:calc(100vh - 64px)!important}@media (max-width: 640px){.business-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.75rem}.action-buttons[_ngcontent-%COMP%]{margin-left:0;width:100%;justify-content:flex-end}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.create-business-btn[_ngcontent-%COMP%]:focus, .action-btn[_ngcontent-%COMP%]:focus, .action-btn-danger[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;box-shadow:0 0 0 2px #2563eb}@media print{.action-buttons[_ngcontent-%COMP%], .create-business-btn[_ngcontent-%COMP%]{display:none}}"]})};var kt=(n,e)=>{let t=d(B),i=d(P);return t.isAuthenticated$.pipe(K(a=>a?!0:(i.navigate(["/auth"],{queryParams:{returnUrl:e.url}}),!1)))};var ei=(n,e)=>{let t=d(B),i=d(P);return t.isAuthenticated$.pipe(K(a=>a?(i.navigate(["/"]),!1):!0))};var ti=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Pe({type:n});static \u0275inj=Me({})}return n})();var ni=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Pe({type:n});static \u0275inj=Me({imports:[hn,ti,bn]})}return n})();var Ei=()=>[12,24,48],oi=(n,e)=>e._id,ki=(n,e)=>e.code;function Ai(n,e){if(n&1&&(o(0,"mat-option",11),s(1),r()),n&2){let t=e.$implicit;p("value",t._id),l(),S(t.name)}}function Ti(n,e){if(n&1&&(o(0,"mat-option",11),s(1),r()),n&2){let t=e.$implicit;p("value",t.name),l(),S(t.name)}}function Ii(n,e){if(n&1){let t=A();o(0,"button",29),u("click",function(){x(t);let a=m();return b(a.clearFilters())}),o(1,"mat-icon"),s(2,"clear"),r(),s(3," Clear all filters "),r()}}function Di(n,e){n&1&&(o(0,"div",26),f(1,"mat-spinner",30),o(2,"span",31),s(3,"Finding services..."),r()())}function Fi(n,e){if(n&1&&(o(0,"div",27)(1,"div",32)(2,"mat-icon",33),s(3,"error"),r(),o(4,"span",34),s(5),r()()()),n&2){let t=m();l(5),S(t.error())}}function Ri(n,e){if(n&1){let t=A();o(0,"div",28)(1,"mat-icon",35),s(2,"search_off"),r(),o(3,"h3",36),s(4,"No services found"),r(),o(5,"p",37),s(6,"Try adjusting your search terms or filters"),r(),o(7,"button",38),u("click",function(){x(t);let a=m();return b(a.clearFilters())}),s(8," Clear filters "),r()()}}function Ni(n,e){if(n&1&&f(0,"img",44),n&2){let t=m().$implicit;p("src",t.banner_url,Se)("alt",t.name+" banner")}}function ji(n,e){n&1&&(o(0,"div",45)(1,"mat-icon",73),s(2,"business"),r()())}function Bi(n,e){n&1&&(o(0,"div",46)(1,"span",74)(2,"mat-icon",75),s(3,"star"),r(),s(4," PRO "),r()())}function Hi(n,e){if(n&1&&f(0,"img",52),n&2){let t=m().$implicit;p("src",t.logo_url,Se)("alt",t.name+" logo")}}function Vi(n,e){n&1&&(o(0,"div",53)(1,"mat-icon",76),s(2,"business"),r()())}function zi(n,e){if(n&1&&(o(0,"p",57)(1,"mat-icon",77),s(2,"location_on"),r(),s(3),r()),n&2){let t=m().$implicit;l(3),wt(" ",t.city,", ",t.state," ")}}function Ui(n,e){if(n&1&&(o(0,"div",60)(1,"mat-icon",78),s(2,"star"),r(),o(3,"span",79),s(4),r(),o(5,"span",69),s(6),r()()),n&2){let t=m().$implicit;l(4),S(t.rating.toFixed(1)),l(2),wt("(",t.review_count||0," ",(t.review_count||0)===1?"review":"reviews",")")}}function Gi(n,e){n&1&&(o(0,"span",61),s(1,"New business"),r())}function Li(n,e){if(n&1&&(o(0,"span",81),s(1),r()),n&2){let t=e.$implicit;l(),R(" ",t," ")}}function qi(n,e){if(n&1&&(o(0,"span",81),s(1),r()),n&2){let t=m(2).$implicit;l(),R(" +",t.tags.length-2," ")}}function $i(n,e){if(n&1&&(o(0,"div",62)(1,"div",80),L(2,Li,2,1,"span",81,qt),_(4,qi,2,1,"span",81),r()()),n&2){let t=m().$implicit;l(2),q(t.tags.slice(0,2)),l(2),y(t.tags.length>2?4:-1)}}function Qi(n,e){if(n&1&&f(0,"img",52),n&2){let t=m().$implicit,i=m(2);p("src",i.getOwnerAvatar(t),Se)("alt",i.getOwnerName(t))}}function Wi(n,e){n&1&&(o(0,"div",66)(1,"mat-icon",82),s(2,"person"),r()())}function Yi(n,e){if(n&1&&(o(0,"div",72)(1,"mat-icon",77),s(2,"visibility"),r(),s(3),r()),n&2){let t=m().$implicit;l(3),R(" ",t.view_count," ")}}function Zi(n,e){if(n&1){let t=A();o(0,"div",42),u("click",function(){let a=x(t).$implicit,c=m(2);return b(c.onBusinessClick(a))}),o(1,"div",43),_(2,Ni,1,2,"img",44)(3,ji,3,0,"div",45),_(4,Bi,5,0,"div",46),o(5,"div",47)(6,"span",48),s(7),Qt(8,"titlecase"),r()()(),o(9,"div",49)(10,"div",50)(11,"div",51),_(12,Hi,1,2,"img",52)(13,Vi,3,0,"div",53),r()(),o(14,"div",54)(15,"h3",55),s(16),r(),o(17,"p",56),s(18),r(),_(19,zi,4,2,"p",57),r(),o(20,"p",58),s(21),r(),o(22,"div",59),_(23,Ui,7,3,"div",60)(24,Gi,2,0,"span",61),r(),_(25,$i,5,1,"div",62),o(26,"div",63)(27,"div",64)(28,"div",65),_(29,Qi,1,2,"img",52)(30,Wi,3,0,"div",66),r(),o(31,"div",67)(32,"p",68),s(33),r(),o(34,"p",69),s(35),r()()(),o(36,"div",64)(37,"div",70),u("click",function(a){return x(t),b(a.stopPropagation())}),f(38,"app-favorite-button",71),r(),_(39,Yi,4,1,"div",72),r()()()()}if(n&2){let t=e.$implicit,i=m(2);l(2),y(t.banner_url&&t.banner_url.trim()!==""?2:3),l(2),y(t.is_featured?4:-1),l(3),R(" ",Wt(8,16,t.business_type)," "),l(5),y(t.logo_url?12:13),l(4),R(" ",t.name," "),l(2),S(i.getCategoryName(t)),l(),y(t.city&&t.state?19:-1),l(2),R(" ",t.short_description||t.description||"Professional service provider"," "),l(2),y(t.rating!=null&&t.rating>0?23:24),l(2),y(t.tags&&t.tags.length>0?25:-1),l(4),y(i.getOwnerAvatar(t)?29:30),l(4),S(i.getOwnerName(t)),l(2),S(i.getOwnerCountry(t)),l(3),p("businessId",t._id)("businessName",t.name),l(),y(t.view_count>0?39:-1)}}function Ki(n,e){if(n&1){let t=A();o(0,"div",41)(1,"mat-paginator",83),u("page",function(a){x(t);let c=m(2);return b(c.onPageChange(a.pageIndex+1))}),r()()}if(n&2){let t=m(2);l(),p("length",t.total())("pageSize",12)("pageIndex",t.currentPage()-1)("pageSizeOptions",$t(4,Ei))}}function Xi(n,e){if(n&1&&(o(0,"div",39),L(1,Zi,40,18,"div",40,oi),r(),_(3,Ki,2,5,"div",41)),n&2){let t=m();l(),q(t.businesses()),l(2),y(t.totalPages()>1?3:-1)}}var Je=class n{route=d(te);router=d(P);fb=d(se);businessService=d(Ne);categoryService=d(ue);authService=d(B);searchQuery=h("");selectedCountries=h([]);selectedCategories=h([]);selectedBusinessTypes=h([]);selectedRating=h(0);businesses=h([]);categories=h([]);loading=h(!1);error=h(null);total=h(0);currentPage=h(1);totalPages=h(0);filtersOpen=h(!1);isClientMode=k(()=>{let e=this.authService.user();return!e||e.user_mode==="client"});filterForm;countries=qe;businessTypes=[{value:"service",label:"Service"},{value:"product",label:"Product"},{value:"both",label:"Both"}];ratingOptions=[{value:0,label:"All ratings"},{value:1,label:"1+ stars"},{value:2,label:"2+ stars"},{value:3,label:"3+ stars"},{value:4,label:"4+ stars"},{value:5,label:"5 stars"}];hasResults=k(()=>this.businesses().length>0);hasSearched=k(()=>this.searchQuery()||this.selectedCountries().length>0||this.selectedCategories().length>0||this.selectedBusinessTypes().length>0||this.selectedRating()>0);hasActiveFilters=k(()=>{let e=this.filterForm?.value;return!!(e?.selectedCountries?.length>0||e?.businessType||e?.location||e?.selectedCategories?.length>0||e?.selectedBusinessTypes?.length>0||e?.selectedRating>0)});ngOnInit(){this.initializeForm(),this.loadCategories(),this.route.queryParams.subscribe(e=>{this.searchQuery.set(e.q||""),this.selectedCountries.set(e.countries?e.countries.split(","):[]),this.selectedCategories.set(e.categories?e.categories.split(","):[]),this.selectedBusinessTypes.set(e.businessTypes?e.businessTypes.split(","):[]),this.selectedRating.set(parseInt(e.rating)||0),this.currentPage.set(parseInt(e.page)||1),this.filterForm.patchValue({searchQuery:this.searchQuery(),selectedCountries:this.selectedCountries(),selectedCategories:this.selectedCategories(),selectedBusinessTypes:this.selectedBusinessTypes(),selectedRating:this.selectedRating()},{emitEvent:!1}),this.performSearch()})}initializeForm(){this.filterForm=this.fb.group({searchQuery:[this.searchQuery()],selectedCountries:[this.selectedCountries()],selectedCategories:[this.selectedCategories()],selectedBusinessTypes:[this.selectedBusinessTypes()],selectedRating:[this.selectedRating()],businessType:[""],location:[""]})}loadCategories(){return C(this,null,function*(){try{let e=yield this.categoryService.loadCategories();this.categories.set(e)}catch(e){console.error("Error loading categories:",e)}})}performSearch(){return C(this,null,function*(){let e=this.searchQuery(),t=this.selectedCountries(),i=this.currentPage();if(!e&&t.length===0&&this.isClientMode()){this.loadVerifiedBusinesses();return}if(!e&&t.length===0){this.businesses.set([]),this.total.set(0),this.totalPages.set(0);return}try{this.loading.set(!0),this.error.set(null);let a=yield this.businessService.searchBusinesses(e||void 0,t.length>0?t:void 0,i,12).toPromise();a?.success&&a.data?(this.businesses.set(a.data.businesses),this.total.set(a.data.total),this.totalPages.set(a.data.totalPages)):this.error.set("Failed to search businesses")}catch(a){console.error("Search error:",a),this.error.set("An error occurred while searching")}finally{this.loading.set(!1)}})}loadVerifiedBusinesses(){return C(this,null,function*(){try{this.loading.set(!0),this.error.set(null);let e=yield this.businessService.searchBusinesses(void 0,void 0,this.currentPage(),12,{featured:!0}).toPromise();e?.success&&e.data?(this.businesses.set(e.data.businesses),this.total.set(e.data.total),this.totalPages.set(e.data.totalPages)):this.error.set("Failed to load verified businesses")}catch(e){console.error("Load verified businesses error:",e),this.error.set("An error occurred while loading verified businesses")}finally{this.loading.set(!1)}})}onSearch(){let e=this.filterForm.value,t={page:1};e.searchQuery?.trim()&&(t.q=e.searchQuery.trim()),e.selectedCountries&&e.selectedCountries.length>0&&(t.countries=e.selectedCountries.join(",")),e.selectedCategories&&e.selectedCategories.length>0&&(t.categories=e.selectedCategories.join(",")),e.selectedBusinessTypes&&e.selectedBusinessTypes.length>0&&(t.businessTypes=e.selectedBusinessTypes.join(",")),e.selectedRating&&e.selectedRating>0&&(t.rating=e.selectedRating),this.router.navigate(["/search"],{queryParams:t})}clearFilters(){this.filterForm.reset({searchQuery:"",selectedCountries:[],selectedCategories:[],selectedBusinessTypes:[],selectedRating:0,businessType:"",location:""}),this.onSearch()}toggleFilters(){this.filtersOpen.update(e=>!e)}onPageChange(e){let t=this.route.snapshot.queryParams;this.router.navigate(["/search"],{queryParams:lt(he({},t),{page:e})})}getOwnerName(e){let t=e.owner_id;return t?.first_name&&t?.last_name?`${t.first_name} ${t.last_name}`:t?.first_name?t.first_name:t?.email?t.email:"Business Owner"}getOwnerCountry(e){return e.owner_id?.country_of_origin||"Unknown"}getCategoryName(e){return e.category_id?.name||"Uncategorized"}getOwnerAvatar(e){return e.owner_id?.profile_image_url||null}onBusinessClick(e){this.router.navigate(["/business/profile",e._id])}generatePageNumbers(){let e=this.totalPages(),t=this.currentPage(),i=5;if(e<=i)return Array.from({length:e},(g,V)=>V+1);let a=Math.max(1,t-Math.floor(i/2)),c=Math.min(e,a+i-1);return Array.from({length:c-a+1},(g,V)=>a+V)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=v({type:n,selectors:[["app-search"]],decls:71,vars:13,consts:[[1,"min-h-screen","bg-gray-50"],[1,"bg-white","border-b","border-gray-200"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-6"],[1,"space-y-6",3,"formGroup"],[1,"relative"],["appearance","outline",1,"w-full"],["matInput","","formControlName","searchQuery","placeholder","Search for services, products, or businesses",3,"input"],["matPrefix",""],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","xl:grid-cols-5","gap-4"],["appearance","outline"],["formControlName","selectedCategories","multiple","",3,"selectionChange"],[3,"value"],["formControlName","businessType",3,"selectionChange"],["value",""],["value","service"],["value","product"],["value","both"],["formControlName","selectedCountries","multiple","",3,"selectionChange"],["matInput","","formControlName","location","placeholder","City, State",3,"input"],["formControlName","selectedRating",3,"selectionChange"],[1,"flex","flex-wrap","items-center","gap-4","justify-between"],[1,"flex","items-center","gap-4"],["mat-stroked-button","","type","button","color","warn"],[1,"text-sm","text-gray-600"],[1,"font-medium"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"flex","justify-center","items-center","py-12"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-4","mb-6"],[1,"text-center","py-12"],["mat-stroked-button","","type","button","color","warn",3,"click"],["diameter","50"],[1,"ml-4","text-gray-600"],[1,"flex","items-center"],[1,"text-red-500","mr-2"],[1,"text-red-700"],[1,"text-6xl","text-gray-400","mb-4"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-600","mb-4"],["mat-raised-button","","color","primary",3,"click"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-6","mb-8"],[1,"bg-white","rounded-xl","border","border-gray-200","shadow-sm","hover:shadow-lg","transition-all","duration-200","overflow-hidden","group","cursor-pointer"],[1,"flex","justify-center"],[1,"bg-white","rounded-xl","border","border-gray-200","shadow-sm","hover:shadow-lg","transition-all","duration-200","overflow-hidden","group","cursor-pointer",3,"click"],[1,"relative","h-32","bg-gradient-to-br","from-gray-100","to-gray-200","overflow-hidden"],[1,"w-full","h-full","object-cover","group-hover:scale-105","transition-transform","duration-300",3,"src","alt"],[1,"w-full","h-full","bg-gradient-to-br","from-green-400","to-blue-500","flex","items-center","justify-center"],[1,"absolute","top-3","left-3"],[1,"absolute","top-3","right-3"],[1,"bg-green-100","text-green-800","inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","backdrop-blur-sm"],[1,"relative","px-6","pb-6"],[1,"flex","justify-center","-mt-8","mb-4"],[1,"w-16","h-16","rounded-full","bg-white","shadow-lg","ring-2","ring-white","overflow-hidden"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"w-full","h-full","bg-gray-100","flex","items-center","justify-center"],[1,"text-center","mb-4"],[1,"text-lg","font-semibold","text-gray-900","truncate","mb-1","group-hover:text-green-600","transition-colors"],[1,"text-sm","text-gray-600","mb-1"],[1,"text-xs","text-gray-500","flex","items-center","justify-center"],[1,"text-sm","text-gray-600","mb-4","line-clamp-2","text-center"],[1,"flex","items-center","justify-center","mb-4"],[1,"flex","items-center","gap-1"],[1,"text-xs","text-gray-500","bg-gray-100","px-2","py-1","rounded-full"],[1,"mb-4"],[1,"flex","items-center","justify-between","pt-4","border-t","border-gray-100"],[1,"flex","items-center","gap-2"],[1,"w-8","h-8","rounded-full","overflow-hidden","flex-shrink-0"],[1,"w-full","h-full","bg-gray-200","flex","items-center","justify-center"],[1,"flex-1","min-w-0"],[1,"text-sm","font-medium","text-gray-900","truncate"],[1,"text-xs","text-gray-500"],[3,"click"],["size","small","buttonClass","text-gray-500 hover:text-red-500 transition-colors p-1",3,"businessId","businessName"],[1,"text-xs","text-gray-500","flex","items-center"],[1,"text-white","text-4xl","opacity-60"],[1,"bg-yellow-100","text-yellow-800","inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","backdrop-blur-sm"],[1,"w-3","h-3","mr-1"],[1,"text-gray-400","text-lg"],[1,"w-3","h-3","mr-1","text-xs"],[1,"text-yellow-400","text-sm"],[1,"text-sm","font-bold","text-gray-900"],[1,"flex","flex-wrap","gap-1","justify-center"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","bg-gray-100","text-gray-800"],[1,"text-gray-400","text-sm"],["showFirstLastButtons","",3,"page","length","pageSize","pageIndex","pageSizeOptions"]],template:function(t,i){t&1&&(f(0,"app-header"),o(1,"div",0)(2,"div",1)(3,"div",2)(4,"form",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),s(8,"Find women-owned businesses and services..."),r(),o(9,"input",6),u("input",function(){return i.onSearch()}),r(),o(10,"mat-icon",7),s(11,"search"),r()()(),o(12,"div",8)(13,"mat-form-field",9)(14,"mat-label"),s(15,"Category"),r(),o(16,"mat-select",10),u("selectionChange",function(){return i.onSearch()}),L(17,Ai,2,2,"mat-option",11,oi),r()(),o(19,"mat-form-field",9)(20,"mat-label"),s(21,"Service Type"),r(),o(22,"mat-select",12),u("selectionChange",function(){return i.onSearch()}),o(23,"mat-option",13),s(24,"All Types"),r(),o(25,"mat-option",14),s(26,"Services"),r(),o(27,"mat-option",15),s(28,"Products"),r(),o(29,"mat-option",16),s(30,"Both"),r()()(),o(31,"mat-form-field",9)(32,"mat-label"),s(33,"Heritage/Origin"),r(),o(34,"mat-select",17),u("selectionChange",function(){return i.onSearch()}),L(35,Ti,2,2,"mat-option",11,ki),r()(),o(37,"mat-form-field",9)(38,"mat-label"),s(39,"Location"),r(),o(40,"input",18),u("input",function(){return i.onSearch()}),r(),o(41,"mat-icon",7),s(42,"location_on"),r()(),o(43,"mat-form-field",9)(44,"mat-label"),s(45,"Minimum Rating"),r(),o(46,"mat-select",19),u("selectionChange",function(){return i.onSearch()}),o(47,"mat-option",11),s(48,"All ratings"),r(),o(49,"mat-option",11),s(50,"1+ stars"),r(),o(51,"mat-option",11),s(52,"2+ stars"),r(),o(53,"mat-option",11),s(54,"3+ stars"),r(),o(55,"mat-option",11),s(56,"4+ stars"),r(),o(57,"mat-option",11),s(58,"5 stars"),r()()()(),o(59,"div",20)(60,"div",21),_(61,Ii,4,0,"button",22),r(),o(62,"div",23)(63,"span",24),s(64),r(),s(65," services found "),r()()()()(),o(66,"div",25),_(67,Di,4,0,"div",26),_(68,Fi,6,1,"div",27),_(69,Ri,9,0,"div",28),_(70,Xi,4,1),r()()),t&2&&(l(4),p("formGroup",i.filterForm),l(13),q(i.categories()),l(18),q(i.countries),l(12),p("value",0),l(2),p("value",1),l(2),p("value",2),l(2),p("value",3),l(2),p("value",4),l(2),p("value",5),l(4),y(i.hasActiveFilters()?61:-1),l(3),S(i.total()),l(3),y(i.loading()?67:-1),l(),y(i.error()?68:-1),l(),y(!i.loading()&&i.hasSearched()&&!i.hasResults()?69:-1),l(),y(!i.loading()&&i.hasResults()?70:-1))},dependencies:[T,le,Ve,je,Be,He,On,En,de,Ge,ze,Ue,Dn,fn,Q,pe,Le,E,D,Vn,me,I,j,Gn,Un,ae,re,Ln,ie,ni,Ie,zn,ce,Zn,Kt],styles:[".line-clamp-1[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:1;line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.line-clamp-2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.business-card[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.business-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 25px 50px -12px #00000040}.business-gradient-1[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.business-gradient-2[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c)}.business-gradient-3[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe)}.business-gradient-4[_ngcontent-%COMP%]{background:linear-gradient(135deg,#43e97b,#38f9d7)}.business-gradient-5[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140)}.search-form[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{transition:all .3s ease}.search-form[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{transform:scale(1.02);box-shadow:0 10px 25px -5px #3b82f64d}.filter-pill[_ngcontent-%COMP%]{transition:all .2s ease}.filter-pill[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 8px #0000001a}.rating-stars[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{transition:color .2s ease}.business-type-badge.service[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dbeafe,#bfdbfe);color:#1e40af}.business-type-badge.product[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dcfce7,#bbf7d0);color:#166534}.business-type-badge.both[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a);color:#92400e}.featured-badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_glow 2s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_glow{0%{box-shadow:0 0 5px #fbbf2480}to{box-shadow:0 0 20px #fbbf24cc}}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.business-card[_ngcontent-%COMP%]   .business-header[_ngcontent-%COMP%]{height:120px}.business-card[_ngcontent-%COMP%]   .business-logo[_ngcontent-%COMP%]{width:60px;height:60px}}*[_ngcontent-%COMP%]{transition:color .2s ease,background-color .2s ease,border-color .2s ease,transform .2s ease,box-shadow .2s ease}"]})};var et=class n{constructor(e){this.http=e}apiUrl=`${oe.api.baseUrl}/paypal-accounts`;getConnectUrl(){return this.http.get(`${this.apiUrl}/connect-url`)}connectAccount(e){return this.http.post(`${this.apiUrl}/connect`,e)}getAccounts(){return this.http.get(this.apiUrl)}getAccount(e){return this.http.get(`${this.apiUrl}/${e}`)}refreshAccount(e){return this.http.post(`${this.apiUrl}/${e}/refresh`,{})}disconnectAccount(e){return this.http.post(`${this.apiUrl}/${e}/disconnect`,{})}verifyAccount(e){return this.http.post(`${this.apiUrl}/${e}/verify`,{})}initiatePayPalConnection(e){return C(this,null,function*(){try{let t=yield this.getConnectUrl().toPromise();if(!t?.auth_url)throw new Error("Failed to get PayPal OAuth URL");let i=window.open(t.auth_url,"paypal-oauth","width=500,height=600,scrollbars=yes,resizable=yes");if(!i)throw new Error("Popup blocked. Please allow popups for this site.");return new Promise((a,c)=>{let g=setInterval(()=>{i.closed&&(clearInterval(g),c(new Error("PayPal connection was cancelled")))},1e3),V=Z=>{Z.origin===window.location.origin&&(Z.data.type==="PAYPAL_OAUTH_SUCCESS"?(clearInterval(g),window.removeEventListener("message",V),i.close(),this.connectAccount({code:Z.data.code,state:Z.data.state}).subscribe({next:st=>a(st),error:st=>c(st)})):Z.data.type==="PAYPAL_OAUTH_ERROR"&&(clearInterval(g),window.removeEventListener("message",V),i.close(),c(new Error(Z.data.error||"PayPal connection failed"))))};window.addEventListener("message",V)})}catch(t){throw console.error("PayPal connection error:",t),t}})}static \u0275fac=function(t){return new(t||n)(Rt(Ae))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};function to(n,e){n&1&&(o(0,"div",4),f(1,"mat-spinner",5),o(2,"h2"),s(3,"Connecting PayPal Account"),r(),o(4,"p"),s(5,"Please wait while we connect your PayPal account..."),r()())}function no(n,e){if(n&1&&(o(0,"div",12)(1,"p")(2,"strong"),s(3,"Email:"),r(),s(4),r(),o(5,"p")(6,"strong"),s(7,"Status:"),r(),s(8),r()()),n&2){let t=m(2);l(4),R(" ",t.connectedAccount.email),l(4),R(" ",t.connectedAccount.is_verified?"Verified":"Not Verified")}}function io(n,e){if(n&1){let t=A();o(0,"div",6)(1,"mat-icon",7),s(2,"check_circle"),r(),o(3,"h2"),s(4,"PayPal Account Connected!"),r(),o(5,"p"),s(6,"Your PayPal account has been successfully connected."),r(),G(7,no,9,2,"div",8),o(8,"div",9)(9,"button",10),u("click",function(){x(t);let a=m();return b(a.goToPayPalAccounts())}),s(10," View PayPal Accounts "),r(),o(11,"button",11),u("click",function(){x(t);let a=m();return b(a.goToWithdrawals())}),s(12," Create Withdrawal "),r()()()}if(n&2){let t=m();l(7),p("ngIf",t.connectedAccount)}}function oo(n,e){if(n&1){let t=A();o(0,"div",13)(1,"mat-icon",14),s(2,"error"),r(),o(3,"h2"),s(4,"Connection Failed"),r(),o(5,"p"),s(6),r(),o(7,"div",9)(8,"button",10),u("click",function(){x(t);let a=m();return b(a.retry())}),s(9," Try Again "),r(),o(10,"button",11),u("click",function(){x(t);let a=m();return b(a.goToPayPalAccounts())}),s(11," Go Back "),r()()()}if(n&2){let t=m();l(6),S(t.errorMessage)}}var tt=class n{constructor(e,t,i){this.route=e;this.router=t;this.paypalService=i}processing=!0;success=!1;error=!1;errorMessage="";connectedAccount=null;ngOnInit(){this.handleCallback()}handleCallback(){this.route.queryParams.subscribe(e=>{let t=e.code,i=e.state,a=e.error,c=e.error_description;if(a){this.handleError(c||a);return}if(!t||!i){this.handleError("Missing authorization code or state parameter");return}this.paypalService.connectAccount({code:t,state:i}).subscribe({next:g=>{this.processing=!1,this.success=!0,this.connectedAccount=g,window.opener&&(window.opener.postMessage({type:"PAYPAL_OAUTH_SUCCESS",code:t,state:i,account:g},window.location.origin),window.close())},error:g=>{console.error("PayPal connection error:",g),this.handleError(g.error?.message||"Failed to connect PayPal account"),window.opener&&(window.opener.postMessage({type:"PAYPAL_OAUTH_ERROR",error:g.error?.message||"Failed to connect PayPal account"},window.location.origin),window.close())}})})}handleError(e){this.processing=!1,this.error=!0,this.errorMessage=e}retry(){this.processing=!0,this.error=!1,this.success=!1,this.handleCallback()}goToPayPalAccounts(){this.router.navigate(["/paypal-accounts"])}goToWithdrawals(){this.router.navigate(["/withdrawals"])}static \u0275fac=function(t){return new(t||n)(U(te),U(P),U(et))};static \u0275cmp=v({type:n,selectors:[["app-paypal-callback"]],decls:4,vars:3,consts:[[1,"callback-container"],["class","processing-state",4,"ngIf"],["class","success-state",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"processing-state"],["diameter","48"],[1,"success-state"],[1,"success-icon"],["class","account-info",4,"ngIf"],[1,"actions"],["mat-raised-button","","color","primary",3,"click"],["mat-stroked-button","",3,"click"],[1,"account-info"],[1,"error-state"],[1,"error-icon"]],template:function(t,i){t&1&&(o(0,"div",0),G(1,to,6,0,"div",1)(2,io,13,1,"div",2)(3,oo,12,1,"div",3),r()),t&2&&(l(),p("ngIf",i.processing),l(),p("ngIf",i.success&&!i.processing),l(),p("ngIf",i.error&&!i.processing))},dependencies:[T,ee,ae,re,I,j,E,D],styles:[".callback-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:24px;background:linear-gradient(135deg,#667eea,#764ba2)}.processing-state[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{background:#fff;padding:48px 32px;border-radius:16px;box-shadow:0 20px 40px #0000001a;text-align:center;max-width:500px;width:100%}.processing-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:24px 0 16px;font-size:1.5rem;font-weight:600}.processing-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 24px;color:#666;line-height:1.6}.success-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#4caf50;margin-bottom:16px}.error-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#f44336;margin-bottom:16px}.account-info[_ngcontent-%COMP%]{background:#f5f5f5;padding:16px;border-radius:8px;margin:24px 0;text-align:left}.account-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;color:#333}.actions[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:center;flex-wrap:wrap;margin-top:32px}@media (max-width: 768px){.actions[_ngcontent-%COMP%]{flex-direction:column}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]})};function ro(n,e){n&1&&(o(0,"div",4),f(1,"mat-spinner",5),o(2,"h2"),s(3,"Verifying Stripe Account"),r(),o(4,"p"),s(5,"Please wait while we verify your Stripe account setup..."),r()())}function ao(n,e){if(n&1){let t=A();o(0,"div",6)(1,"mat-icon",7),s(2,"check_circle"),r(),o(3,"h2"),s(4,"Stripe Account Connected Successfully!"),r(),o(5,"p"),s(6,"Your Stripe account has been set up and is ready for withdrawals."),r(),o(7,"div",8)(8,"button",9),u("click",function(){x(t);let a=m();return b(a.goToEarnings())}),s(9," View Earnings "),r(),o(10,"button",10),u("click",function(){x(t);let a=m();return b(a.goToDashboard())}),s(11," Back to Dashboard "),r()()()}}function so(n,e){if(n&1){let t=A();o(0,"div",11)(1,"mat-icon",12),s(2,"error"),r(),o(3,"h2"),s(4,"Setup Incomplete"),r(),o(5,"p"),s(6),r(),o(7,"div",8)(8,"button",13),u("click",function(){x(t);let a=m();return b(a.retrySetup())}),s(9," Try Again "),r(),o(10,"button",10),u("click",function(){x(t);let a=m();return b(a.goToDashboard())}),s(11," Back to Dashboard "),r()()()}if(n&2){let t=m();l(6),S(t.errorMessage)}}var be=class n{constructor(e,t,i){this.route=e;this.router=t;this.stripeConnectService=i}processing=!0;success=!1;error=!1;errorMessage="";ngOnInit(){return C(this,null,function*(){this.route.queryParams.subscribe(e=>C(this,null,function*(){e.success==="true"?yield this.handleSuccess():e.success==="false"?yield this.handleError():yield this.checkAccountStatus()}))})}handleSuccess(){return C(this,null,function*(){try{let e=yield this.stripeConnectService.getAccountStatus().toPromise();e?.payouts_enabled&&!e?.requirements_due?(this.processing=!1,this.success=!0):(this.processing=!1,this.error=!0,this.errorMessage="Account setup is not yet complete. Please try the onboarding process again.")}catch{this.processing=!1,this.error=!0,this.errorMessage="Failed to verify account status. Please try again."}})}handleError(){return C(this,null,function*(){this.processing=!1,this.error=!0,this.errorMessage="Account setup was not completed. You can try setting up your Stripe account again."})}checkAccountStatus(){return C(this,null,function*(){try{let e=yield this.stripeConnectService.getAccountStatus().toPromise();e?.payouts_enabled&&!e?.requirements_due?(this.processing=!1,this.success=!0):(this.processing=!1,this.error=!0,this.errorMessage="Account setup is incomplete. Please complete the onboarding process.")}catch{this.processing=!1,this.error=!0,this.errorMessage="Failed to check account status. Please try again."}})}retrySetup(){return C(this,null,function*(){try{this.processing=!0;let e=yield this.stripeConnectService.createOnboardingLink().toPromise();window.location.href=e.url}catch{this.processing=!1,this.errorMessage="Failed to create setup link. Please try again later."}})}goToEarnings(){this.router.navigate(["/dashboard/earnings"])}goToDashboard(){this.router.navigate(["/dashboard"])}static \u0275fac=function(t){return new(t||n)(U(te),U(P),U(Kn))};static \u0275cmp=v({type:n,selectors:[["app-stripe-callback"]],decls:4,vars:3,consts:[[1,"callback-container"],["class","processing-state",4,"ngIf"],["class","success-state",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"processing-state"],["diameter","48"],[1,"success-state"],[1,"success-icon"],[1,"actions"],["mat-raised-button","","color","primary",3,"click"],["mat-button","",3,"click"],[1,"error-state"],[1,"error-icon"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,i){t&1&&(o(0,"div",0),G(1,ro,6,0,"div",1)(2,ao,12,0,"div",2)(3,so,12,1,"div",3),r()),t&2&&(l(),p("ngIf",i.processing),l(),p("ngIf",i.success&&!i.processing),l(),p("ngIf",i.error&&!i.processing))},dependencies:[T,ee,ae,re,I,j,E,D],styles:[".callback-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:24px;background:#f5f5f5}.processing-state[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{text-align:center;max-width:400px;padding:48px 32px;background:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a}.success-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#4caf50;margin-bottom:24px}.error-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#f44336;margin-bottom:24px}h2[_ngcontent-%COMP%]{margin:16px 0;color:#333}p[_ngcontent-%COMP%]{margin:16px 0;color:#666;line-height:1.5}.actions[_ngcontent-%COMP%]{margin-top:32px;display:flex;gap:16px;justify-content:center;flex-wrap:wrap}mat-spinner[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.processing-state[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{padding:32px 24px;margin:16px}.actions[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;max-width:200px}}"]})};var ri=[{path:"",component:Ke},{path:"search",component:Je},{path:"auth",loadChildren:()=>import("./chunk-Y4HKTPDE.js").then(n=>n.AUTH_ROUTES),canActivate:[ei]},{path:"login",redirectTo:"auth/login"},{path:"signup",redirectTo:"auth/signup"},{path:"dashboard",component:Xe,loadChildren:()=>import("./chunk-XNLV6NUU.js").then(n=>n.DASHBOARD_ROUTES),canActivate:[kt]},{path:"admin",loadChildren:()=>import("./chunk-3UFPHK2J.js").then(n=>n.adminRoutes),canActivate:[kt]},{path:"business",loadChildren:()=>import("./chunk-KWVYHUAH.js").then(n=>n.BUSINESS_ROUTES)},{path:"paypal/callback",component:tt},{path:"stripe/return",component:be},{path:"stripe/refresh",component:be}];function ai(n){n||(n=d(Bt));let e=new ct(t=>{if(n.destroyed){t.next();return}return n.onDestroy(t.next.bind(t))});return t=>t.pipe(we(e))}function si(n){let e=Zt(n);return new ct(t=>{let i=e?.onDestroy(()=>t.complete()),a=n.subscribe(c=>t.next(c));return()=>{a.unsubscribe(),i?.()}})}function lo(n,e){n&1&&Oe(0,"div",3)}function co(n,e){n&1&&(M(0,"div",4),Oe(1,"div",5),w())}var po={min:8,max:100,speed:200,debounceTime:0,trickleSpeed:300,fadeOutSpeed:50,relative:!1,flat:!1,spinner:!1,direction:"ltr+",spinnerPosition:"right",trickleFunc:n=>n>=0&&n<20?10:n>=20&&n<50?4:n>=50&&n<80?2:n>=80&&n<99?.5:0},li=new z("NG_PROGRESS_OPTIONS",{providedIn:"root",factory:()=>po});var nt=(function(n){return n.START="START",n.COMPLETE="COMPLETE",n})(nt||{});function mo(n){let e=Y(n)||0;return e<100&&e>=0?e:0}function uo(n){let e=Y(n)||100;return e>0&&e<=100?e:100}var it=(()=>{let e=class e{constructor(){this.defaultOptions=d(li),this.min=F(this.defaultOptions.min,{transform:mo}),this.max=F(this.defaultOptions.max,{transform:uo}),this.speed=F(this.defaultOptions.speed,{transform:Y}),this.trickleSpeed=F(this.defaultOptions.trickleSpeed,{transform:Y}),this.fadeOutSpeed=F(this.defaultOptions.fadeOutSpeed,{transform:Y}),this.debounceTime=F(this.defaultOptions.debounceTime,{transform:Y}),this.trickleFunc=F(this.defaultOptions.trickleFunc),this.config=k(()=>({max:this.max(),min:this.min(),speed:this.speed(),trickleSpeed:this.trickleSpeed(),fadeOutSpeed:this.fadeOutSpeed(),trickleFunc:this.trickleFunc(),debounceTime:this.debounceTime()})),this._progress=h(0),this._active=h(!1),this.active=k(()=>this._active()),this.progress=k(()=>this._progress()),this.started=Ot(),this.completed=Ot(),this._trigger=new _e(null);let i;$(a=>{let c=this.config();ve(()=>{i=this._trigger.pipe(ye(g=>!!g),mt(g=>g===nt.START?dt(c.debounceTime).pipe(mt(()=>this.onTrickling(c))):this.onComplete(c))).subscribe(),a(()=>i?.unsubscribe())})})}start(){this.started.emit(),this._trigger.next(nt.START),this._active.set(!0)}complete(){this._trigger.next(nt.COMPLETE)}inc(i){let a=this.progress();this.active()?(typeof i!="number"&&(i=this.config().trickleFunc(a)),this.set(a+i)):this.start()}set(i){this._active.set(!0),this._progress.set(this.clamp(i))}clamp(i){return Math.max(this.config().min,Math.min(this.config().max,i))}onTrickling(i){return this.active()||this.set(i.min),dt(0,i.trickleSpeed).pipe(X(()=>this.inc()))}onComplete(i){return this.active()?(this.completed.emit(),It({}).pipe(X(()=>this._progress.set(100)),pt(i.speed+140),X(()=>this._active.set(!1)),pt(i.fadeOutSpeed),Ce(()=>this._progress.set(0)),we(si(this.started)))):Tt}};e.\u0275fac=function(a){return new(a||e)},e.\u0275dir=W({type:e,selectors:[["","ngProgressRef",""]],inputs:{min:[1,"min"],max:[1,"max"],speed:[1,"speed"],trickleSpeed:[1,"trickleSpeed"],fadeOutSpeed:[1,"fadeOutSpeed"],debounceTime:[1,"debounceTime"],trickleFunc:[1,"trickleFunc"]},outputs:{started:"started",completed:"completed"},exportAs:["ngProgressRef"]});let n=e;return n})(),ci=(()=>{let e=class e{constructor(){this.config=d(li),this.progressRef=d(it,{host:!0,self:!0}),this.flat=F(this.config.flat,{transform:ke}),this.spinner=F(this.config.spinner,{transform:ke}),this.relative=F(this.config.relative,{transform:ke}),this.spinnerPosition=F(this.config.spinnerPosition),this.direction=F(this.config.direction),this.progressTransform=k(()=>`translate3d(${this.progressRef.progress()}%,0,0)`)}};e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=v({type:e,selectors:[["ng-progress"]],hostAttrs:["role","progressbar"],hostVars:12,hostBindings:function(a,c){a&2&&(fe("spinnerPosition",c.spinnerPosition())("direction",c.direction()),Ee("--_ng-progress-speed",c.progressRef.speed()+"ms")("--_ng-progress-fade-out-speed",c.progressRef.fadeOutSpeed()+"ms"),Ct("ng-progress-bar",!0)("ng-progress-bar-active",c.progressRef.active())("ng-progress-bar-relative",c.relative()))},inputs:{flat:[1,"flat"],spinner:[1,"spinner"],relative:[1,"relative"],spinnerPosition:[1,"spinnerPosition"],direction:[1,"direction"]},exportAs:["ngProgress"],features:[xt([{directive:it,inputs:["min","min","max","max","speed","speed","trickleSpeed","trickleSpeed","fadeOutSpeed","fadeOutSpeed","debounceTime","debounceTime"],outputs:["started","started","completed","completed"]}])],decls:5,vars:4,consts:[[1,"ng-progress-bar-wrapper"],[1,"ng-bar-placeholder"],[1,"ng-bar"],[1,"ng-meteor"],[1,"ng-spinner"],[1,"ng-spinner-icon"]],template:function(a,c){a&1&&(M(0,"div",0)(1,"div",1)(2,"div",2),_(3,lo,1,0,"div",3),w()(),_(4,co,2,0,"div",4),w()),a&2&&(l(2),Ee("transform",c.progressTransform()),l(),y(c.flat()?-1:3),l(),y(c.spinner()?4:-1))},styles:['[_nghost-%COMP%]{--_ng-progress-thickness: var(--ng-progress-thickness, 2);--_ng-progress-thickness-px: calc(var(--_ng-progress-thickness) * 1px);--_ng-progress-thickness-add-one: calc(var(--_ng-progress-thickness) + 1);--_ng-progress-meteor-position-px: calc(var(--_ng-progress-thickness-add-one) * -1px);--_ng-progress-color: var(--ng-progress-color, #1B95E0);--_ng-progress-holder-color: var(--ng-progress-holder-color, transparent);--_ng-progress-ease: var(--ng-progress-ease, linear);--_ng-progress-spinner-thickness: var(--ng-progress-spinner-thickness, 2);--_ng-progress-spinner-thickness-px: calc(var(--_ng-progress-spinner-thickness) * 1px);--_ng-progress-spinner-spacing: var(--ng-progress-spinner-spacing, 15);--_ng-progress-spinner-spacing-px: calc(var(--_ng-progress-spinner-spacing) * 1px);--_ng-progress-spinner-size: var(--ng-progress-spinner-size, 18);--_ng-progress-spinner-size-px: calc(var(--_ng-progress-spinner-size) * 1px);--_ng-progress-spinner-speed: var(--ng-progress-spinner-speed, .25s);z-index:999999;pointer-events:none}.ng-progress-bar-active[_nghost-%COMP%]   .ng-progress-bar-wrapper[_ngcontent-%COMP%]{filter:alpha(opacity=100);opacity:1;transition:none}.ng-progress-bar-active[_nghost-%COMP%]   .ng-bar[_ngcontent-%COMP%]{transition:all var(--_ng-progress-speed) var(--_ng-progress-ease)}.ng-progress-bar-relative[_nghost-%COMP%]   .ng-progress-bar-wrapper[_ngcontent-%COMP%]{position:relative}[direction="ltr+"][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%], [direction=ltr-][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%]{rotate:calc(var(--_ng-progress-thickness-add-one) * 1deg)}[direction="ltr+"][_nghost-%COMP%]   .ng-bar[_ngcontent-%COMP%], [direction="rtl+"][_nghost-%COMP%]   .ng-bar[_ngcontent-%COMP%]{margin-left:-100%}[direction="ltr+"][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%], [direction="rtl+"][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%]{right:0}[direction="ltr+"][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%], [direction=rtl-][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%]{top:var(--_ng-progress-meteor-position-px)}[direction=ltr-][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%], [direction="rtl+"][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%]{bottom:var(--_ng-progress-meteor-position-px)}[direction=ltr-][_nghost-%COMP%]   .ng-bar-placeholder[_ngcontent-%COMP%], [direction="rtl+"][_nghost-%COMP%]   .ng-bar-placeholder[_ngcontent-%COMP%]{transform:rotate(180deg)}[direction=ltr-][_nghost-%COMP%]   .ng-spinner-icon[_ngcontent-%COMP%], [direction="rtl+"][_nghost-%COMP%]   .ng-spinner-icon[_ngcontent-%COMP%]{animation-direction:reverse}[direction="rtl+"][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%], [direction=rtl-][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%]{rotate:calc(var(--_ng-progress-thickness-add-one) * -1deg)}[_nghost-%COMP%]   .ng-spinner[_ngcontent-%COMP%]{top:var(--_ng-progress-spinner-spacing-px)}[spinnerPosition=left][_nghost-%COMP%]   .ng-spinner[_ngcontent-%COMP%]{left:var(--_ng-progress-spinner-spacing-px)}[spinnerPosition=right][_nghost-%COMP%]   .ng-spinner[_ngcontent-%COMP%]{right:var(--_ng-progress-spinner-spacing-px)}.ng-progress-bar-wrapper[_ngcontent-%COMP%]{position:fixed;z-index:999999;top:0;left:0;width:100%;transform:scale(1);filter:alpha(opacity=0);opacity:0;transition:opacity var(--_ng-progress-fade-out-speed) linear}.ng-bar-placeholder[_ngcontent-%COMP%]{position:absolute;height:var(--_ng-progress-thickness-px);width:100%}.ng-bar[_ngcontent-%COMP%]{width:100%;height:100%;transform:translate(-100%,0,0);background:var(--_ng-progress-color)}.ng-meteor[_ngcontent-%COMP%]{display:block;position:absolute;width:100px;height:100%;opacity:1;box-shadow:0 0 10px var(--_ng-progress-color),0 0 5px var(--_ng-progress-color)}.ng-spinner[_ngcontent-%COMP%]{position:absolute;display:block;z-index:1031;top:10px}.ng-spinner-icon[_ngcontent-%COMP%]{box-sizing:border-box;animation:_ngcontent-%COMP%_spinner-animation var(--_ng-progress-spinner-speed) linear infinite;border-style:solid;border-color:transparent;border-radius:50%;border-top-color:var(--_ng-progress-color);border-left-color:var(--_ng-progress-color);width:var(--_ng-progress-spinner-size-px);height:var(--_ng-progress-spinner-size-px);border-width:var(--_ng-progress-spinner-thickness-px)}@keyframes _ngcontent-%COMP%_spinner-animation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}'],changeDetection:0});let n=e;return n})();var go=new z("NG_PROGRESS_HTTP_OPTIONS",{providedIn:"root",factory:()=>null});var ho=new z("NgProgressHttpCounter",{providedIn:"root",factory:()=>h(0)});function mi(n,e){let t=d(go),i=d(ho);return n.headers.has("ignoreProgressBar")?e(n.clone({headers:n.headers.delete("ignoreProgressBar")})):t&&fo(n,t)?e(n):ve(()=>(i.set(i()+1),e(n).pipe(Ce(()=>{i.set(i()-1)}))))}function fo(n,e){let t=n.url.toLowerCase();return e.matcher&&e.silentApis?.length?pi(t,e.matcher)&&di(t,e.silentApis):e.silentApis?.length?di(t,e.silentApis):e.matcher?pi(t,e.matcher):!1}function di(n,e){return!!e.find(t=>n.includes(t.toLowerCase()))}function pi(n,e){return!!n.match(e)}var ui={providers:[Yt({eventCoalescing:!0}),dn(ri,pn()),tn(rn(),on(),nn([mi])),Xn(),vn(),{provide:en,useClass:$e,multi:!0}]};function vo(n,e){if(n&1&&(o(0,"div",15)(1,"mat-icon"),s(2,"error"),r(),o(3,"span"),s(4),r()()),n&2){let t=m();l(4),S(t.errorMessage)}}var ot=class n{dialogRef=d(qn);username="";password="";errorMessage="";showPassword=!1;CORRECT_USERNAME="admin";CORRECT_PASSWORD="adminalexolalinsey";onSubmit(){this.username===this.CORRECT_USERNAME&&this.password===this.CORRECT_PASSWORD?(sessionStorage.setItem("authGateAccess","true"),this.dialogRef.close(!0)):(this.errorMessage="Invalid username or password. Please try again.",this.password="")}togglePasswordVisibility(){this.showPassword=!this.showPassword}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=v({type:n,selectors:[["app-auth-gate-modal"]],decls:30,vars:7,consts:[["authForm","ngForm"],[1,"auth-gate-container"],[1,"auth-gate-header"],["mat-dialog-title",""],[1,"subtitle"],[3,"ngSubmit"],[1,"form-group"],["appearance","outline",1,"full-width"],["matInput","","type","text","name","username","required","","autocomplete","username","placeholder","Enter username",3,"ngModelChange","ngModel"],["matPrefix",""],["matInput","","name","password","required","","autocomplete","current-password","placeholder","Enter password",3,"ngModelChange","type","ngModel"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["class","error-message",4,"ngIf"],[1,"actions"],["mat-raised-button","","color","primary","type","submit",1,"submit-button",3,"disabled"],[1,"error-message"]],template:function(t,i){if(t&1){let a=A();o(0,"div",1)(1,"div",2)(2,"h2",3),s(3,"Authorization Required"),r(),o(4,"p",4),s(5,"Please enter your credentials to access this application"),r()(),o(6,"mat-dialog-content")(7,"form",5,0),u("ngSubmit",function(){return x(a),b(i.onSubmit())}),o(9,"div",6)(10,"mat-form-field",7)(11,"mat-label"),s(12,"Username"),r(),o(13,"input",8),Pt("ngModelChange",function(g){return x(a),St(i.username,g)||(i.username=g),b(g)}),r(),o(14,"mat-icon",9),s(15,"person"),r()()(),o(16,"div",6)(17,"mat-form-field",7)(18,"mat-label"),s(19,"Password"),r(),o(20,"input",10),Pt("ngModelChange",function(g){return x(a),St(i.password,g)||(i.password=g),b(g)}),r(),o(21,"mat-icon",9),s(22,"lock"),r(),o(23,"button",11),u("click",function(){return x(a),b(i.togglePasswordVisibility())}),o(24,"mat-icon"),s(25),r()()()(),G(26,vo,5,1,"div",12),o(27,"div",13)(28,"button",14),s(29," Access Application "),r()()()()()}t&2&&(l(13),Mt("ngModel",i.username),l(7),p("type",i.showPassword?"text":"password"),Mt("ngModel",i.password),l(3),fe("aria-label","Toggle password visibility"),l(2),S(i.showPassword?"visibility_off":"visibility"),l(),p("ngIf",i.errorMessage),l(2),p("disabled",!i.username||!i.password))},dependencies:[T,ee,An,Ve,je,Be,He,kn,Pn,Sn,Yn,Qn,Wn,Q,Ge,ze,Ue,In,pe,Le,E,D,xn,I,j],styles:[".auth-gate-container[_ngcontent-%COMP%]{padding:20px;max-width:450px;min-width:350px}@media (max-width: 480px){.auth-gate-container[_ngcontent-%COMP%]{min-width:280px;padding:16px}}.auth-gate-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px}.auth-gate-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 8px;font-size:24px;font-weight:600;color:#333}.auth-gate-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#666}mat-dialog-content[_ngcontent-%COMP%]{padding:0;margin:0;overflow:visible}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]:last-of-type{margin-bottom:20px}.full-width[_ngcontent-%COMP%]{width:100%}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px;background-color:#ffebee;border-radius:4px;margin-bottom:16px;color:#c62828;font-size:14px}.error-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.actions[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:24px}.actions[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{width:100%;padding:12px;font-size:16px;font-weight:500;text-transform:uppercase}  .auth-gate-dialog .mat-mdc-dialog-container{border-radius:8px;box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f}mat-form-field[_ngcontent-%COMP%]   mat-icon[matPrefix][_ngcontent-%COMP%]{margin-right:8px;color:#666}"]})};var rt=class n{dialog=d($n);dialogRef=null;checkAuthGate(){return!oe.production||sessionStorage.getItem("authGateAccess")==="true"?Promise.resolve(!0):this.showAuthGateModal()}showAuthGateModal(){return this.dialogRef?Promise.resolve(!1):(this.dialogRef=this.dialog.open(ot,{disableClose:!0,panelClass:"auth-gate-dialog",width:"450px",maxWidth:"90vw",hasBackdrop:!0,backdropClass:"auth-gate-backdrop"}),new Promise(e=>{this.dialogRef.afterClosed().subscribe(t=>{this.dialogRef=null,e(t===!0)})}))}clearAuthGate(){sessionStorage.removeItem("authGateAccess")}static \u0275fac=function(t){return new(t||n)};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};var xo={minDuration:0,startEvents:[an],completeEvents:[sn,ln,cn]},bo=new z("NG_PROGRESS_ROUTER_OPTIONS",{providedIn:"root",factory:()=>xo});function gi(n,e){return e.some(t=>n instanceof t)}var _o=(()=>{let e=class e{constructor(){this.router=d(P),this.config=d(bo),this.progressRef=d(it,{host:!0,self:!0});let i;this.router.events.pipe(ye(a=>gi(a,[...this.config.startEvents,...this.config.completeEvents])),K(a=>gi(a,this.config.startEvents)),X(a=>{clearTimeout(i),a?this.progressRef.start():i=setTimeout(()=>{this.progressRef.complete()},this.config.minDuration)}),ai()).subscribe()}};e.\u0275fac=function(a){return new(a||e)},e.\u0275dir=W({type:e});let n=e;return n})(),hi=(()=>{let e=class e extends _o{};e.\u0275fac=(()=>{let i;return function(c){return(i||(i=ht(e)))(c||e)}})(),e.\u0275dir=W({type:e,selectors:[["ng-progress","ngProgressRouter",""]],features:[vt]});let n=e;return n})();function yo(n,e){n&1&&f(0,"router-outlet")}function Co(n,e){n&1&&(o(0,"div",0),f(1,"div",2),o(2,"p"),s(3,"Verifying access..."),r()())}var at=class n{title="putheron";isAuthenticated=!1;authorizationService=d(wn);authGateService=d(rt);constructor(){typeof window<"u"&&(window.authService=this.authorizationService,console.log("\u{1F527} Authorization service exposed as window.authService for debugging"),console.log("\u{1F4A1} Use window.authService.debugAuthState() to inspect permissions"))}ngOnInit(){return C(this,null,function*(){this.isAuthenticated=yield this.authGateService.checkAuthGate()})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=v({type:n,selectors:[["app-root"]],decls:3,vars:1,consts:[[1,"auth-gate-loading"],["ngProgressRouter","",1,"root-progress-bar"],[1,"spinner"]],template:function(t,i){t&1&&(_(0,yo,1,0,"router-outlet")(1,Co,4,0,"div",0),f(2,"ng-progress",1)),t&2&&y(i.isAuthenticated?0:1)},dependencies:[T,Te,ci,hi],styles:[".auth-gate-loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.auth-gate-loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:20px}.auth-gate-loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;font-weight:500;margin:0}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.root-progress-bar[_ngcontent-%COMP%]{--ng-progress-thickness: 3}.root-progress-bar[_ngcontent-%COMP%]     .ng-bar-placeholder{background-color:#d3d3d3}.root-progress-bar[_ngcontent-%COMP%]     .ng-bar{background:#690aac;background:linear-gradient(to right,#690aac,#00f260)}"]})};Jt(at,ui).catch(n=>console.error(n));
