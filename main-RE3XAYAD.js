import{a as ye,b as we,c as Me}from"./chunk-MWRCKOYM.js";import{a as Ki,b as Zi}from"./chunk-UOBTZ2HN.js";import{a as so}from"./chunk-E73J67BA.js";import{a as lo}from"./chunk-YEOTPV35.js";import{b as Ci}from"./chunk-6FHVBICA.js";import"./chunk-LXDF2C5S.js";import{c as Ji}from"./chunk-E7RQWOJS.js";import{a as Gi}from"./chunk-TAHVWCV6.js";import{a as Wi}from"./chunk-4GMFS6W6.js";import"./chunk-PVDG46DZ.js";import{a as Yi,b as zt}from"./chunk-F2ZQ6V7O.js";import{a as Xi,b as eo,c as to,d as no,f as io,h as oo,i as ro,k as ao}from"./chunk-JSJFW26R.js";import{b as oe,c as re,d as ae,e as be,f as Dt,g as te,l as Vt,m as jt,n as Ht}from"./chunk-CXTZ6L32.js";import{b as Ot}from"./chunk-HANSDEYR.js";import"./chunk-QTMIK4VC.js";import{a as Mi,b as Si,c as Pi,d as Ue}from"./chunk-RV2OJUXZ.js";import{a as Oi}from"./chunk-UL7UTRTU.js";import"./chunk-LCCWZAEX.js";import{d as xe}from"./chunk-W6RJDLW3.js";import{a as Ei,b as Ti,c as Ai,d as Fi,e as Di,f as Ii,g as Ri,h as Bi}from"./chunk-FY37IJMK.js";import{b as Lt,c as Ut}from"./chunk-FYTS3IGZ.js";import{a as $i,b as qt}from"./chunk-4OHTWZSD.js";import{a as Nt}from"./chunk-WJ4DFVWN.js";import"./chunk-SNNT4QTV.js";import{d as _i,h as Z,i as Qi,j as Ce,l as Bt,m as se}from"./chunk-3E6WONAP.js";import{c as Rt}from"./chunk-U2AVJWKL.js";import{b as xi,e as Pt,f as kt,o as yi,v as wi}from"./chunk-V5XDW2Q5.js";import{d as Ke,e as Li,g as Ui,h as It,k as Ze}from"./chunk-K7KKK75I.js";import{A as ve,B as Ye,C as _e,c as Tt,e as Ie,h as $e,i as At,j as Ni,k as Re,l as Vi,m as Ft,p as ji,q as Hi,s as qi,y as zi}from"./chunk-U7A7OHU6.js";import"./chunk-RNGT6N3O.js";import{a as Et}from"./chunk-MNGBVTM3.js";import"./chunk-2KVGUUAN.js";import{a as Ge,b as We}from"./chunk-NALWU7JT.js";import{b as Le,c as D,d as w}from"./chunk-MLJYHTLM.js";import{a as U}from"./chunk-4GWWNNYU.js";import{a as ki}from"./chunk-EPCACDVR.js";import{a as ue,c as at,d as vi}from"./chunk-ZKKR2XMO.js";import"./chunk-LDSTDJZ6.js";import{a as Qe}from"./chunk-QD7SSFII.js";import{a as B,b as E}from"./chunk-QFHPWKDD.js";import{F as lt,d as Mt,l as hi,n as fi,w as st,x as St,z as bi}from"./chunk-O2FJLJYH.js";import{a as li,b as ci,c as di,d as pi,e as ze,f as wt,g as R,j as mi,k as ui,l as gi}from"./chunk-72SEU4B5.js";import{a as ti,b as ni}from"./chunk-JFMUERLE.js";import{A as yt,B as ii,C as oi,D as ri,E as ai,F as si,k as fe,r as ei,t as S}from"./chunk-FI3M32ZM.js";import{$a as l,$b as g,A as gt,Aa as vt,B as q,Ba as _t,D as In,Da as it,Ea as Hn,Eb as ie,Fb as _,Fc as Yn,Gb as C,Gc as Kn,H as Ne,J as hn,Ja as qn,Jb as z,Kb as L,L as ht,Lb as m,Mb as r,Mc as Zn,Nb as a,Ob as b,Pb as k,Pc as Jn,Qb as O,Qc as rt,Rb as ot,Rc as F,Sc as Q,Tc as Xn,U as fn,V as bn,Vb as M,Vc as he,W as ft,Wc as y,Y as Ve,Ya as _n,Z as vn,Zb as u,_c as xt,a as pt,aa as W,ac as xn,ba as je,bc as Oe,c as un,cc as yn,cd as ee,da as N,db as zn,dc as Ee,dd as me,ea as Rn,eb as ne,ec as de,f as Pe,fa as d,fb as Ct,fc as pe,g as mt,ga as Bn,hb as Ln,i as ut,ib as Un,jb as Qn,jc as K,k as Fn,ka as h,kb as $,kc as Te,l as Dn,la as f,lb as Gn,lc as j,ma as Nn,mb as Wn,nc as s,oa as nt,oc as I,pa as bt,pc as A,q as Be,qa as Vn,qb as v,rb as He,sb as Y,sc as Ae,tc as Fe,ua as x,ub as ke,uc as De,va as jn,vb as Cn,wb as V,xc as qe,y as gn,yc as $n}from"./chunk-M7BUBJMW.js";import{a as ce,b as tt,e as T}from"./chunk-JKOY2XUY.js";var No="@",Vo=(()=>{class i{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=d(nt);loadingSchedulerFn=d(jo,{optional:!0});_engine;constructor(t,n,o,c,p){this.doc=t,this.delegate=n,this.zone=o,this.animationType=c,this.moduleImpl=p}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-VKLZDSU2.js").then(o=>o),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(t):n=t(),n.catch(o=>{throw new vn(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:c})=>{this._engine=o(this.animationType,this.doc);let p=new c(this.delegate,this._engine,this.zone);return this.delegate=p,p})}createRenderer(t,n){let o=this.delegate.createRenderer(t,n);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let c=new wn(o);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(p=>{let G=p.createRenderer(t,n);c.use(G),this.scheduler??=this.injector.get(jn,null,{optional:!0}),this.scheduler?.notify(10)}).catch(p=>{c.use(o)}),c}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(t){this._engine?.flush(),this.delegate.componentReplaced?.(t)}static \u0275fac=function(n){Gn()};static \u0275prov=W({token:i,factory:i.\u0275fac})}return i})(),wn=class{delegate;replay=[];\u0275type=1;constructor(e){this.delegate=e}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,n,o){this.delegate.insertBefore(e,t,n,o)}removeChild(e,t,n,o){this.delegate.removeChild(e,t,n,o)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,o){this.delegate.setAttribute(e,t,n,o)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,o){this.delegate.setStyle(e,t,n,o)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){this.shouldReplay(t)&&this.replay.push(o=>o.setProperty(e,t,n)),this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n,o){return this.shouldReplay(t)&&this.replay.push(c=>c.listen(e,t,n,o)),this.delegate.listen(e,t,n,o)}shouldReplay(e){return this.replay!==null&&e.startsWith(No)}},jo=new N("");function co(i="animations"){return zn("NgAsyncAnimations"),Bn([{provide:Un,useFactory:(e,t,n)=>new Vo(e,t,n,i),deps:[bt,ti,Ct]},{provide:qn,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Qt=class i{router=d(R);intercept(e,t){let n=this.getTokenFromStorage(),o=e;return n&&(o=e.clone({setHeaders:{Authorization:`Bearer ${n}`}})),t.handle(o).pipe(In(c=>(c.status===401&&(console.warn("Authentication failed, redirecting to login"),this.clearAuthData(),this.router.navigate(["/auth"],{queryParams:{message:"Your session has expired. Please log in again."}})),Dn(()=>c))))}getTokenFromStorage(){return typeof window<"u"?localStorage.getItem("access_token"):null}clearAuthData(){typeof window<"u"&&(localStorage.removeItem("access_token"),localStorage.removeItem("current_user"),localStorage.removeItem("userPermissions"),localStorage.removeItem("permissionsTimestamp"))}static \u0275fac=function(t){return new(t||i)};static \u0275prov=W({token:i,factory:i.\u0275fac})};var Gt=class i{fb=d(ve);router=d(R);searchForm;heroSearchQuery=x("");countries=Nt;ngOnInit(){this.searchForm=this.fb.group({searchQuery:[""]})}onSearch(){let e=this.heroSearchQuery()?.trim(),t={};e&&(t.q=e),Object.keys(t).length>0&&this.router.navigate(["/search"],{queryParams:t})}onFindBusinesses(){this.router.navigate(["/search"])}onListBusiness(){this.router.navigate(["/list-business"])}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=v({type:i,selectors:[["hero-section"]],decls:24,vars:5,consts:[[1,"bg-[#C9F3DD]","relative","overflow-hidden",2,"height","calc(100vh - var(--header-height, 64px))","background-image","url('/assets/images/hero-background.svg')","background-size","cover","background-position","center","background-repeat","no-repeat"],[1,"max-w-7xl","mx-auto","w-full","h-full","px-3","lg:px-8","flex","flex-col","lg:flex-row","relative"],[1,"w-full","lg:w-1/2","h-full","flex","flex-col","justify-center","sm:pt-16","lg:pt-0","relative","z-10","text-center","lg:text-left"],[1,"text-5xl","lg:text-[60px]","font-bold","leading-tight","mb-6","poppins"],[1,"text-[#6B0FAE]"],[1,"block","lg:hidden"],[1,"text-black"],[1,"mt-1"],["src","/assets/svg/VOUCHHER.svg","alt","VouchHer",1,"h-10","lg:h-[51px]","w-auto","mx-auto","lg:mx-0"],[1,"text-lg","lg:text-xl","text-gray-700","mb-8","lg:mb-10","lg:max-w-none","mx-auto","lg:mx-0"],["id","hero-search-anchor",1,"mb-8","w-full","mx-auto","lg:mx-0","lg:max-w-xl"],[3,"searchEvent","searchQueryChange","width","backgroundColor","placeholder","boxShadow","searchQuery"],[1,"flex","flex-col","lg:flex-row","items-stretch","lg:items-start","gap-3","lg:gap-4","lg:px-0"],["mat-flat-button","","color","primary",1,"rounded-full","py-3","lg:py-2.5","px-8","text-base","font-medium","w-full","lg:w-fit",3,"click"],["mat-stroked-button","","color","primary",1,"rounded-full","py-3","lg:py-2.5","px-8","text-base","font-medium","w-full","lg:w-fit","!border-primary-600",3,"click"],[1,"hidden","lg:block","lg:w-[55%]","absolute","inset-y-0","right-0","overflow-visible"],["src","/assets/images/hero-women-images.png","alt","Professional women",1,"w-full","h-full","object-contain","object-bottom","transform","lg:scale-100","lg:translate-x-6"]],template:function(t,n){t&1&&(r(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),s(4," Find "),r(5,"span",4),s(6,"Her."),a(),b(7,"br",5),s(8," Hire "),r(9,"span",6),s(10,"Her."),a(),r(11,"div",7),b(12,"img",8),a()(),r(13,"p",9),s(14," A trusted platform connecting women in Business nationwide. "),a(),r(15,"div",10)(16,"app-search",11),u("searchEvent",function(){return n.onSearch()}),De("searchQueryChange",function(c){return Fe(n.heroSearchQuery,c)||(n.heroSearchQuery=c),c}),a()(),r(17,"div",12)(18,"button",13),u("click",function(){return n.onFindBusinesses()}),s(19," Find Businesses "),a(),r(20,"button",14),u("click",function(){return n.onListBusiness()}),s(21," List A Business "),a()()(),r(22,"div",15),b(23,"img",16),a()()()),t&2&&(l(16),m("width","100%")("backgroundColor","white")("placeholder","Search business or service")("boxShadow","0 2px 6px 0 #20212451"),Ae("searchQuery",n.heroSearchQuery))},dependencies:[S,_e,Ce,Z,se,w,D,Dt,xe,E,Ue],styles:["[_ngcontent-%COMP%]:root{--mat-select-panel-background-color: orange;--mat-select-enabled-trigger-text-color: red}.mdc-text-field[_ngcontent-%COMP%]{background-color:#fff!important;border-radius:4px}"]})};var Wt=class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=v({type:i,selectors:[["how-it-works-section"]],decls:46,vars:0,consts:[[1,"bg-white"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"text-center","mb-16"],[1,"text-4xl","md:text-5xl","font-bold","text-gray-900","mb-6"],[1,"text-xl","text-gray-600","max-w-3xl","mx-auto"],[1,"grid","md:grid-cols-2","gap-8","lg:gap-12"],[1,"bg-white","border","border-gray-200","rounded-lg","p-8"],[1,"text-lg","font-semibold","text-primary-500","mb-4"],[1,"space-y-4","text-gray-700"],[1,"font-semibold"],[1,"text-sm","text-gray-600"]],template:function(t,n){t&1&&(k(0,"section",0)(1,"div",1)(2,"div",2)(3,"h3",3),s(4," How it works "),O(),k(5,"p",4),s(6," Connect with talented women in business has never been easier. Bridging the gap between women professionals and companies that value them. "),O()(),k(7,"div",5)(8,"div",6)(9,"h4",7),s(10,"For Finding Business(es)"),O(),k(11,"div",8)(12,"div")(13,"div",9),s(14,"Search for a business"),O(),k(15,"div",10),s(16,"Browse by industry, location or heritage and more."),O()(),k(17,"div")(18,"div",9),s(19,"Apply for desired business"),O(),k(20,"div",10),s(21,"Submit a request to get hired and work."),O()(),k(22,"div")(23,"div",9),s(24,"Get paid"),O(),k(25,"div",10),s(26,"You get paid when work is done or completed with satisfaction from client."),O()()()(),k(27,"div",6)(28,"h4",7),s(29,"For Listing Business(es)"),O(),k(30,"div",8)(31,"div")(32,"div",9),s(33,"Create or list business(es)"),O(),k(34,"div",10),s(35,"Post a business by creating one."),O()(),k(36,"div")(37,"div",9),s(38,"Get Offers or bids"),O(),k(39,"div",10),s(40,"Receive tailored offers, proposals, or bids from professionals ready to work with you."),O()(),k(41,"div")(42,"div",9),s(43,"Pay when job is done"),O(),k(44,"div",10),s(45,"Secure, fair, and risk-free. Make payment once the work is completed."),O()()()()()()())},encapsulation:2})};var $t=class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=v({type:i,selectors:[["app-why-choose-voucher"]],decls:25,vars:0,consts:[[1,"relative","bg-white","py-12","md:py-16"],[1,"lg:max-w-7xl","mx-auto","lg:px-4","sm:px-6","lg:px-8"],[1,"block","md:hidden","relative"],[1,"absolute","right-0","-top-40","w-[85%]","z-0","pr-0"],["src","/assets/images/dashboard.png","alt","Dashboard preview",1,"w-full","h-auto","rounded-lg","shadow-lg"],[1,"bg-primary-600","text-white","rounded-none","p-6","pt-32","mt-32","relative","z-10","flex","flex-col","justify-center","min-h-[300px]"],[1,"text-2xl","font-bold","mb-4","text-white","text-center"],[1,"text-sm","text-white/90","leading-relaxed","mb-6","text-center","px-4"],[1,"flex","justify-center","pb-2"],["mat-flat-button","",1,"bg-white!","text-primary-600!","rounded-full","px-8","py-3","font-semibold"],[1,"hidden","md:block"],[1,"grid","md:grid-cols-2","gap-6","items-center"],["src","/assets/images/women-talking.png","alt","Two women talking",1,"w-full","h-72","md:h-96","object-cover","rounded-md","shadow-sm"],[1,"pl-0","md:pl-12"],[1,"text-3xl","md:text-4xl","font-bold","mb-4","text-primary-500"],[1,"text-gray-700","mb-6"],["mat-flat-button","","color","primary",1,"px-8","py-3"]],template:function(t,n){t&1&&(r(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),b(4,"img",4),a(),r(5,"div",5)(6,"h3",6),s(7,"Why choose VouchHer"),a(),r(8,"p",7),s(9," We are a professional and trusted hub that connects ambitious women ready to showcase their skills with businesses seeking top talent to grow. Our platform bridges opportunity and expertise, empowering women to get hired while helping companies discover and hire the best. "),a(),r(10,"div",8)(11,"button",9),s(12," Join VouchHer "),a()()()(),r(13,"div",10)(14,"div",11)(15,"div"),b(16,"img",12),a(),r(17,"div",13)(18,"h3",14),s(19,"Why choose VouchHer"),a(),r(20,"p",15),s(21," We are a professional and trusted hub that connects ambitious women ready to showcase their skills with businesses seeking top talent to grow. Our platform bridges opportunity and expertise, empowering women to get hired while helping companies discover and hire the best. "),a(),r(22,"div")(23,"button",16),s(24,"Join VouchHer"),a()()()()()()())},dependencies:[w,D],styles:["[_nghost-%COMP%]{display:block}"]})};var Yt=class i{authService=d(U);router=d(R);constructor(){Q(()=>{let e=this.authService.isAuthenticated(),t=this.authService.user();e&&t&&(t.user_mode==="business_owner"?(console.log("Redirecting business owner to dashboard"),this.router.navigate(["/dashboard"])):(console.log("Redirecting client to search page"),this.router.navigate(["/search"])))})}ngOnInit(){}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=v({type:i,selectors:[["app-home"]],decls:11,vars:3,consts:[["drawer",""],[3,"drawer"],["autosize","",1,"content-body",3,"hasBackdrop"],[1,"drawer",3,"mode"],[1,"bg-white!"],[1,"space-y-16","flex","flex-col","md:space-y-24"]],template:function(t,n){if(t&1&&(b(0,"app-header",1),r(1,"mat-drawer-container",2)(2,"mat-drawer",3,0),b(4,"app-guest-sidenav"),a(),r(5,"mat-drawer-content",4)(6,"div",5),b(7,"hero-section")(8,"how-it-works-section")(9,"app-why-choose-voucher")(10,"footer-component"),a()()()),t&2){let o=K(3);m("drawer",o),l(),m("hasBackdrop",!0),l(),m("mode","over")}},dependencies:[te,Gt,Wt,$t,ye,be,re,ae,oe,Z,Ce,w,we],styles:[".drawer[_ngcontent-%COMP%]{height:100vh;border-radius:0}.content-body[_ngcontent-%COMP%]{height:100vh;overflow-y:scroll}"]})};var Kt=class i{authService=d(U);router=d(R);businessService=d(Et);projectService=d(Gi);socketService=d(Oi);breakpointObserver=d(Mt);favoritesService=d(Wi);sidenavOpened=x(!1);isMobile=x(!1);userBusinessCount=x(0);totalServices=x(0);totalProjects=x(0);favoritesCount=F(()=>this.favoritesService.getFavoritesCount());user=this.authService.user;isAuthenticated=this.authService.isAuthenticated;userMode=F(()=>this.user()?.user_mode||"client");isBusinessOwner=F(()=>this.userMode()==="business_owner");isAdmin=F(()=>this.user()?.email?.includes("admin")||!1);mobileSubscription;userModeEffect=Q(()=>{let e=this.userMode(),t=this.user(),n=this.isBusinessOwner();console.log("Dashboard signals updated:",{user:t?.email,mode:e,isBusiness:n}),t&&this.loadDashboardCounts()});ngOnInit(){this.setupMobileDetection(),this.loadDashboardCounts(),this.socketService.connect()}ngOnDestroy(){this.mobileSubscription&&this.mobileSubscription.unsubscribe()}setupMobileDetection(){this.mobileSubscription=this.breakpointObserver.observe([ue.Handset]).subscribe(e=>{this.isMobile.set(e.matches),e.matches?this.sidenavOpened.set(!1):this.sidenavOpened.set(!0)})}loadDashboardCounts(){return T(this,null,function*(){try{let e=yield this.businessService.getMyBusinessesAsync();this.userBusinessCount.set(e.length);let t=0;for(let n of e)try{let o=yield this.businessService.getBusinessServicesAsync(n._id);t+=o.length}catch(o){console.warn(`Failed to load services for business ${n._id}:`,o)}this.totalServices.set(t);try{let n=yield this.projectService.getAllMyProjectsAsync();this.totalProjects.set(n.length)}catch(n){console.warn("Failed to load projects:",n),this.totalProjects.set(0)}}catch(e){console.error("Error loading dashboard counts:",e)}})}toggleSidenav(){this.sidenavOpened.set(!this.sidenavOpened())}onMenuToggle(){this.toggleSidenav()}onNavigationClick(){this.isMobile()&&this.sidenavOpened.set(!1)}navigateToCreateBusiness(){this.router.navigate(["/dashboard/businesses/create-business"])}createService(){this.router.navigate(["/dashboard/services/create-service"])}getActiveTabTitle(){let e=this.router.url.split("/");switch(e[e.length-1]){case"dashboard":case"":return this.isBusinessOwner()?"Dashboard Overview":"My Projects";case"overview":return"Dashboard Overview";case"businesses":return"My Businesses";case"services":return"My Services";case"projects":return"My Projects";case"notifications":return"Notifications";case"profile":return"Profile";case"settings":return"Settings";default:return this.router.url.includes("/messages")?"Messages":this.isBusinessOwner()?"Dashboard":"My Projects"}}getUserInitials(){let e=this.user();if(!e)return"";if(e.first_name||e.last_name){let t=e.first_name?.charAt(0).toUpperCase()||"",n=e.last_name?.charAt(0).toUpperCase()||"";return t+n}return e.email.charAt(0).toUpperCase()}navigateToDashboard(){this.router.navigate(["/dashboard"])}navigateToProfile(){this.router.navigate(["/dashboard/profile"])}navigateToSettings(){this.router.navigate(["/dashboard/settings"])}navigateToAdmin(){this.router.navigate(["/admin"])}switchToBusinessMode(){return T(this,null,function*(){try{let e=yield this.authService.switchMode("business_owner");e.data?(console.log("Switched to business owner mode successfully"),console.log("Updated user mode:",this.userMode()),this.loadDashboardCounts()):console.error("Failed to switch to business mode:",e.error)}catch(e){console.error("Error switching to business mode:",e)}})}switchToClientMode(){return T(this,null,function*(){try{let e=yield this.authService.switchMode("client");e.data?(console.log("Switched to client mode successfully"),console.log("Updated user mode:",this.userMode()),this.router.navigate(["/search"])):console.error("Failed to switch to client mode:",e.error)}catch(e){console.error("Error switching to client mode:",e)}})}viewProfile(){this.navigateToProfile()}logout(){this.authService.logout(),this.router.navigate(["/auth"])}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=v({type:i,selectors:[["app-dashboard"]],decls:7,vars:5,consts:[["drawer",""],[3,"drawer"],[3,"hasBackdrop"],["position","start",1,"drawer",3,"opened","disableClose","mode"],[1,"content-body"]],template:function(t,n){if(t&1&&(b(0,"app-header",1),r(1,"mat-drawer-container",2)(2,"mat-drawer",3,0),b(4,"app-user-sidenav"),a(),r(5,"mat-drawer-content",4),b(6,"router-outlet"),a()()),t&2){let o=K(3);m("drawer",o),l(),m("hasBackdrop",n.isMobile()),l(),m("opened",n.sidenavOpened())("disableClose",!n.isMobile())("mode",n.isMobile()?"over":"side")}},dependencies:[S,be,re,ae,oe,Ue,E,w,Ot,wt,gi,te,Me],styles:[".drawer[_ngcontent-%COMP%]{height:calc(100vh - 64px);border-radius:0}.content-body[_ngcontent-%COMP%]{height:calc(100vh - 64px);overflow-y:scroll}.dashboard-loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:3rem 0}.dashboard-loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite;border-radius:50%;height:3rem;width:3rem;border:2px solid #e5e7eb;border-top:2px solid #2563eb}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.business-item[_ngcontent-%COMP%]:hover{background-color:#f9fafb;transition:background-color .15s ease-in-out}.status-approved[_ngcontent-%COMP%]{background-color:#dcfce7;color:#166534}.status-pending[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.status-rejected[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.status-suspended[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#374151}.create-business-btn[_ngcontent-%COMP%]:hover{background-color:#1d4ed8;transform:translateY(-1px);transition:all .2s ease-in-out}.action-btn[_ngcontent-%COMP%]:hover{background-color:#f9fafb;transform:translateY(-1px);transition:all .15s ease-in-out}.action-btn-danger[_ngcontent-%COMP%]:hover{background-color:#fef2f2;transform:translateY(-1px);transition:all .15s ease-in-out}.stat-card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;transition:box-shadow .2s ease-in-out}.empty-state[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:.6}  .mat-drawer-content{height:calc(100vh - 64px)!important;overflow-y:auto!important;overflow-x:hidden!important;display:flex!important;flex-direction:column!important}  .mat-drawer-container{height:calc(100vh - 64px)!important}@media (max-width: 640px){.business-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.75rem}.action-buttons[_ngcontent-%COMP%]{margin-left:0;width:100%;justify-content:flex-end}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.create-business-btn[_ngcontent-%COMP%]:focus, .action-btn[_ngcontent-%COMP%]:focus, .action-btn-danger[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;box-shadow:0 0 0 2px #2563eb}@media print{.action-buttons[_ngcontent-%COMP%], .create-business-btn[_ngcontent-%COMP%]{display:none}}"]})};var Sn=(i,e)=>{let t=d(U),n=d(R);return t.isAuthenticated$.pipe(Be(o=>o?!0:(n.navigate(["/auth"],{queryParams:{returnUrl:e.url}}),!1)))};var po=(i,e)=>{let t=d(U),n=d(R);return t.isAuthenticated$.pipe(Be(o=>o?(n.navigate(["/"]),!1):!0))};var Pn=new N("CdkAccordion"),mo=(()=>{class i{_stateChanges=new Pe;_openCloseAllActions=new Pe;id=d(st).getId("cdk-accordion-");multi=!1;openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(t){this._stateChanges.next(t)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Y({type:i,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",ee]},exportAs:["cdkAccordion"],features:[qe([{provide:Pn,useExisting:i}]),vt]})}return i})(),uo=(()=>{class i{accordion=d(Pn,{optional:!0,skipSelf:!0});_changeDetectorRef=d(xt);_expansionDispatcher=d(Rt);_openCloseAllSubscription=pt.EMPTY;closed=new ne;opened=new ne;destroyed=new ne;expandedChange=new ne;id=d(st).getId("cdk-accordion-child-");get expanded(){return this._expanded}set expanded(t){if(this._expanded!==t){if(this._expanded=t,this.expandedChange.emit(t),t){this.opened.emit();let n=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,n)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}_expanded=!1;get disabled(){return this._disabled()}set disabled(t){this._disabled.set(t)}_disabled=x(!1);_removeUniqueSelectionListener=()=>{};constructor(){}ngOnInit(){this._removeUniqueSelectionListener=this._expansionDispatcher.listen((t,n)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===n&&this.id!==t&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(t=>{this.disabled||(this.expanded=t)})}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Y({type:i,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",ee],disabled:[2,"disabled","disabled",ee]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[qe([{provide:Pn,useValue:void 0}])]})}return i})(),go=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=He({type:i});static \u0275inj=je({})}return i})();var zo=["body"],Lo=["bodyWrapper"],Uo=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],Qo=["mat-expansion-panel-header","*","mat-action-row"];function Go(i,e){}var Wo=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],$o=["mat-panel-title","mat-panel-description","*"];function Yo(i,e){i&1&&(k(0,"span",1),Nn(),k(1,"svg",2),ot(2,"path",3),O()())}var kn=new N("MAT_ACCORDION"),ho=new N("MAT_EXPANSION_PANEL"),Ko=(()=>{class i{_template=d(Ln);_expansionPanel=d(ho,{optional:!0});constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Y({type:i,selectors:[["ng-template","matExpansionPanelContent",""]]})}return i})(),fo=new N("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),On=(()=>{class i extends uo{_viewContainerRef=d(Wn);_animationsDisabled=at();_document=d(bt);_ngZone=d(Ct);_elementRef=d(it);_renderer=d(Qn);_cleanupTransitionEnd;get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(t){this._hideToggle=t}_hideToggle=!1;get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(t){this._togglePosition=t}_togglePosition;afterExpand=new ne;afterCollapse=new ne;_inputChanges=new Pe;accordion=d(kn,{optional:!0,skipSelf:!0});_lazyContent;_body;_bodyWrapper;_portal;_headerId=d(st).getId("mat-expansion-panel-header-");constructor(){super();let t=d(fo,{optional:!0});this._expansionDispatcher=d(Rt),t&&(this.hideToggle=t.hideToggle)}_hasSpacing(){return this.accordion?this.expanded&&this.accordion.displayMode==="default":!1}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe(fn(null),q(()=>this.expanded&&!this._portal),Ne(1)).subscribe(()=>{this._portal=new xi(this._lazyContent._template,this._viewContainerRef)}),this._setupAnimationEvents()}ngOnChanges(t){this._inputChanges.next(t)}ngOnDestroy(){super.ngOnDestroy(),this._cleanupTransitionEnd?.(),this._inputChanges.complete()}_containsFocus(){if(this._body){let t=this._document.activeElement,n=this._body.nativeElement;return t===n||n.contains(t)}return!1}_transitionEndListener=({target:t,propertyName:n})=>{t===this._bodyWrapper?.nativeElement&&n==="grid-template-rows"&&this._ngZone.run(()=>{this.expanded?this.afterExpand.emit():this.afterCollapse.emit()})};_setupAnimationEvents(){this._ngZone.runOutsideAngular(()=>{this._animationsDisabled?(this.opened.subscribe(()=>this._ngZone.run(()=>this.afterExpand.emit())),this.closed.subscribe(()=>this._ngZone.run(()=>this.afterCollapse.emit()))):setTimeout(()=>{let t=this._elementRef.nativeElement;this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this._transitionEndListener),t.classList.add("mat-expansion-panel-animations-enabled")},200)})}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=v({type:i,selectors:[["mat-expansion-panel"]],contentQueries:function(n,o,c){if(n&1&&yn(c,Ko,5),n&2){let p;de(p=pe())&&(o._lazyContent=p.first)}},viewQuery:function(n,o){if(n&1&&(Ee(zo,5),Ee(Lo,5)),n&2){let c;de(c=pe())&&(o._body=c.first),de(c=pe())&&(o._bodyWrapper=c.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:4,hostBindings:function(n,o){n&2&&j("mat-expanded",o.expanded)("mat-expansion-panel-spacing",o._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",ee],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[qe([{provide:kn,useValue:void 0},{provide:ho,useExisting:i}]),ke,vt],ngContentSelectors:Qo,decls:9,vars:4,consts:[["bodyWrapper",""],["body",""],[1,"mat-expansion-panel-content-wrapper"],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(n,o){n&1&&(xn(Uo),Oe(0),r(1,"div",2,0)(3,"div",3,1)(5,"div",4),Oe(6,1),V(7,Go,0,0,"ng-template",5),a(),Oe(8,2),a()()),n&2&&(l(),ie("inert",o.expanded?null:""),l(2),m("id",o.id),ie("aria-labelledby",o._headerId),l(4),m("cdkPortalOutlet",o._portal))},dependencies:[Pt],styles:[`.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;position:relative;background:var(--mat-expansion-container-background-color, var(--mat-sys-surface));color:var(--mat-expansion-container-text-color, var(--mat-sys-on-surface));border-radius:var(--mat-expansion-container-shape, 12px)}.mat-expansion-panel.mat-expansion-panel-animations-enabled{transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:var(--mat-expansion-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape, 12px);border-top-left-radius:var(--mat-expansion-container-shape, 12px)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape, 12px);border-bottom-left-radius:var(--mat-expansion-container-shape, 12px)}@media(forced-colors: active){.mat-expansion-panel{outline:solid 1px}}.mat-expansion-panel-content-wrapper{display:grid;grid-template-rows:0fr;grid-template-columns:100%}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content-wrapper{transition:grid-template-rows 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{grid-template-rows:1fr}@supports not (grid-template-rows: 0fr){.mat-expansion-panel-content-wrapper{height:0}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper{height:auto}}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;min-height:0;visibility:hidden;font-family:var(--mat-expansion-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-expansion-container-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-expansion-container-text-weight, var(--mat-sys-body-large-weight));line-height:var(--mat-expansion-container-text-line-height, var(--mat-sys-body-large-line-height));letter-spacing:var(--mat-expansion-container-text-tracking, var(--mat-sys-body-large-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-content{transition:visibility 190ms linear}.mat-expansion-panel.mat-expanded>.mat-expansion-panel-content-wrapper>.mat-expansion-panel-content{visibility:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color, var(--mat-sys-outline))}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}
`],encapsulation:2,changeDetection:0})}return i})();var En=(()=>{class i{panel=d(On,{host:!0});_element=d(it);_focusMonitor=d(hi);_changeDetectorRef=d(xt);_parentChangeSubscription=pt.EMPTY;constructor(){d(fi).load(vi);let t=this.panel,n=d(fo,{optional:!0}),o=d(new Xn("tabindex"),{optional:!0}),c=t.accordion?t.accordion._stateChanges.pipe(q(p=>!!(p.hideToggle||p.togglePosition))):ut;this.tabIndex=parseInt(o||"")||0,this._parentChangeSubscription=gt(t.opened,t.closed,c,t._inputChanges.pipe(q(p=>!!(p.hideToggle||p.disabled||p.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),t.closed.pipe(q(()=>t._containsFocus())).subscribe(()=>this._focusMonitor.focusVia(this._element,"program")),n&&(this.expandedHeight=n.expandedHeight,this.collapsedHeight=n.collapsedHeight)}expandedHeight;collapsedHeight;tabIndex=0;get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){let t=this._isExpanded();return t&&this.expandedHeight?this.expandedHeight:!t&&this.collapsedHeight?this.collapsedHeight:null}_keydown(t){switch(t.keyCode){case 32:case 13:St(t)||(t.preventDefault(),this._toggle());break;default:this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(t);return}}focus(t,n){t?this._focusMonitor.focusVia(this._element,t,n):this._element.nativeElement.focus(n)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(t=>{t&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=v({type:i,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:13,hostBindings:function(n,o){n&1&&u("click",function(){return o._toggle()})("keydown",function(p){return o._keydown(p)}),n&2&&(ie("id",o.panel._headerId)("tabindex",o.disabled?-1:o.tabIndex)("aria-controls",o._getPanelId())("aria-expanded",o._isExpanded())("aria-disabled",o.panel.disabled),Te("height",o._getHeaderHeight()),j("mat-expanded",o._isExpanded())("mat-expansion-toggle-indicator-after",o._getTogglePosition()==="after")("mat-expansion-toggle-indicator-before",o._getTogglePosition()==="before"))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:me(t)]},ngContentSelectors:$o,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(n,o){n&1&&(xn(Wo),k(0,"span",0),Oe(1),Oe(2,1),Oe(3,2),O(),_(4,Yo,3,0,"span",1)),n&2&&(j("mat-content-hide-toggle",!o._showToggle()),l(4),C(o._showToggle()?4:-1))},styles:[`.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;height:var(--mat-expansion-header-collapsed-state-height, 48px);font-family:var(--mat-expansion-header-text-font, var(--mat-sys-title-medium-font));font-size:var(--mat-expansion-header-text-size, var(--mat-sys-title-medium-size));font-weight:var(--mat-expansion-header-text-weight, var(--mat-sys-title-medium-weight));line-height:var(--mat-expansion-header-text-line-height, var(--mat-sys-title-medium-line-height));letter-spacing:var(--mat-expansion-header-text-tracking, var(--mat-sys-title-medium-tracking))}.mat-expansion-panel-animations-enabled .mat-expansion-panel-header{transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header::before{border-radius:inherit}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height, 64px)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color, var(--mat-sys-surface))}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color, var(--mat-sys-on-surface))}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color, var(--mat-sys-on-surface-variant))}.mat-expansion-panel-animations-enabled .mat-expansion-indicator{transition:transform 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header.mat-expanded .mat-expansion-indicator{transform:rotate(180deg)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-legacy-header-indicator-display, none)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color, var(--mat-sys-on-surface-variant));display:var(--mat-expansion-header-indicator-display, inline-block)}@media(forced-colors: active){.mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}}
`],encapsulation:2,changeDetection:0})}return i})();var bo=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=Y({type:i,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]})}return i})(),vo=(()=>{class i extends mo{_keyManager;_ownHeaders=new Hn;_headers;hideToggle=!1;displayMode="default";togglePosition="after";ngAfterContentInit(){this._headers.changes.pipe(fn(this._headers)).subscribe(t=>{this._ownHeaders.reset(t.filter(n=>n.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new bi(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(t){this._keyManager.onKeydown(t)}_handleHeaderFocus(t){this._keyManager.updateActiveItem(t)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static \u0275fac=(()=>{let t;return function(o){return(t||(t=_t(i)))(o||i)}})();static \u0275dir=Y({type:i,selectors:[["mat-accordion"]],contentQueries:function(n,o,c){if(n&1&&yn(c,En,5),n&2){let p;de(p=pe())&&(o._headers=p)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(n,o){n&2&&j("mat-accordion-multi",o.multi)},inputs:{hideToggle:[2,"hideToggle","hideToggle",ee],displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],features:[qe([{provide:kn,useExisting:i}]),ke]})}return i})(),Je=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=He({type:i});static \u0275inj=je({imports:[lt,go,kt]})}return i})();var Xe=class i{http=d(yt);apiUrl=Qe.api.baseUrl;categoriesSubject=new mt([]);categories$=this.categoriesSubject.asObservable();getCategories(){return this.http.get(`${this.apiUrl}/categories`)}getSubcategories(e){let t=e?`${this.apiUrl}/subcategories?categoryId=${e}`:`${this.apiUrl}/subcategories`;return this.http.get(t)}loadCategories(){return T(this,null,function*(){try{let e=yield this.getCategories().toPromise();return e?.success&&e.data?(this.categoriesSubject.next(e.data),e.data):[]}catch(e){return console.error("Error loading categories:",e),[]}})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"})};function Jo(i,e){if(i&1&&b(0,"img",3),i&2){let t=g();m("src",t.getOwnerProfilePicture(),_n)("alt",t.getOwnerFullName())}}function Xo(i,e){if(i&1&&(r(0,"span",4),s(1),a()),i&2){let t=g();l(),I(t.getOwnerInitials())}}function er(i,e){if(i&1&&(r(0,"span"),s(1),a()),i&2){let t=g();l(),I(t.getBusinessLocation())}}function tr(i,e){if(i&1&&(r(0,"span",7),s(1),a()),i&2){let t=g();m("matTooltip",t.getOwnerCountryName()),l(),I(t.getOwnerCountryFlag())}}function nr(i,e){if(i&1&&(r(0,"div",10),b(1,"img",3),r(2,"div",19),s(3),a()()),i&2){let t=g();l(),m("src",t.business().banner_url,_n)("alt",t.business().name),l(2),A(" ",t.getCategoryInitials()," ")}}function ir(i,e){if(i&1&&(r(0,"div",11)(1,"div",20),s(2),a()()),i&2){let t=g();l(2),A(" ",t.getCategoryInitials()," ")}}function or(i,e){if(i&1&&(r(0,"div",16)(1,"span",21),s(2,"Top Rated"),a(),r(3,"mat-icon",22),s(4,"star"),a(),r(5,"span",23),s(6),a(),r(7,"span",24),s(8),a()()),i&2){let t=g();l(6),I(t.getRatingDisplay()),l(2),A("(",t.getReviewCount(),")")}}function rr(i,e){i&1&&(r(0,"div",17),s(1," New Business "),a())}function ar(i,e){if(i&1&&(r(0,"div",18),s(1),Yn(2,"currency"),a()),i&2){let t=g();l(),A(" From ",Kn(2,1,t.getStartingPrice())," ")}}var Zt=class i{business=y.required();ownerName=y("Business Owner");ownerAvatar=y(null);ownerCountry=y("Unknown");categoryName=y("Uncategorized");businessClick=he();favoriteClick=he();countryFlagMap={USA:"\u{1F1FA}\u{1F1F8}","United States":"\u{1F1FA}\u{1F1F8}",Canada:"\u{1F1E8}\u{1F1E6}",Mexico:"\u{1F1F2}\u{1F1FD}",Cuba:"\u{1F1E8}\u{1F1FA}",Haiti:"\u{1F1ED}\u{1F1F9}","Dominican Republic":"\u{1F1E9}\u{1F1F4}","Puerto Rico":"\u{1F1F5}\u{1F1F7}",Jamaica:"\u{1F1EF}\u{1F1F2}","Trinidad and Tobago":"\u{1F1F9}\u{1F1F9}",Barbados:"\uFFFD\u{1F1E7}",Bahamas:"\uFFFD\u{1F1F8}",Belize:"\u{1F1E7}\u{1F1FF}","Costa Rica":"\u{1F1E8}\uFFFD","El Salvador":"\uFFFD\uFFFD",Guatemala:"\u{1F1EC}\u{1F1F9}",Honduras:"\uFFFD\uFFFD",Nicaragua:"\u{1F1F3}\u{1F1EE}",Panama:"\u{1F1F5}\u{1F1E6}",Grenada:"\uFFFD\uFFFD","Saint Lucia":"\uFFFD\uFFFD","Antigua and Barbuda":"\u{1F1E6}\u{1F1EC}",Dominica:"\uFFFD\uFFFD","Saint Kitts and Nevis":"\uFFFD\uFFFD","Saint Vincent and the Grenadines":"\uFFFD\uFFFD",Argentina:"\u{1F1E6}\u{1F1F7}",Bolivia:"\u{1F1E7}\u{1F1F4}",Brazil:"\u{1F1E7}\u{1F1F7}",Chile:"\u{1F1E8}\u{1F1F1}",Colombia:"\u{1F1E8}\u{1F1F4}",Ecuador:"\u{1F1EA}\u{1F1E8}",Guyana:"\u{1F1EC}\u{1F1FE}",Paraguay:"\u{1F1F5}\u{1F1FE}",Peru:"\u{1F1F5}\u{1F1EA}",Suriname:"\u{1F1F8}\u{1F1F7}",Uruguay:"\u{1F1FA}\u{1F1FE}",Venezuela:"\u{1F1FB}\u{1F1EA}","French Guiana":"\u{1F1EC}\u{1F1EB}","United Kingdom":"\u{1F1EC}\u{1F1E7}",UK:"\u{1F1EC}\u{1F1E7}",England:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0065}\u{E006E}\u{E0067}\u{E007F}",Scotland:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0073}\u{E0063}\u{E0074}\u{E007F}",Wales:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0077}\u{E006C}\u{E0073}\u{E007F}",Ireland:"\u{1F1EE}\u{1F1EA}","Northern Ireland":"\u{1F1EC}\u{1F1E7}",France:"\u{1F1EB}\u{1F1F7}",Germany:"\u{1F1E9}\u{1F1EA}",Italy:"\u{1F1EE}\u{1F1F9}",Spain:"\u{1F1EA}\u{1F1F8}",Portugal:"\u{1F1F5}\u{1F1F9}",Netherlands:"\u{1F1F3}\u{1F1F1}",Belgium:"\u{1F1E7}\u{1F1EA}",Switzerland:"\u{1F1E8}\u{1F1ED}",Austria:"\uFFFD\u{1F1F9}",Sweden:"\u{1F1F8}\uFFFD\u{1F1EA}",Norway:"\uFFFD\u{1F1F4}",Denmark:"\u{1F1E9}\u{1F1F0}",Finland:"\u{1F1EB}\u{1F1EE}",Iceland:"\u{1F1EE}\u{1F1F8}",Greece:"\u{1F1EC}\u{1F1F7}",Poland:"\u{1F1F5}\u{1F1F1}","Czech Republic":"\uFFFD\u{1F1E8}\u{1F1FF}",Hungary:"\u{1F1ED}\u{1F1FA}",Romania:"\u{1F1F7}\u{1F1F4}",Bulgaria:"\u{1F1E7}\u{1F1EC}",Croatia:"\u{1F1ED}\u{1F1F7}",Serbia:"\u{1F1F7}\u{1F1F8}",Slovenia:"\u{1F1F8}\u{1F1EE}",Slovakia:"\uFFFD\uFFFD","Bosnia and Herzegovina":"\u{1F1E7}\u{1F1E6}",Montenegro:"\u{1F1F2}\u{1F1EA}","North Macedonia":"\u{1F1F2}\u{1F1F0}",Albania:"\u{1F1E6}\u{1F1F1}",Kosovo:"\u{1F1FD}\u{1F1F0}",Estonia:"\u{1F1EA}\u{1F1EA}",Latvia:"\u{1F1F1}\u{1F1FB}",Lithuania:"\u{1F1F1}\u{1F1F9}",Belarus:"\uFFFD\u{1F1FE}",Moldova:"\u{1F1F2}\u{1F1E9}",Ukraine:"\u{1F1FA}\u{1F1E6}",Russia:"\u{1F1F7}\u{1F1FA}",Georgia:"\u{1F1EC}\u{1F1EA}",Armenia:"\u{1F1E6}\u{1F1F2}",Azerbaijan:"\u{1F1E6}\u{1F1FF}",Cyprus:"\u{1F1E8}\u{1F1FE}",Malta:"\u{1F1F2}\u{1F1F9}",Luxembourg:"\u{1F1F1}\u{1F1FA}",Monaco:"\u{1F1F2}\u{1F1E8}",Andorra:"\u{1F1E6}\u{1F1E9}","San Marino":"\u{1F1F8}\u{1F1F2}","Vatican City":"\u{1F1FB}\u{1F1E6}",Liechtenstein:"\uFFFD\uFFFD",China:"\u{1F1E8}\u{1F1F3}",Japan:"\u{1F1EF}\u{1F1F5}","South Korea":"\u{1F1F0}\u{1F1F7}","North Korea":"\u{1F1F0}\u{1F1F5}",India:"\u{1F1EE}\u{1F1F3}",Pakistan:"\u{1F1F5}\u{1F1F0}",Bangladesh:"\u{1F1E7}\u{1F1E9}","Sri Lanka":"\u{1F1F1}\u{1F1F0}",Nepal:"\u{1F1F3}\u{1F1F5}",Bhutan:"\u{1F1E7}\u{1F1F9}",Maldives:"\u{1F1F2}\u{1F1FB}",Afghanistan:"\u{1F1E6}\u{1F1EB}",Indonesia:"\u{1F1EE}\u{1F1E9}",Malaysia:"\u{1F1F2}\u{1F1FE}",Singapore:"\u{1F1F8}\u{1F1EC}",Thailand:"\u{1F1F9}\u{1F1ED}",Vietnam:"\u{1F1FB}\u{1F1F3}",Philippines:"\u{1F1F5}\u{1F1ED}",Myanmar:"\u{1F1F2}\u{1F1F2}",Cambodia:"\u{1F1F0}\u{1F1ED}",Laos:"\u{1F1F1}\u{1F1E6}",Brunei:"\u{1F1E7}\u{1F1F3}","East Timor":"\u{1F1F9}\u{1F1F1}","Timor-Leste":"\u{1F1F9}\u{1F1F1}",Mongolia:"\uFFFD\u{1F1F3}",Taiwan:"\u{1F1F9}\uFFFD","Hong Kong":"\uFFFD\u{1F1ED}\u{1F1F0}",Macau:"\u{1F1F2}\u{1F1F4}",Kazakhstan:"\u{1F1F0}\u{1F1FF}",Uzbekistan:"\uFFFD\uFFFD",Turkmenistan:"\u{1F1F9}\u{1F1F2}",Kyrgyzstan:"\uFFFD\u{1F1EC}",Tajikistan:"\u{1F1F9}\u{1F1EF}",Turkey:"\u{1F1F9}\u{1F1F7}",Iran:"\uFFFD\uFFFD",Iraq:"\u{1F1EE}\u{1F1F6}",Syria:"\u{1F1F8}\u{1F1FE}",Lebanon:"\u{1F1F1}\u{1F1E7}",Jordan:"\u{1F1EF}\u{1F1F4}",Israel:"\u{1F1EE}\u{1F1F1}",Palestine:"\u{1F1F5}\u{1F1F8}","Saudi Arabia":"\uFFFD\u{1F1E6}",Yemen:"\u{1F1FE}\u{1F1EA}",Oman:"\uFFFD\uFFFD",UAE:"\u{1F1E6}\uFFFD\u{1F1EA}","United Arab Emirates":"\uFFFD\uFFFD\u{1F1EA}",Qatar:"\uFFFD\u{1F1E6}",Kuwait:"\u{1F1F0}\u{1F1FC}",Bahrain:"\uFFFD\u{1F1ED}",Egypt:"\u{1F1EA}\u{1F1EC}",Libya:"\uFFFD\uFFFD",Tunisia:"\uFFFD\u{1F1F9}\u{1F1F3}",Algeria:"\u{1F1E9}\u{1F1FF}",Morocco:"\u{1F1F2}\u{1F1E6}",Sudan:"\uFFFD\uFFFD","South Sudan":"\u{1F1F8}\u{1F1F8}",Ethiopia:"\uFFFD\uFFFD\u{1F1F9}",Eritrea:"\uFFFD\u{1F1F7}",Djibouti:"\u{1F1E9}\u{1F1EF}",Somalia:"\u{1F1F8}\u{1F1F4}",Kenya:"\u{1F1F0}\u{1F1EA}",Uganda:"\u{1F1FA}\u{1F1EC}",Tanzania:"\u{1F1F9}\u{1F1FF}",Rwanda:"\u{1F1F7}\u{1F1FC}",Burundi:"\u{1F1E7}\u{1F1EE}","South Africa":"\uFFFD\uFFFD",Namibia:"\u{1F1F3}\u{1F1E6}",Botswana:"\u{1F1E7}\u{1F1FC}",Zimbabwe:"\u{1F1FF}\u{1F1FC}",Zambia:"\u{1F1FF}\u{1F1F2}",Malawi:"\uFFFD\uFFFD",Mozambique:"\u{1F1F2}\u{1F1FF}",Madagascar:"\uFFFD\uFFFD",Mauritius:"\u{1F1F2}\u{1F1FA}",Seychelles:"\u{1F1F8}\u{1F1E8}",Comoros:"\u{1F1F0}\u{1F1F2}",Angola:"\uFFFD\uFFFD","Democratic Republic of Congo":"\u{1F1E8}\u{1F1E9}","Republic of Congo":"\u{1F1E8}\u{1F1EC}",Gabon:"\uFFFD\uFFFD",Cameroon:"\u{1F1E8}\uFFFD","Central African Republic":"\uFFFD\uFFFD",Chad:"\uFFFD\uFFFD",Nigeria:"\u{1F1F3}\u{1F1EC}",Niger:"\u{1F1F3}\uFFFD",Benin:"\u{1F1E7}\u{1F1EF}",Togo:"\u{1F1F9}\uFFFD",Ghana:"\uFFFD\u{1F1ED}","Ivory Coast":"\u{1F1E8}\u{1F1EE}","Burkina Faso":"\u{1F1E7}\u{1F1EB}",Mali:"\uFFFD\uFFFD",Senegal:"\u{1F1F8}\uFFFD",Guinea:"\u{1F1EC}\u{1F1F3}","Guinea-Bissau":"\uFFFD\uFFFD","Sierra Leone":"\uFFFD\uFFFD",Liberia:"\uFFFD\uFFFD",Mauritania:"\uFFFD\uFFFD",Gambia:"\u{1F1EC}\u{1F1F2}","Cape Verde":"\uFFFD\uFFFD","Sao Tome and Principe":"\uFFFD\uFFFD","Equatorial Guinea":"\uFFFD\uFFFD",Lesotho:"\u{1F1F1}\u{1F1F8}",Eswatini:"\u{1F1F8}\u{1F1FF}",Swaziland:"\uFFFD\uFFFD",Australia:"\uFFFD\u{1F1FA}","New Zealand":"\u{1F1F3}\u{1F1FF}","Papua New Guinea":"\uFFFD\uFFFD",Fiji:"\uFFFD\uFFFD","Solomon Islands":"\uFFFD\uFFFD",Vanuatu:"\u{1F1FB}\u{1F1FA}",Samoa:"\u{1F1FC}\u{1F1F8}",Tonga:"\u{1F1F9}\uFFFD",Kiribati:"\uFFFD\uFFFD",Micronesia:"\u{1F1EB}\u{1F1F2}","Marshall Islands":"\uFFFD\uFFFD",Palau:"\uFFFD\u{1F1FC}",Nauru:"\uFFFD\uFFFD",Tuvalu:"\uFFFD\uFFFD"};onCardClick(){this.businessClick.emit(this.business())}onFavoriteClick(e){e.stopPropagation(),this.favoriteClick.emit(this.business()._id)}getOwnerFullName(){let e=this.business();if(e.owner_id&&typeof e.owner_id=="object"){let t=e.owner_id,n=t.first_name||"",o=t.last_name||"";return`${n} ${o}`.trim()||"Business Owner"}return"Business Owner"}getOwnerProfilePicture(){let e=this.business();if(e.owner_id&&typeof e.owner_id=="object"){let t=e.owner_id;return t.profile_picture||t.avatar_url||null}return null}getOwnerInitials(){let e=this.business();if(e.owner_id&&typeof e.owner_id=="object"){let t=e.owner_id,n=t.first_name||"",o=t.last_name||"";if(n&&o)return(n.charAt(0)+o.charAt(0)).toUpperCase();if(n)return n.substring(0,2).toUpperCase();if(o)return o.substring(0,2).toUpperCase();if(t.email)return t.email.substring(0,2).toUpperCase()}return"BO"}getOwnerAvatarColor(){let e=["#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#FF9800","#FF5722","#795548","#607D8B"],t=this.business();if(t.owner_id&&typeof t.owner_id=="object"){let n=t.owner_id._id||"",o=0;for(let p=0;p<n.length;p++)o=n.charCodeAt(p)+((o<<5)-o);let c=Math.abs(o)%e.length;return e[c]}return e[0]}getOwnerCountryFlag(){let e=this.business();if(e.owner_id&&typeof e.owner_id=="object"){let t=e.owner_id;if(t.country_of_origin)return this.countryFlagMap[t.country_of_origin]||null}return null}getOwnerCountryName(){let e=this.business();return e.owner_id&&typeof e.owner_id=="object"&&e.owner_id.country_of_origin||""}getDefaultBanner(){return"bg-gradient-to-br from-green-400 to-blue-500"}hasRating(){let e=this.business();return e.rating!=null&&e.rating>0}getRatingDisplay(){return this.business().rating?.toFixed(1)||"0.0"}getReviewCount(){return this.business().review_count||0}getReviewText(){return this.getReviewCount()===1?"review":"reviews"}getVisibleTags(){let e=this.business().tags;return e?e.slice(0,2):[]}getExtraTagsCount(){let e=this.business().tags;return e?Math.max(0,e.length-2):0}hasExtraTags(){return this.getExtraTagsCount()>0}getBusinessDescription(){let e=this.business();return e.short_description||e.description||"Professional service provider"}getBusinessLocation(){let e=this.business();return e.city&&e.state?`${e.city}, ${e.state}`:null}hasViewCount(){return(this.business().view_count||0)>0}getBusinessInitials(){let e=this.business().name||"B",t=e.trim().split(" ");return t.length>=2?(t[0][0]+t[1][0]).toUpperCase():e.substring(0,2).toUpperCase()}getCategoryInitials(){let e=this.categoryName()||"SC",t=e.trim().split(" ");return t.length>=2?(t[0][0]+t[1][0]).toUpperCase():e.substring(0,2).toUpperCase()}getStartingPrice(){let e=this.business();if(!e.servicesData||e.servicesData.length===0)return null;let t=e.servicesData.filter(n=>n.price!==void 0&&n.price!==null&&n.price>0);return t.length===0?null:Math.min(...t.map(n=>n.price))}hasStartingPrice(){return this.getStartingPrice()!==null}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=v({type:i,selectors:[["app-business-card"]],inputs:{business:[1,"business"],ownerName:[1,"ownerName"],ownerAvatar:[1,"ownerAvatar"],ownerCountry:[1,"ownerCountry"],categoryName:[1,"categoryName"]},outputs:{businessClick:"businessClick",favoriteClick:"favoriteClick"},decls:23,vars:13,consts:[[1,"overflow-hidden","cursor-pointer","transition-all","duration-300","hover:-translate-y-1","relative","h-full","flex","flex-col",3,"click"],[1,"!relative"],["mat-card-avatar","",1,"!w-12","!h-12","!rounded-full","!overflow-hidden","!flex","!items-center","!justify-center"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"text-white","font-bold","text-base"],[1,"!text-base","!font-normal","!leading-tight","!m-0","!mb-1","!text-gray-900"],[1,"text-sm!","!text-light","!text-gray-600","!mt-0","!flex","!items-center","!gap-1.5"],[1,"text-lg","leading-none",3,"matTooltip"],[1,"absolute","top-3","right-3","z-10",3,"click"],["size","small",3,"businessId","businessName"],[1,"relative","w-full","h-52","bg-gray-100"],[1,"relative","w-full","h-52","bg-gradient-to-br","from-purple-500","to-indigo-600","flex","items-center","justify-center"],[1,"!p-4","!pt-3","flex-grow","flex","flex-col"],[1,"text-lg","font-bold","text-gray-900","m-0","mb-2","leading-tight"],[1,"text-sm","leading-relaxed","text-gray-700","m-0","mb-3","line-clamp-3","flex-grow"],[1,"flex","justify-between","border-t","border-gray-100","px-4","py-3"],[1,"flex","items-center","gap-1","bg-green-50","px-2.5","py-1","rounded","text-sm"],[1,"bg-secondary-50","text-secondary-700","font-semibold","text-xs","px-2.5","py-1","rounded"],[1,"text-base","font-normal","text-gray-900"],[1,"absolute","top-3","left-3","bg-green-600","text-white","text-xs","font-semibold","px-3","py-1.5","rounded-md"],[1,"bg-green-600","text-white","text-2xl","font-bold","px-4","py-2","rounded-md","absolute","top-3","left-3"],[1,"text-green-700","font-semibold","text-xs"],[1,"!w-4","!h-4","!text-base","!text-yellow-500","!leading-none"],[1,"font-bold","text-gray-900","text-sm"],[1,"text-gray-500","text-xs"]],template:function(t,n){t&1&&(r(0,"mat-card",0),u("click",function(){return n.onCardClick()}),r(1,"mat-card-header",1)(2,"div",2),_(3,Jo,1,2,"img",3)(4,Xo,2,1,"span",4),a(),r(5,"mat-card-title",5),s(6),a(),r(7,"mat-card-subtitle",6),_(8,er,2,1,"span"),_(9,tr,2,2,"span",7),a(),r(10,"div",8),u("click",function(c){return n.onFavoriteClick(c)}),b(11,"app-favorite-button",9),a()(),_(12,nr,4,3,"div",10)(13,ir,3,1,"div",11),r(14,"mat-card-content",12)(15,"h3",13),s(16),a(),r(17,"p",14),s(18),a()(),r(19,"mat-card-actions",15),_(20,or,9,2,"div",16)(21,rr,2,0,"div",17),_(22,ar,3,3,"div",18),a()()),t&2&&(l(2),Te("background-color",n.getOwnerProfilePicture()?"transparent":n.getOwnerAvatarColor()),l(),C(n.getOwnerProfilePicture()?3:4),l(3),A(" ",n.getOwnerFullName()," "),l(2),C(n.getBusinessLocation()?8:-1),l(),C(n.getOwnerCountryFlag()?9:-1),l(2),m("businessId",n.business()._id)("businessName",n.business().name),l(),C(n.business().banner_url&&n.business().banner_url.trim()!==""?12:13),l(4),I(n.business().name),l(2),A(" ",n.getBusinessDescription()," "),l(2),C(n.hasRating()?20:21),l(2),C(n.hasStartingPrice()?22:-1))},dependencies:[S,Bi,Ei,Di,Ri,Ai,Ii,Fi,Ti,E,B,w,zt,Yi,xe,so,ei],styles:["[_nghost-%COMP%]{display:block;width:100%}.business-card[_ngcontent-%COMP%]{border-radius:8px!important}.business-card[_ngcontent-%COMP%]     mat-card-header .mat-mdc-card-avatar{margin-right:0!important}.business-card[_ngcontent-%COMP%]     mat-card-header .mat-mdc-card-header-text{margin:0!important;flex:1}.business-card[_ngcontent-%COMP%]     .mat-mdc-card-content:first-of-type{padding-top:0!important}"]})};function lr(i,e){}var _o="_mat-bottom-sheet-enter",Co="_mat-bottom-sheet-exit",cr=(()=>{class i extends Xi{_breakpointSubscription;_animationsDisabled=at();_animationState="void";_animationStateChanged=new ne;_destroyed;constructor(){super();let t=d(Mt);this._breakpointSubscription=t.observe([ue.Medium,ue.Large,ue.XLarge]).subscribe(()=>{let n=this._elementRef.nativeElement.classList;n.toggle("mat-bottom-sheet-container-medium",t.isMatched(ue.Medium)),n.toggle("mat-bottom-sheet-container-large",t.isMatched(ue.Large)),n.toggle("mat-bottom-sheet-container-xlarge",t.isMatched(ue.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._animationsDisabled&&this._simulateAnimation(_o))}exit(){this._destroyed||(this._elementRef.nativeElement.setAttribute("mat-exit",""),this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._animationsDisabled&&this._simulateAnimation(Co))}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_simulateAnimation(t){this._ngZone.run(()=>{this._handleAnimationEvent(!0,t),setTimeout(()=>this._handleAnimationEvent(!1,t))})}_trapFocus(){super._trapFocus({preventScroll:!0})}_handleAnimationEvent(t,n){let o=n===_o;(o||n===Co)&&this._animationStateChanged.emit({toState:o?"visible":"hidden",phase:t?"start":"done"})}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=v({type:i,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:9,hostBindings:function(n,o){n&1&&u("animationstart",function(p){return o._handleAnimationEvent(!0,p.animationName)})("animationend",function(p){return o._handleAnimationEvent(!1,p.animationName)})("animationcancel",function(p){return o._handleAnimationEvent(!1,p.animationName)}),n&2&&(ie("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-label",o._config.ariaLabel),j("mat-bottom-sheet-container-animations-enabled",!o._animationsDisabled)("mat-bottom-sheet-container-enter",o._animationState==="visible")("mat-bottom-sheet-container-exit",o._animationState==="hidden"))},features:[ke],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,o){n&1&&V(0,lr,0,0,"ng-template",0)},dependencies:[Pt],styles:[`@keyframes _mat-bottom-sheet-enter{from{transform:translateY(100%)}to{transform:none}}@keyframes _mat-bottom-sheet-exit{from{transform:none}to{transform:translateY(100%)}}.mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;position:relative;background:var(--mat-bottom-sheet-container-background-color, var(--mat-sys-surface-container-low));color:var(--mat-bottom-sheet-container-text-color, var(--mat-sys-on-surface));font-family:var(--mat-bottom-sheet-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-bottom-sheet-container-text-size, var(--mat-sys-body-large-size));line-height:var(--mat-bottom-sheet-container-text-line-height, var(--mat-sys-body-large-line-height));font-weight:var(--mat-bottom-sheet-container-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-bottom-sheet-container-text-tracking, var(--mat-sys-body-large-tracking))}@media(forced-colors: active){.mat-bottom-sheet-container{outline:1px solid}}.mat-bottom-sheet-container-animations-enabled{transform:translateY(100%)}.mat-bottom-sheet-container-animations-enabled.mat-bottom-sheet-container-enter{animation:_mat-bottom-sheet-enter 195ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-bottom-sheet-container-animations-enabled.mat-bottom-sheet-container-exit{animation:_mat-bottom-sheet-exit 375ms cubic-bezier(0.4, 0, 1, 1) backwards}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape, 28px);border-top-right-radius:var(--mat-bottom-sheet-container-shape, 28px)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}
`],encapsulation:2})}return i})(),ct=new N("MatBottomSheetData"),Tn=class{viewContainerRef;panelClass;direction;data=null;hasBackdrop=!0;backdropClass;disableClose=!1;ariaLabel=null;ariaModal=!1;closeOnNavigation=!0;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;height="";minHeight;maxHeight},Se=class{_ref;get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}containerInstance;disableClose;_afterOpened=new Pe;_result;_closeFallbackTimeout;constructor(e,t,n){this._ref=e,this.containerInstance=n,this.disableClose=t.disableClose,n._animationStateChanged.pipe(q(o=>o.phase==="done"&&o.toState==="visible"),Ne(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(q(o=>o.phase==="done"&&o.toState==="hidden"),Ne(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),e.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),gt(this.backdropClick(),this.keydownEvents().pipe(q(o=>o.keyCode===27))).subscribe(o=>{!this.disableClose&&(o.type!=="keydown"||!St(o))&&(o.preventDefault(),this.dismiss())})}dismiss(e){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe(q(t=>t.phase==="start"),Ne(1)).subscribe(()=>{this._closeFallbackTimeout=setTimeout(()=>this._ref.close(this._result),500),this._ref.overlayRef.detachBackdrop()}),this._result=e,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}},dr=new N("mat-bottom-sheet-default-options"),An=(()=>{class i{_injector=d(nt);_parentBottomSheet=d(i,{optional:!0,skipSelf:!0});_animationsDisabled=at();_defaultOptions=d(dr,{optional:!0});_bottomSheetRefAtThisLevel=null;_dialog=d(eo);get _openedBottomSheetRef(){let t=this._parentBottomSheet;return t?t._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(t){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=t:this._bottomSheetRefAtThisLevel=t}constructor(){}open(t,n){let o=ce(ce({},this._defaultOptions||new Tn),n),c;return this._dialog.open(t,tt(ce({},o),{disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:cr,scrollStrategy:o.scrollStrategy||yi(this._injector),positionStrategy:wi(this._injector).centerHorizontally().bottom("0"),disableAnimations:this._animationsDisabled,templateContext:()=>({bottomSheetRef:c}),providers:(p,G,J)=>(c=new Se(p,o,J),[{provide:Se,useValue:c},{provide:ct,useValue:o.data}])})),c.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===c&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>c.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):c.containerInstance.enter(),this._openedBottomSheetRef=c,c}dismiss(t){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(t)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static \u0275fac=function(n){return new(n||i)};static \u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),xo=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=He({type:i});static \u0275inj=je({providers:[An],imports:[to,lt,kt,lt]})}return i})();var ur=(i,e)=>e.value;function gr(i,e){if(i&1){let t=M();r(0,"mat-list-item",8),u("click",function(){let o=h(t).$implicit,c=g();return f(c.onSortChange(o.value))}),r(1,"div",9)(2,"mat-radio-button",10),u("change",function(){let o=h(t).$implicit,c=g();return f(c.onSortChange(o.value))}),s(3),a()()()}if(i&2){let t=e.$implicit,n=g();l(2),m("value",t.value)("checked",n.selectedSort===t.value),l(),A(" ",t.label," ")}}var Xt=class i{constructor(e){this.data=e;e?.currentSort&&(this.selectedSort=e.currentSort)}bottomSheetRef=d(Se);selectedSort="relevance";sortOptions=[{value:"relevance",label:"Relevance"},{value:"best_selling",label:"Best selling"},{value:"newest",label:"Newest arrivals"},{value:"price_low",label:"Price: Low to High"},{value:"price_high",label:"Price: High to Low"},{value:"rating",label:"Highest Rated"}];onSortChange(e){this.selectedSort=e}showResults(){this.bottomSheetRef.dismiss(this.selectedSort)}close(){this.bottomSheetRef.dismiss()}static \u0275fac=function(t){return new(t||i)($(ct))};static \u0275cmp=v({type:i,selectors:[["app-mobile-sort-sheet"]],decls:13,vars:0,consts:[[1,"mobile-sort-sheet"],[1,"sheet-header"],[1,"sheet-title"],["mat-icon-button","",1,"close-button",3,"click"],[1,"sort-options"],[1,"sort-option-item"],[1,"sheet-footer"],["mat-flat-button","","color","primary",1,"show-results-button",3,"click"],[1,"sort-option-item",3,"click"],[1,"option-content"],[1,"sort-radio",3,"change","value","checked"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"div",1)(2,"h2",2),s(3,"Sort Businesses by"),a(),r(4,"button",3),u("click",function(){return n.close()}),r(5,"mat-icon"),s(6,"close"),a()()(),r(7,"mat-nav-list",4),z(8,gr,4,3,"mat-list-item",5,ur),a(),r(10,"div",6)(11,"button",7),u("click",function(){return n.showResults()}),s(12," Show Results "),a()()()),t&2&&(l(8),L(n.sortOptions))},dependencies:[S,Ht,jt,Vt,Ut,Lt,w,D,Le,E,B,Ye],styles:[".mobile-sort-sheet[_ngcontent-%COMP%]{padding:0;min-height:400px;display:flex;flex-direction:column}.sheet-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #e5e7eb}.sheet-title[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#1f2937}.close-button[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center}.close-button[_ngcontent-%COMP%]     .mat-icon{font-size:20px;width:20px;height:20px}.sort-options[_ngcontent-%COMP%]{flex:1;padding:8px 0;overflow-y:auto}.sort-option-item[_ngcontent-%COMP%]{height:60px;cursor:pointer;transition:background-color .2s}.sort-option-item[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.sort-option-item[_ngcontent-%COMP%]     .mdc-list-item__content{width:100%}.option-content[_ngcontent-%COMP%]{width:100%;padding:0 20px}.sort-radio[_ngcontent-%COMP%]{width:100%}.sort-radio[_ngcontent-%COMP%]     .mdc-form-field{width:100%}.sort-radio[_ngcontent-%COMP%]     .mdc-label{font-size:16px;color:#374151;padding-left:12px}.sort-radio[_ngcontent-%COMP%]     .mdc-radio__native-control:checked~.mdc-radio__background .mdc-radio__inner-circle{border-color:#10b981;background-color:#10b981}.sort-radio[_ngcontent-%COMP%]     .mdc-radio__native-control:checked~.mdc-radio__background .mdc-radio__outer-circle{border-color:#10b981}.sheet-footer[_ngcontent-%COMP%]{padding:16px 20px;border-top:1px solid #e5e7eb;background-color:#fff}.show-results-button[_ngcontent-%COMP%]{width:100%;height:48px;border-radius:8px;font-size:16px;font-weight:600;text-transform:none;letter-spacing:0}"]})};var hr=(i,e)=>e._id,yo=(i,e)=>e.value,fr=(i,e)=>e.code;function br(i,e){if(i&1){let t=M();r(0,"mat-list-item",8)(1,"div",14)(2,"mat-checkbox",15),u("change",function(o){let c=h(t).$implicit,p=g();return f(p.onCategoryChange(c._id,o.checked))}),s(3),a()()()}if(i&2){let t=e.$implicit,n=g();l(2),m("checked",n.isCategorySelected(t._id)),l(),A(" ",t.name," ")}}function vr(i,e){if(i&1){let t=M();r(0,"mat-list-item",16),u("click",function(){let o=h(t).$implicit,c=g();return f(c.onBusinessTypeChange(o.value))}),r(1,"div",14)(2,"mat-radio-button",17),u("change",function(){let o=h(t).$implicit,c=g();return f(c.onBusinessTypeChange(o.value))}),s(3),a()()()}if(i&2){let t=e.$implicit,n=g();l(2),m("value",t.value)("checked",n.businessType===t.value),l(),A(" ",t.label," ")}}function _r(i,e){if(i&1){let t=M();r(0,"mat-list-item",8)(1,"div",14)(2,"mat-checkbox",15),u("change",function(o){let c=h(t).$implicit,p=g();return f(p.onCountryChange(c.name,o.checked))}),s(3),a()()()}if(i&2){let t=e.$implicit,n=g();l(2),m("checked",n.isCountrySelected(t.name)),l(),A(" ",t.name," ")}}function Cr(i,e){if(i&1){let t=M();r(0,"mat-list-item",16),u("click",function(){let o=h(t).$implicit,c=g();return f(c.onRatingChange(o.value))}),r(1,"div",14)(2,"mat-radio-button",17),u("change",function(){let o=h(t).$implicit,c=g();return f(c.onRatingChange(o.value))}),s(3),a()()()}if(i&2){let t=e.$implicit,n=g();l(2),m("value",t.value)("checked",n.selectedRating===t.value),l(),A(" ",t.label," ")}}function xr(i,e){if(i&1){let t=M();r(0,"button",18),u("click",function(){h(t);let o=g();return f(o.clearAll())}),s(1," Clear All "),a()}}function yr(i,e){if(i&1&&(r(0,"span",13),s(1),a()),i&2){let t=g();l(),I(t.getActiveFiltersCount())}}var en=class i{constructor(e){this.data=e;e&&(this.categories=e.categories||[],this.countries=e.countries||[],this.selectedCategories=[...e.selectedCategories||[]],this.businessType=e.businessType||"",this.selectedCountries=[...e.selectedCountries||[]],this.selectedRating=e.selectedRating||0)}bottomSheetRef=d(Se);selectedCategories=[];businessType="";selectedCountries=[];selectedRating=0;categories=[];countries=[];businessTypeOptions=[{value:"",label:"All Types"},{value:"service",label:"Services"},{value:"product",label:"Products"},{value:"both",label:"Both"}];ratingOptions=[{value:0,label:"All ratings"},{value:1,label:"1+ stars"},{value:2,label:"2+ stars"},{value:3,label:"3+ stars"},{value:4,label:"4+ stars"},{value:5,label:"5 stars"}];isCategorySelected(e){return this.selectedCategories.includes(e)}onCategoryChange(e,t){t?this.selectedCategories.includes(e)||this.selectedCategories.push(e):this.selectedCategories=this.selectedCategories.filter(n=>n!==e)}isCountrySelected(e){return this.selectedCountries.includes(e)}onCountryChange(e,t){t?this.selectedCountries.includes(e)||this.selectedCountries.push(e):this.selectedCountries=this.selectedCountries.filter(n=>n!==e)}onBusinessTypeChange(e){this.businessType=e}onRatingChange(e){this.selectedRating=e}getActiveFiltersCount(){let e=0;return this.selectedCategories.length>0&&e++,this.businessType&&this.businessType!==""&&e++,this.selectedCountries.length>0&&e++,this.selectedRating>0&&e++,e}clearAll(){this.selectedCategories=[],this.businessType="",this.selectedCountries=[],this.selectedRating=0}showResults(){this.bottomSheetRef.dismiss({selectedCategories:this.selectedCategories,businessType:this.businessType,selectedCountries:this.selectedCountries,selectedRating:this.selectedRating})}close(){this.bottomSheetRef.dismiss()}static \u0275fac=function(t){return new(t||i)($(ct))};static \u0275cmp=v({type:i,selectors:[["app-mobile-filter-sheet"]],decls:38,vars:2,consts:[[1,"mobile-filter-sheet"],[1,"sheet-header"],[1,"sheet-title"],["mat-icon-button","",1,"close-button",3,"click"],[1,"filter-content"],[1,"filter-section"],[1,"section-title"],[1,"filter-list"],[1,"filter-item"],[1,"sheet-footer"],[1,"footer-actions"],["mat-stroked-button","",1,"clear-button"],["mat-flat-button","","color","primary",1,"show-results-button",3,"click"],[1,"filter-badge"],[1,"option-content"],[1,"filter-checkbox",3,"change","checked"],[1,"filter-item",3,"click"],[1,"filter-radio",3,"change","value","checked"],["mat-stroked-button","",1,"clear-button",3,"click"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"div",1)(2,"h2",2),s(3,"Filters"),a(),r(4,"button",3),u("click",function(){return n.close()}),r(5,"mat-icon"),s(6,"close"),a()()(),r(7,"div",4)(8,"div",5)(9,"h3",6),s(10,"Category"),a(),r(11,"mat-nav-list",7),z(12,br,4,2,"mat-list-item",8,hr),a()(),r(14,"div",5)(15,"h3",6),s(16,"Service Type"),a(),r(17,"mat-nav-list",7),z(18,vr,4,3,"mat-list-item",8,yo),a()(),r(20,"div",5)(21,"h3",6),s(22,"Heritage/Origin"),a(),r(23,"mat-nav-list",7),z(24,_r,4,2,"mat-list-item",8,fr),a()(),r(26,"div",5)(27,"h3",6),s(28,"Minimum Rating"),a(),r(29,"mat-nav-list",7),z(30,Cr,4,3,"mat-list-item",8,yo),a()()(),r(32,"div",9)(33,"div",10),_(34,xr,2,0,"button",11),r(35,"button",12),u("click",function(){return n.showResults()}),s(36," Show Results "),_(37,yr,2,1,"span",13),a()()()()),t&2&&(l(12),L(n.categories),l(6),L(n.businessTypeOptions),l(6),L(n.countries),l(6),L(n.ratingOptions),l(4),C(n.getActiveFiltersCount()>0?34:-1),l(3),C(n.getActiveFiltersCount()>0?37:-1))},dependencies:[S,Ht,jt,Vt,Ut,Lt,qt,$i,w,D,Le,E,B,Je,Ye],styles:[".mobile-filter-sheet[_ngcontent-%COMP%]{padding:0;min-height:500px;max-height:90vh;display:flex;flex-direction:column}.sheet-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #e5e7eb;background-color:#fff;position:sticky;top:0;z-index:10}.sheet-title[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:600;color:#1f2937}.close-button[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center}.close-button[_ngcontent-%COMP%]     .mat-icon{font-size:20px;width:20px;height:20px}.filter-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:0 0 16px}.filter-section[_ngcontent-%COMP%]{margin-bottom:8px;border-bottom:1px solid #f3f4f6}.filter-section[_ngcontent-%COMP%]:last-child{border-bottom:none}.section-title[_ngcontent-%COMP%]{margin:0;padding:16px 20px 8px;font-size:14px;font-weight:600;color:#6b7280;text-transform:uppercase;letter-spacing:.5px}.filter-list[_ngcontent-%COMP%]{padding:0}.filter-item[_ngcontent-%COMP%]{height:52px;cursor:pointer;transition:background-color .2s}.filter-item[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.filter-item[_ngcontent-%COMP%]     .mdc-list-item__content{width:100%}.option-content[_ngcontent-%COMP%]{width:100%;padding:0 20px}.filter-checkbox[_ngcontent-%COMP%], .filter-radio[_ngcontent-%COMP%]{width:100%}.filter-checkbox[_ngcontent-%COMP%]     .mdc-form-field, .filter-radio[_ngcontent-%COMP%]     .mdc-form-field{width:100%}.filter-checkbox[_ngcontent-%COMP%]     .mdc-label, .filter-radio[_ngcontent-%COMP%]     .mdc-label{font-size:15px;color:#374151;padding-left:12px}.filter-checkbox[_ngcontent-%COMP%]     .mdc-checkbox__native-control:checked~.mdc-checkbox__background{background-color:#10b981;border-color:#10b981}.filter-checkbox[_ngcontent-%COMP%]     .mdc-checkbox__checkmark{color:#fff}.filter-radio[_ngcontent-%COMP%]     .mdc-radio__native-control:checked~.mdc-radio__background .mdc-radio__inner-circle{border-color:#10b981;background-color:#10b981}.filter-radio[_ngcontent-%COMP%]     .mdc-radio__native-control:checked~.mdc-radio__background .mdc-radio__outer-circle{border-color:#10b981}.sheet-footer[_ngcontent-%COMP%]{padding:16px 20px;border-top:1px solid #e5e7eb;background-color:#fff;position:sticky;bottom:0;z-index:10}.footer-actions[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}.clear-button[_ngcontent-%COMP%]{height:48px;border-radius:8px;font-size:16px;font-weight:600;text-transform:none;letter-spacing:0;color:#dc2626;border-color:#dc2626}.show-results-button[_ngcontent-%COMP%]{flex:1;height:48px;border-radius:8px;font-size:16px;font-weight:600;text-transform:none;letter-spacing:0;position:relative}.filter-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;background-color:#ffffff4d;border-radius:12px;padding:2px 8px;margin-left:8px;font-size:12px;font-weight:700}"]})};var wr=(i,e)=>e._id,Mr=(i,e)=>e.code;function Sr(i,e){if(i&1&&(r(0,"span",28),s(1),a()),i&2){let t=g(2);l(),A(" ",t.getActiveFiltersCount()," ")}}function Pr(i,e){if(i&1){let t=M();r(0,"div",4)(1,"app-search",23),De("searchQueryChange",function(o){h(t);let c=g();return Fe(c.searchQuery,o)||(c.searchQuery=o),f(o)}),u("searchEvent",function(o){h(t);let c=g();return f(c.onSearchChange(o))}),a(),r(2,"div",24)(3,"button",25),u("click",function(){h(t);let o=g();return f(o.openMobileFilterSheet())}),r(4,"div",26)(5,"mat-icon",27),s(6,"tune"),a(),r(7,"span"),s(8,"Filter"),a(),_(9,Sr,2,1,"span",28),a()(),r(10,"button",29),u("click",function(){h(t);let o=g();return f(o.openMobileSortSheet())}),r(11,"div",26)(12,"mat-icon",27),s(13,"sort"),a(),r(14,"span"),s(15,"Sort"),a()()()()()}if(i&2){let t=g();l(),Ae("searchQuery",t.searchQuery),m("backgroundColor","#ffffff")("boxShadow","0 2px 6px 0 #20212451")("placeholder","Search business or service"),l(8),C(t.hasActiveFilters()?9:-1)}}function kr(i,e){if(i&1&&(r(0,"mat-option",9),s(1),a()),i&2){let t=e.$implicit;m("value",t._id),l(),I(t.name)}}function Or(i,e){if(i&1&&(r(0,"mat-option",9),s(1),a()),i&2){let t=e.$implicit;m("value",t.name),l(),I(t.name)}}function Er(i,e){i&1&&(r(0,"mat-icon"),s(1,"check"),a())}function Tr(i,e){i&1&&(r(0,"mat-icon"),s(1,"check"),a())}function Ar(i,e){i&1&&(r(0,"mat-icon"),s(1,"check"),a())}function Fr(i,e){i&1&&(r(0,"mat-icon"),s(1,"check"),a())}function Dr(i,e){i&1&&(r(0,"mat-icon"),s(1,"check"),a())}function Ir(i,e){i&1&&(r(0,"mat-icon"),s(1,"check"),a())}function Rr(i,e){if(i&1){let t=M();r(0,"button",30),u("click",function(){h(t);let o=g();return f(o.clearFilters())}),r(1,"mat-icon"),s(2,"clear"),a(),s(3," Clear filters "),a()}}var tn=class i{fb=d(ve);categoryService=d(Xe);elementRef=d(it);bottomSheet=d(An);countries=y([]);showSearchInput=y(!1);totalResults=y(0);initialSearchQuery=y("");initialCategories=y([]);initialBusinessType=y("");initialCountries=y([]);initialRating=y(0);initialSortBy=y("relevance");filtersChange=he();searchQueryControl=new Re("");selectedCategoriesControl=new Re([]);businessTypeControl=new Re("");selectedCountriesControl=new Re([]);selectedRatingControl=new Re(0);sortByControl=new Re("relevance");categories=x([]);hasActiveFilters=x(!1);isScrolled=x(!1);categoriesLoaded=x(!1);get searchQuery(){return this.searchQueryControl.value||""}set searchQuery(e){this.searchQueryControl.setValue(e)}constructor(){Q(()=>{if(!this.categoriesLoaded())return;let e=this.initialSearchQuery(),t=this.initialCategories(),n=this.initialBusinessType(),o=this.initialCountries(),c=this.initialRating(),p=this.initialSortBy();e!==this.searchQueryControl.value&&this.searchQueryControl.setValue(e,{emitEvent:!1}),JSON.stringify(t)!==JSON.stringify(this.selectedCategoriesControl.value)&&this.selectedCategoriesControl.setValue(t,{emitEvent:!1}),n!==this.businessTypeControl.value&&this.businessTypeControl.setValue(n,{emitEvent:!1}),JSON.stringify(o)!==JSON.stringify(this.selectedCountriesControl.value)&&this.selectedCountriesControl.setValue(o,{emitEvent:!1}),c!==this.selectedRatingControl.value&&this.selectedRatingControl.setValue(c,{emitEvent:!1}),p!==this.sortByControl.value&&this.sortByControl.setValue(p,{emitEvent:!1}),this.updateActiveFiltersState()})}ngOnInit(){this.loadCategories(),this.searchQueryControl.valueChanges.subscribe(()=>this.updateActiveFiltersState()),this.selectedCategoriesControl.valueChanges.subscribe(()=>this.updateActiveFiltersState()),this.businessTypeControl.valueChanges.subscribe(()=>this.updateActiveFiltersState()),this.selectedCountriesControl.valueChanges.subscribe(()=>this.updateActiveFiltersState()),this.selectedRatingControl.valueChanges.subscribe(()=>this.updateActiveFiltersState()),this.sortByControl.valueChanges.subscribe(()=>this.updateActiveFiltersState()),typeof window<"u"&&window.addEventListener("scroll",this.handleScroll.bind(this),{passive:!0})}ngAfterViewInit(){}ngOnDestroy(){typeof window<"u"&&window.removeEventListener("scroll",this.handleScroll.bind(this))}handleScroll(){let e=window.scrollY;this.isScrolled.set(e>10)}loadCategories(){return T(this,null,function*(){try{let e=yield this.categoryService.getCategories().toPromise();if(e?.success&&e.data){let t=e.data.filter(n=>n.is_active);this.categories.set(t),this.categoriesLoaded.set(!0)}}catch(e){console.error("Error loading categories:",e)}})}onFilterChange(){let e={searchQuery:this.searchQueryControl.value||"",selectedCategories:this.selectedCategoriesControl.value||[],businessType:this.businessTypeControl.value||"",selectedCountries:this.selectedCountriesControl.value||[],selectedRating:this.selectedRatingControl.value||0,sortBy:this.sortByControl.value||"relevance"};this.filtersChange.emit(e)}onSearchChange(e){this.searchQueryControl.setValue(e),this.onFilterChange()}onSortChange(e){this.sortByControl.setValue(e),this.onFilterChange()}getSortLabel(){let e=this.sortByControl.value||"relevance";return{relevance:"Relevance",best_selling:"Best selling",newest:"Newest arrivals",price_low:"Price: Low to High",price_high:"Price: High to Low",rating:"Highest Rated"}[e]||"Relevance"}openMobileSortSheet(){this.bottomSheet.open(Xt,{data:{currentSort:this.sortByControl.value},panelClass:"mobile-sort-bottom-sheet"}).afterDismissed().subscribe(t=>{t&&this.onSortChange(t)})}openMobileFilterSheet(){this.bottomSheet.open(en,{data:{categories:this.categories(),countries:this.countries(),selectedCategories:this.selectedCategoriesControl.value||[],businessType:this.businessTypeControl.value||"",selectedCountries:this.selectedCountriesControl.value||[],selectedRating:this.selectedRatingControl.value||0},panelClass:"mobile-filter-bottom-sheet"}).afterDismissed().subscribe(t=>{t&&(this.selectedCategoriesControl.setValue(t.selectedCategories),this.businessTypeControl.setValue(t.businessType),this.selectedCountriesControl.setValue(t.selectedCountries),this.selectedRatingControl.setValue(t.selectedRating),this.onFilterChange())})}clearFilters(){this.searchQueryControl.setValue(""),this.selectedCategoriesControl.setValue([]),this.businessTypeControl.setValue(""),this.selectedCountriesControl.setValue([]),this.selectedRatingControl.setValue(0),this.sortByControl.setValue("relevance"),this.onFilterChange()}getActiveFiltersCount(){let e=0;return this.selectedCategoriesControl.value&&this.selectedCategoriesControl.value.length>0&&e++,this.businessTypeControl.value&&this.businessTypeControl.value!==""&&e++,this.selectedCountriesControl.value&&this.selectedCountriesControl.value.length>0&&e++,this.selectedRatingControl.value!==null&&this.selectedRatingControl.value>0&&e++,e}updateActiveFiltersState(){let e=this.searchQueryControl.value&&this.searchQueryControl.value.trim().length>0||this.selectedCategoriesControl.value&&this.selectedCategoriesControl.value.length>0||this.businessTypeControl.value&&this.businessTypeControl.value!==""||this.selectedCountriesControl.value&&this.selectedCountriesControl.value.length>0||this.selectedRatingControl.value!==null&&this.selectedRatingControl.value>0;this.hasActiveFilters.set(!!e)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=v({type:i,selectors:[["app-search-filters"]],inputs:{countries:[1,"countries"],showSearchInput:[1,"showSearchInput"],totalResults:[1,"totalResults"],initialSearchQuery:[1,"initialSearchQuery"],initialCategories:[1,"initialCategories"],initialBusinessType:[1,"initialBusinessType"],initialCountries:[1,"initialCountries"],initialRating:[1,"initialRating"],initialSortBy:[1,"initialSortBy"]},outputs:{filtersChange:"filtersChange"},decls:82,vars:35,consts:[["sortMenu","matMenu"],[1,"filters-container","fixed","top-16","left-0","right-0","z-40","bg-white","border-b","border-gray-200","transition-shadow","duration-300"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-4"],[1,"space-y-4"],[1,"lg:hidden"],[1,"hidden","lg:flex","lg:flex-row","lg:items-center","gap-3"],[1,"flex","flex-wrap","items-center","gap-2"],["appearance","outline",1,"compact-field"],["multiple","",3,"selectionChange","formControl"],[3,"value"],[3,"selectionChange","formControl"],["value",""],["value","service"],["value","product"],["value","both"],[1,"flex","items-center","gap-3","ml-auto"],["mat-stroked-button","",1,"sort-button",3,"matMenuTriggerFor"],[1,"ml-1"],["mat-menu-item","",3,"click"],[4,"ngIf"],["mat-stroked-button","","type","button","color","warn",1,"clear-button"],[1,"text-sm","text-gray-600"],[1,"font-medium"],[3,"searchQueryChange","searchEvent","searchQuery","backgroundColor","boxShadow","placeholder"],[1,"grid","grid-cols-2","gap-3","mt-3"],["mat-stroked-button","",1,"mobile-filter-button",3,"click"],[1,"flex","items-center","justify-center","gap-2"],[1,"text-green-600"],[1,"bg-green-600","text-white","text-xs","rounded-full","px-2","py-0.5","ml-1"],["mat-stroked-button","",1,"mobile-sort-button",3,"click"],["mat-stroked-button","","type","button","color","warn",1,"clear-button",3,"click"]],template:function(t,n){if(t&1){let o=M();r(0,"div",1)(1,"div",2)(2,"div",3),_(3,Pr,16,5,"div",4),r(4,"div",5)(5,"div",6)(6,"mat-form-field",7)(7,"mat-label"),s(8,"Category"),a(),r(9,"mat-select",8),u("selectionChange",function(){return h(o),f(n.onFilterChange())}),z(10,kr,2,2,"mat-option",9,wr),a()(),r(12,"mat-form-field",7)(13,"mat-label"),s(14,"Service Type"),a(),r(15,"mat-select",10),u("selectionChange",function(){return h(o),f(n.onFilterChange())}),r(16,"mat-option",11),s(17,"All Types"),a(),r(18,"mat-option",12),s(19,"Services"),a(),r(20,"mat-option",13),s(21,"Products"),a(),r(22,"mat-option",14),s(23,"Both"),a()()(),r(24,"mat-form-field",7)(25,"mat-label"),s(26,"Heritage/Origin"),a(),r(27,"mat-select",8),u("selectionChange",function(){return h(o),f(n.onFilterChange())}),z(28,Or,2,2,"mat-option",9,Mr),a()(),r(30,"mat-form-field",7)(31,"mat-label"),s(32,"Minimum Rating"),a(),r(33,"mat-select",10),u("selectionChange",function(){return h(o),f(n.onFilterChange())}),r(34,"mat-option",9),s(35,"All ratings"),a(),r(36,"mat-option",9),s(37,"1+ stars"),a(),r(38,"mat-option",9),s(39,"2+ stars"),a(),r(40,"mat-option",9),s(41,"3+ stars"),a(),r(42,"mat-option",9),s(43,"4+ stars"),a(),r(44,"mat-option",9),s(45,"5 stars"),a()()()(),r(46,"div",15)(47,"button",16),s(48),r(49,"mat-icon",17),s(50,"expand_more"),a()(),r(51,"mat-menu",null,0)(53,"button",18),u("click",function(){return h(o),f(n.onSortChange("relevance"))}),V(54,Er,2,0,"mat-icon",19),r(55,"span"),s(56,"Relevance"),a()(),r(57,"button",18),u("click",function(){return h(o),f(n.onSortChange("best_selling"))}),V(58,Tr,2,0,"mat-icon",19),r(59,"span"),s(60,"Best selling"),a()(),r(61,"button",18),u("click",function(){return h(o),f(n.onSortChange("newest"))}),V(62,Ar,2,0,"mat-icon",19),r(63,"span"),s(64,"Newest arrivals"),a()(),r(65,"button",18),u("click",function(){return h(o),f(n.onSortChange("price_low"))}),V(66,Fr,2,0,"mat-icon",19),r(67,"span"),s(68,"Price: Low to High"),a()(),r(69,"button",18),u("click",function(){return h(o),f(n.onSortChange("price_high"))}),V(70,Dr,2,0,"mat-icon",19),r(71,"span"),s(72,"Price: High to Low"),a()(),r(73,"button",18),u("click",function(){return h(o),f(n.onSortChange("rating"))}),V(74,Ir,2,0,"mat-icon",19),r(75,"span"),s(76,"Highest Rated"),a()()(),_(77,Rr,4,0,"button",20),a()(),r(78,"div",21)(79,"span",22),s(80),a(),s(81," businesses found "),a()()()()}if(t&2){let o=K(52);j("shadow-md",n.isScrolled()),l(3),C(n.showSearchInput()?3:-1),l(6),m("formControl",n.selectedCategoriesControl),l(),L(n.categories()),l(5),m("formControl",n.businessTypeControl),l(12),m("formControl",n.selectedCountriesControl),l(),L(n.countries()),l(5),m("formControl",n.selectedRatingControl),l(),m("value",0),l(2),m("value",1),l(2),m("value",2),l(2),m("value",3),l(2),m("value",4),l(2),m("value",5),l(3),m("matMenuTriggerFor",o),l(),A(" Sort by: ",n.getSortLabel()," "),l(6),m("ngIf",n.sortByControl.value==="relevance"),l(),j("ml-6",n.sortByControl.value!=="relevance"),l(3),m("ngIf",n.sortByControl.value==="best_selling"),l(),j("ml-6",n.sortByControl.value!=="best_selling"),l(3),m("ngIf",n.sortByControl.value==="newest"),l(),j("ml-6",n.sortByControl.value!=="newest"),l(3),m("ngIf",n.sortByControl.value==="price_low"),l(),j("ml-6",n.sortByControl.value!=="price_low"),l(3),m("ngIf",n.sortByControl.value==="price_high"),l(),j("ml-6",n.sortByControl.value!=="price_high"),l(3),m("ngIf",n.sortByControl.value==="rating"),l(),j("ml-6",n.sortByControl.value!=="rating"),l(2),C(n.hasActiveFilters()?77:-1),l(3),I(n.totalResults())}},dependencies:[S,fe,_e,$e,ji,w,D,E,B,Ue,Si,Mi,Pi,xe,Z,Ze,Ke,Ce,Qi,_i,se,xo,Dt],styles:[".search-filter-menu .mat-mdc-menu-content{padding:8px 0}  .search-filter-menu .mat-mdc-menu-item{min-height:44px}  .search-filter-menu .mat-mdc-menu-item:hover{background-color:#20aa6214}  mat-chip{cursor:pointer}.filters-container[_ngcontent-%COMP%]{position:fixed;top:64px;left:0;right:0;z-index:40;background-color:#fff}  .compact-field{width:auto;min-width:160px}  .compact-field .mat-mdc-form-field-infix{padding:8px 0;min-height:40px}  .compact-field .mat-mdc-text-field-wrapper{padding:0 12px}  .compact-field .mat-mdc-form-field-subscript-wrapper{display:none}  .sort-button{height:40px;border-radius:20px;padding:0 16px;font-size:14px;white-space:nowrap}  .sort-button .mat-icon{font-size:18px;width:18px;height:18px;margin-left:4px}  .mobile-filter-button,   .mobile-sort-button{height:48px;border-radius:8px;font-size:16px;font-weight:500;border:1px solid #e5e7eb}  .mobile-filter-button .mat-icon,   .mobile-sort-button .mat-icon{font-size:20px;width:20px;height:20px}  .clear-button{height:40px;border-radius:20px;padding:0 16px;font-size:14px;white-space:nowrap}  .clear-button .mat-icon{font-size:18px;width:18px;height:18px;margin-right:4px}  .mobile-sort-bottom-sheet .mat-bottom-sheet-container,   .mobile-filter-bottom-sheet .mat-bottom-sheet-container{padding:0;border-radius:16px 16px 0 0;max-height:90vh}"]})};var Br=()=>[12,24,48],Nr=(i,e)=>e._id;function Vr(i,e){i&1&&b(0,"app-user-sidenav")}function jr(i,e){i&1&&b(0,"app-guest-sidenav")}function Hr(i,e){i&1&&(r(0,"div",12),b(1,"mat-spinner",15),r(2,"span",16),s(3,"Finding services..."),a()())}function qr(i,e){if(i&1&&(r(0,"div",13)(1,"div",17)(2,"mat-icon",18),s(3,"error"),a(),r(4,"span",19),s(5),a()()()),i&2){let t=g();l(5),I(t.error())}}function zr(i,e){if(i&1){let t=M();r(0,"div",14)(1,"mat-icon",20),s(2,"search_off"),a(),r(3,"h3",21),s(4,"No services found"),a(),r(5,"p",22),s(6,"Try adjusting your search terms or filters"),a(),r(7,"button",23),u("click",function(){h(t);let o=g();return f(o.clearFilters())}),s(8," Clear filters "),a()()}}function Lr(i,e){if(i&1){let t=M();r(0,"app-business-card",27),u("businessClick",function(o){h(t);let c=g(2);return f(c.onBusinessClick(o))}),a()}if(i&2){let t=e.$implicit,n=g(2);m("business",t)("ownerName",n.getOwnerName(t))("ownerAvatar",n.getOwnerAvatar(t))("ownerCountry",n.getOwnerCountry(t))("categoryName",n.getCategoryName(t))}}function Ur(i,e){if(i&1){let t=M();r(0,"div",26)(1,"mat-paginator",28),u("page",function(o){h(t);let c=g(2);return f(c.onPageChange(o.pageIndex+1))}),a()()}if(i&2){let t=g(2);l(),m("length",t.total())("pageSize",12)("pageIndex",t.currentPage()-1)("pageSizeOptions",$n(4,Br))}}function Qr(i,e){if(i&1&&(r(0,"div",24),z(1,Lr,1,5,"app-business-card",25,Nr),a(),_(3,Ur,2,5,"div",26)),i&2){let t=g();l(),L(t.businesses()),l(2),C(t.totalPages()>1?3:-1)}}var nn=class i{route=d(ze);router=d(R);fb=d(ve);businessService=d(Et);categoryService=d(Xe);authService=d(U);headerComponent;searchQuery=x("");selectedCountries=x([]);selectedCategories=x([]);selectedBusinessTypes=x([]);selectedRating=x(0);selectedSortBy=x("relevance");businesses=x([]);categories=x([]);loading=x(!1);error=x(null);total=x(0);currentPage=x(1);totalPages=x(0);filtersOpen=x(!1);currentUser=F(()=>this.authService.user());isClientMode=F(()=>{let e=this.authService.user();return!e||e.user_mode==="client"});filterForm;countries=Nt;businessTypes=[{value:"service",label:"Service"},{value:"product",label:"Product"},{value:"both",label:"Both"}];ratingOptions=[{value:0,label:"All ratings"},{value:1,label:"1+ stars"},{value:2,label:"2+ stars"},{value:3,label:"3+ stars"},{value:4,label:"4+ stars"},{value:5,label:"5 stars"}];hasResults=F(()=>this.businesses().length>0);hasSearched=F(()=>this.searchQuery()||this.selectedCountries().length>0||this.selectedCategories().length>0||this.selectedBusinessTypes().length>0||this.selectedRating()>0);hasActiveFilters=F(()=>{let e=this.filterForm?.value;return!!(e?.selectedCountries?.length>0||e?.businessType||e?.location||e?.selectedCategories?.length>0||e?.selectedBusinessTypes?.length>0||e?.selectedRating>0)});constructor(){Q(()=>{if(this.headerComponent){let e=this.headerComponent.headerSearchQuery();e!==this.searchQuery()&&(this.searchQuery.set(e),this.filterForm?.patchValue({searchQuery:e},{emitEvent:!1}),this.onSearch())}}),Q(()=>{let e=this.searchQuery();this.headerComponent&&e!==this.headerComponent.headerSearchQuery()&&this.headerComponent.headerSearchQuery.set(e)})}ngOnInit(){this.initializeForm(),this.loadCategories(),this.route.queryParams.subscribe(e=>{this.searchQuery.set(e.q||""),this.selectedCountries.set(e.countries?e.countries.split(","):[]),this.selectedCategories.set(e.categories?e.categories.split(","):[]),this.selectedBusinessTypes.set(e.businessType?[e.businessType]:[]),this.selectedRating.set(parseInt(e.rating)||0),this.selectedSortBy.set(e.sortBy||"relevance"),this.currentPage.set(parseInt(e.page)||1),this.filterForm.patchValue({searchQuery:this.searchQuery(),selectedCountries:this.selectedCountries(),selectedCategories:this.selectedCategories(),selectedBusinessTypes:this.selectedBusinessTypes(),selectedRating:this.selectedRating()},{emitEvent:!1}),this.performSearch()})}initializeForm(){this.filterForm=this.fb.group({searchQuery:[this.searchQuery()],selectedCountries:[this.selectedCountries()],selectedCategories:[this.selectedCategories()],selectedBusinessTypes:[this.selectedBusinessTypes()],selectedRating:[this.selectedRating()],businessType:[""],location:[""]})}loadCategories(){return T(this,null,function*(){try{let e=yield this.categoryService.loadCategories();this.categories.set(e)}catch(e){console.error("Error loading categories:",e)}})}performSearch(){return T(this,null,function*(){let e=this.searchQuery(),t=this.selectedCountries(),n=this.selectedCategories(),o=this.selectedBusinessTypes(),c=this.selectedRating(),p=this.selectedSortBy(),G=this.currentPage(),J=t.length>0||n.length>0||o.length>0||c>0||p&&p!=="relevance";if(!e&&!J&&this.isClientMode()){this.loadVerifiedBusinesses();return}if(!e&&!J){this.businesses.set([]),this.total.set(0),this.totalPages.set(0);return}try{this.loading.set(!0),this.error.set(null);let X={};n.length>0&&(X.categories=n),o.length>0&&o[0]&&(X.businessType=o[0]),c>0&&(X.rating=c),p&&p!=="relevance"&&(X.sortBy=p);let et=yield this.businessService.searchBusinesses(e||void 0,t.length>0?t:void 0,G,12,X).toPromise();et?.success&&et.data?(this.businesses.set(et.data.businesses),this.total.set(et.data.total),this.totalPages.set(et.data.totalPages)):this.error.set("Failed to search businesses")}catch(X){console.error("Search error:",X),this.error.set("An error occurred while searching")}finally{this.loading.set(!1)}})}loadVerifiedBusinesses(){return T(this,null,function*(){try{this.loading.set(!0),this.error.set(null);let e=yield this.businessService.searchBusinesses(void 0,void 0,this.currentPage(),12,{featured:!0}).toPromise();e?.success&&e.data?(this.businesses.set(e.data.businesses),this.total.set(e.data.total),this.totalPages.set(e.data.totalPages)):this.error.set("Failed to load verified businesses")}catch(e){console.error("Load verified businesses error:",e),this.error.set("An error occurred while loading verified businesses")}finally{this.loading.set(!1)}})}onFiltersChange(e){let t={page:1};e.searchQuery?.trim()&&(t.q=e.searchQuery.trim()),e.selectedCountries&&e.selectedCountries.length>0&&(t.countries=e.selectedCountries.join(",")),e.selectedCategories&&e.selectedCategories.length>0&&(t.categories=e.selectedCategories.join(",")),e.businessType&&(t.businessType=e.businessType),e.selectedRating&&e.selectedRating>0&&(t.rating=e.selectedRating),e.sortBy&&e.sortBy!=="relevance"&&(t.sortBy=e.sortBy),this.router.navigate(["/search"],{queryParams:t})}onSearch(){let e=this.filterForm.value,t={page:1};e.searchQuery?.trim()&&(t.q=e.searchQuery.trim()),e.selectedCountries&&e.selectedCountries.length>0&&(t.countries=e.selectedCountries.join(",")),e.selectedCategories&&e.selectedCategories.length>0&&(t.categories=e.selectedCategories.join(",")),e.selectedBusinessTypes&&e.selectedBusinessTypes.length>0&&(t.businessTypes=e.selectedBusinessTypes.join(",")),e.selectedRating&&e.selectedRating>0&&(t.rating=e.selectedRating),this.router.navigate(["/search"],{queryParams:t})}clearFilters(){this.filterForm.reset({searchQuery:"",selectedCountries:[],selectedCategories:[],selectedBusinessTypes:[],selectedRating:0,businessType:"",location:""}),this.onSearch()}toggleFilters(){this.filtersOpen.update(e=>!e)}onPageChange(e){let t=this.route.snapshot.queryParams;this.router.navigate(["/search"],{queryParams:tt(ce({},t),{page:e})})}getOwnerName(e){let t=e.owner_id;return t?.first_name&&t?.last_name?`${t.first_name} ${t.last_name}`:t?.first_name?t.first_name:t?.email?t.email:"Business Owner"}getOwnerCountry(e){return e.owner_id?.country_of_origin||"Unknown"}getCategoryName(e){return e.category_id?.name||"Uncategorized"}getOwnerAvatar(e){return e.owner_id?.profile_image_url||null}onBusinessClick(e){this.router.navigate(["/business/profile",e._id])}generatePageNumbers(){let e=this.totalPages(),t=this.currentPage(),n=5;if(e<=n)return Array.from({length:e},(p,G)=>G+1);let o=Math.max(1,t-Math.floor(n/2)),c=Math.min(e,o+n-1);return Array.from({length:c-o+1},(p,G)=>o+G)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=v({type:i,selectors:[["app-search"]],viewQuery:function(t,n){if(t&1&&Ee(te,5),t&2){let o;de(o=pe())&&(n.headerComponent=o.first)}},decls:19,vars:26,consts:[["drawer",""],["drawerContent",""],[3,"drawer","maxWidth"],["autosize","",1,"content-body",3,"hasBackdrop"],[1,"drawer",3,"mode"],[1,"bg-[#F4F2EE]!"],[1,"min-h-screen","bg-[#F4F2EE]"],[1,"hidden","lg:block"],[3,"filtersChange","countries","totalResults","initialSearchQuery","initialCategories","initialBusinessType","initialCountries","initialRating","initialSortBy"],[1,"lg:hidden"],[3,"filtersChange","countries","showSearchInput","totalResults","initialSearchQuery","initialCategories","initialBusinessType","initialCountries","initialRating","initialSortBy"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8","pt-[212px]","lg:pt-[172px]"],[1,"flex","justify-center","items-center","py-12"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-4","mb-6"],[1,"text-center","py-12"],["diameter","50"],[1,"ml-4","text-gray-600"],[1,"flex","items-center"],[1,"text-red-500","mr-2"],[1,"text-red-700"],[1,"text-6xl","text-gray-400","mb-4"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-600","mb-4"],["mat-raised-button","","color","primary",3,"click"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-6","mb-8"],[3,"business","ownerName","ownerAvatar","ownerCountry","categoryName"],[1,"flex","justify-left"],[3,"businessClick","business","ownerName","ownerAvatar","ownerCountry","categoryName"],["showFirstLastButtons","",3,"page","length","pageSize","pageIndex","pageSizeOptions"]],template:function(t,n){if(t&1){let o=M();b(0,"app-header",2),r(1,"mat-drawer-container",3)(2,"mat-drawer",4,0),_(4,Vr,1,0,"app-user-sidenav")(5,jr,1,0,"app-guest-sidenav"),a(),r(6,"mat-drawer-content",5,1)(8,"div",6)(9,"div",7)(10,"app-search-filters",8),u("filtersChange",function(p){return h(o),f(n.onFiltersChange(p))}),a()(),r(11,"div",9)(12,"app-search-filters",10),u("filtersChange",function(p){return h(o),f(n.onFiltersChange(p))}),a()(),r(13,"div",11),_(14,Hr,4,0,"div",12),_(15,qr,6,1,"div",13),_(16,zr,9,0,"div",14),_(17,Qr,4,1),a(),b(18,"footer-component"),a()()()}if(t&2){let o=K(3);m("drawer",o)("maxWidth","max-w-7xl"),l(),m("hasBackdrop",!0),l(),m("mode","over"),l(2),C(n.currentUser()?4:5),l(6),m("countries",n.countries)("totalResults",n.total())("initialSearchQuery",n.searchQuery())("initialCategories",n.selectedCategories())("initialBusinessType",n.selectedBusinessTypes()[0]||"")("initialCountries",n.selectedCountries())("initialRating",n.selectedRating())("initialSortBy",n.selectedSortBy()),l(2),m("countries",n.countries)("showSearchInput",!0)("totalResults",n.total())("initialSearchQuery",n.searchQuery())("initialCategories",n.selectedCategories())("initialBusinessType",n.selectedBusinessTypes()[0]||"")("initialCountries",n.selectedCountries())("initialRating",n.selectedRating())("initialSortBy",n.selectedSortBy()),l(2),C(n.loading()?14:-1),l(),C(n.error()?15:-1),l(),C(!n.loading()&&n.hasSearched()&&!n.hasResults()?16:-1),l(),C(!n.loading()&&n.hasResults()?17:-1)}},dependencies:[S,_e,Ce,Z,se,w,D,qt,xe,E,B,Zi,Ki,We,Ge,Ji,be,re,ae,oe,Je,Ot,zt,te,ye,Zt,tn,Me,we],styles:[".drawer[_ngcontent-%COMP%]{height:calc(100vh - 64px);border-radius:0}.content-body[_ngcontent-%COMP%]{height:calc(100vh - 64px);overflow-y:scroll}.line-clamp-1[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:1;line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.line-clamp-2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.business-card[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.business-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 25px 50px -12px #00000040}.business-gradient-1[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.business-gradient-2[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c)}.business-gradient-3[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe)}.business-gradient-4[_ngcontent-%COMP%]{background:linear-gradient(135deg,#43e97b,#38f9d7)}.business-gradient-5[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140)}.search-form[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{transition:all .3s ease}.search-form[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{transform:scale(1.02);box-shadow:0 10px 25px -5px #3b82f64d}.filter-pill[_ngcontent-%COMP%]{transition:all .2s ease}.filter-pill[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 8px #0000001a}.rating-stars[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{transition:color .2s ease}.business-type-badge.service[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dbeafe,#bfdbfe);color:#1e40af}.business-type-badge.product[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dcfce7,#bbf7d0);color:#166534}.business-type-badge.both[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a);color:#92400e}.featured-badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_glow 2s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_glow{0%{box-shadow:0 0 5px #fbbf2480}to{box-shadow:0 0 20px #fbbf24cc}}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.business-card[_ngcontent-%COMP%]   .business-header[_ngcontent-%COMP%]{height:120px}.business-card[_ngcontent-%COMP%]   .business-logo[_ngcontent-%COMP%]{width:60px;height:60px}}*[_ngcontent-%COMP%]{transition:color .2s ease,background-color .2s ease,border-color .2s ease,transform .2s ease,box-shadow .2s ease}"]})};var Gr=(i,e)=>e.question;function Wr(i,e){i&1&&b(0,"app-user-sidenav")}function $r(i,e){i&1&&b(0,"app-guest-sidenav")}function Yr(i,e){if(i&1&&(r(0,"mat-expansion-panel",14)(1,"mat-expansion-panel-header",20)(2,"mat-panel-title",21),s(3),a()(),r(4,"div",22),s(5),a()()),i&2){let t=e.$implicit;l(3),A(" ",t.question," "),l(2),A(" ",t.answer," ")}}var on=class i{authService=d(U);faqs=[{question:"What is VouchHer?",answer:"VouchHer is a trusted platform connecting women freelancers with clients and businesses looking for trusted remote talent."},{question:"Who can join VouchHer?",answer:"VouchHer is open to women freelancers from all backgrounds and skill levels. Whether you're a designer, developer, writer, marketer, or offer any professional service, you can create a profile and start showcasing your skills to potential clients."},{question:"Is VouchHer only for women?",answer:"Yes, VouchHer is a platform specifically designed to empower and support women freelancers. We focus on creating opportunities for women professionals to connect with clients seeking their expertise."},{question:"What type of jobs or services are available?",answer:"VouchHer offers a wide range of services including graphic design, web development, content writing, digital marketing, consulting, virtual assistance, and many more. Freelancers can offer both service-based and product-based offerings."},{question:"How does VouchHer work?",answer:"Freelancers create a profile showcasing their skills, services, and portfolio. Clients browse through profiles, search for specific services, and can directly contact freelancers to discuss projects. The platform facilitates secure communication and payment processing."},{question:"How do I create a freelancer profile?",answer:"Sign up for a VouchHer account, complete your profile with your professional information, add your services with pricing, upload portfolio samples, and start receiving inquiries from potential clients. Make sure to provide detailed information to attract the right clients."},{question:"Do I set my own rate?",answer:"Yes! As a freelancer on VouchHer, you have complete control over your pricing. You can set your rates based on your experience, skills, and the value you provide. You can offer fixed-price services, hourly rates, or project-based pricing."},{question:"Do I pay a commission or service fee?",answer:"VouchHer charges a small service fee on completed transactions to maintain the platform and provide secure payment processing. The fee structure is transparent and will be clearly displayed before you complete any transaction."},{question:"Can I work with international clients?",answer:"Absolutely! VouchHer is a global platform that connects freelancers with clients worldwide. You can work with clients from any country, and the platform supports international payments to make cross-border transactions seamless."},{question:"How do I hire a VouchHer woman?",answer:"Browse through freelancer profiles, use the search and filter options to find professionals with the skills you need, review their portfolios and ratings, and reach out directly to discuss your project requirements. You can compare multiple freelancers before making your decision."},{question:"How do I make payment?",answer:"VouchHer provides secure payment processing through integrated payment gateways including PayPal and Stripe. You can pay using credit cards, debit cards, or other supported payment methods. All transactions are encrypted and secure."},{question:"Is there a guarantee on project delivery?",answer:"While VouchHer provides a platform for connecting freelancers and clients, project delivery terms are agreed upon between you and the freelancer. We recommend clear communication about timelines, deliverables, and milestones. Review ratings and reviews from other clients to help you choose reliable freelancers."}];currentUser=F(()=>this.authService.user());static \u0275fac=function(t){return new(t||i)};static \u0275cmp=v({type:i,selectors:[["app-faq"]],decls:30,vars:5,consts:[["drawer",""],["drawerContent",""],[3,"drawer","maxWidth"],["autosize","",1,"content-body",3,"hasBackdrop"],[1,"drawer",3,"mode"],[1,"bg-[#F4F2EE]!"],[1,"faq-page","min-h-screen","bg-gray-50"],[1,"bg-gradient-to-r","from-green-600","to-green-700","text-white","py-16"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"text-center"],[1,"text-4xl","md:text-5xl","font-bold","mb-4"],[1,"text-xl","text-green-100","max-w-3xl","mx-auto"],[1,"max-w-4xl","mx-auto","px-4","sm:px-6","lg:px-8","py-16"],[1,"faq-accordion"],[1,"mb-4","rounded-lg","shadow-sm"],[1,"mt-16","bg-white","rounded-lg","shadow-md","p-8","text-center"],[1,"text-green-600","!text-5xl","!w-16","!h-16","mx-auto","mb-4"],[1,"text-2xl","font-bold","text-gray-900","mb-4"],[1,"text-gray-600","mb-6","max-w-2xl","mx-auto"],["mat-raised-button","","color","primary",1,"!bg-green-600","!text-white","!px-8","!py-3","!text-base"],[1,"py-4","md:py-6"],[1,"text-sm","sm:text-base","md:text-lg","font-semibold","text-gray-900","leading-tight"],[1,"px-4","sm:px-6","pb-4","sm:pb-6","text-sm","sm:text-base","text-gray-700","leading-snug","sm:leading-relaxed"]],template:function(t,n){if(t&1&&(b(0,"app-header",2),r(1,"mat-drawer-container",3)(2,"mat-drawer",4,0),_(4,Wr,1,0,"app-user-sidenav")(5,$r,1,0,"app-guest-sidenav"),a(),r(6,"mat-drawer-content",5,1)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"h1",10),s(13,"Frequently Asked Questions"),a(),r(14,"p",11),s(15," Here are some of the most frequently asked questions to help you understand how VouchHer works. Whether you're a freelancer looking to showcase your skills or a client searching for trusted female professionals. "),a()()()(),r(16,"div",12)(17,"mat-accordion",13),z(18,Yr,6,2,"mat-expansion-panel",14,Gr),a(),r(20,"div",15)(21,"mat-icon",16),s(22,"help_outline"),a(),r(23,"h2",17),s(24,"Still have questions?"),a(),r(25,"p",18),s(26," Can't find the answer you're looking for? Please feel free to reach out to our support team. We're here to help you get the most out of VouchHer. "),a(),r(27,"button",19),s(28," Contact Support "),a()()(),b(29,"footer-component"),a()()()),t&2){let o=K(3);m("drawer",o)("maxWidth","max-w-7xl"),l(),m("hasBackdrop",!0),l(),m("mode","over"),l(2),C(n.currentUser()?4:5),l(14),L(n.faqs)}},dependencies:[S,Je,vo,On,En,bo,E,B,w,D,te,ye,re,ae,Me,we,oe],styles:[".drawer[_ngcontent-%COMP%]{height:calc(100vh - 64px);border-radius:0}.content-body[_ngcontent-%COMP%]{height:calc(100vh - 64px);overflow-y:scroll}.faq-page[_ngcontent-%COMP%]   .faq-accordion[_ngcontent-%COMP%]     .mat-expansion-panel{background:#fff;border:1px solid #e5e7eb;box-shadow:0 1px 3px #0000001a}.faq-page[_ngcontent-%COMP%]   .faq-accordion[_ngcontent-%COMP%]     .mat-expansion-panel:not(.mat-expanded):hover{background:#f9fafb}.faq-page[_ngcontent-%COMP%]   .faq-accordion[_ngcontent-%COMP%]     .mat-expansion-panel.mat-expanded{border-color:#10b981}.faq-page[_ngcontent-%COMP%]   .faq-accordion[_ngcontent-%COMP%]     .mat-expansion-panel-header{padding:0 24px}.faq-page[_ngcontent-%COMP%]   .faq-accordion[_ngcontent-%COMP%]     .mat-expansion-panel-header:hover{background:transparent!important}.faq-page[_ngcontent-%COMP%]   .faq-accordion[_ngcontent-%COMP%]     .mat-expansion-panel-header.mat-expanded{background:#f0fdf4}.faq-page[_ngcontent-%COMP%]   .faq-accordion[_ngcontent-%COMP%]     .mat-expansion-panel-header-title{color:#111827;font-weight:600}.faq-page[_ngcontent-%COMP%]   .faq-accordion[_ngcontent-%COMP%]     .mat-expansion-indicator:after{color:#10b981}.faq-page[_ngcontent-%COMP%]   .faq-accordion[_ngcontent-%COMP%]     .mat-expansion-panel-body{padding:0}"]})};var Zr=["drawer"];function Jr(i,e){i&1&&b(0,"app-user-sidenav")}function Xr(i,e){i&1&&b(0,"app-guest-sidenav")}function ea(i,e){i&1&&(r(0,"mat-error"),s(1,"First name is required"),a())}function ta(i,e){i&1&&(r(0,"mat-error"),s(1,"Last name is required"),a())}function na(i,e){i&1&&s(0," Email is required ")}function ia(i,e){i&1&&s(0," Please enter a valid email ")}function oa(i,e){if(i&1&&(r(0,"mat-error"),_(1,na,1,0)(2,ia,1,0),a()),i&2){let t=g();l(),C(t.f.email.errors.required?1:t.f.email.errors.email?2:-1)}}function ra(i,e){i&1&&(r(0,"mat-error"),s(1,"Subject is required"),a())}function aa(i,e){i&1&&(r(0,"mat-error"),s(1,"Message is required"),a())}var rn=class i{fb=d(ve);authService=d(U);drawer;currentUser=F(()=>this.authService.user());contactForm;submitted=!1;constructor(){this.contactForm=this.fb.group({firstName:["",Ie.required],lastName:["",Ie.required],email:["",[Ie.required,Ie.email]],subject:["",Ie.required],message:["",Ie.required]})}onSubmit(){this.submitted=!0,this.contactForm.valid&&(console.log("Form submitted:",this.contactForm.value),alert("Thank you for contacting us! We will get back to you soon."),this.contactForm.reset(),this.submitted=!1)}get f(){return this.contactForm.controls}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=v({type:i,selectors:[["app-contact"]],viewQuery:function(t,n){if(t&1&&Ee(Zr,5),t&2){let o;de(o=pe())&&(n.drawer=o.first)}},decls:86,vars:11,consts:[["drawer",""],["drawerContent",""],[3,"drawer","maxWidth"],["autosize","",1,"content-body",3,"hasBackdrop"],[1,"drawer",3,"mode"],[1,"bg-[#F4F2EE]!"],[1,"contact-page","min-h-screen","bg-gray-50","py-8","md:py-16"],[1,"max-w-6xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-8","lg:gap-12","items-start"],[1,"space-y-6","lg:pr-8"],[1,"text-3xl","md:text-4xl","font-bold","text-gray-900","mb-4"],[1,"space-y-4","text-sm","md:text-base","text-gray-700"],[1,"space-y-4","pt-6"],[1,"flex","items-start","space-x-3"],[1,"text-gray-600","!text-xl","!w-5","!h-5","mt-0.5"],[1,"text-sm","md:text-base"],[1,"text-gray-900"],[1,"bg-white","rounded-2xl","shadow-lg","border","border-gray-200","p-6","md:p-8"],[3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-4"],["appearance","outline",1,"w-full"],["matInput","","formControlName","firstName","placeholder","enter first name"],["matSuffix","",1,"!text-gray-400"],["matInput","","formControlName","lastName","placeholder","enter last name"],["appearance","outline",1,"w-full","mb-4"],["matInput","","type","email","formControlName","email","placeholder","enter email address"],["matInput","","formControlName","subject","placeholder","enter your subject here"],["appearance","outline",1,"w-full","mb-6"],["matInput","","formControlName","message","placeholder","enter your message here...","rows","5"],["type","submit","mat-raised-button","",1,"!bg-green-600","hover:!bg-green-700","!text-white","w-full","!py-3","!text-base","font-semibold","!rounded-lg"],[1,"mt-16","md:mt-24"]],template:function(t,n){if(t&1){let o=M();b(0,"app-header",2),r(1,"mat-drawer-container",3)(2,"mat-drawer",4,0),_(4,Jr,1,0,"app-user-sidenav")(5,Xr,1,0,"app-guest-sidenav"),a(),r(6,"mat-drawer-content",5,1)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div")(13,"h1",10),s(14," Get in touch with"),b(15,"br"),s(16,"us today "),a(),r(17,"div",11)(18,"p"),s(19," You can search for a business, apply for desired business and get paid when work is done. "),a(),r(20,"p"),s(21," You can create or list business(es), get offers or bids and pay when job is done. "),a()()(),r(22,"div",12)(23,"div",13)(24,"mat-icon",14),s(25,"email"),a(),r(26,"div",15)(27,"p",16),s(28,"info@vouchher.biz"),a(),r(29,"p",16),s(30,"support@vouchher.biz"),a()()(),r(31,"div",13)(32,"mat-icon",14),s(33,"phone"),a(),r(34,"div",15)(35,"p",16),s(36,"+1 (444) 123-4567"),a(),r(37,"p",16),s(38,"+1 (234) 567-8901"),a()()(),r(39,"div",13)(40,"mat-icon",14),s(41,"location_on"),a(),r(42,"div",15)(43,"p",16),s(44,"23 Jorch Estate, Ogolo, Yenagoa,"),a(),r(45,"p",16),s(46,"Bayelsa State, Nigeria."),a()()()()(),r(47,"div",17)(48,"form",18),u("ngSubmit",function(){return h(o),f(n.onSubmit())}),r(49,"div",19)(50,"mat-form-field",20)(51,"mat-label"),s(52,"First Name"),a(),b(53,"input",21),r(54,"mat-icon",22),s(55,"person"),a(),_(56,ea,2,0,"mat-error"),a(),r(57,"mat-form-field",20)(58,"mat-label"),s(59,"Last Name"),a(),b(60,"input",23),r(61,"mat-icon",22),s(62,"person"),a(),_(63,ta,2,0,"mat-error"),a()(),r(64,"mat-form-field",24)(65,"mat-label"),s(66,"Email Address"),a(),b(67,"input",25),r(68,"mat-icon",22),s(69,"email"),a(),_(70,oa,3,1,"mat-error"),a(),r(71,"mat-form-field",24)(72,"mat-label"),s(73,"How can we help you?"),a(),b(74,"input",26),_(75,ra,2,0,"mat-error"),a(),r(76,"mat-form-field",27)(77,"mat-label"),s(78,"Message"),a(),r(79,"textarea",28),s(80,"                                "),a(),_(81,aa,2,0,"mat-error"),a(),r(82,"button",29),s(83," Send Message "),a()()()()(),r(84,"div",30),b(85,"footer-component"),a()()()()}if(t&2){let o=K(3);m("drawer",o)("maxWidth","max-w-7xl"),l(),m("hasBackdrop",!0),l(),m("mode","over"),l(2),C(n.currentUser()?4:5),l(44),m("formGroup",n.contactForm),l(8),C(n.submitted&&n.f.firstName.errors?56:-1),l(7),C(n.submitted&&n.f.lastName.errors?63:-1),l(7),C(n.submitted&&n.f.email.errors?70:-1),l(5),C(n.submitted&&n.f.subject.errors?75:-1),l(6),C(n.submitted&&n.f.message.errors?81:-1)}},dependencies:[S,_e,Ft,Tt,$e,At,Hi,qi,se,Bt,Ze,Ke,Li,It,Z,w,D,E,B,be,re,ae,oe,te,ye,Me,we],styles:[".drawer[_ngcontent-%COMP%]{height:calc(100vh - 64px);border-radius:0}.content-body[_ngcontent-%COMP%]{height:calc(100vh - 64px);overflow-y:scroll}.contact-page[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-text-field-wrapper{background-color:#fff}.contact-page[_ngcontent-%COMP%]     .mat-mdc-form-field .mat-mdc-form-field-focus-overlay{background-color:transparent}.contact-page[_ngcontent-%COMP%]     .mat-mdc-form-field.mat-focused .mdc-notched-outline__leading, .contact-page[_ngcontent-%COMP%]     .mat-mdc-form-field.mat-focused .mdc-notched-outline__notch, .contact-page[_ngcontent-%COMP%]     .mat-mdc-form-field.mat-focused .mdc-notched-outline__trailing{border-color:#10b981!important}.contact-page[_ngcontent-%COMP%]     .mat-mdc-form-field.mat-focused .mat-mdc-floating-label{color:#10b981!important}.contact-page[_ngcontent-%COMP%]     .mat-mdc-raised-button:hover{background-color:#059669!important}"]})};var an=class i{constructor(e){this.http=e}apiUrl=`${Qe.api.baseUrl}/paypal-accounts`;getConnectUrl(){return this.http.get(`${this.apiUrl}/connect-url`)}connectAccount(e){return this.http.post(`${this.apiUrl}/connect`,e)}getAccounts(){return this.http.get(this.apiUrl)}getAccount(e){return this.http.get(`${this.apiUrl}/${e}`)}refreshAccount(e){return this.http.post(`${this.apiUrl}/${e}/refresh`,{})}disconnectAccount(e){return this.http.post(`${this.apiUrl}/${e}/disconnect`,{})}verifyAccount(e){return this.http.post(`${this.apiUrl}/${e}/verify`,{})}initiatePayPalConnection(e){return T(this,null,function*(){try{let t=yield this.getConnectUrl().toPromise();if(!t?.auth_url)throw new Error("Failed to get PayPal OAuth URL");let n=window.open(t.auth_url,"paypal-oauth","width=500,height=600,scrollbars=yes,resizable=yes");if(!n)throw new Error("Popup blocked. Please allow popups for this site.");return new Promise((o,c)=>{let p=setInterval(()=>{n.closed&&(clearInterval(p),c(new Error("PayPal connection was cancelled")))},1e3),G=J=>{J.origin===window.location.origin&&(J.data.type==="PAYPAL_OAUTH_SUCCESS"?(clearInterval(p),window.removeEventListener("message",G),n.close(),this.connectAccount({code:J.data.code,state:J.data.state}).subscribe({next:X=>o(X),error:X=>c(X)})):J.data.type==="PAYPAL_OAUTH_ERROR"&&(clearInterval(p),window.removeEventListener("message",G),n.close(),c(new Error(J.data.error||"PayPal connection failed"))))};window.addEventListener("message",G)})}catch(t){throw console.error("PayPal connection error:",t),t}})}static \u0275fac=function(t){return new(t||i)(Rn(yt))};static \u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"})};function ca(i,e){i&1&&(r(0,"div",4),b(1,"mat-spinner",5),r(2,"h2"),s(3,"Connecting PayPal Account"),a(),r(4,"p"),s(5,"Please wait while we connect your PayPal account..."),a()())}function da(i,e){if(i&1&&(r(0,"div",12)(1,"p")(2,"strong"),s(3,"Email:"),a(),s(4),a(),r(5,"p")(6,"strong"),s(7,"Status:"),a(),s(8),a()()),i&2){let t=g(2);l(4),A(" ",t.connectedAccount.email),l(4),A(" ",t.connectedAccount.is_verified?"Verified":"Not Verified")}}function pa(i,e){if(i&1){let t=M();r(0,"div",6)(1,"mat-icon",7),s(2,"check_circle"),a(),r(3,"h2"),s(4,"PayPal Account Connected!"),a(),r(5,"p"),s(6,"Your PayPal account has been successfully connected."),a(),V(7,da,9,2,"div",8),r(8,"div",9)(9,"button",10),u("click",function(){h(t);let o=g();return f(o.goToPayPalAccounts())}),s(10," View PayPal Accounts "),a(),r(11,"button",11),u("click",function(){h(t);let o=g();return f(o.goToWithdrawals())}),s(12," Create Withdrawal "),a()()()}if(i&2){let t=g();l(7),m("ngIf",t.connectedAccount)}}function ma(i,e){if(i&1){let t=M();r(0,"div",13)(1,"mat-icon",14),s(2,"error"),a(),r(3,"h2"),s(4,"Connection Failed"),a(),r(5,"p"),s(6),a(),r(7,"div",9)(8,"button",10),u("click",function(){h(t);let o=g();return f(o.retry())}),s(9," Try Again "),a(),r(10,"button",11),u("click",function(){h(t);let o=g();return f(o.goToPayPalAccounts())}),s(11," Go Back "),a()()()}if(i&2){let t=g();l(6),I(t.errorMessage)}}var sn=class i{constructor(e,t,n){this.route=e;this.router=t;this.paypalService=n}processing=!0;success=!1;error=!1;errorMessage="";connectedAccount=null;ngOnInit(){this.handleCallback()}handleCallback(){this.route.queryParams.subscribe(e=>{let t=e.code,n=e.state,o=e.error,c=e.error_description;if(o){this.handleError(c||o);return}if(!t||!n){this.handleError("Missing authorization code or state parameter");return}this.paypalService.connectAccount({code:t,state:n}).subscribe({next:p=>{this.processing=!1,this.success=!0,this.connectedAccount=p,window.opener&&(window.opener.postMessage({type:"PAYPAL_OAUTH_SUCCESS",code:t,state:n,account:p},window.location.origin),window.close())},error:p=>{console.error("PayPal connection error:",p),this.handleError(p.error?.message||"Failed to connect PayPal account"),window.opener&&(window.opener.postMessage({type:"PAYPAL_OAUTH_ERROR",error:p.error?.message||"Failed to connect PayPal account"},window.location.origin),window.close())}})})}handleError(e){this.processing=!1,this.error=!0,this.errorMessage=e}retry(){this.processing=!0,this.error=!1,this.success=!1,this.handleCallback()}goToPayPalAccounts(){this.router.navigate(["/paypal-accounts"])}goToWithdrawals(){this.router.navigate(["/withdrawals"])}static \u0275fac=function(t){return new(t||i)($(ze),$(R),$(an))};static \u0275cmp=v({type:i,selectors:[["app-paypal-callback"]],decls:4,vars:3,consts:[[1,"callback-container"],["class","processing-state",4,"ngIf"],["class","success-state",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"processing-state"],["diameter","48"],[1,"success-state"],[1,"success-icon"],["class","account-info",4,"ngIf"],[1,"actions"],["mat-raised-button","","color","primary",3,"click"],["mat-stroked-button","",3,"click"],[1,"account-info"],[1,"error-state"],[1,"error-icon"]],template:function(t,n){t&1&&(r(0,"div",0),V(1,ca,6,0,"div",1)(2,pa,13,1,"div",2)(3,ma,12,1,"div",3),a()),t&2&&(l(),m("ngIf",n.processing),l(),m("ngIf",n.success&&!n.processing),l(),m("ngIf",n.error&&!n.processing))},dependencies:[S,fe,We,Ge,E,B,w,D],styles:[".callback-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:24px;background:linear-gradient(135deg,#667eea,#764ba2)}.processing-state[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{background:#fff;padding:48px 32px;border-radius:16px;box-shadow:0 20px 40px #0000001a;text-align:center;max-width:500px;width:100%}.processing-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:24px 0 16px;font-size:1.5rem;font-weight:600}.processing-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 24px;color:#666;line-height:1.6}.success-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#4caf50;margin-bottom:16px}.error-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#f44336;margin-bottom:16px}.account-info[_ngcontent-%COMP%]{background:#f5f5f5;padding:16px;border-radius:8px;margin:24px 0;text-align:left}.account-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;color:#333}.actions[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:center;flex-wrap:wrap;margin-top:32px}@media (max-width: 768px){.actions[_ngcontent-%COMP%]{flex-direction:column}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]})};function ua(i,e){i&1&&(r(0,"div",4),b(1,"mat-spinner",5),r(2,"h2"),s(3,"Verifying Stripe Account"),a(),r(4,"p"),s(5,"Please wait while we verify your Stripe account setup..."),a()())}function ga(i,e){if(i&1){let t=M();r(0,"div",6)(1,"mat-icon",7),s(2,"check_circle"),a(),r(3,"h2"),s(4,"Stripe Account Connected Successfully!"),a(),r(5,"p"),s(6,"Your Stripe account has been set up and is ready for withdrawals."),a(),r(7,"div",8)(8,"button",9),u("click",function(){h(t);let o=g();return f(o.goToEarnings())}),s(9," View Earnings "),a(),r(10,"button",10),u("click",function(){h(t);let o=g();return f(o.goToDashboard())}),s(11," Back to Dashboard "),a()()()}}function ha(i,e){if(i&1){let t=M();r(0,"div",11)(1,"mat-icon",12),s(2,"error"),a(),r(3,"h2"),s(4,"Setup Incomplete"),a(),r(5,"p"),s(6),a(),r(7,"div",8)(8,"button",13),u("click",function(){h(t);let o=g();return f(o.retrySetup())}),s(9," Try Again "),a(),r(10,"button",10),u("click",function(){h(t);let o=g();return f(o.goToDashboard())}),s(11," Back to Dashboard "),a()()()}if(i&2){let t=g();l(6),I(t.errorMessage)}}var dt=class i{constructor(e,t,n){this.route=e;this.router=t;this.stripeConnectService=n}processing=!0;success=!1;error=!1;errorMessage="";ngOnInit(){return T(this,null,function*(){this.route.queryParams.subscribe(e=>T(this,null,function*(){e.success==="true"?yield this.handleSuccess():e.success==="false"?yield this.handleError():yield this.checkAccountStatus()}))})}handleSuccess(){return T(this,null,function*(){try{let e=yield this.stripeConnectService.getAccountStatus().toPromise();e?.payouts_enabled&&!e?.requirements_due?(this.processing=!1,this.success=!0):(this.processing=!1,this.error=!0,this.errorMessage="Account setup is not yet complete. Please try the onboarding process again.")}catch{this.processing=!1,this.error=!0,this.errorMessage="Failed to verify account status. Please try again."}})}handleError(){return T(this,null,function*(){this.processing=!1,this.error=!0,this.errorMessage="Account setup was not completed. You can try setting up your Stripe account again."})}checkAccountStatus(){return T(this,null,function*(){try{let e=yield this.stripeConnectService.getAccountStatus().toPromise();e?.payouts_enabled&&!e?.requirements_due?(this.processing=!1,this.success=!0):(this.processing=!1,this.error=!0,this.errorMessage="Account setup is incomplete. Please complete the onboarding process.")}catch{this.processing=!1,this.error=!0,this.errorMessage="Failed to check account status. Please try again."}})}retrySetup(){return T(this,null,function*(){try{this.processing=!0;let e=yield this.stripeConnectService.createOnboardingLink().toPromise();window.location.href=e.url}catch{this.processing=!1,this.errorMessage="Failed to create setup link. Please try again later."}})}goToEarnings(){this.router.navigate(["/dashboard/earnings"])}goToDashboard(){this.router.navigate(["/dashboard"])}static \u0275fac=function(t){return new(t||i)($(ze),$(R),$(lo))};static \u0275cmp=v({type:i,selectors:[["app-stripe-callback"]],decls:4,vars:3,consts:[[1,"callback-container"],["class","processing-state",4,"ngIf"],["class","success-state",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"processing-state"],["diameter","48"],[1,"success-state"],[1,"success-icon"],[1,"actions"],["mat-raised-button","","color","primary",3,"click"],["mat-button","",3,"click"],[1,"error-state"],[1,"error-icon"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,n){t&1&&(r(0,"div",0),V(1,ua,6,0,"div",1)(2,ga,12,0,"div",2)(3,ha,12,1,"div",3),a()),t&2&&(l(),m("ngIf",n.processing),l(),m("ngIf",n.success&&!n.processing),l(),m("ngIf",n.error&&!n.processing))},dependencies:[S,fe,We,Ge,E,B,w,D],styles:[".callback-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:24px;background:#f5f5f5}.processing-state[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{text-align:center;max-width:400px;padding:48px 32px;background:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a}.success-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#4caf50;margin-bottom:24px}.error-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#f44336;margin-bottom:24px}h2[_ngcontent-%COMP%]{margin:16px 0;color:#333}p[_ngcontent-%COMP%]{margin:16px 0;color:#666;line-height:1.5}.actions[_ngcontent-%COMP%]{margin-top:32px;display:flex;gap:16px;justify-content:center;flex-wrap:wrap}mat-spinner[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.processing-state[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{padding:32px 24px;margin:16px}.actions[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;max-width:200px}}"]})};var Po=[{path:"",component:Yt},{path:"search",component:nn},{path:"faq",component:on},{path:"contact",component:rn},{path:"auth",loadChildren:()=>import("./chunk-AO5FBH75.js").then(i=>i.AUTH_ROUTES),canActivate:[po]},{path:"login",redirectTo:"auth/login"},{path:"signup",redirectTo:"auth/signup"},{path:"dashboard",component:Kt,loadChildren:()=>import("./chunk-6IO5FVKA.js").then(i=>i.DASHBOARD_ROUTES),canActivate:[Sn]},{path:"admin",loadChildren:()=>import("./chunk-HXY7N3MT.js").then(i=>i.adminRoutes),canActivate:[Sn]},{path:"business",loadChildren:()=>import("./chunk-AK64J5DH.js").then(i=>i.BUSINESS_ROUTES)},{path:"paypal/callback",component:sn},{path:"stripe/return",component:dt},{path:"stripe/refresh",component:dt}];function ko(i){i||(i=d(Vn));let e=new un(t=>{if(i.destroyed){t.next();return}return i.onDestroy(t.next.bind(t))});return t=>t.pipe(ft(e))}function Oo(i){let e=Jn(i);return new un(t=>{let n=e?.onDestroy(()=>t.complete()),o=i.subscribe(c=>t.next(c));return()=>{o.unsubscribe(),n?.()}})}function fa(i,e){i&1&&ot(0,"div",3)}function ba(i,e){i&1&&(k(0,"div",4),ot(1,"div",5),O())}var va={min:8,max:100,speed:200,debounceTime:0,trickleSpeed:300,fadeOutSpeed:50,relative:!1,flat:!1,spinner:!1,direction:"ltr+",spinnerPosition:"right",trickleFunc:i=>i>=0&&i<20?10:i>=20&&i<50?4:i>=50&&i<80?2:i>=80&&i<99?.5:0},Eo=new N("NG_PROGRESS_OPTIONS",{providedIn:"root",factory:()=>va});var ln=(function(i){return i.START="START",i.COMPLETE="COMPLETE",i})(ln||{});function _a(i){let e=me(i)||0;return e<100&&e>=0?e:0}function Ca(i){let e=me(i)||100;return e>0&&e<=100?e:100}var cn=(()=>{let e=class e{constructor(){this.defaultOptions=d(Eo),this.min=y(this.defaultOptions.min,{transform:_a}),this.max=y(this.defaultOptions.max,{transform:Ca}),this.speed=y(this.defaultOptions.speed,{transform:me}),this.trickleSpeed=y(this.defaultOptions.trickleSpeed,{transform:me}),this.fadeOutSpeed=y(this.defaultOptions.fadeOutSpeed,{transform:me}),this.debounceTime=y(this.defaultOptions.debounceTime,{transform:me}),this.trickleFunc=y(this.defaultOptions.trickleFunc),this.config=F(()=>({max:this.max(),min:this.min(),speed:this.speed(),trickleSpeed:this.trickleSpeed(),fadeOutSpeed:this.fadeOutSpeed(),trickleFunc:this.trickleFunc(),debounceTime:this.debounceTime()})),this._progress=x(0),this._active=x(!1),this.active=F(()=>this._active()),this.progress=F(()=>this._progress()),this.started=he(),this.completed=he(),this._trigger=new mt(null);let n;Q(o=>{let c=this.config();rt(()=>{n=this._trigger.pipe(q(p=>!!p),bn(p=>p===ln.START?gn(c.debounceTime).pipe(bn(()=>this.onTrickling(c))):this.onComplete(c))).subscribe(),o(()=>n?.unsubscribe())})})}start(){this.started.emit(),this._trigger.next(ln.START),this._active.set(!0)}complete(){this._trigger.next(ln.COMPLETE)}inc(n){let o=this.progress();this.active()?(typeof n!="number"&&(n=this.config().trickleFunc(o)),this.set(o+n)):this.start()}set(n){this._active.set(!0),this._progress.set(this.clamp(n))}clamp(n){return Math.max(this.config().min,Math.min(this.config().max,n))}onTrickling(n){return this.active()||this.set(n.min),gn(0,n.trickleSpeed).pipe(Ve(()=>this.inc()))}onComplete(n){return this.active()?(this.completed.emit(),Fn({}).pipe(Ve(()=>this._progress.set(100)),hn(n.speed+140),Ve(()=>this._active.set(!1)),hn(n.fadeOutSpeed),ht(()=>this._progress.set(0)),ft(Oo(this.started)))):ut}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=Y({type:e,selectors:[["","ngProgressRef",""]],inputs:{min:[1,"min"],max:[1,"max"],speed:[1,"speed"],trickleSpeed:[1,"trickleSpeed"],fadeOutSpeed:[1,"fadeOutSpeed"],debounceTime:[1,"debounceTime"],trickleFunc:[1,"trickleFunc"]},outputs:{started:"started",completed:"completed"},exportAs:["ngProgressRef"]});let i=e;return i})(),To=(()=>{let e=class e{constructor(){this.config=d(Eo),this.progressRef=d(cn,{host:!0,self:!0}),this.flat=y(this.config.flat,{transform:ee}),this.spinner=y(this.config.spinner,{transform:ee}),this.relative=y(this.config.relative,{transform:ee}),this.spinnerPosition=y(this.config.spinnerPosition),this.direction=y(this.config.direction),this.progressTransform=F(()=>`translate3d(${this.progressRef.progress()}%,0,0)`)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=v({type:e,selectors:[["ng-progress"]],hostAttrs:["role","progressbar"],hostVars:12,hostBindings:function(o,c){o&2&&(ie("spinnerPosition",c.spinnerPosition())("direction",c.direction()),Te("--_ng-progress-speed",c.progressRef.speed()+"ms")("--_ng-progress-fade-out-speed",c.progressRef.fadeOutSpeed()+"ms"),j("ng-progress-bar",!0)("ng-progress-bar-active",c.progressRef.active())("ng-progress-bar-relative",c.relative()))},inputs:{flat:[1,"flat"],spinner:[1,"spinner"],relative:[1,"relative"],spinnerPosition:[1,"spinnerPosition"],direction:[1,"direction"]},exportAs:["ngProgress"],features:[Cn([{directive:cn,inputs:["min","min","max","max","speed","speed","trickleSpeed","trickleSpeed","fadeOutSpeed","fadeOutSpeed","debounceTime","debounceTime"],outputs:["started","started","completed","completed"]}])],decls:5,vars:4,consts:[[1,"ng-progress-bar-wrapper"],[1,"ng-bar-placeholder"],[1,"ng-bar"],[1,"ng-meteor"],[1,"ng-spinner"],[1,"ng-spinner-icon"]],template:function(o,c){o&1&&(k(0,"div",0)(1,"div",1)(2,"div",2),_(3,fa,1,0,"div",3),O()(),_(4,ba,2,0,"div",4),O()),o&2&&(l(2),Te("transform",c.progressTransform()),l(),C(c.flat()?-1:3),l(),C(c.spinner()?4:-1))},styles:['[_nghost-%COMP%]{--_ng-progress-thickness: var(--ng-progress-thickness, 2);--_ng-progress-thickness-px: calc(var(--_ng-progress-thickness) * 1px);--_ng-progress-thickness-add-one: calc(var(--_ng-progress-thickness) + 1);--_ng-progress-meteor-position-px: calc(var(--_ng-progress-thickness-add-one) * -1px);--_ng-progress-color: var(--ng-progress-color, #1B95E0);--_ng-progress-holder-color: var(--ng-progress-holder-color, transparent);--_ng-progress-ease: var(--ng-progress-ease, linear);--_ng-progress-spinner-thickness: var(--ng-progress-spinner-thickness, 2);--_ng-progress-spinner-thickness-px: calc(var(--_ng-progress-spinner-thickness) * 1px);--_ng-progress-spinner-spacing: var(--ng-progress-spinner-spacing, 15);--_ng-progress-spinner-spacing-px: calc(var(--_ng-progress-spinner-spacing) * 1px);--_ng-progress-spinner-size: var(--ng-progress-spinner-size, 18);--_ng-progress-spinner-size-px: calc(var(--_ng-progress-spinner-size) * 1px);--_ng-progress-spinner-speed: var(--ng-progress-spinner-speed, .25s);z-index:999999;pointer-events:none}.ng-progress-bar-active[_nghost-%COMP%]   .ng-progress-bar-wrapper[_ngcontent-%COMP%]{filter:alpha(opacity=100);opacity:1;transition:none}.ng-progress-bar-active[_nghost-%COMP%]   .ng-bar[_ngcontent-%COMP%]{transition:all var(--_ng-progress-speed) var(--_ng-progress-ease)}.ng-progress-bar-relative[_nghost-%COMP%]   .ng-progress-bar-wrapper[_ngcontent-%COMP%]{position:relative}[direction="ltr+"][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%], [direction=ltr-][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%]{rotate:calc(var(--_ng-progress-thickness-add-one) * 1deg)}[direction="ltr+"][_nghost-%COMP%]   .ng-bar[_ngcontent-%COMP%], [direction="rtl+"][_nghost-%COMP%]   .ng-bar[_ngcontent-%COMP%]{margin-left:-100%}[direction="ltr+"][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%], [direction="rtl+"][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%]{right:0}[direction="ltr+"][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%], [direction=rtl-][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%]{top:var(--_ng-progress-meteor-position-px)}[direction=ltr-][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%], [direction="rtl+"][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%]{bottom:var(--_ng-progress-meteor-position-px)}[direction=ltr-][_nghost-%COMP%]   .ng-bar-placeholder[_ngcontent-%COMP%], [direction="rtl+"][_nghost-%COMP%]   .ng-bar-placeholder[_ngcontent-%COMP%]{transform:rotate(180deg)}[direction=ltr-][_nghost-%COMP%]   .ng-spinner-icon[_ngcontent-%COMP%], [direction="rtl+"][_nghost-%COMP%]   .ng-spinner-icon[_ngcontent-%COMP%]{animation-direction:reverse}[direction="rtl+"][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%], [direction=rtl-][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%]{rotate:calc(var(--_ng-progress-thickness-add-one) * -1deg)}[_nghost-%COMP%]   .ng-spinner[_ngcontent-%COMP%]{top:var(--_ng-progress-spinner-spacing-px)}[spinnerPosition=left][_nghost-%COMP%]   .ng-spinner[_ngcontent-%COMP%]{left:var(--_ng-progress-spinner-spacing-px)}[spinnerPosition=right][_nghost-%COMP%]   .ng-spinner[_ngcontent-%COMP%]{right:var(--_ng-progress-spinner-spacing-px)}.ng-progress-bar-wrapper[_ngcontent-%COMP%]{position:fixed;z-index:999999;top:0;left:0;width:100%;transform:scale(1);filter:alpha(opacity=0);opacity:0;transition:opacity var(--_ng-progress-fade-out-speed) linear}.ng-bar-placeholder[_ngcontent-%COMP%]{position:absolute;height:var(--_ng-progress-thickness-px);width:100%}.ng-bar[_ngcontent-%COMP%]{width:100%;height:100%;transform:translate(-100%,0,0);background:var(--_ng-progress-color)}.ng-meteor[_ngcontent-%COMP%]{display:block;position:absolute;width:100px;height:100%;opacity:1;box-shadow:0 0 10px var(--_ng-progress-color),0 0 5px var(--_ng-progress-color)}.ng-spinner[_ngcontent-%COMP%]{position:absolute;display:block;z-index:1031;top:10px}.ng-spinner-icon[_ngcontent-%COMP%]{box-sizing:border-box;animation:_ngcontent-%COMP%_spinner-animation var(--_ng-progress-spinner-speed) linear infinite;border-style:solid;border-color:transparent;border-radius:50%;border-top-color:var(--_ng-progress-color);border-left-color:var(--_ng-progress-color);width:var(--_ng-progress-spinner-size-px);height:var(--_ng-progress-spinner-size-px);border-width:var(--_ng-progress-spinner-thickness-px)}@keyframes _ngcontent-%COMP%_spinner-animation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}'],changeDetection:0});let i=e;return i})();var xa=new N("NG_PROGRESS_HTTP_OPTIONS",{providedIn:"root",factory:()=>null});var ya=new N("NgProgressHttpCounter",{providedIn:"root",factory:()=>x(0)});function Do(i,e){let t=d(xa),n=d(ya);return i.headers.has("ignoreProgressBar")?e(i.clone({headers:i.headers.delete("ignoreProgressBar")})):t&&wa(i,t)?e(i):rt(()=>(n.set(n()+1),e(i).pipe(ht(()=>{n.set(n()-1)}))))}function wa(i,e){let t=i.url.toLowerCase();return e.matcher&&e.silentApis?.length?Fo(t,e.matcher)&&Ao(t,e.silentApis):e.silentApis?.length?Ao(t,e.silentApis):e.matcher?Fo(t,e.matcher):!1}function Ao(i,e){return!!e.find(t=>i.includes(t.toLowerCase()))}function Fo(i,e){return!!i.match(e)}var Io={providers:[Zn({eventCoalescing:!0}),mi(Po,ui()),oi(si(),ai(),ri([Do])),co(),Ci(),{provide:ii,useClass:Qt,multi:!0}]};function Ma(i,e){if(i&1&&(r(0,"div",15)(1,"mat-icon"),s(2,"error"),a(),r(3,"span"),s(4),a()()),i&2){let t=g();l(4),I(t.errorMessage)}}var dn=class i{dialogRef=d(no);username="";password="";errorMessage="";showPassword=!1;CORRECT_USERNAME="admin";CORRECT_PASSWORD="adminalexolalinsey";onSubmit(){this.username===this.CORRECT_USERNAME&&this.password===this.CORRECT_PASSWORD?(sessionStorage.setItem("authGateAccess","true"),this.dialogRef.close(!0)):(this.errorMessage="Invalid username or password. Please try again.",this.password="")}togglePasswordVisibility(){this.showPassword=!this.showPassword}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=v({type:i,selectors:[["app-auth-gate-modal"]],decls:30,vars:7,consts:[["authForm","ngForm"],[1,"auth-gate-container"],[1,"auth-gate-header"],["mat-dialog-title",""],[1,"subtitle"],[3,"ngSubmit"],[1,"form-group"],["appearance","outline",1,"full-width"],["matInput","","type","text","name","username","required","","autocomplete","username","placeholder","Enter username",3,"ngModelChange","ngModel"],["matPrefix",""],["matInput","","name","password","required","","autocomplete","current-password","placeholder","Enter password",3,"ngModelChange","type","ngModel"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["class","error-message",4,"ngIf"],[1,"actions"],["mat-raised-button","","color","primary","type","submit",1,"submit-button",3,"disabled"],[1,"error-message"]],template:function(t,n){if(t&1){let o=M();r(0,"div",1)(1,"div",2)(2,"h2",3),s(3,"Authorization Required"),a(),r(4,"p",4),s(5,"Please enter your credentials to access this application"),a()(),r(6,"mat-dialog-content")(7,"form",5,0),u("ngSubmit",function(){return h(o),f(n.onSubmit())}),r(9,"div",6)(10,"mat-form-field",7)(11,"mat-label"),s(12,"Username"),a(),r(13,"input",8),De("ngModelChange",function(p){return h(o),Fe(n.username,p)||(n.username=p),f(p)}),a(),r(14,"mat-icon",9),s(15,"person"),a()()(),r(16,"div",6)(17,"mat-form-field",7)(18,"mat-label"),s(19,"Password"),a(),r(20,"input",10),De("ngModelChange",function(p){return h(o),Fe(n.password,p)||(n.password=p),f(p)}),a(),r(21,"mat-icon",9),s(22,"lock"),a(),r(23,"button",11),u("click",function(){return h(o),f(n.togglePasswordVisibility())}),r(24,"mat-icon"),s(25),a()()()(),V(26,Ma,5,1,"div",12),r(27,"div",13)(28,"button",14),s(29," Access Application "),a()()()()()}t&2&&(l(13),Ae("ngModel",n.username),l(7),m("type",n.showPassword?"text":"password"),Ae("ngModel",n.password),l(3),ie("aria-label","Toggle password visibility"),l(2),I(n.showPassword?"visibility_off":"visibility"),l(),m("ngIf",n.errorMessage),l(2),m("disabled",!n.username||!n.password))},dependencies:[S,fe,Ye,Ft,Tt,$e,At,zi,Vi,Ni,ao,oo,ro,Z,Ze,Ke,Ui,It,se,Bt,w,D,Le,E,B],styles:[".auth-gate-container[_ngcontent-%COMP%]{padding:20px;max-width:450px;min-width:350px}@media (max-width: 480px){.auth-gate-container[_ngcontent-%COMP%]{min-width:280px;padding:16px}}.auth-gate-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px}.auth-gate-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 8px;font-size:24px;font-weight:600;color:#333}.auth-gate-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#666}mat-dialog-content[_ngcontent-%COMP%]{padding:0;margin:0;overflow:visible}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]:last-of-type{margin-bottom:20px}.full-width[_ngcontent-%COMP%]{width:100%}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px;background-color:#ffebee;border-radius:4px;margin-bottom:16px;color:#c62828;font-size:14px}.error-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.actions[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:24px}.actions[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{width:100%;padding:12px;font-size:16px;font-weight:500;text-transform:uppercase}  .auth-gate-dialog .mat-mdc-dialog-container{border-radius:8px;box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f}mat-form-field[_ngcontent-%COMP%]   mat-icon[matPrefix][_ngcontent-%COMP%]{margin-right:8px;color:#666}"]})};var pn=class i{dialog=d(io);dialogRef=null;checkAuthGate(){return!Qe.production||sessionStorage.getItem("authGateAccess")==="true"?Promise.resolve(!0):this.showAuthGateModal()}showAuthGateModal(){return this.dialogRef?Promise.resolve(!1):(this.dialogRef=this.dialog.open(dn,{disableClose:!0,panelClass:"auth-gate-dialog",width:"450px",maxWidth:"90vw",hasBackdrop:!0,backdropClass:"auth-gate-backdrop"}),new Promise(e=>{this.dialogRef.afterClosed().subscribe(t=>{this.dialogRef=null,e(t===!0)})}))}clearAuthGate(){sessionStorage.removeItem("authGateAccess")}static \u0275fac=function(t){return new(t||i)};static \u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"})};var Sa={minDuration:0,startEvents:[li],completeEvents:[ci,di,pi]},Pa=new N("NG_PROGRESS_ROUTER_OPTIONS",{providedIn:"root",factory:()=>Sa});function Ro(i,e){return e.some(t=>i instanceof t)}var ka=(()=>{let e=class e{constructor(){this.router=d(R),this.config=d(Pa),this.progressRef=d(cn,{host:!0,self:!0});let n;this.router.events.pipe(q(o=>Ro(o,[...this.config.startEvents,...this.config.completeEvents])),Be(o=>Ro(o,this.config.startEvents)),Ve(o=>{clearTimeout(n),o?this.progressRef.start():n=setTimeout(()=>{this.progressRef.complete()},this.config.minDuration)}),ko()).subscribe()}};e.\u0275fac=function(o){return new(o||e)},e.\u0275dir=Y({type:e});let i=e;return i})(),Bo=(()=>{let e=class e extends ka{};e.\u0275fac=(()=>{let n;return function(c){return(n||(n=_t(e)))(c||e)}})(),e.\u0275dir=Y({type:e,selectors:[["ng-progress","ngProgressRouter",""]],features:[ke]});let i=e;return i})();function Oa(i,e){i&1&&b(0,"router-outlet")}function Ea(i,e){i&1&&(r(0,"div",0),b(1,"div",2),r(2,"p"),s(3,"Verifying access..."),a()())}var mn=class i{title="putheron";isAuthenticated=!1;authorizationService=d(ki);authGateService=d(pn);constructor(){typeof window<"u"&&(window.authService=this.authorizationService,console.log("\u{1F527} Authorization service exposed as window.authService for debugging"),console.log("\u{1F4A1} Use window.authService.debugAuthState() to inspect permissions"))}ngOnInit(){return T(this,null,function*(){this.isAuthenticated=yield this.authGateService.checkAuthGate()})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=v({type:i,selectors:[["app-root"]],decls:3,vars:1,consts:[[1,"auth-gate-loading"],["ngProgressRouter","",1,"root-progress-bar"],[1,"spinner"]],template:function(t,n){t&1&&(_(0,Oa,1,0,"router-outlet")(1,Ea,4,0,"div",0),b(2,"ng-progress",1)),t&2&&C(n.isAuthenticated?0:1)},dependencies:[S,wt,To,Bo],styles:[".auth-gate-loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.auth-gate-loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:20px}.auth-gate-loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;font-weight:500;margin:0}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.root-progress-bar[_ngcontent-%COMP%]{--ng-progress-thickness: 3}.root-progress-bar[_ngcontent-%COMP%]     .ng-bar-placeholder{background-color:#d3d3d3}.root-progress-bar[_ngcontent-%COMP%]     .ng-bar{background:#690aac;background:linear-gradient(to right,#690aac,#00f260)}"]})};ni(mn,Io).catch(i=>console.error(i));
