import{a as jn,b as Hn,c as Ln}from"./chunk-37L5BKBS.js";import{a as qn,b as Wn}from"./chunk-UOBTZ2HN.js";import{a as ei}from"./chunk-MGRVMLRC.js";import{a as ti}from"./chunk-YEOTPV35.js";import{b as un}from"./chunk-6FHVBICA.js";import"./chunk-LXDF2C5S.js";import{c as $n}from"./chunk-E7RQWOJS.js";import{a as zn}from"./chunk-TAHVWCV6.js";import{a as Un}from"./chunk-MNOJBTVR.js";import"./chunk-PVDG46DZ.js";import{a as Qn,b as Ye}from"./chunk-F2ZQ6V7O.js";import{a as Yn,c as Kn,e as Zn,f as Xn,h as Jn}from"./chunk-KS5T35IU.js";import{b as Ve,c as je,d as He,e as pe,f as Nn,g as oe}from"./chunk-O3SYQF6W.js";import{b as Be}from"./chunk-HANSDEYR.js";import"./chunk-QTMIK4VC.js";import{a as fn,b as vn,c as bn,d as de}from"./chunk-RV2OJUXZ.js";import{a as xn}from"./chunk-UL7UTRTU.js";import"./chunk-LCCWZAEX.js";import{d as Z}from"./chunk-W6RJDLW3.js";import{a as _n,b as yn,c as wn,d as Sn,e as Mn,f as Pn,g as En,h as On}from"./chunk-FY37IJMK.js";import{b as Gn}from"./chunk-4OHTWZSD.js";import{a as $e}from"./chunk-WJ4DFVWN.js";import"./chunk-SNNT4QTV.js";import{d as mn,h as L,i as Vn,j as Y,l as We,m as K}from"./chunk-3E6WONAP.js";import"./chunk-U2AVJWKL.js";import{f as hn}from"./chunk-V5XDW2Q5.js";import{d as Ge,g as Qe,h as Bn,k as qe}from"./chunk-K7KKK75I.js";import{A as he,B as Rn,C as fe,c as Ue,h as Le,i as kn,j as Tn,k as re,l as An,m as In,p as Fn,y as Dn}from"./chunk-U7A7OHU6.js";import{a as ze}from"./chunk-E366GW6U.js";import{a as ue,b as ge}from"./chunk-NALWU7JT.js";import{b as gn,c as B,d as k}from"./chunk-MLJYHTLM.js";import{a as U}from"./chunk-4GWWNNYU.js";import{a as Cn}from"./chunk-EPCACDVR.js";import{a as dn}from"./chunk-ZKKR2XMO.js";import"./chunk-LDSTDJZ6.js";import{a as me}from"./chunk-QD7SSFII.js";import{a as V,b as R}from"./chunk-QFHPWKDD.js";import{F as pn,d as cn}from"./chunk-O2FJLJYH.js";import{a as tn,b as nn,c as rn,d as on,e as ce,f as Ne,g as O,j as an,k as sn,l as ln}from"./chunk-72SEU4B5.js";import{a as $t,b as Yt}from"./chunk-JFMUERLE.js";import{A as Re,B as Kt,C as Zt,D as Xt,E as Jt,F as en,k as $,t as A}from"./chunk-FI3M32ZM.js";import{$a as l,$b as h,B as Ee,Ba as xt,D as Ft,Da as jt,Eb as J,Fb as x,Gb as _,J as ft,Ja as Ht,Jb as ee,Kb as te,L as Oe,Lb as d,Mb as r,Mc as qt,Nb as o,Ob as b,Pb as P,Pc as Wt,Qb as S,Qc as we,Rb as Ie,Rc as D,Sc as z,V as vt,Vb as I,Vc as W,W as ke,Wc as w,Y as le,Ya as _t,Z as bt,Zb as m,aa as H,ba as Te,c as gt,cd as De,da as Q,db as zt,dc as St,dd as ie,ea as Dt,ec as Mt,fa as p,fb as Ut,fc as Pt,g as Pe,ga as Rt,i as Tt,ib as Lt,jc as ne,k as At,ka as u,kb as q,kc as Fe,l as It,la as g,lb as Gt,lc as F,nc as a,oa as Ct,oc as E,pa as Nt,pc as N,q as se,qa as Bt,qb as C,rb as Ae,sb as X,sc as xe,tc as _e,ua as v,ub as yt,uc as ye,va as Vt,vb as wt,wb as M,y as ht,yc as Qt}from"./chunk-M7BUBJMW.js";import{a as Ce,b as ut,e as y}from"./chunk-JKOY2XUY.js";var xi="@",_i=(()=>{class i{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=p(Ct);loadingSchedulerFn=p(yi,{optional:!0});_engine;constructor(t,n,s,c,f){this.doc=t,this.delegate=n,this.zone=s,this.animationType=c,this.moduleImpl=f}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-VKLZDSU2.js").then(s=>s),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(t):n=t(),n.catch(s=>{throw new bt(5300,!1)}).then(({\u0275createEngine:s,\u0275AnimationRendererFactory:c})=>{this._engine=s(this.animationType,this.doc);let f=new c(this.delegate,this._engine,this.zone);return this.delegate=f,f})}createRenderer(t,n){let s=this.delegate.createRenderer(t,n);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let c=new Et(s);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(f=>{let G=f.createRenderer(t,n);c.use(G),this.scheduler??=this.injector.get(Vt,null,{optional:!0}),this.scheduler?.notify(10)}).catch(f=>{c.use(s)}),c}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(t){this._engine?.flush(),this.delegate.componentReplaced?.(t)}static \u0275fac=function(n){Gt()};static \u0275prov=H({token:i,factory:i.\u0275fac})}return i})(),Et=class{delegate;replay=[];\u0275type=1;constructor(e){this.delegate=e}use(e){if(this.delegate=e,this.replay!==null){for(let t of this.replay)t(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,t){this.delegate.appendChild(e,t)}insertBefore(e,t,n,s){this.delegate.insertBefore(e,t,n,s)}removeChild(e,t,n,s){this.delegate.removeChild(e,t,n,s)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,s){this.delegate.setAttribute(e,t,n,s)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,s){this.delegate.setStyle(e,t,n,s)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){this.shouldReplay(t)&&this.replay.push(s=>s.setProperty(e,t,n)),this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n,s){return this.shouldReplay(t)&&this.replay.push(c=>c.listen(e,t,n,s)),this.delegate.listen(e,t,n,s)}shouldReplay(e){return this.replay!==null&&e.startsWith(xi)}},yi=new Q("");function ni(i="animations"){return zt("NgAsyncAnimations"),Rt([{provide:Lt,useFactory:(e,t,n)=>new _i(e,t,n,i),deps:[Nt,$t,Ut]},{provide:Ht,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Ke=class i{router=p(O);intercept(e,t){let n=this.getTokenFromStorage(),s=e;return n&&(s=e.clone({setHeaders:{Authorization:`Bearer ${n}`}})),t.handle(s).pipe(Ft(c=>(c.status===401&&(console.warn("Authentication failed, redirecting to login"),this.clearAuthData(),this.router.navigate(["/auth"],{queryParams:{message:"Your session has expired. Please log in again."}})),It(()=>c))))}getTokenFromStorage(){return typeof window<"u"?localStorage.getItem("access_token"):null}clearAuthData(){typeof window<"u"&&(localStorage.removeItem("access_token"),localStorage.removeItem("current_user"),localStorage.removeItem("userPermissions"),localStorage.removeItem("permissionsTimestamp"))}static \u0275fac=function(t){return new(t||i)};static \u0275prov=H({token:i,factory:i.\u0275fac})};var Ze=class i{fb=p(he);router=p(O);searchForm;heroSearchQuery=v("");countries=$e;ngOnInit(){this.searchForm=this.fb.group({searchQuery:[""]})}onSearch(){let e=this.heroSearchQuery()?.trim(),t={};e&&(t.q=e),Object.keys(t).length>0&&this.router.navigate(["/search"],{queryParams:t})}onFindBusinesses(){this.router.navigate(["/search"])}onListBusiness(){this.router.navigate(["/list-business"])}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=C({type:i,selectors:[["hero-section"]],decls:24,vars:5,consts:[[1,"bg-[#C9F3DD]","relative","overflow-hidden",2,"height","calc(100vh - var(--header-height, 64px))","background-image","url('/assets/images/hero-background.svg')","background-size","cover","background-position","center","background-repeat","no-repeat"],[1,"max-w-7xl","mx-auto","w-full","h-full","px-3","lg:px-8","flex","flex-col","lg:flex-row","relative"],[1,"w-full","lg:w-1/2","h-full","flex","flex-col","justify-center","sm:pt-16","lg:pt-0","relative","z-10","text-center","lg:text-left"],[1,"text-5xl","lg:text-[60px]","font-bold","leading-tight","mb-6","poppins"],[1,"text-[#6B0FAE]"],[1,"block","lg:hidden"],[1,"text-black"],[1,"mt-1"],["src","/assets/svg/VOUCHHER.svg","alt","VouchHer",1,"h-10","lg:h-[51px]","w-auto","mx-auto","lg:mx-0"],[1,"text-lg","lg:text-xl","text-gray-700","mb-8","lg:mb-10","lg:max-w-none","mx-auto","lg:mx-0"],["id","hero-search-anchor",1,"mb-8","w-full","mx-auto","lg:mx-0","lg:max-w-xl"],[3,"searchEvent","searchQueryChange","width","backgroundColor","placeholder","boxShadow","searchQuery"],[1,"flex","flex-col","lg:flex-row","items-stretch","lg:items-start","gap-3","lg:gap-4","lg:px-0"],["mat-flat-button","","color","primary",1,"rounded-full","py-3","lg:py-2.5","px-8","text-base","font-medium","w-full","lg:w-fit",3,"click"],["mat-stroked-button","","color","primary",1,"rounded-full","py-3","lg:py-2.5","px-8","text-base","font-medium","w-full","lg:w-fit","!border-primary-600",3,"click"],[1,"hidden","lg:block","lg:w-[55%]","absolute","inset-y-0","right-0","overflow-visible"],["src","/assets/images/hero-women-images.png","alt","Professional women",1,"w-full","h-full","object-contain","object-bottom","transform","lg:scale-100","lg:translate-x-6"]],template:function(t,n){t&1&&(r(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),a(4," Find "),r(5,"span",4),a(6,"Her."),o(),b(7,"br",5),a(8," Hire "),r(9,"span",6),a(10,"Her."),o(),r(11,"div",7),b(12,"img",8),o()(),r(13,"p",9),a(14," A trusted platform connecting women in Business nationwide. "),o(),r(15,"div",10)(16,"app-search",11),m("searchEvent",function(){return n.onSearch()}),ye("searchQueryChange",function(c){return _e(n.heroSearchQuery,c)||(n.heroSearchQuery=c),c}),o()(),r(17,"div",12)(18,"button",13),m("click",function(){return n.onFindBusinesses()}),a(19," Find Businesses "),o(),r(20,"button",14),m("click",function(){return n.onListBusiness()}),a(21," List A Business "),o()()(),r(22,"div",15),b(23,"img",16),o()()()),t&2&&(l(16),d("width","100%")("backgroundColor","white")("placeholder","Search business or service")("boxShadow","0 2px 6px 0 #20212451"),xe("searchQuery",n.heroSearchQuery))},dependencies:[A,fe,Y,L,K,k,B,Nn,Z,R,de],styles:["[_ngcontent-%COMP%]:root{--mat-select-panel-background-color: orange;--mat-select-enabled-trigger-text-color: red}.mdc-text-field[_ngcontent-%COMP%]{background-color:#fff!important;border-radius:4px}"]})};var Xe=class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=C({type:i,selectors:[["how-it-works-section"]],decls:46,vars:0,consts:[[1,"bg-white"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"text-center","mb-16"],[1,"text-4xl","md:text-5xl","font-bold","text-gray-900","mb-6"],[1,"text-xl","text-gray-600","max-w-3xl","mx-auto"],[1,"grid","md:grid-cols-2","gap-8","lg:gap-12"],[1,"bg-white","border","border-gray-200","rounded-lg","p-8"],[1,"text-lg","font-semibold","text-primary-500","mb-4"],[1,"space-y-4","text-gray-700"],[1,"font-semibold"],[1,"text-sm","text-gray-600"]],template:function(t,n){t&1&&(P(0,"section",0)(1,"div",1)(2,"div",2)(3,"h3",3),a(4," How it works "),S(),P(5,"p",4),a(6," Connect with talented women in business has never been easier. Bridging the gap between women professionals and companies that value them. "),S()(),P(7,"div",5)(8,"div",6)(9,"h4",7),a(10,"For Finding Business(es)"),S(),P(11,"div",8)(12,"div")(13,"div",9),a(14,"Search for a business"),S(),P(15,"div",10),a(16,"Browse by industry, location or heritage and more."),S()(),P(17,"div")(18,"div",9),a(19,"Apply for desired business"),S(),P(20,"div",10),a(21,"Submit a request to get hired and work."),S()(),P(22,"div")(23,"div",9),a(24,"Get paid"),S(),P(25,"div",10),a(26,"You get paid when work is done or completed with satisfaction from client."),S()()()(),P(27,"div",6)(28,"h4",7),a(29,"For Listing Business(es)"),S(),P(30,"div",8)(31,"div")(32,"div",9),a(33,"Create or list business(es)"),S(),P(34,"div",10),a(35,"Post a business by creating one."),S()(),P(36,"div")(37,"div",9),a(38,"Get Offers or bids"),S(),P(39,"div",10),a(40,"Receive tailored offers, proposals, or bids from professionals ready to work with you."),S()(),P(41,"div")(42,"div",9),a(43,"Pay when job is done"),S(),P(44,"div",10),a(45,"Secure, fair, and risk-free. Make payment once the work is completed."),S()()()()()()())},encapsulation:2})};var Je=class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=C({type:i,selectors:[["app-why-choose-voucher"]],decls:25,vars:0,consts:[[1,"relative","bg-white","py-12","md:py-16"],[1,"lg:max-w-7xl","mx-auto","lg:px-4","sm:px-6","lg:px-8"],[1,"block","md:hidden","relative"],[1,"absolute","right-0","-top-40","w-[85%]","z-0","pr-0"],["src","/assets/images/dashboard.png","alt","Dashboard preview",1,"w-full","h-auto","rounded-lg","shadow-lg"],[1,"bg-primary-600","text-white","rounded-none","p-6","pt-32","mt-32","relative","z-10","flex","flex-col","justify-center","min-h-[300px]"],[1,"text-2xl","font-bold","mb-4","text-white","text-center"],[1,"text-sm","text-white/90","leading-relaxed","mb-6","text-center","px-4"],[1,"flex","justify-center","pb-2"],["mat-flat-button","",1,"bg-white!","text-primary-600!","rounded-full","px-8","py-3","font-semibold"],[1,"hidden","md:block"],[1,"grid","md:grid-cols-2","gap-6","items-center"],["src","/assets/images/women-talking.png","alt","Two women talking",1,"w-full","h-72","md:h-96","object-cover","rounded-md","shadow-sm"],[1,"pl-0","md:pl-12"],[1,"text-3xl","md:text-4xl","font-bold","mb-4","text-primary-500"],[1,"text-gray-700","mb-6"],["mat-flat-button","","color","primary",1,"px-8","py-3"]],template:function(t,n){t&1&&(r(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3),b(4,"img",4),o(),r(5,"div",5)(6,"h3",6),a(7,"Why choose VouchHer"),o(),r(8,"p",7),a(9," We are a professional and trusted hub that connects ambitious women ready to showcase their skills with businesses seeking top talent to grow. Our platform bridges opportunity and expertise, empowering women to get hired while helping companies discover and hire the best. "),o(),r(10,"div",8)(11,"button",9),a(12," Join VouchHer "),o()()()(),r(13,"div",10)(14,"div",11)(15,"div"),b(16,"img",12),o(),r(17,"div",13)(18,"h3",14),a(19,"Why choose VouchHer"),o(),r(20,"p",15),a(21," We are a professional and trusted hub that connects ambitious women ready to showcase their skills with businesses seeking top talent to grow. Our platform bridges opportunity and expertise, empowering women to get hired while helping companies discover and hire the best. "),o(),r(22,"div")(23,"button",16),a(24,"Join VouchHer"),o()()()()()()())},dependencies:[k,B],styles:["[_nghost-%COMP%]{display:block}"]})};var et=class i{authService=p(U);router=p(O);constructor(){z(()=>{let e=this.authService.isAuthenticated(),t=this.authService.user();e&&t&&(t.user_mode==="business_owner"?(console.log("Redirecting business owner to dashboard"),this.router.navigate(["/dashboard"])):(console.log("Redirecting client to search page"),this.router.navigate(["/search"])))})}ngOnInit(){}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=C({type:i,selectors:[["app-home"]],decls:11,vars:3,consts:[["drawer",""],[3,"drawer"],["autosize","",1,"content-body",3,"hasBackdrop"],[1,"drawer",3,"mode"],[1,"bg-white!"],[1,"space-y-16","flex","flex-col","md:space-y-24"]],template:function(t,n){if(t&1&&(b(0,"app-header",1),r(1,"mat-drawer-container",2)(2,"mat-drawer",3,0),b(4,"app-guest-sidenav"),o(),r(5,"mat-drawer-content",4)(6,"div",5),b(7,"hero-section")(8,"how-it-works-section")(9,"app-why-choose-voucher")(10,"footer-component"),o()()()),t&2){let s=ne(3);d("drawer",s),l(),d("hasBackdrop",!0),l(),d("mode","over")}},dependencies:[oe,Ze,Xe,Je,jn,pe,je,He,Ve,L,Y,k,Hn],styles:[".drawer[_ngcontent-%COMP%]{height:100vh;border-radius:0}.content-body[_ngcontent-%COMP%]{height:100vh;overflow-y:scroll}"]})};var tt=class i{authService=p(U);router=p(O);businessService=p(ze);projectService=p(zn);socketService=p(xn);breakpointObserver=p(cn);favoritesService=p(Un);sidenavOpened=v(!1);isMobile=v(!1);userBusinessCount=v(0);totalServices=v(0);totalProjects=v(0);favoritesCount=D(()=>this.favoritesService.getFavoritesCount());user=this.authService.user;isAuthenticated=this.authService.isAuthenticated;userMode=D(()=>this.user()?.user_mode||"client");isBusinessOwner=D(()=>this.userMode()==="business_owner");isAdmin=D(()=>this.user()?.email?.includes("admin")||!1);mobileSubscription;userModeEffect=z(()=>{let e=this.userMode(),t=this.user(),n=this.isBusinessOwner();console.log("Dashboard signals updated:",{user:t?.email,mode:e,isBusiness:n}),t&&this.loadDashboardCounts()});ngOnInit(){this.setupMobileDetection(),this.loadDashboardCounts(),this.socketService.connect()}ngOnDestroy(){this.mobileSubscription&&this.mobileSubscription.unsubscribe()}setupMobileDetection(){this.mobileSubscription=this.breakpointObserver.observe([dn.Handset]).subscribe(e=>{this.isMobile.set(e.matches),e.matches?this.sidenavOpened.set(!1):this.sidenavOpened.set(!0)})}loadDashboardCounts(){return y(this,null,function*(){try{let e=yield this.businessService.getMyBusinessesAsync();this.userBusinessCount.set(e.length);let t=0;for(let n of e)try{let s=yield this.businessService.getBusinessServicesAsync(n._id);t+=s.length}catch(s){console.warn(`Failed to load services for business ${n._id}:`,s)}this.totalServices.set(t);try{let n=yield this.projectService.getAllMyProjectsAsync();this.totalProjects.set(n.length)}catch(n){console.warn("Failed to load projects:",n),this.totalProjects.set(0)}}catch(e){console.error("Error loading dashboard counts:",e)}})}toggleSidenav(){this.sidenavOpened.set(!this.sidenavOpened())}onMenuToggle(){this.toggleSidenav()}onNavigationClick(){this.isMobile()&&this.sidenavOpened.set(!1)}navigateToCreateBusiness(){this.router.navigate(["/dashboard/businesses/create-business"])}createService(){this.router.navigate(["/dashboard/services/create-service"])}getActiveTabTitle(){let e=this.router.url.split("/");switch(e[e.length-1]){case"dashboard":case"":return this.isBusinessOwner()?"Dashboard Overview":"My Projects";case"overview":return"Dashboard Overview";case"businesses":return"My Businesses";case"services":return"My Services";case"projects":return"My Projects";case"notifications":return"Notifications";case"profile":return"Profile";case"settings":return"Settings";default:return this.router.url.includes("/messages")?"Messages":this.isBusinessOwner()?"Dashboard":"My Projects"}}getUserInitials(){let e=this.user();if(!e)return"";if(e.first_name||e.last_name){let t=e.first_name?.charAt(0).toUpperCase()||"",n=e.last_name?.charAt(0).toUpperCase()||"";return t+n}return e.email.charAt(0).toUpperCase()}navigateToDashboard(){this.router.navigate(["/dashboard"])}navigateToProfile(){this.router.navigate(["/dashboard/profile"])}navigateToSettings(){this.router.navigate(["/dashboard/settings"])}navigateToAdmin(){this.router.navigate(["/admin"])}switchToBusinessMode(){return y(this,null,function*(){try{let e=yield this.authService.switchMode("business_owner");e.data?(console.log("Switched to business owner mode successfully"),console.log("Updated user mode:",this.userMode()),this.loadDashboardCounts()):console.error("Failed to switch to business mode:",e.error)}catch(e){console.error("Error switching to business mode:",e)}})}switchToClientMode(){return y(this,null,function*(){try{let e=yield this.authService.switchMode("client");e.data?(console.log("Switched to client mode successfully"),console.log("Updated user mode:",this.userMode()),this.router.navigate(["/search"])):console.error("Failed to switch to client mode:",e.error)}catch(e){console.error("Error switching to client mode:",e)}})}viewProfile(){this.navigateToProfile()}logout(){this.authService.logout(),this.router.navigate(["/auth"])}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=C({type:i,selectors:[["app-dashboard"]],decls:7,vars:5,consts:[["drawer",""],[3,"drawer"],[3,"hasBackdrop"],["position","start",1,"drawer",3,"opened","disableClose","mode"],[1,"content-body"]],template:function(t,n){if(t&1&&(b(0,"app-header",1),r(1,"mat-drawer-container",2)(2,"mat-drawer",3,0),b(4,"app-user-sidenav"),o(),r(5,"mat-drawer-content",4),b(6,"router-outlet"),o()()),t&2){let s=ne(3);d("drawer",s),l(),d("hasBackdrop",n.isMobile()),l(),d("opened",n.sidenavOpened())("disableClose",!n.isMobile())("mode",n.isMobile()?"over":"side")}},dependencies:[A,pe,je,He,Ve,de,R,k,Be,Ne,ln,oe,Ln],styles:[".drawer[_ngcontent-%COMP%]{height:calc(100vh - 64px);border-radius:0}.content-body[_ngcontent-%COMP%]{height:calc(100vh - 64px);overflow-y:scroll}.dashboard-loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:3rem 0}.dashboard-loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite;border-radius:50%;height:3rem;width:3rem;border:2px solid #e5e7eb;border-top:2px solid #2563eb}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.business-item[_ngcontent-%COMP%]:hover{background-color:#f9fafb;transition:background-color .15s ease-in-out}.status-approved[_ngcontent-%COMP%]{background-color:#dcfce7;color:#166534}.status-pending[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.status-rejected[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.status-suspended[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#374151}.create-business-btn[_ngcontent-%COMP%]:hover{background-color:#1d4ed8;transform:translateY(-1px);transition:all .2s ease-in-out}.action-btn[_ngcontent-%COMP%]:hover{background-color:#f9fafb;transform:translateY(-1px);transition:all .15s ease-in-out}.action-btn-danger[_ngcontent-%COMP%]:hover{background-color:#fef2f2;transform:translateY(-1px);transition:all .15s ease-in-out}.stat-card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;transition:box-shadow .2s ease-in-out}.empty-state[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:.6}  .mat-drawer-content{height:calc(100vh - 64px)!important;overflow-y:auto!important;overflow-x:hidden!important;display:flex!important;flex-direction:column!important}  .mat-drawer-container{height:calc(100vh - 64px)!important}@media (max-width: 640px){.business-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.75rem}.action-buttons[_ngcontent-%COMP%]{margin-left:0;width:100%;justify-content:flex-end}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.create-business-btn[_ngcontent-%COMP%]:focus, .action-btn[_ngcontent-%COMP%]:focus, .action-btn-danger[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;box-shadow:0 0 0 2px #2563eb}@media print{.action-buttons[_ngcontent-%COMP%], .create-business-btn[_ngcontent-%COMP%]{display:none}}"]})};var Ot=(i,e)=>{let t=p(U),n=p(O);return t.isAuthenticated$.pipe(se(s=>s?!0:(n.navigate(["/auth"],{queryParams:{returnUrl:e.url}}),!1)))};var ii=(i,e)=>{let t=p(U),n=p(O);return t.isAuthenticated$.pipe(se(s=>s?(n.navigate(["/"]),!1):!0))};var ri=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Ae({type:i});static \u0275inj=Te({})}return i})();var oi=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Ae({type:i});static \u0275inj=Te({imports:[pn,ri,hn]})}return i})();var be=class i{http=p(Re);apiUrl=me.api.baseUrl;categoriesSubject=new Pe([]);categories$=this.categoriesSubject.asObservable();getCategories(){return this.http.get(`${this.apiUrl}/categories`)}getSubcategories(e){let t=e?`${this.apiUrl}/subcategories?categoryId=${e}`:`${this.apiUrl}/subcategories`;return this.http.get(t)}loadCategories(){return y(this,null,function*(){try{let e=yield this.getCategories().toPromise();return e?.success&&e.data?(this.categoriesSubject.next(e.data),e.data):[]}catch(e){return console.error("Error loading categories:",e),[]}})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})};function Pi(i,e){if(i&1&&b(0,"img",3),i&2){let t=h();d("src",t.getOwnerProfilePicture(),_t)("alt",t.getOwnerFullName())}}function Ei(i,e){i&1&&(r(0,"mat-icon",4),a(1,"account_circle"),o())}function Oi(i,e){if(i&1&&(r(0,"span"),a(1),o()),i&2){let t=h();l(),E(t.getBusinessLocation())}}function ki(i,e){if(i&1&&(r(0,"span",7),a(1),o()),i&2){let t=h();d("matTooltip",t.getOwnerCountryName()),l(),E(t.getOwnerCountryFlag())}}function Ti(i,e){if(i&1&&(r(0,"div",10),b(1,"img",3),r(2,"div",19),a(3),o()()),i&2){let t=h();l(),d("src",t.business().banner_url,_t)("alt",t.business().name),l(2),N(" ",t.getCategoryInitials()," ")}}function Ai(i,e){if(i&1&&(r(0,"div",11)(1,"div",20),a(2),o()()),i&2){let t=h();l(2),N(" ",t.getCategoryInitials()," ")}}function Ii(i,e){if(i&1&&(r(0,"div",16)(1,"span",21),a(2,"Top Rated"),o(),r(3,"mat-icon",22),a(4,"star"),o(),r(5,"span",23),a(6),o(),r(7,"span",24),a(8),o()()),i&2){let t=h();l(6),E(t.getRatingDisplay()),l(2),N("(",t.getReviewCount(),")")}}function Fi(i,e){i&1&&(r(0,"div",17),a(1," New Business "),o())}var nt=class i{business=w.required();ownerName=w("Business Owner");ownerAvatar=w(null);ownerCountry=w("Unknown");categoryName=w("Uncategorized");businessClick=W();favoriteClick=W();countryFlagMap={USA:"\u{1F1FA}\u{1F1F8}","United States":"\u{1F1FA}\u{1F1F8}",Canada:"\u{1F1E8}\u{1F1E6}",Mexico:"\u{1F1F2}\u{1F1FD}",Cuba:"\u{1F1E8}\u{1F1FA}",Haiti:"\u{1F1ED}\u{1F1F9}","Dominican Republic":"\u{1F1E9}\u{1F1F4}","Puerto Rico":"\u{1F1F5}\u{1F1F7}",Jamaica:"\u{1F1EF}\u{1F1F2}","Trinidad and Tobago":"\u{1F1F9}\u{1F1F9}",Barbados:"\uFFFD\u{1F1E7}",Bahamas:"\uFFFD\u{1F1F8}",Belize:"\u{1F1E7}\u{1F1FF}","Costa Rica":"\u{1F1E8}\uFFFD","El Salvador":"\uFFFD\uFFFD",Guatemala:"\u{1F1EC}\u{1F1F9}",Honduras:"\uFFFD\uFFFD",Nicaragua:"\u{1F1F3}\u{1F1EE}",Panama:"\u{1F1F5}\u{1F1E6}",Grenada:"\uFFFD\uFFFD","Saint Lucia":"\uFFFD\uFFFD","Antigua and Barbuda":"\u{1F1E6}\u{1F1EC}",Dominica:"\uFFFD\uFFFD","Saint Kitts and Nevis":"\uFFFD\uFFFD","Saint Vincent and the Grenadines":"\uFFFD\uFFFD",Argentina:"\u{1F1E6}\u{1F1F7}",Bolivia:"\u{1F1E7}\u{1F1F4}",Brazil:"\u{1F1E7}\u{1F1F7}",Chile:"\u{1F1E8}\u{1F1F1}",Colombia:"\u{1F1E8}\u{1F1F4}",Ecuador:"\u{1F1EA}\u{1F1E8}",Guyana:"\u{1F1EC}\u{1F1FE}",Paraguay:"\u{1F1F5}\u{1F1FE}",Peru:"\u{1F1F5}\u{1F1EA}",Suriname:"\u{1F1F8}\u{1F1F7}",Uruguay:"\u{1F1FA}\u{1F1FE}",Venezuela:"\u{1F1FB}\u{1F1EA}","French Guiana":"\u{1F1EC}\u{1F1EB}","United Kingdom":"\u{1F1EC}\u{1F1E7}",UK:"\u{1F1EC}\u{1F1E7}",England:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0065}\u{E006E}\u{E0067}\u{E007F}",Scotland:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0073}\u{E0063}\u{E0074}\u{E007F}",Wales:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0077}\u{E006C}\u{E0073}\u{E007F}",Ireland:"\u{1F1EE}\u{1F1EA}","Northern Ireland":"\u{1F1EC}\u{1F1E7}",France:"\u{1F1EB}\u{1F1F7}",Germany:"\u{1F1E9}\u{1F1EA}",Italy:"\u{1F1EE}\u{1F1F9}",Spain:"\u{1F1EA}\u{1F1F8}",Portugal:"\u{1F1F5}\u{1F1F9}",Netherlands:"\u{1F1F3}\u{1F1F1}",Belgium:"\u{1F1E7}\u{1F1EA}",Switzerland:"\u{1F1E8}\u{1F1ED}",Austria:"\uFFFD\u{1F1F9}",Sweden:"\u{1F1F8}\uFFFD\u{1F1EA}",Norway:"\uFFFD\u{1F1F4}",Denmark:"\u{1F1E9}\u{1F1F0}",Finland:"\u{1F1EB}\u{1F1EE}",Iceland:"\u{1F1EE}\u{1F1F8}",Greece:"\u{1F1EC}\u{1F1F7}",Poland:"\u{1F1F5}\u{1F1F1}","Czech Republic":"\uFFFD\u{1F1E8}\u{1F1FF}",Hungary:"\u{1F1ED}\u{1F1FA}",Romania:"\u{1F1F7}\u{1F1F4}",Bulgaria:"\u{1F1E7}\u{1F1EC}",Croatia:"\u{1F1ED}\u{1F1F7}",Serbia:"\u{1F1F7}\u{1F1F8}",Slovenia:"\u{1F1F8}\u{1F1EE}",Slovakia:"\uFFFD\uFFFD","Bosnia and Herzegovina":"\u{1F1E7}\u{1F1E6}",Montenegro:"\u{1F1F2}\u{1F1EA}","North Macedonia":"\u{1F1F2}\u{1F1F0}",Albania:"\u{1F1E6}\u{1F1F1}",Kosovo:"\u{1F1FD}\u{1F1F0}",Estonia:"\u{1F1EA}\u{1F1EA}",Latvia:"\u{1F1F1}\u{1F1FB}",Lithuania:"\u{1F1F1}\u{1F1F9}",Belarus:"\uFFFD\u{1F1FE}",Moldova:"\u{1F1F2}\u{1F1E9}",Ukraine:"\u{1F1FA}\u{1F1E6}",Russia:"\u{1F1F7}\u{1F1FA}",Georgia:"\u{1F1EC}\u{1F1EA}",Armenia:"\u{1F1E6}\u{1F1F2}",Azerbaijan:"\u{1F1E6}\u{1F1FF}",Cyprus:"\u{1F1E8}\u{1F1FE}",Malta:"\u{1F1F2}\u{1F1F9}",Luxembourg:"\u{1F1F1}\u{1F1FA}",Monaco:"\u{1F1F2}\u{1F1E8}",Andorra:"\u{1F1E6}\u{1F1E9}","San Marino":"\u{1F1F8}\u{1F1F2}","Vatican City":"\u{1F1FB}\u{1F1E6}",Liechtenstein:"\uFFFD\uFFFD",China:"\u{1F1E8}\u{1F1F3}",Japan:"\u{1F1EF}\u{1F1F5}","South Korea":"\u{1F1F0}\u{1F1F7}","North Korea":"\u{1F1F0}\u{1F1F5}",India:"\u{1F1EE}\u{1F1F3}",Pakistan:"\u{1F1F5}\u{1F1F0}",Bangladesh:"\u{1F1E7}\u{1F1E9}","Sri Lanka":"\u{1F1F1}\u{1F1F0}",Nepal:"\u{1F1F3}\u{1F1F5}",Bhutan:"\u{1F1E7}\u{1F1F9}",Maldives:"\u{1F1F2}\u{1F1FB}",Afghanistan:"\u{1F1E6}\u{1F1EB}",Indonesia:"\u{1F1EE}\u{1F1E9}",Malaysia:"\u{1F1F2}\u{1F1FE}",Singapore:"\u{1F1F8}\u{1F1EC}",Thailand:"\u{1F1F9}\u{1F1ED}",Vietnam:"\u{1F1FB}\u{1F1F3}",Philippines:"\u{1F1F5}\u{1F1ED}",Myanmar:"\u{1F1F2}\u{1F1F2}",Cambodia:"\u{1F1F0}\u{1F1ED}",Laos:"\u{1F1F1}\u{1F1E6}",Brunei:"\u{1F1E7}\u{1F1F3}","East Timor":"\u{1F1F9}\u{1F1F1}","Timor-Leste":"\u{1F1F9}\u{1F1F1}",Mongolia:"\uFFFD\u{1F1F3}",Taiwan:"\u{1F1F9}\uFFFD","Hong Kong":"\uFFFD\u{1F1ED}\u{1F1F0}",Macau:"\u{1F1F2}\u{1F1F4}",Kazakhstan:"\u{1F1F0}\u{1F1FF}",Uzbekistan:"\uFFFD\uFFFD",Turkmenistan:"\u{1F1F9}\u{1F1F2}",Kyrgyzstan:"\uFFFD\u{1F1EC}",Tajikistan:"\u{1F1F9}\u{1F1EF}",Turkey:"\u{1F1F9}\u{1F1F7}",Iran:"\uFFFD\uFFFD",Iraq:"\u{1F1EE}\u{1F1F6}",Syria:"\u{1F1F8}\u{1F1FE}",Lebanon:"\u{1F1F1}\u{1F1E7}",Jordan:"\u{1F1EF}\u{1F1F4}",Israel:"\u{1F1EE}\u{1F1F1}",Palestine:"\u{1F1F5}\u{1F1F8}","Saudi Arabia":"\uFFFD\u{1F1E6}",Yemen:"\u{1F1FE}\u{1F1EA}",Oman:"\uFFFD\uFFFD",UAE:"\u{1F1E6}\uFFFD\u{1F1EA}","United Arab Emirates":"\uFFFD\uFFFD\u{1F1EA}",Qatar:"\uFFFD\u{1F1E6}",Kuwait:"\u{1F1F0}\u{1F1FC}",Bahrain:"\uFFFD\u{1F1ED}",Egypt:"\u{1F1EA}\u{1F1EC}",Libya:"\uFFFD\uFFFD",Tunisia:"\uFFFD\u{1F1F9}\u{1F1F3}",Algeria:"\u{1F1E9}\u{1F1FF}",Morocco:"\u{1F1F2}\u{1F1E6}",Sudan:"\uFFFD\uFFFD","South Sudan":"\u{1F1F8}\u{1F1F8}",Ethiopia:"\uFFFD\uFFFD\u{1F1F9}",Eritrea:"\uFFFD\u{1F1F7}",Djibouti:"\u{1F1E9}\u{1F1EF}",Somalia:"\u{1F1F8}\u{1F1F4}",Kenya:"\u{1F1F0}\u{1F1EA}",Uganda:"\u{1F1FA}\u{1F1EC}",Tanzania:"\u{1F1F9}\u{1F1FF}",Rwanda:"\u{1F1F7}\u{1F1FC}",Burundi:"\u{1F1E7}\u{1F1EE}","South Africa":"\uFFFD\uFFFD",Namibia:"\u{1F1F3}\u{1F1E6}",Botswana:"\u{1F1E7}\u{1F1FC}",Zimbabwe:"\u{1F1FF}\u{1F1FC}",Zambia:"\u{1F1FF}\u{1F1F2}",Malawi:"\uFFFD\uFFFD",Mozambique:"\u{1F1F2}\u{1F1FF}",Madagascar:"\uFFFD\uFFFD",Mauritius:"\u{1F1F2}\u{1F1FA}",Seychelles:"\u{1F1F8}\u{1F1E8}",Comoros:"\u{1F1F0}\u{1F1F2}",Angola:"\uFFFD\uFFFD","Democratic Republic of Congo":"\u{1F1E8}\u{1F1E9}","Republic of Congo":"\u{1F1E8}\u{1F1EC}",Gabon:"\uFFFD\uFFFD",Cameroon:"\u{1F1E8}\uFFFD","Central African Republic":"\uFFFD\uFFFD",Chad:"\uFFFD\uFFFD",Nigeria:"\u{1F1F3}\u{1F1EC}",Niger:"\u{1F1F3}\uFFFD",Benin:"\u{1F1E7}\u{1F1EF}",Togo:"\u{1F1F9}\uFFFD",Ghana:"\uFFFD\u{1F1ED}","Ivory Coast":"\u{1F1E8}\u{1F1EE}","Burkina Faso":"\u{1F1E7}\u{1F1EB}",Mali:"\uFFFD\uFFFD",Senegal:"\u{1F1F8}\uFFFD",Guinea:"\u{1F1EC}\u{1F1F3}","Guinea-Bissau":"\uFFFD\uFFFD","Sierra Leone":"\uFFFD\uFFFD",Liberia:"\uFFFD\uFFFD",Mauritania:"\uFFFD\uFFFD",Gambia:"\u{1F1EC}\u{1F1F2}","Cape Verde":"\uFFFD\uFFFD","Sao Tome and Principe":"\uFFFD\uFFFD","Equatorial Guinea":"\uFFFD\uFFFD",Lesotho:"\u{1F1F1}\u{1F1F8}",Eswatini:"\u{1F1F8}\u{1F1FF}",Swaziland:"\uFFFD\uFFFD",Australia:"\uFFFD\u{1F1FA}","New Zealand":"\u{1F1F3}\u{1F1FF}","Papua New Guinea":"\uFFFD\uFFFD",Fiji:"\uFFFD\uFFFD","Solomon Islands":"\uFFFD\uFFFD",Vanuatu:"\u{1F1FB}\u{1F1FA}",Samoa:"\u{1F1FC}\u{1F1F8}",Tonga:"\u{1F1F9}\uFFFD",Kiribati:"\uFFFD\uFFFD",Micronesia:"\u{1F1EB}\u{1F1F2}","Marshall Islands":"\uFFFD\uFFFD",Palau:"\uFFFD\u{1F1FC}",Nauru:"\uFFFD\uFFFD",Tuvalu:"\uFFFD\uFFFD"};onCardClick(){this.businessClick.emit(this.business())}onFavoriteClick(e){e.stopPropagation(),this.favoriteClick.emit(this.business()._id)}getOwnerFullName(){let e=this.business();if(e.owner_id&&typeof e.owner_id=="object"){let t=e.owner_id,n=t.first_name||"",s=t.last_name||"";return`${n} ${s}`.trim()||"Business Owner"}return"Business Owner"}getOwnerProfilePicture(){let e=this.business();if(e.owner_id&&typeof e.owner_id=="object"){let t=e.owner_id;return t.profile_picture||t.avatar_url||null}return null}getOwnerCountryFlag(){let e=this.business();if(e.owner_id&&typeof e.owner_id=="object"){let t=e.owner_id;if(console.log("Owner country_of_origin:",t.country_of_origin),t.country_of_origin)return this.countryFlagMap[t.country_of_origin]||null}return null}getOwnerCountryName(){let e=this.business();return e.owner_id&&typeof e.owner_id=="object"&&e.owner_id.country_of_origin||""}getDefaultBanner(){return"bg-gradient-to-br from-green-400 to-blue-500"}hasRating(){let e=this.business();return e.rating!=null&&e.rating>0}getRatingDisplay(){return this.business().rating?.toFixed(1)||"0.0"}getReviewCount(){return this.business().review_count||0}getReviewText(){return this.getReviewCount()===1?"review":"reviews"}getVisibleTags(){let e=this.business().tags;return e?e.slice(0,2):[]}getExtraTagsCount(){let e=this.business().tags;return e?Math.max(0,e.length-2):0}hasExtraTags(){return this.getExtraTagsCount()>0}getBusinessDescription(){let e=this.business();return e.short_description||e.description||"Professional service provider"}getBusinessLocation(){let e=this.business();return e.city&&e.state?`${e.city}, ${e.state}`:null}hasViewCount(){return(this.business().view_count||0)>0}getBusinessInitials(){let e=this.business().name||"B",t=e.trim().split(" ");return t.length>=2?(t[0][0]+t[1][0]).toUpperCase():e.substring(0,2).toUpperCase()}getCategoryInitials(){let e=this.categoryName()||"SC",t=e.trim().split(" ");return t.length>=2?(t[0][0]+t[1][0]).toUpperCase():e.substring(0,2).toUpperCase()}getStartingPrice(){return 10}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=C({type:i,selectors:[["app-business-card"]],inputs:{business:[1,"business"],ownerName:[1,"ownerName"],ownerAvatar:[1,"ownerAvatar"],ownerCountry:[1,"ownerCountry"],categoryName:[1,"categoryName"]},outputs:{businessClick:"businessClick",favoriteClick:"favoriteClick"},decls:24,vars:11,consts:[[1,"overflow-hidden","cursor-pointer","transition-all","duration-300","hover:-translate-y-1","relative","h-full","flex","flex-col",3,"click"],[1,"!relative"],["mat-card-avatar","",1,"!w-12","!h-12","!rounded-full","!overflow-hidden","!flex","!items-center","!justify-center","!bg-gray-100"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"!w-12","!h-12","!text-[48px]","!text-gray-400","!leading-none"],[1,"!text-base","!font-normal","!leading-tight","!m-0","!mb-1","!text-gray-900"],[1,"text-sm!","!text-light","!text-gray-600","!mt-0","!flex","!items-center","!gap-1.5"],[1,"text-lg","leading-none",3,"matTooltip"],[1,"absolute","top-3","right-3","z-10",3,"click"],["size","small",3,"businessId","businessName"],[1,"relative","w-full","h-52","bg-gray-100"],[1,"relative","w-full","h-52","bg-gradient-to-br","from-purple-500","to-indigo-600","flex","items-center","justify-center"],[1,"!p-4","!pt-3","flex-grow","flex","flex-col"],[1,"text-lg","font-bold","text-gray-900","m-0","mb-2","leading-tight"],[1,"text-sm","leading-relaxed","text-gray-700","m-0","mb-3","line-clamp-3","flex-grow"],[1,"flex","justify-between","border-t","border-gray-100","px-4","py-3"],[1,"flex","items-center","gap-1","bg-green-50","px-2.5","py-1","rounded","text-sm"],[1,"bg-secondary-50","text-secondary-700","font-semibold","text-xs","px-2.5","py-1","rounded"],[1,"text-base","font-bold","text-gray-900"],[1,"absolute","top-3","left-3","bg-green-600","text-white","text-xs","font-semibold","px-3","py-1.5","rounded-md"],[1,"bg-green-600","text-white","text-2xl","font-bold","px-4","py-2","rounded-md","absolute","top-3","left-3"],[1,"text-green-700","font-semibold","text-xs"],[1,"!w-4","!h-4","!text-base","!text-yellow-500","!leading-none"],[1,"font-bold","text-gray-900","text-sm"],[1,"text-gray-500","text-xs"]],template:function(t,n){t&1&&(r(0,"mat-card",0),m("click",function(){return n.onCardClick()}),r(1,"mat-card-header",1)(2,"div",2),x(3,Pi,1,2,"img",3)(4,Ei,2,0,"mat-icon",4),o(),r(5,"mat-card-title",5),a(6),o(),r(7,"mat-card-subtitle",6),x(8,Oi,2,1,"span"),x(9,ki,2,2,"span",7),o(),r(10,"div",8),m("click",function(c){return n.onFavoriteClick(c)}),b(11,"app-favorite-button",9),o()(),x(12,Ti,4,3,"div",10)(13,Ai,3,1,"div",11),r(14,"mat-card-content",12)(15,"h3",13),a(16),o(),r(17,"p",14),a(18),o()(),r(19,"mat-card-actions",15),x(20,Ii,9,2,"div",16)(21,Fi,2,0,"div",17),r(22,"div",18),a(23),o()()()),t&2&&(l(3),_(n.getOwnerProfilePicture()?3:4),l(3),N(" ",n.getOwnerFullName()," "),l(2),_(n.getBusinessLocation()?8:-1),l(),_(n.getOwnerCountryFlag()?9:-1),l(2),d("businessId",n.business()._id)("businessName",n.business().name),l(),_(n.business().banner_url&&n.business().banner_url.trim()!==""?12:13),l(4),E(n.business().name),l(2),N(" ",n.getBusinessDescription()," "),l(2),_(n.hasRating()?20:21),l(3),N(" From $",n.getStartingPrice()," "))},dependencies:[A,On,_n,Mn,En,wn,Pn,Sn,yn,R,V,k,Ye,Qn,Z,ei],styles:["[_nghost-%COMP%]{display:block;width:100%}.business-card[_ngcontent-%COMP%]{border-radius:8px!important}.business-card[_ngcontent-%COMP%]     mat-card-header .mat-mdc-card-avatar{margin-right:0!important}.business-card[_ngcontent-%COMP%]     mat-card-header .mat-mdc-card-header-text{margin:0!important;flex:1}.business-card[_ngcontent-%COMP%]     .mat-mdc-card-content:first-of-type{padding-top:0!important}"]})};var ai=(i,e)=>e._id,si=(i,e)=>e.code;function Bi(i,e){if(i&1&&(r(0,"span",32),a(1),o()),i&2){let t=h(2);l(),N(" ",t.getActiveFiltersCount()," ")}}function Vi(i,e){if(i&1){let t=I();r(0,"div",5)(1,"mat-form-field",25)(2,"mat-label"),a(3,"Find women-owned businesses and services..."),o(),r(4,"input",26),m("input",function(){u(t);let s=h();return g(s.onFilterChange())}),o(),r(5,"mat-icon",27),a(6,"search"),o()(),r(7,"div",28)(8,"button",29)(9,"div",30)(10,"mat-icon",31),a(11,"tune"),o(),r(12,"span"),a(13,"Filter"),o(),x(14,Bi,2,1,"span",32),o()(),r(15,"button",33)(16,"div",30)(17,"mat-icon",31),a(18,"sort"),o(),r(19,"span"),a(20,"Sort"),o()()()()()}if(i&2){let t=h();l(4),d("formControl",t.searchQueryControl),l(10),_(t.hasActiveFilters()?14:-1)}}function ji(i,e){if(i&1&&(r(0,"mat-option",10),a(1),o()),i&2){let t=e.$implicit;d("value",t._id),l(),E(t.name)}}function Hi(i,e){if(i&1&&(r(0,"mat-option",10),a(1),o()),i&2){let t=e.$implicit;d("value",t.name),l(),E(t.name)}}function zi(i,e){i&1&&(r(0,"mat-icon"),a(1,"check"),o())}function Ui(i,e){i&1&&(r(0,"mat-icon"),a(1,"check"),o())}function Li(i,e){i&1&&(r(0,"mat-icon"),a(1,"check"),o())}function Gi(i,e){i&1&&(r(0,"mat-icon"),a(1,"check"),o())}function Qi(i,e){i&1&&(r(0,"mat-icon"),a(1,"check"),o())}function qi(i,e){i&1&&(r(0,"mat-icon"),a(1,"check"),o())}function Wi(i,e){if(i&1){let t=I();r(0,"button",34),m("click",function(){u(t);let s=h();return g(s.clearFilters())}),r(1,"mat-icon"),a(2,"clear"),o(),a(3," Clear filters "),o()}}function $i(i,e){if(i&1&&(r(0,"span",32),a(1),o()),i&2){let t=h(2);l(),N(" ",t.getActiveFiltersCount()," ")}}function Yi(i,e){if(i&1){let t=I();r(0,"div",5)(1,"mat-form-field",25)(2,"mat-label"),a(3,"Find women-owned businesses and services..."),o(),r(4,"input",26),m("input",function(){u(t);let s=h();return g(s.onFilterChange())}),o(),r(5,"mat-icon",27),a(6,"search"),o()(),r(7,"div",28)(8,"button",29)(9,"div",30)(10,"mat-icon",31),a(11,"tune"),o(),r(12,"span"),a(13,"Filter"),o(),x(14,$i,2,1,"span",32),o()(),r(15,"button",33)(16,"div",30)(17,"mat-icon",31),a(18,"sort"),o(),r(19,"span"),a(20,"Sort"),o()()()()()}if(i&2){let t=h();l(4),d("formControl",t.searchQueryControl),l(10),_(t.hasActiveFilters()?14:-1)}}function Ki(i,e){if(i&1&&(r(0,"mat-option",10),a(1),o()),i&2){let t=e.$implicit;d("value",t._id),l(),E(t.name)}}function Zi(i,e){if(i&1&&(r(0,"mat-option",10),a(1),o()),i&2){let t=e.$implicit;d("value",t.name),l(),E(t.name)}}function Xi(i,e){i&1&&(r(0,"mat-icon"),a(1,"check"),o())}function Ji(i,e){i&1&&(r(0,"mat-icon"),a(1,"check"),o())}function er(i,e){i&1&&(r(0,"mat-icon"),a(1,"check"),o())}function tr(i,e){i&1&&(r(0,"mat-icon"),a(1,"check"),o())}function nr(i,e){i&1&&(r(0,"mat-icon"),a(1,"check"),o())}function ir(i,e){i&1&&(r(0,"mat-icon"),a(1,"check"),o())}var it=class i{fb=p(he);categoryService=p(be);elementRef=p(jt);countries=w([]);showSearchInput=w(!1);totalResults=w(0);filtersChange=W();searchQueryControl=new re("");selectedCategoriesControl=new re([]);businessTypeControl=new re("");selectedCountriesControl=new re([]);selectedRatingControl=new re(0);sortByControl=new re("relevance");categories=v([]);hasActiveFilters=v(!1);showStickyFilters=v(!1);intersectionObserver;ngOnInit(){this.loadCategories(),this.searchQueryControl.valueChanges.subscribe(()=>this.updateActiveFiltersState()),this.selectedCategoriesControl.valueChanges.subscribe(()=>this.updateActiveFiltersState()),this.businessTypeControl.valueChanges.subscribe(()=>this.updateActiveFiltersState()),this.selectedCountriesControl.valueChanges.subscribe(()=>this.updateActiveFiltersState()),this.selectedRatingControl.valueChanges.subscribe(()=>this.updateActiveFiltersState()),this.sortByControl.valueChanges.subscribe(()=>this.updateActiveFiltersState())}ngAfterViewInit(){let e=this.elementRef.nativeElement.querySelector(".filters-container-original");e&&(this.intersectionObserver=new IntersectionObserver(([t])=>{this.showStickyFilters.set(!t.isIntersecting)},{threshold:[0],rootMargin:"-64px 0px 0px 0px"}),this.intersectionObserver.observe(e))}ngOnDestroy(){this.intersectionObserver&&this.intersectionObserver.disconnect()}loadCategories(){return y(this,null,function*(){try{let e=yield this.categoryService.getCategories().toPromise();if(e?.success&&e.data){let t=e.data.filter(n=>n.is_active);this.categories.set(t)}}catch(e){console.error("Error loading categories:",e)}})}onFilterChange(){let e={searchQuery:this.searchQueryControl.value||"",selectedCategories:this.selectedCategoriesControl.value||[],businessType:this.businessTypeControl.value||"",selectedCountries:this.selectedCountriesControl.value||[],selectedRating:this.selectedRatingControl.value||0,sortBy:this.sortByControl.value||"relevance"};this.filtersChange.emit(e)}onSortChange(e){this.sortByControl.setValue(e),this.onFilterChange()}getSortLabel(){let e=this.sortByControl.value||"relevance";return{relevance:"Relevance","best-selling":"Best selling",newest:"Newest arrivals","price-low":"Price: Low to High","price-high":"Price: High to Low",rating:"Highest Rated"}[e]||"Relevance"}clearFilters(){this.searchQueryControl.setValue(""),this.selectedCategoriesControl.setValue([]),this.businessTypeControl.setValue(""),this.selectedCountriesControl.setValue([]),this.selectedRatingControl.setValue(0),this.sortByControl.setValue("relevance"),this.onFilterChange()}getActiveFiltersCount(){let e=0;return this.selectedCategoriesControl.value&&this.selectedCategoriesControl.value.length>0&&e++,this.businessTypeControl.value&&this.businessTypeControl.value!==""&&e++,this.selectedCountriesControl.value&&this.selectedCountriesControl.value.length>0&&e++,this.selectedRatingControl.value!==null&&this.selectedRatingControl.value>0&&e++,e}updateActiveFiltersState(){let e=this.searchQueryControl.value&&this.searchQueryControl.value.trim().length>0||this.selectedCategoriesControl.value&&this.selectedCategoriesControl.value.length>0||this.businessTypeControl.value&&this.businessTypeControl.value!==""||this.selectedCountriesControl.value&&this.selectedCountriesControl.value.length>0||this.selectedRatingControl.value!==null&&this.selectedRatingControl.value>0;this.hasActiveFilters.set(!!e)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=C({type:i,selectors:[["app-search-filters"]],inputs:{countries:[1,"countries"],showSearchInput:[1,"showSearchInput"],totalResults:[1,"totalResults"]},outputs:{filtersChange:"filtersChange"},decls:159,vars:67,consts:[["sortMenu","matMenu"],["sortMenuSticky","matMenu"],[1,"filters-container-original","bg-white","border-b","border-gray-200"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-4"],[1,"space-y-4"],[1,"lg:hidden"],[1,"hidden","lg:flex","lg:flex-row","lg:items-center","gap-3"],[1,"flex","flex-wrap","items-center","gap-2"],["appearance","outline",1,"compact-field"],["multiple","",3,"selectionChange","formControl"],[3,"value"],[3,"selectionChange","formControl"],["value",""],["value","service"],["value","product"],["value","both"],[1,"flex","items-center","gap-3","ml-auto"],["mat-stroked-button","",1,"sort-button",3,"matMenuTriggerFor"],[1,"ml-1"],["mat-menu-item","",3,"click"],[4,"ngIf"],["mat-stroked-button","","type","button","color","warn",1,"clear-button"],[1,"text-sm","text-gray-600"],[1,"font-medium"],[1,"filters-container-sticky","bg-white","border-b","border-gray-200","shadow-sm"],["appearance","outline",1,"w-full"],["matInput","","placeholder","Search for services, products, or businesses",3,"input","formControl"],["matPrefix",""],[1,"grid","grid-cols-2","gap-3","mt-3"],["mat-stroked-button","",1,"mobile-filter-button"],[1,"flex","items-center","justify-center","gap-2"],[1,"text-green-600"],[1,"bg-green-600","text-white","text-xs","rounded-full","px-2","py-0.5","ml-1"],["mat-stroked-button","",1,"mobile-sort-button"],["mat-stroked-button","","type","button","color","warn",1,"clear-button",3,"click"]],template:function(t,n){if(t&1){let s=I();r(0,"div",2)(1,"div",3)(2,"div",4),x(3,Vi,21,2,"div",5),r(4,"div",6)(5,"div",7)(6,"mat-form-field",8)(7,"mat-label"),a(8,"Category"),o(),r(9,"mat-select",9),m("selectionChange",function(){return u(s),g(n.onFilterChange())}),ee(10,ji,2,2,"mat-option",10,ai),o()(),r(12,"mat-form-field",8)(13,"mat-label"),a(14,"Service Type"),o(),r(15,"mat-select",11),m("selectionChange",function(){return u(s),g(n.onFilterChange())}),r(16,"mat-option",12),a(17,"All Types"),o(),r(18,"mat-option",13),a(19,"Services"),o(),r(20,"mat-option",14),a(21,"Products"),o(),r(22,"mat-option",15),a(23,"Both"),o()()(),r(24,"mat-form-field",8)(25,"mat-label"),a(26,"Heritage/Origin"),o(),r(27,"mat-select",9),m("selectionChange",function(){return u(s),g(n.onFilterChange())}),ee(28,Hi,2,2,"mat-option",10,si),o()(),r(30,"mat-form-field",8)(31,"mat-label"),a(32,"Minimum Rating"),o(),r(33,"mat-select",11),m("selectionChange",function(){return u(s),g(n.onFilterChange())}),r(34,"mat-option",10),a(35,"All ratings"),o(),r(36,"mat-option",10),a(37,"1+ stars"),o(),r(38,"mat-option",10),a(39,"2+ stars"),o(),r(40,"mat-option",10),a(41,"3+ stars"),o(),r(42,"mat-option",10),a(43,"4+ stars"),o(),r(44,"mat-option",10),a(45,"5 stars"),o()()()(),r(46,"div",16)(47,"button",17),a(48),r(49,"mat-icon",18),a(50,"expand_more"),o()(),r(51,"mat-menu",null,0)(53,"button",19),m("click",function(){return u(s),g(n.onSortChange("relevance"))}),M(54,zi,2,0,"mat-icon",20),r(55,"span"),a(56,"Relevance"),o()(),r(57,"button",19),m("click",function(){return u(s),g(n.onSortChange("best-selling"))}),M(58,Ui,2,0,"mat-icon",20),r(59,"span"),a(60,"Best selling"),o()(),r(61,"button",19),m("click",function(){return u(s),g(n.onSortChange("newest"))}),M(62,Li,2,0,"mat-icon",20),r(63,"span"),a(64,"Newest arrivals"),o()(),r(65,"button",19),m("click",function(){return u(s),g(n.onSortChange("price-low"))}),M(66,Gi,2,0,"mat-icon",20),r(67,"span"),a(68,"Price: Low to High"),o()(),r(69,"button",19),m("click",function(){return u(s),g(n.onSortChange("price-high"))}),M(70,Qi,2,0,"mat-icon",20),r(71,"span"),a(72,"Price: High to Low"),o()(),r(73,"button",19),m("click",function(){return u(s),g(n.onSortChange("rating"))}),M(74,qi,2,0,"mat-icon",20),r(75,"span"),a(76,"Highest Rated"),o()()(),x(77,Wi,4,0,"button",21),o()(),r(78,"div",22)(79,"span",23),a(80),o(),a(81," businesses found "),o()()()(),r(82,"div",24)(83,"div",3)(84,"div"),x(85,Yi,21,2,"div",5),r(86,"div",6)(87,"div",7)(88,"mat-form-field",8)(89,"mat-label"),a(90,"Category"),o(),r(91,"mat-select",9),m("selectionChange",function(){return u(s),g(n.onFilterChange())}),ee(92,Ki,2,2,"mat-option",10,ai),o()(),r(94,"mat-form-field",8)(95,"mat-label"),a(96,"Service Type"),o(),r(97,"mat-select",11),m("selectionChange",function(){return u(s),g(n.onFilterChange())}),r(98,"mat-option",12),a(99,"All Types"),o(),r(100,"mat-option",13),a(101,"Services"),o(),r(102,"mat-option",14),a(103,"Products"),o(),r(104,"mat-option",15),a(105,"Both"),o()()(),r(106,"mat-form-field",8)(107,"mat-label"),a(108,"Heritage/Origin"),o(),r(109,"mat-select",9),m("selectionChange",function(){return u(s),g(n.onFilterChange())}),ee(110,Zi,2,2,"mat-option",10,si),o()(),r(112,"mat-form-field",8)(113,"mat-label"),a(114,"Minimum Rating"),o(),r(115,"mat-select",11),m("selectionChange",function(){return u(s),g(n.onFilterChange())}),r(116,"mat-option",10),a(117,"All ratings"),o(),r(118,"mat-option",10),a(119,"1+ stars"),o(),r(120,"mat-option",10),a(121,"2+ stars"),o(),r(122,"mat-option",10),a(123,"3+ stars"),o(),r(124,"mat-option",10),a(125,"4+ stars"),o(),r(126,"mat-option",10),a(127,"5 stars"),o()()()(),r(128,"div",16)(129,"button",17),a(130),r(131,"mat-icon",18),a(132,"expand_more"),o()(),r(133,"mat-menu",null,1)(135,"button",19),m("click",function(){return u(s),g(n.onSortChange("relevance"))}),M(136,Xi,2,0,"mat-icon",20),r(137,"span"),a(138,"Relevance"),o()(),r(139,"button",19),m("click",function(){return u(s),g(n.onSortChange("best-selling"))}),M(140,Ji,2,0,"mat-icon",20),r(141,"span"),a(142,"Best selling"),o()(),r(143,"button",19),m("click",function(){return u(s),g(n.onSortChange("newest"))}),M(144,er,2,0,"mat-icon",20),r(145,"span"),a(146,"Newest arrivals"),o()(),r(147,"button",19),m("click",function(){return u(s),g(n.onSortChange("price-low"))}),M(148,tr,2,0,"mat-icon",20),r(149,"span"),a(150,"Price: Low to High"),o()(),r(151,"button",19),m("click",function(){return u(s),g(n.onSortChange("price-high"))}),M(152,nr,2,0,"mat-icon",20),r(153,"span"),a(154,"Price: High to Low"),o()(),r(155,"button",19),m("click",function(){return u(s),g(n.onSortChange("rating"))}),M(156,ir,2,0,"mat-icon",20),r(157,"span"),a(158,"Highest Rated"),o()()()()()()()()}if(t&2){let s=ne(52),c=ne(134);l(3),_(n.showSearchInput()?3:-1),l(6),d("formControl",n.selectedCategoriesControl),l(),te(n.categories()),l(5),d("formControl",n.businessTypeControl),l(12),d("formControl",n.selectedCountriesControl),l(),te(n.countries()),l(5),d("formControl",n.selectedRatingControl),l(),d("value",0),l(2),d("value",1),l(2),d("value",2),l(2),d("value",3),l(2),d("value",4),l(2),d("value",5),l(3),d("matMenuTriggerFor",s),l(),N(" Sort by: ",n.getSortLabel()," "),l(6),d("ngIf",n.sortByControl.value==="relevance"),l(),F("ml-6",n.sortByControl.value!=="relevance"),l(3),d("ngIf",n.sortByControl.value==="best-selling"),l(),F("ml-6",n.sortByControl.value!=="best-selling"),l(3),d("ngIf",n.sortByControl.value==="newest"),l(),F("ml-6",n.sortByControl.value!=="newest"),l(3),d("ngIf",n.sortByControl.value==="price-low"),l(),F("ml-6",n.sortByControl.value!=="price-low"),l(3),d("ngIf",n.sortByControl.value==="price-high"),l(),F("ml-6",n.sortByControl.value!=="price-high"),l(3),d("ngIf",n.sortByControl.value==="rating"),l(),F("ml-6",n.sortByControl.value!=="rating"),l(2),_(n.hasActiveFilters()?77:-1),l(3),E(n.totalResults()),l(2),F("visible",n.showStickyFilters()),J("data-sticky-visible",n.showStickyFilters()),l(3),_(n.showSearchInput()?85:-1),l(6),d("formControl",n.selectedCategoriesControl),l(),te(n.categories()),l(5),d("formControl",n.businessTypeControl),l(12),d("formControl",n.selectedCountriesControl),l(),te(n.countries()),l(5),d("formControl",n.selectedRatingControl),l(),d("value",0),l(2),d("value",1),l(2),d("value",2),l(2),d("value",3),l(2),d("value",4),l(2),d("value",5),l(3),d("matMenuTriggerFor",c),l(),N(" Sort by: ",n.getSortLabel()," "),l(6),d("ngIf",n.sortByControl.value==="relevance"),l(),F("ml-6",n.sortByControl.value!=="relevance"),l(3),d("ngIf",n.sortByControl.value==="best-selling"),l(),F("ml-6",n.sortByControl.value!=="best-selling"),l(3),d("ngIf",n.sortByControl.value==="newest"),l(),F("ml-6",n.sortByControl.value!=="newest"),l(3),d("ngIf",n.sortByControl.value==="price-low"),l(),F("ml-6",n.sortByControl.value!=="price-low"),l(3),d("ngIf",n.sortByControl.value==="price-high"),l(),F("ml-6",n.sortByControl.value!=="price-high"),l(3),d("ngIf",n.sortByControl.value==="rating"),l(),F("ml-6",n.sortByControl.value!=="rating")}},dependencies:[A,$,fe,Ue,Le,Fn,k,B,R,V,de,vn,fn,bn,Z,L,qe,Ge,Qe,Y,Vn,mn,K,We],styles:[".search-filter-menu .mat-mdc-menu-content{padding:8px 0}  .search-filter-menu .mat-mdc-menu-item{min-height:44px}  .search-filter-menu .mat-mdc-menu-item:hover{background-color:#20aa6214}  mat-chip{cursor:pointer}.filters-container-original[_ngcontent-%COMP%]{background-color:#fff}.filters-container-sticky[_ngcontent-%COMP%]{position:fixed;top:64px;left:0;right:0;z-index:40;background-color:#fff;box-shadow:0 2px 8px #00000026;transform:translateY(-100%);opacity:0;pointer-events:none;transition:transform .3s ease-in-out,opacity .3s ease-in-out}.filters-container-sticky.visible[_ngcontent-%COMP%]{transform:translateY(0);opacity:1;pointer-events:auto}  .compact-field{width:auto;min-width:160px}  .compact-field .mat-mdc-form-field-infix{padding:8px 0;min-height:40px}  .compact-field .mat-mdc-text-field-wrapper{padding:0 12px}  .compact-field .mat-mdc-form-field-subscript-wrapper{display:none}  .sort-button{height:40px;border-radius:20px;padding:0 16px;font-size:14px;white-space:nowrap}  .sort-button .mat-icon{font-size:18px;width:18px;height:18px;margin-left:4px}  .mobile-filter-button,   .mobile-sort-button{height:48px;border-radius:8px;font-size:16px;font-weight:500;border:1px solid #e5e7eb}  .mobile-filter-button .mat-icon,   .mobile-sort-button .mat-icon{font-size:20px;width:20px;height:20px}  .clear-button{height:40px;border-radius:20px;padding:0 16px;font-size:14px;white-space:nowrap}  .clear-button .mat-icon{font-size:18px;width:18px;height:18px;margin-right:4px}"]})};var rr=()=>[12,24,48],or=(i,e)=>e._id;function ar(i,e){i&1&&(r(0,"div",8),b(1,"mat-spinner",11),r(2,"span",12),a(3,"Finding services..."),o()())}function sr(i,e){if(i&1&&(r(0,"div",9)(1,"div",13)(2,"mat-icon",14),a(3,"error"),o(),r(4,"span",15),a(5),o()()()),i&2){let t=h();l(5),E(t.error())}}function lr(i,e){if(i&1){let t=I();r(0,"div",10)(1,"mat-icon",16),a(2,"search_off"),o(),r(3,"h3",17),a(4,"No services found"),o(),r(5,"p",18),a(6,"Try adjusting your search terms or filters"),o(),r(7,"button",19),m("click",function(){u(t);let s=h();return g(s.clearFilters())}),a(8," Clear filters "),o()()}}function cr(i,e){if(i&1){let t=I();r(0,"app-business-card",23),m("businessClick",function(s){u(t);let c=h(2);return g(c.onBusinessClick(s))}),o()}if(i&2){let t=e.$implicit,n=h(2);d("business",t)("ownerName",n.getOwnerName(t))("ownerAvatar",n.getOwnerAvatar(t))("ownerCountry",n.getOwnerCountry(t))("categoryName",n.getCategoryName(t))}}function dr(i,e){if(i&1){let t=I();r(0,"div",22)(1,"mat-paginator",24),m("page",function(s){u(t);let c=h(2);return g(c.onPageChange(s.pageIndex+1))}),o()()}if(i&2){let t=h(2);l(),d("length",t.total())("pageSize",12)("pageIndex",t.currentPage()-1)("pageSizeOptions",Qt(4,rr))}}function pr(i,e){if(i&1&&(r(0,"div",20),ee(1,cr,1,5,"app-business-card",21,or),o(),x(3,dr,2,5,"div",22)),i&2){let t=h();l(),te(t.businesses()),l(2),_(t.totalPages()>1?3:-1)}}var rt=class i{route=p(ce);router=p(O);fb=p(he);businessService=p(ze);categoryService=p(be);authService=p(U);headerComponent;searchQuery=v("");selectedCountries=v([]);selectedCategories=v([]);selectedBusinessTypes=v([]);selectedRating=v(0);businesses=v([]);categories=v([]);loading=v(!1);error=v(null);total=v(0);currentPage=v(1);totalPages=v(0);filtersOpen=v(!1);isClientMode=D(()=>{let e=this.authService.user();return!e||e.user_mode==="client"});filterForm;countries=$e;businessTypes=[{value:"service",label:"Service"},{value:"product",label:"Product"},{value:"both",label:"Both"}];ratingOptions=[{value:0,label:"All ratings"},{value:1,label:"1+ stars"},{value:2,label:"2+ stars"},{value:3,label:"3+ stars"},{value:4,label:"4+ stars"},{value:5,label:"5 stars"}];hasResults=D(()=>this.businesses().length>0);hasSearched=D(()=>this.searchQuery()||this.selectedCountries().length>0||this.selectedCategories().length>0||this.selectedBusinessTypes().length>0||this.selectedRating()>0);hasActiveFilters=D(()=>{let e=this.filterForm?.value;return!!(e?.selectedCountries?.length>0||e?.businessType||e?.location||e?.selectedCategories?.length>0||e?.selectedBusinessTypes?.length>0||e?.selectedRating>0)});constructor(){z(()=>{if(this.headerComponent){let e=this.headerComponent.headerSearchQuery();e!==this.searchQuery()&&(this.searchQuery.set(e),this.filterForm?.patchValue({searchQuery:e},{emitEvent:!1}),this.onSearch())}})}ngOnInit(){this.initializeForm(),this.loadCategories(),this.route.queryParams.subscribe(e=>{this.searchQuery.set(e.q||""),this.selectedCountries.set(e.countries?e.countries.split(","):[]),this.selectedCategories.set(e.categories?e.categories.split(","):[]),this.selectedBusinessTypes.set(e.businessTypes?e.businessTypes.split(","):[]),this.selectedRating.set(parseInt(e.rating)||0),this.currentPage.set(parseInt(e.page)||1),this.filterForm.patchValue({searchQuery:this.searchQuery(),selectedCountries:this.selectedCountries(),selectedCategories:this.selectedCategories(),selectedBusinessTypes:this.selectedBusinessTypes(),selectedRating:this.selectedRating()},{emitEvent:!1}),this.performSearch()})}initializeForm(){this.filterForm=this.fb.group({searchQuery:[this.searchQuery()],selectedCountries:[this.selectedCountries()],selectedCategories:[this.selectedCategories()],selectedBusinessTypes:[this.selectedBusinessTypes()],selectedRating:[this.selectedRating()],businessType:[""],location:[""]})}loadCategories(){return y(this,null,function*(){try{let e=yield this.categoryService.loadCategories();this.categories.set(e)}catch(e){console.error("Error loading categories:",e)}})}performSearch(){return y(this,null,function*(){let e=this.searchQuery(),t=this.selectedCountries(),n=this.currentPage();if(!e&&t.length===0&&this.isClientMode()){this.loadVerifiedBusinesses();return}if(!e&&t.length===0){this.businesses.set([]),this.total.set(0),this.totalPages.set(0);return}try{this.loading.set(!0),this.error.set(null);let s=yield this.businessService.searchBusinesses(e||void 0,t.length>0?t:void 0,n,12).toPromise();s?.success&&s.data?(this.businesses.set(s.data.businesses),this.total.set(s.data.total),this.totalPages.set(s.data.totalPages)):this.error.set("Failed to search businesses")}catch(s){console.error("Search error:",s),this.error.set("An error occurred while searching")}finally{this.loading.set(!1)}})}loadVerifiedBusinesses(){return y(this,null,function*(){try{this.loading.set(!0),this.error.set(null);let e=yield this.businessService.searchBusinesses(void 0,void 0,this.currentPage(),12,{featured:!0}).toPromise();e?.success&&e.data?(this.businesses.set(e.data.businesses),this.total.set(e.data.total),this.totalPages.set(e.data.totalPages)):this.error.set("Failed to load verified businesses")}catch(e){console.error("Load verified businesses error:",e),this.error.set("An error occurred while loading verified businesses")}finally{this.loading.set(!1)}})}onFiltersChange(e){let t={page:1};e.searchQuery?.trim()&&(t.q=e.searchQuery.trim()),e.selectedCountries&&e.selectedCountries.length>0&&(t.countries=e.selectedCountries.join(",")),e.selectedCategories&&e.selectedCategories.length>0&&(t.categories=e.selectedCategories.join(",")),e.businessType&&(t.businessType=e.businessType),e.selectedRating&&e.selectedRating>0&&(t.rating=e.selectedRating),e.sortBy&&e.sortBy!=="relevance"&&(t.sortBy=e.sortBy),this.router.navigate(["/search"],{queryParams:t})}onSearch(){let e=this.filterForm.value,t={page:1};e.searchQuery?.trim()&&(t.q=e.searchQuery.trim()),e.selectedCountries&&e.selectedCountries.length>0&&(t.countries=e.selectedCountries.join(",")),e.selectedCategories&&e.selectedCategories.length>0&&(t.categories=e.selectedCategories.join(",")),e.selectedBusinessTypes&&e.selectedBusinessTypes.length>0&&(t.businessTypes=e.selectedBusinessTypes.join(",")),e.selectedRating&&e.selectedRating>0&&(t.rating=e.selectedRating),this.router.navigate(["/search"],{queryParams:t})}clearFilters(){this.filterForm.reset({searchQuery:"",selectedCountries:[],selectedCategories:[],selectedBusinessTypes:[],selectedRating:0,businessType:"",location:""}),this.onSearch()}toggleFilters(){this.filtersOpen.update(e=>!e)}onPageChange(e){let t=this.route.snapshot.queryParams;this.router.navigate(["/search"],{queryParams:ut(Ce({},t),{page:e})})}getOwnerName(e){let t=e.owner_id;return t?.first_name&&t?.last_name?`${t.first_name} ${t.last_name}`:t?.first_name?t.first_name:t?.email?t.email:"Business Owner"}getOwnerCountry(e){return e.owner_id?.country_of_origin||"Unknown"}getCategoryName(e){return e.category_id?.name||"Uncategorized"}getOwnerAvatar(e){return e.owner_id?.profile_image_url||null}onBusinessClick(e){this.router.navigate(["/business/profile",e._id])}generatePageNumbers(){let e=this.totalPages(),t=this.currentPage(),n=5;if(e<=n)return Array.from({length:e},(f,G)=>G+1);let s=Math.max(1,t-Math.floor(n/2)),c=Math.min(e,s+n-1);return Array.from({length:c-s+1},(f,G)=>s+G)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=C({type:i,selectors:[["app-search"]],viewQuery:function(t,n){if(t&1&&St(oe,5),t&2){let s;Mt(s=Pt())&&(n.headerComponent=s.first)}},decls:12,vars:10,consts:[[1,"sticky","top-0","z-50"],[3,"maxWidth"],[1,"min-h-screen","bg-[#F4F2EE]"],[1,"hidden","lg:block"],[3,"filtersChange","countries","totalResults"],[1,"lg:hidden"],[3,"filtersChange","countries","showSearchInput","totalResults"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"flex","justify-center","items-center","py-12"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-4","mb-6"],[1,"text-center","py-12"],["diameter","50"],[1,"ml-4","text-gray-600"],[1,"flex","items-center"],[1,"text-red-500","mr-2"],[1,"text-red-700"],[1,"text-6xl","text-gray-400","mb-4"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-600","mb-4"],["mat-raised-button","","color","primary",3,"click"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-6","mb-8"],[3,"business","ownerName","ownerAvatar","ownerCountry","categoryName"],[1,"flex","justify-center"],[3,"businessClick","business","ownerName","ownerAvatar","ownerCountry","categoryName"],["showFirstLastButtons","",3,"page","length","pageSize","pageIndex","pageSizeOptions"]],template:function(t,n){t&1&&(r(0,"div",0),b(1,"app-header",1),o(),r(2,"div",2)(3,"div",3)(4,"app-search-filters",4),m("filtersChange",function(c){return n.onFiltersChange(c)}),o()(),r(5,"div",5)(6,"app-search-filters",6),m("filtersChange",function(c){return n.onFiltersChange(c)}),o()(),r(7,"div",7),x(8,ar,4,0,"div",8),x(9,sr,6,1,"div",9),x(10,lr,9,0,"div",10),x(11,pr,4,1),o()()),t&2&&(l(),d("maxWidth","max-w-7xl"),l(3),d("countries",n.countries)("totalResults",n.total()),l(2),d("countries",n.countries)("showSearchInput",!0)("totalResults",n.total()),l(2),_(n.loading()?8:-1),l(),_(n.error()?9:-1),l(),_(!n.loading()&&n.hasSearched()&&!n.hasResults()?10:-1),l(),_(!n.loading()&&n.hasResults()?11:-1))},dependencies:[A,fe,Y,L,K,k,B,Gn,Z,R,V,Wn,qn,ge,ue,$n,pe,oi,Be,Ye,oe,nt,it],styles:[".line-clamp-1[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:1;line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.line-clamp-2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.business-card[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.business-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 25px 50px -12px #00000040}.business-gradient-1[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.business-gradient-2[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c)}.business-gradient-3[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe)}.business-gradient-4[_ngcontent-%COMP%]{background:linear-gradient(135deg,#43e97b,#38f9d7)}.business-gradient-5[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140)}.search-form[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{transition:all .3s ease}.search-form[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{transform:scale(1.02);box-shadow:0 10px 25px -5px #3b82f64d}.filter-pill[_ngcontent-%COMP%]{transition:all .2s ease}.filter-pill[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 8px #0000001a}.rating-stars[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{transition:color .2s ease}.business-type-badge.service[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dbeafe,#bfdbfe);color:#1e40af}.business-type-badge.product[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dcfce7,#bbf7d0);color:#166534}.business-type-badge.both[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a);color:#92400e}.featured-badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_glow 2s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_glow{0%{box-shadow:0 0 5px #fbbf2480}to{box-shadow:0 0 20px #fbbf24cc}}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.business-card[_ngcontent-%COMP%]   .business-header[_ngcontent-%COMP%]{height:120px}.business-card[_ngcontent-%COMP%]   .business-logo[_ngcontent-%COMP%]{width:60px;height:60px}}*[_ngcontent-%COMP%]{transition:color .2s ease,background-color .2s ease,border-color .2s ease,transform .2s ease,box-shadow .2s ease}"]})};var ot=class i{constructor(e){this.http=e}apiUrl=`${me.api.baseUrl}/paypal-accounts`;getConnectUrl(){return this.http.get(`${this.apiUrl}/connect-url`)}connectAccount(e){return this.http.post(`${this.apiUrl}/connect`,e)}getAccounts(){return this.http.get(this.apiUrl)}getAccount(e){return this.http.get(`${this.apiUrl}/${e}`)}refreshAccount(e){return this.http.post(`${this.apiUrl}/${e}/refresh`,{})}disconnectAccount(e){return this.http.post(`${this.apiUrl}/${e}/disconnect`,{})}verifyAccount(e){return this.http.post(`${this.apiUrl}/${e}/verify`,{})}initiatePayPalConnection(e){return y(this,null,function*(){try{let t=yield this.getConnectUrl().toPromise();if(!t?.auth_url)throw new Error("Failed to get PayPal OAuth URL");let n=window.open(t.auth_url,"paypal-oauth","width=500,height=600,scrollbars=yes,resizable=yes");if(!n)throw new Error("Popup blocked. Please allow popups for this site.");return new Promise((s,c)=>{let f=setInterval(()=>{n.closed&&(clearInterval(f),c(new Error("PayPal connection was cancelled")))},1e3),G=ae=>{ae.origin===window.location.origin&&(ae.data.type==="PAYPAL_OAUTH_SUCCESS"?(clearInterval(f),window.removeEventListener("message",G),n.close(),this.connectAccount({code:ae.data.code,state:ae.data.state}).subscribe({next:mt=>s(mt),error:mt=>c(mt)})):ae.data.type==="PAYPAL_OAUTH_ERROR"&&(clearInterval(f),window.removeEventListener("message",G),n.close(),c(new Error(ae.data.error||"PayPal connection failed"))))};window.addEventListener("message",G)})}catch(t){throw console.error("PayPal connection error:",t),t}})}static \u0275fac=function(t){return new(t||i)(Dt(Re))};static \u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})};function gr(i,e){i&1&&(r(0,"div",4),b(1,"mat-spinner",5),r(2,"h2"),a(3,"Connecting PayPal Account"),o(),r(4,"p"),a(5,"Please wait while we connect your PayPal account..."),o()())}function hr(i,e){if(i&1&&(r(0,"div",12)(1,"p")(2,"strong"),a(3,"Email:"),o(),a(4),o(),r(5,"p")(6,"strong"),a(7,"Status:"),o(),a(8),o()()),i&2){let t=h(2);l(4),N(" ",t.connectedAccount.email),l(4),N(" ",t.connectedAccount.is_verified?"Verified":"Not Verified")}}function fr(i,e){if(i&1){let t=I();r(0,"div",6)(1,"mat-icon",7),a(2,"check_circle"),o(),r(3,"h2"),a(4,"PayPal Account Connected!"),o(),r(5,"p"),a(6,"Your PayPal account has been successfully connected."),o(),M(7,hr,9,2,"div",8),r(8,"div",9)(9,"button",10),m("click",function(){u(t);let s=h();return g(s.goToPayPalAccounts())}),a(10," View PayPal Accounts "),o(),r(11,"button",11),m("click",function(){u(t);let s=h();return g(s.goToWithdrawals())}),a(12," Create Withdrawal "),o()()()}if(i&2){let t=h();l(7),d("ngIf",t.connectedAccount)}}function vr(i,e){if(i&1){let t=I();r(0,"div",13)(1,"mat-icon",14),a(2,"error"),o(),r(3,"h2"),a(4,"Connection Failed"),o(),r(5,"p"),a(6),o(),r(7,"div",9)(8,"button",10),m("click",function(){u(t);let s=h();return g(s.retry())}),a(9," Try Again "),o(),r(10,"button",11),m("click",function(){u(t);let s=h();return g(s.goToPayPalAccounts())}),a(11," Go Back "),o()()()}if(i&2){let t=h();l(6),E(t.errorMessage)}}var at=class i{constructor(e,t,n){this.route=e;this.router=t;this.paypalService=n}processing=!0;success=!1;error=!1;errorMessage="";connectedAccount=null;ngOnInit(){this.handleCallback()}handleCallback(){this.route.queryParams.subscribe(e=>{let t=e.code,n=e.state,s=e.error,c=e.error_description;if(s){this.handleError(c||s);return}if(!t||!n){this.handleError("Missing authorization code or state parameter");return}this.paypalService.connectAccount({code:t,state:n}).subscribe({next:f=>{this.processing=!1,this.success=!0,this.connectedAccount=f,window.opener&&(window.opener.postMessage({type:"PAYPAL_OAUTH_SUCCESS",code:t,state:n,account:f},window.location.origin),window.close())},error:f=>{console.error("PayPal connection error:",f),this.handleError(f.error?.message||"Failed to connect PayPal account"),window.opener&&(window.opener.postMessage({type:"PAYPAL_OAUTH_ERROR",error:f.error?.message||"Failed to connect PayPal account"},window.location.origin),window.close())}})})}handleError(e){this.processing=!1,this.error=!0,this.errorMessage=e}retry(){this.processing=!0,this.error=!1,this.success=!1,this.handleCallback()}goToPayPalAccounts(){this.router.navigate(["/paypal-accounts"])}goToWithdrawals(){this.router.navigate(["/withdrawals"])}static \u0275fac=function(t){return new(t||i)(q(ce),q(O),q(ot))};static \u0275cmp=C({type:i,selectors:[["app-paypal-callback"]],decls:4,vars:3,consts:[[1,"callback-container"],["class","processing-state",4,"ngIf"],["class","success-state",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"processing-state"],["diameter","48"],[1,"success-state"],[1,"success-icon"],["class","account-info",4,"ngIf"],[1,"actions"],["mat-raised-button","","color","primary",3,"click"],["mat-stroked-button","",3,"click"],[1,"account-info"],[1,"error-state"],[1,"error-icon"]],template:function(t,n){t&1&&(r(0,"div",0),M(1,gr,6,0,"div",1)(2,fr,13,1,"div",2)(3,vr,12,1,"div",3),o()),t&2&&(l(),d("ngIf",n.processing),l(),d("ngIf",n.success&&!n.processing),l(),d("ngIf",n.error&&!n.processing))},dependencies:[A,$,ge,ue,R,V,k,B],styles:[".callback-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:24px;background:linear-gradient(135deg,#667eea,#764ba2)}.processing-state[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{background:#fff;padding:48px 32px;border-radius:16px;box-shadow:0 20px 40px #0000001a;text-align:center;max-width:500px;width:100%}.processing-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:24px 0 16px;font-size:1.5rem;font-weight:600}.processing-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 24px;color:#666;line-height:1.6}.success-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#4caf50;margin-bottom:16px}.error-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#f44336;margin-bottom:16px}.account-info[_ngcontent-%COMP%]{background:#f5f5f5;padding:16px;border-radius:8px;margin:24px 0;text-align:left}.account-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;color:#333}.actions[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:center;flex-wrap:wrap;margin-top:32px}@media (max-width: 768px){.actions[_ngcontent-%COMP%]{flex-direction:column}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]})};function br(i,e){i&1&&(r(0,"div",4),b(1,"mat-spinner",5),r(2,"h2"),a(3,"Verifying Stripe Account"),o(),r(4,"p"),a(5,"Please wait while we verify your Stripe account setup..."),o()())}function Cr(i,e){if(i&1){let t=I();r(0,"div",6)(1,"mat-icon",7),a(2,"check_circle"),o(),r(3,"h2"),a(4,"Stripe Account Connected Successfully!"),o(),r(5,"p"),a(6,"Your Stripe account has been set up and is ready for withdrawals."),o(),r(7,"div",8)(8,"button",9),m("click",function(){u(t);let s=h();return g(s.goToEarnings())}),a(9," View Earnings "),o(),r(10,"button",10),m("click",function(){u(t);let s=h();return g(s.goToDashboard())}),a(11," Back to Dashboard "),o()()()}}function xr(i,e){if(i&1){let t=I();r(0,"div",11)(1,"mat-icon",12),a(2,"error"),o(),r(3,"h2"),a(4,"Setup Incomplete"),o(),r(5,"p"),a(6),o(),r(7,"div",8)(8,"button",13),m("click",function(){u(t);let s=h();return g(s.retrySetup())}),a(9," Try Again "),o(),r(10,"button",10),m("click",function(){u(t);let s=h();return g(s.goToDashboard())}),a(11," Back to Dashboard "),o()()()}if(i&2){let t=h();l(6),E(t.errorMessage)}}var Me=class i{constructor(e,t,n){this.route=e;this.router=t;this.stripeConnectService=n}processing=!0;success=!1;error=!1;errorMessage="";ngOnInit(){return y(this,null,function*(){this.route.queryParams.subscribe(e=>y(this,null,function*(){e.success==="true"?yield this.handleSuccess():e.success==="false"?yield this.handleError():yield this.checkAccountStatus()}))})}handleSuccess(){return y(this,null,function*(){try{let e=yield this.stripeConnectService.getAccountStatus().toPromise();e?.payouts_enabled&&!e?.requirements_due?(this.processing=!1,this.success=!0):(this.processing=!1,this.error=!0,this.errorMessage="Account setup is not yet complete. Please try the onboarding process again.")}catch{this.processing=!1,this.error=!0,this.errorMessage="Failed to verify account status. Please try again."}})}handleError(){return y(this,null,function*(){this.processing=!1,this.error=!0,this.errorMessage="Account setup was not completed. You can try setting up your Stripe account again."})}checkAccountStatus(){return y(this,null,function*(){try{let e=yield this.stripeConnectService.getAccountStatus().toPromise();e?.payouts_enabled&&!e?.requirements_due?(this.processing=!1,this.success=!0):(this.processing=!1,this.error=!0,this.errorMessage="Account setup is incomplete. Please complete the onboarding process.")}catch{this.processing=!1,this.error=!0,this.errorMessage="Failed to check account status. Please try again."}})}retrySetup(){return y(this,null,function*(){try{this.processing=!0;let e=yield this.stripeConnectService.createOnboardingLink().toPromise();window.location.href=e.url}catch{this.processing=!1,this.errorMessage="Failed to create setup link. Please try again later."}})}goToEarnings(){this.router.navigate(["/dashboard/earnings"])}goToDashboard(){this.router.navigate(["/dashboard"])}static \u0275fac=function(t){return new(t||i)(q(ce),q(O),q(ti))};static \u0275cmp=C({type:i,selectors:[["app-stripe-callback"]],decls:4,vars:3,consts:[[1,"callback-container"],["class","processing-state",4,"ngIf"],["class","success-state",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"processing-state"],["diameter","48"],[1,"success-state"],[1,"success-icon"],[1,"actions"],["mat-raised-button","","color","primary",3,"click"],["mat-button","",3,"click"],[1,"error-state"],[1,"error-icon"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,n){t&1&&(r(0,"div",0),M(1,br,6,0,"div",1)(2,Cr,12,0,"div",2)(3,xr,12,1,"div",3),o()),t&2&&(l(),d("ngIf",n.processing),l(),d("ngIf",n.success&&!n.processing),l(),d("ngIf",n.error&&!n.processing))},dependencies:[A,$,ge,ue,R,V,k,B],styles:[".callback-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:24px;background:#f5f5f5}.processing-state[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{text-align:center;max-width:400px;padding:48px 32px;background:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a}.success-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#4caf50;margin-bottom:24px}.error-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#f44336;margin-bottom:24px}h2[_ngcontent-%COMP%]{margin:16px 0;color:#333}p[_ngcontent-%COMP%]{margin:16px 0;color:#666;line-height:1.5}.actions[_ngcontent-%COMP%]{margin-top:32px;display:flex;gap:16px;justify-content:center;flex-wrap:wrap}mat-spinner[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.processing-state[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{padding:32px 24px;margin:16px}.actions[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;max-width:200px}}"]})};var ci=[{path:"",component:et},{path:"search",component:rt},{path:"auth",loadChildren:()=>import("./chunk-JX6JERYT.js").then(i=>i.AUTH_ROUTES),canActivate:[ii]},{path:"login",redirectTo:"auth/login"},{path:"signup",redirectTo:"auth/signup"},{path:"dashboard",component:tt,loadChildren:()=>import("./chunk-66NSU3ZS.js").then(i=>i.DASHBOARD_ROUTES),canActivate:[Ot]},{path:"admin",loadChildren:()=>import("./chunk-JO2NHZSS.js").then(i=>i.adminRoutes),canActivate:[Ot]},{path:"business",loadChildren:()=>import("./chunk-TIULSGV4.js").then(i=>i.BUSINESS_ROUTES)},{path:"paypal/callback",component:at},{path:"stripe/return",component:Me},{path:"stripe/refresh",component:Me}];function di(i){i||(i=p(Bt));let e=new gt(t=>{if(i.destroyed){t.next();return}return i.onDestroy(t.next.bind(t))});return t=>t.pipe(ke(e))}function pi(i){let e=Wt(i);return new gt(t=>{let n=e?.onDestroy(()=>t.complete()),s=i.subscribe(c=>t.next(c));return()=>{s.unsubscribe(),n?.()}})}function _r(i,e){i&1&&Ie(0,"div",3)}function yr(i,e){i&1&&(P(0,"div",4),Ie(1,"div",5),S())}var wr={min:8,max:100,speed:200,debounceTime:0,trickleSpeed:300,fadeOutSpeed:50,relative:!1,flat:!1,spinner:!1,direction:"ltr+",spinnerPosition:"right",trickleFunc:i=>i>=0&&i<20?10:i>=20&&i<50?4:i>=50&&i<80?2:i>=80&&i<99?.5:0},mi=new Q("NG_PROGRESS_OPTIONS",{providedIn:"root",factory:()=>wr});var st=(function(i){return i.START="START",i.COMPLETE="COMPLETE",i})(st||{});function Sr(i){let e=ie(i)||0;return e<100&&e>=0?e:0}function Mr(i){let e=ie(i)||100;return e>0&&e<=100?e:100}var lt=(()=>{let e=class e{constructor(){this.defaultOptions=p(mi),this.min=w(this.defaultOptions.min,{transform:Sr}),this.max=w(this.defaultOptions.max,{transform:Mr}),this.speed=w(this.defaultOptions.speed,{transform:ie}),this.trickleSpeed=w(this.defaultOptions.trickleSpeed,{transform:ie}),this.fadeOutSpeed=w(this.defaultOptions.fadeOutSpeed,{transform:ie}),this.debounceTime=w(this.defaultOptions.debounceTime,{transform:ie}),this.trickleFunc=w(this.defaultOptions.trickleFunc),this.config=D(()=>({max:this.max(),min:this.min(),speed:this.speed(),trickleSpeed:this.trickleSpeed(),fadeOutSpeed:this.fadeOutSpeed(),trickleFunc:this.trickleFunc(),debounceTime:this.debounceTime()})),this._progress=v(0),this._active=v(!1),this.active=D(()=>this._active()),this.progress=D(()=>this._progress()),this.started=W(),this.completed=W(),this._trigger=new Pe(null);let n;z(s=>{let c=this.config();we(()=>{n=this._trigger.pipe(Ee(f=>!!f),vt(f=>f===st.START?ht(c.debounceTime).pipe(vt(()=>this.onTrickling(c))):this.onComplete(c))).subscribe(),s(()=>n?.unsubscribe())})})}start(){this.started.emit(),this._trigger.next(st.START),this._active.set(!0)}complete(){this._trigger.next(st.COMPLETE)}inc(n){let s=this.progress();this.active()?(typeof n!="number"&&(n=this.config().trickleFunc(s)),this.set(s+n)):this.start()}set(n){this._active.set(!0),this._progress.set(this.clamp(n))}clamp(n){return Math.max(this.config().min,Math.min(this.config().max,n))}onTrickling(n){return this.active()||this.set(n.min),ht(0,n.trickleSpeed).pipe(le(()=>this.inc()))}onComplete(n){return this.active()?(this.completed.emit(),At({}).pipe(le(()=>this._progress.set(100)),ft(n.speed+140),le(()=>this._active.set(!1)),ft(n.fadeOutSpeed),Oe(()=>this._progress.set(0)),ke(pi(this.started)))):Tt}};e.\u0275fac=function(s){return new(s||e)},e.\u0275dir=X({type:e,selectors:[["","ngProgressRef",""]],inputs:{min:[1,"min"],max:[1,"max"],speed:[1,"speed"],trickleSpeed:[1,"trickleSpeed"],fadeOutSpeed:[1,"fadeOutSpeed"],debounceTime:[1,"debounceTime"],trickleFunc:[1,"trickleFunc"]},outputs:{started:"started",completed:"completed"},exportAs:["ngProgressRef"]});let i=e;return i})(),ui=(()=>{let e=class e{constructor(){this.config=p(mi),this.progressRef=p(lt,{host:!0,self:!0}),this.flat=w(this.config.flat,{transform:De}),this.spinner=w(this.config.spinner,{transform:De}),this.relative=w(this.config.relative,{transform:De}),this.spinnerPosition=w(this.config.spinnerPosition),this.direction=w(this.config.direction),this.progressTransform=D(()=>`translate3d(${this.progressRef.progress()}%,0,0)`)}};e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=C({type:e,selectors:[["ng-progress"]],hostAttrs:["role","progressbar"],hostVars:12,hostBindings:function(s,c){s&2&&(J("spinnerPosition",c.spinnerPosition())("direction",c.direction()),Fe("--_ng-progress-speed",c.progressRef.speed()+"ms")("--_ng-progress-fade-out-speed",c.progressRef.fadeOutSpeed()+"ms"),F("ng-progress-bar",!0)("ng-progress-bar-active",c.progressRef.active())("ng-progress-bar-relative",c.relative()))},inputs:{flat:[1,"flat"],spinner:[1,"spinner"],relative:[1,"relative"],spinnerPosition:[1,"spinnerPosition"],direction:[1,"direction"]},exportAs:["ngProgress"],features:[wt([{directive:lt,inputs:["min","min","max","max","speed","speed","trickleSpeed","trickleSpeed","fadeOutSpeed","fadeOutSpeed","debounceTime","debounceTime"],outputs:["started","started","completed","completed"]}])],decls:5,vars:4,consts:[[1,"ng-progress-bar-wrapper"],[1,"ng-bar-placeholder"],[1,"ng-bar"],[1,"ng-meteor"],[1,"ng-spinner"],[1,"ng-spinner-icon"]],template:function(s,c){s&1&&(P(0,"div",0)(1,"div",1)(2,"div",2),x(3,_r,1,0,"div",3),S()(),x(4,yr,2,0,"div",4),S()),s&2&&(l(2),Fe("transform",c.progressTransform()),l(),_(c.flat()?-1:3),l(),_(c.spinner()?4:-1))},styles:['[_nghost-%COMP%]{--_ng-progress-thickness: var(--ng-progress-thickness, 2);--_ng-progress-thickness-px: calc(var(--_ng-progress-thickness) * 1px);--_ng-progress-thickness-add-one: calc(var(--_ng-progress-thickness) + 1);--_ng-progress-meteor-position-px: calc(var(--_ng-progress-thickness-add-one) * -1px);--_ng-progress-color: var(--ng-progress-color, #1B95E0);--_ng-progress-holder-color: var(--ng-progress-holder-color, transparent);--_ng-progress-ease: var(--ng-progress-ease, linear);--_ng-progress-spinner-thickness: var(--ng-progress-spinner-thickness, 2);--_ng-progress-spinner-thickness-px: calc(var(--_ng-progress-spinner-thickness) * 1px);--_ng-progress-spinner-spacing: var(--ng-progress-spinner-spacing, 15);--_ng-progress-spinner-spacing-px: calc(var(--_ng-progress-spinner-spacing) * 1px);--_ng-progress-spinner-size: var(--ng-progress-spinner-size, 18);--_ng-progress-spinner-size-px: calc(var(--_ng-progress-spinner-size) * 1px);--_ng-progress-spinner-speed: var(--ng-progress-spinner-speed, .25s);z-index:999999;pointer-events:none}.ng-progress-bar-active[_nghost-%COMP%]   .ng-progress-bar-wrapper[_ngcontent-%COMP%]{filter:alpha(opacity=100);opacity:1;transition:none}.ng-progress-bar-active[_nghost-%COMP%]   .ng-bar[_ngcontent-%COMP%]{transition:all var(--_ng-progress-speed) var(--_ng-progress-ease)}.ng-progress-bar-relative[_nghost-%COMP%]   .ng-progress-bar-wrapper[_ngcontent-%COMP%]{position:relative}[direction="ltr+"][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%], [direction=ltr-][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%]{rotate:calc(var(--_ng-progress-thickness-add-one) * 1deg)}[direction="ltr+"][_nghost-%COMP%]   .ng-bar[_ngcontent-%COMP%], [direction="rtl+"][_nghost-%COMP%]   .ng-bar[_ngcontent-%COMP%]{margin-left:-100%}[direction="ltr+"][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%], [direction="rtl+"][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%]{right:0}[direction="ltr+"][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%], [direction=rtl-][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%]{top:var(--_ng-progress-meteor-position-px)}[direction=ltr-][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%], [direction="rtl+"][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%]{bottom:var(--_ng-progress-meteor-position-px)}[direction=ltr-][_nghost-%COMP%]   .ng-bar-placeholder[_ngcontent-%COMP%], [direction="rtl+"][_nghost-%COMP%]   .ng-bar-placeholder[_ngcontent-%COMP%]{transform:rotate(180deg)}[direction=ltr-][_nghost-%COMP%]   .ng-spinner-icon[_ngcontent-%COMP%], [direction="rtl+"][_nghost-%COMP%]   .ng-spinner-icon[_ngcontent-%COMP%]{animation-direction:reverse}[direction="rtl+"][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%], [direction=rtl-][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%]{rotate:calc(var(--_ng-progress-thickness-add-one) * -1deg)}[_nghost-%COMP%]   .ng-spinner[_ngcontent-%COMP%]{top:var(--_ng-progress-spinner-spacing-px)}[spinnerPosition=left][_nghost-%COMP%]   .ng-spinner[_ngcontent-%COMP%]{left:var(--_ng-progress-spinner-spacing-px)}[spinnerPosition=right][_nghost-%COMP%]   .ng-spinner[_ngcontent-%COMP%]{right:var(--_ng-progress-spinner-spacing-px)}.ng-progress-bar-wrapper[_ngcontent-%COMP%]{position:fixed;z-index:999999;top:0;left:0;width:100%;transform:scale(1);filter:alpha(opacity=0);opacity:0;transition:opacity var(--_ng-progress-fade-out-speed) linear}.ng-bar-placeholder[_ngcontent-%COMP%]{position:absolute;height:var(--_ng-progress-thickness-px);width:100%}.ng-bar[_ngcontent-%COMP%]{width:100%;height:100%;transform:translate(-100%,0,0);background:var(--_ng-progress-color)}.ng-meteor[_ngcontent-%COMP%]{display:block;position:absolute;width:100px;height:100%;opacity:1;box-shadow:0 0 10px var(--_ng-progress-color),0 0 5px var(--_ng-progress-color)}.ng-spinner[_ngcontent-%COMP%]{position:absolute;display:block;z-index:1031;top:10px}.ng-spinner-icon[_ngcontent-%COMP%]{box-sizing:border-box;animation:_ngcontent-%COMP%_spinner-animation var(--_ng-progress-spinner-speed) linear infinite;border-style:solid;border-color:transparent;border-radius:50%;border-top-color:var(--_ng-progress-color);border-left-color:var(--_ng-progress-color);width:var(--_ng-progress-spinner-size-px);height:var(--_ng-progress-spinner-size-px);border-width:var(--_ng-progress-spinner-thickness-px)}@keyframes _ngcontent-%COMP%_spinner-animation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}'],changeDetection:0});let i=e;return i})();var Pr=new Q("NG_PROGRESS_HTTP_OPTIONS",{providedIn:"root",factory:()=>null});var Er=new Q("NgProgressHttpCounter",{providedIn:"root",factory:()=>v(0)});function fi(i,e){let t=p(Pr),n=p(Er);return i.headers.has("ignoreProgressBar")?e(i.clone({headers:i.headers.delete("ignoreProgressBar")})):t&&Or(i,t)?e(i):we(()=>(n.set(n()+1),e(i).pipe(Oe(()=>{n.set(n()-1)}))))}function Or(i,e){let t=i.url.toLowerCase();return e.matcher&&e.silentApis?.length?hi(t,e.matcher)&&gi(t,e.silentApis):e.silentApis?.length?gi(t,e.silentApis):e.matcher?hi(t,e.matcher):!1}function gi(i,e){return!!e.find(t=>i.includes(t.toLowerCase()))}function hi(i,e){return!!i.match(e)}var vi={providers:[qt({eventCoalescing:!0}),an(ci,sn()),Zt(en(),Jt(),Xt([fi])),ni(),un(),{provide:Kt,useClass:Ke,multi:!0}]};function kr(i,e){if(i&1&&(r(0,"div",15)(1,"mat-icon"),a(2,"error"),o(),r(3,"span"),a(4),o()()),i&2){let t=h();l(4),E(t.errorMessage)}}var ct=class i{dialogRef=p(Yn);username="";password="";errorMessage="";showPassword=!1;CORRECT_USERNAME="admin";CORRECT_PASSWORD="adminalexolalinsey";onSubmit(){this.username===this.CORRECT_USERNAME&&this.password===this.CORRECT_PASSWORD?(sessionStorage.setItem("authGateAccess","true"),this.dialogRef.close(!0)):(this.errorMessage="Invalid username or password. Please try again.",this.password="")}togglePasswordVisibility(){this.showPassword=!this.showPassword}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=C({type:i,selectors:[["app-auth-gate-modal"]],decls:30,vars:7,consts:[["authForm","ngForm"],[1,"auth-gate-container"],[1,"auth-gate-header"],["mat-dialog-title",""],[1,"subtitle"],[3,"ngSubmit"],[1,"form-group"],["appearance","outline",1,"full-width"],["matInput","","type","text","name","username","required","","autocomplete","username","placeholder","Enter username",3,"ngModelChange","ngModel"],["matPrefix",""],["matInput","","name","password","required","","autocomplete","current-password","placeholder","Enter password",3,"ngModelChange","type","ngModel"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["class","error-message",4,"ngIf"],[1,"actions"],["mat-raised-button","","color","primary","type","submit",1,"submit-button",3,"disabled"],[1,"error-message"]],template:function(t,n){if(t&1){let s=I();r(0,"div",1)(1,"div",2)(2,"h2",3),a(3,"Authorization Required"),o(),r(4,"p",4),a(5,"Please enter your credentials to access this application"),o()(),r(6,"mat-dialog-content")(7,"form",5,0),m("ngSubmit",function(){return u(s),g(n.onSubmit())}),r(9,"div",6)(10,"mat-form-field",7)(11,"mat-label"),a(12,"Username"),o(),r(13,"input",8),ye("ngModelChange",function(f){return u(s),_e(n.username,f)||(n.username=f),g(f)}),o(),r(14,"mat-icon",9),a(15,"person"),o()()(),r(16,"div",6)(17,"mat-form-field",7)(18,"mat-label"),a(19,"Password"),o(),r(20,"input",10),ye("ngModelChange",function(f){return u(s),_e(n.password,f)||(n.password=f),g(f)}),o(),r(21,"mat-icon",9),a(22,"lock"),o(),r(23,"button",11),m("click",function(){return u(s),g(n.togglePasswordVisibility())}),r(24,"mat-icon"),a(25),o()()()(),M(26,kr,5,1,"div",12),r(27,"div",13)(28,"button",14),a(29," Access Application "),o()()()()()}t&2&&(l(13),xe("ngModel",n.username),l(7),d("type",n.showPassword?"text":"password"),xe("ngModel",n.password),l(3),J("aria-label","Toggle password visibility"),l(2),E(n.showPassword?"visibility_off":"visibility"),l(),d("ngIf",n.errorMessage),l(2),d("disabled",!n.username||!n.password))},dependencies:[A,$,Rn,In,Ue,Le,kn,Dn,An,Tn,Jn,Zn,Xn,L,qe,Ge,Qe,Bn,K,We,k,B,gn,R,V],styles:[".auth-gate-container[_ngcontent-%COMP%]{padding:20px;max-width:450px;min-width:350px}@media (max-width: 480px){.auth-gate-container[_ngcontent-%COMP%]{min-width:280px;padding:16px}}.auth-gate-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px}.auth-gate-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 8px;font-size:24px;font-weight:600;color:#333}.auth-gate-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#666}mat-dialog-content[_ngcontent-%COMP%]{padding:0;margin:0;overflow:visible}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]:last-of-type{margin-bottom:20px}.full-width[_ngcontent-%COMP%]{width:100%}.error-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px;background-color:#ffebee;border-radius:4px;margin-bottom:16px;color:#c62828;font-size:14px}.error-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.actions[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:24px}.actions[_ngcontent-%COMP%]   .submit-button[_ngcontent-%COMP%]{width:100%;padding:12px;font-size:16px;font-weight:500;text-transform:uppercase}  .auth-gate-dialog .mat-mdc-dialog-container{border-radius:8px;box-shadow:0 11px 15px -7px #0003,0 24px 38px 3px #00000024,0 9px 46px 8px #0000001f}mat-form-field[_ngcontent-%COMP%]   mat-icon[matPrefix][_ngcontent-%COMP%]{margin-right:8px;color:#666}"]})};var dt=class i{dialog=p(Kn);dialogRef=null;checkAuthGate(){return!me.production||sessionStorage.getItem("authGateAccess")==="true"?Promise.resolve(!0):this.showAuthGateModal()}showAuthGateModal(){return this.dialogRef?Promise.resolve(!1):(this.dialogRef=this.dialog.open(ct,{disableClose:!0,panelClass:"auth-gate-dialog",width:"450px",maxWidth:"90vw",hasBackdrop:!0,backdropClass:"auth-gate-backdrop"}),new Promise(e=>{this.dialogRef.afterClosed().subscribe(t=>{this.dialogRef=null,e(t===!0)})}))}clearAuthGate(){sessionStorage.removeItem("authGateAccess")}static \u0275fac=function(t){return new(t||i)};static \u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})};var Tr={minDuration:0,startEvents:[tn],completeEvents:[nn,rn,on]},Ar=new Q("NG_PROGRESS_ROUTER_OPTIONS",{providedIn:"root",factory:()=>Tr});function bi(i,e){return e.some(t=>i instanceof t)}var Ir=(()=>{let e=class e{constructor(){this.router=p(O),this.config=p(Ar),this.progressRef=p(lt,{host:!0,self:!0});let n;this.router.events.pipe(Ee(s=>bi(s,[...this.config.startEvents,...this.config.completeEvents])),se(s=>bi(s,this.config.startEvents)),le(s=>{clearTimeout(n),s?this.progressRef.start():n=setTimeout(()=>{this.progressRef.complete()},this.config.minDuration)}),di()).subscribe()}};e.\u0275fac=function(s){return new(s||e)},e.\u0275dir=X({type:e});let i=e;return i})(),Ci=(()=>{let e=class e extends Ir{};e.\u0275fac=(()=>{let n;return function(c){return(n||(n=xt(e)))(c||e)}})(),e.\u0275dir=X({type:e,selectors:[["ng-progress","ngProgressRouter",""]],features:[yt]});let i=e;return i})();function Fr(i,e){i&1&&b(0,"router-outlet")}function Dr(i,e){i&1&&(r(0,"div",0),b(1,"div",2),r(2,"p"),a(3,"Verifying access..."),o()())}var pt=class i{title="putheron";isAuthenticated=!1;authorizationService=p(Cn);authGateService=p(dt);constructor(){typeof window<"u"&&(window.authService=this.authorizationService,console.log("\u{1F527} Authorization service exposed as window.authService for debugging"),console.log("\u{1F4A1} Use window.authService.debugAuthState() to inspect permissions"))}ngOnInit(){return y(this,null,function*(){this.isAuthenticated=yield this.authGateService.checkAuthGate()})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=C({type:i,selectors:[["app-root"]],decls:3,vars:1,consts:[[1,"auth-gate-loading"],["ngProgressRouter","",1,"root-progress-bar"],[1,"spinner"]],template:function(t,n){t&1&&(x(0,Fr,1,0,"router-outlet")(1,Dr,4,0,"div",0),b(2,"ng-progress",1)),t&2&&_(n.isAuthenticated?0:1)},dependencies:[A,Ne,ui,Ci],styles:[".auth-gate-loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.auth-gate-loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:20px}.auth-gate-loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;font-weight:500;margin:0}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.root-progress-bar[_ngcontent-%COMP%]{--ng-progress-thickness: 3}.root-progress-bar[_ngcontent-%COMP%]     .ng-bar-placeholder{background-color:#d3d3d3}.root-progress-bar[_ngcontent-%COMP%]     .ng-bar{background:#690aac;background:linear-gradient(to right,#690aac,#00f260)}"]})};Yt(pt,vi).catch(i=>console.error(i));
