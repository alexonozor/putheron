import{b as vn}from"./chunk-GBKEII2P.js";import{a as In,b as On}from"./chunk-7IX4SCIX.js";import{a as fn,b as xn,c as _n,d as hn}from"./chunk-J2W7S2FK.js";import{a as Mn,b as kn}from"./chunk-LM44DV34.js";import{c as En}from"./chunk-TW3RRYVO.js";import{a as $e}from"./chunk-Z7QFJKWX.js";import{a as Cn,b as Fn}from"./chunk-TLO7SAIU.js";import{a as cn,b as dn,c as mn,h as pn,i as un}from"./chunk-LYFSSMHI.js";import{a as _e,b as bn,c as yn,f as jn}from"./chunk-MAZPPNIF.js";import{a as sn}from"./chunk-5Z74JPA5.js";import"./chunk-F5X5MWHG.js";import{b as wn}from"./chunk-GCP3FJTD.js";import{c as Tn}from"./chunk-T6WG4QOA.js";import{c as Sn,h as Pn}from"./chunk-5YVVTCC4.js";import{a as nn,b as on,c as rn,d as He}from"./chunk-Z2FMYRNZ.js";import{a as an}from"./chunk-7RWCIHFI.js";import{a as Le,c as gn,g as ze}from"./chunk-WC4V5MBK.js";import"./chunk-7PL77DH4.js";import{a as ln,b as Ne}from"./chunk-OVWXGPSR.js";import{a as Re}from"./chunk-WJ4DFVWN.js";import"./chunk-OIXXJWNI.js";import{d as Ae,h as ge,i as Ve,j as fe,l as De,m as xe}from"./chunk-N77KJ2CE.js";import{b as Be,c as Kt,d as Xt,e as en,f as tn,i as ue}from"./chunk-UHWPZDZU.js";import"./chunk-RG3CVPH6.js";import{A as pe,c as re,e as te,h as ae,i as se,l as le,p as ce,q as de,x as Jt,y as me}from"./chunk-IOQBSONU.js";import{a as J}from"./chunk-W25ODU66.js";import{a as K,b as X}from"./chunk-ZH2LY4H3.js";import{a as Y}from"./chunk-X23FDR64.js";import{b as je}from"./chunk-OEDMFFU6.js";import{c as Zt}from"./chunk-CC5MIRXO.js";import{d as Yt}from"./chunk-G5VU3Z3T.js";import"./chunk-RABWVIIE.js";import"./chunk-SGYCFQGT.js";import{f as Qt}from"./chunk-VE54HO5B.js";import{c as Q,e as V}from"./chunk-VOP2ECYA.js";import{a as D}from"./chunk-5X5YCIDJ.js";import{a as Wt}from"./chunk-QSI3HFOI.js";import{a as H,b as N}from"./chunk-756JSGY5.js";import{F as qt,o as Ut}from"./chunk-IGUJQH2A.js";import"./chunk-IZ7UM5CL.js";import{a as Fe}from"./chunk-YYV7O7JP.js";import{a as q,b as Ie,c as j,d as Oe,e as zt,f as $t,g as Gt}from"./chunk-MEFNJ5SS.js";import{a as Dt,b as Rt}from"./chunk-GUCRBWY4.js";import{B as Te,C as Ht,D as Nt,E as Lt,a as Bt,l as ke,n as Vt,t as B}from"./chunk-REOVWAHI.js";import{$ as W,Bb as C,Cb as st,D as bt,Ea as w,Eb as ie,Fb as U,Fc as At,Gb as p,Hb as z,Ib as Z,Jb as E,Ka as kt,Kb as M,Lb as n,Mb as i,Na as Tt,Nb as d,Oc as I,Pc as Me,Rb as S,Vb as u,Wb as c,Z as Ct,aa as Ce,ab as R,ac as we,bc as Se,ca as yt,cb as s,cc as Pe,ea as wt,fa as b,fb as It,fc as Ee,g as ht,gc as r,hb as G,hc as f,ia as St,ib as Ot,ic as h,jc as ee,kc as lt,l as vt,na as x,oa as _,ob as O,pa as v,pb as ye,q as be,qa as T,qc as oe,ta as Pt,ub as g,wa as Et,xc as jt,yc as Ft,za as Mt}from"./chunk-BEPULU6C.js";import{a as xt,b as _t,e as k}from"./chunk-JKOY2XUY.js";var qn="@",Qn=(()=>{class o{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=b(Pt);loadingSchedulerFn=b(Yn,{optional:!0});_engine;constructor(e,a,l,m,y){this.doc=e,this.delegate=a,this.zone=l,this.animationType=m,this.moduleImpl=y}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-WEHWC2L7.js").then(l=>l),a;return this.loadingSchedulerFn?a=this.loadingSchedulerFn(e):a=e(),a.catch(l=>{throw new Ct(5300,!1)}).then(({\u0275createEngine:l,\u0275AnimationRendererFactory:m})=>{this._engine=l(this.animationType,this.doc);let y=new m(this.delegate,this._engine,this.zone);return this.delegate=y,y})}createRenderer(e,a){let l=this.delegate.createRenderer(e,a);if(l.\u0275type===0)return l;typeof l.throwOnSyntheticProps=="boolean"&&(l.throwOnSyntheticProps=!1);let m=new ct(l);return a?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(y=>{let A=y.createRenderer(e,a);m.use(A),this.scheduler??=this.injector.get(Et,null,{optional:!0}),this.scheduler?.notify(10)}).catch(y=>{m.use(l)}),m}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(a){Ot()};static \u0275prov=W({token:o,factory:o.\u0275fac})}return o})(),ct=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,a,l){this.delegate.insertBefore(t,e,a,l)}removeChild(t,e,a){this.delegate.removeChild(t,e,a)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,a,l){this.delegate.setAttribute(t,e,a,l)}removeAttribute(t,e,a){this.delegate.removeAttribute(t,e,a)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,a,l){this.delegate.setStyle(t,e,a,l)}removeStyle(t,e,a){this.delegate.removeStyle(t,e,a)}setProperty(t,e,a){this.shouldReplay(e)&&this.replay.push(l=>l.setProperty(t,e,a)),this.delegate.setProperty(t,e,a)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,a,l){return this.shouldReplay(e)&&this.replay.push(m=>m.listen(t,e,a,l)),this.delegate.listen(t,e,a,l)}shouldReplay(t){return this.replay!==null&&t.startsWith(qn)}},Yn=new yt("");function An(o="animations"){return Tt("NgAsyncAnimations"),St([{provide:It,useFactory:(t,e,a)=>new Qn(t,e,a,o),deps:[Bt,Dt,Mt]},{provide:kt,useValue:o==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Ge=class o{router=b(j);intercept(t,e){let a=this.getTokenFromStorage(),l=t;return a&&(l=t.clone({setHeaders:{Authorization:`Bearer ${a}`}})),e.handle(l).pipe(bt(m=>(m.status===401&&(console.warn("Authentication failed, redirecting to login"),this.clearAuthData(),this.router.navigate(["/auth"],{queryParams:{message:"Your session has expired. Please log in again."}})),vt(()=>m))))}getTokenFromStorage(){return typeof window<"u"?localStorage.getItem("access_token"):null}clearAuthData(){typeof window<"u"&&(localStorage.removeItem("access_token"),localStorage.removeItem("current_user"),localStorage.removeItem("userPermissions"),localStorage.removeItem("permissionsTimestamp"))}static \u0275fac=function(e){return new(e||o)};static \u0275prov=W({token:o,factory:o.\u0275fac})};var Wn=()=>[],Zn=(o,t)=>t.code;function Jn(o,t){if(o&1&&(n(0,"mat-option",14),r(1),i()),o&2){let e=t.$implicit;C("value",e.name),s(),h(" ",e.name," ")}}function Kn(o,t){if(o&1&&(n(0,"span",17),r(1),i()),o&2){let e=t.$implicit;s(),h(" ",e," ")}}var Ue=class o{fb=b(me);router=b(j);searchForm;countries=Re;ngOnInit(){this.searchForm=this.fb.group({searchQuery:[""],selectedCountries:[[]]})}get isFormValid(){return this.searchForm.valid&&(this.searchForm.get("searchQuery")?.value?.trim()||this.searchForm.get("selectedCountries")?.value?.length>0)}get searchQueryControl(){return this.searchForm.get("searchQuery")}onSearch(){if(console.log("Search initiated with form:",this.isFormValid),!this.isFormValid){this.searchForm.markAllAsTouched();return}let t=this.searchForm.value,e={};t.searchQuery?.trim()&&(e.q=t.searchQuery.trim()),t.selectedCountries&&t.selectedCountries.length>0&&(e.countries=t.selectedCountries.join(",")),this.router.navigate(["/search"],{queryParams:e})}onPopularSearch(t){this.searchForm.patchValue({searchQuery:t}),this.searchForm.get("searchQuery")?.markAsTouched(),this.onSearch()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=O({type:o,selectors:[["hero-section"]],decls:48,vars:3,consts:[[1,"relative","min-h-screen","flex","items-center","justify-center","overflow-hidden","hero-bg"],[1,"relative","z-10","max-w-4xl","mx-auto","px-4","sm:px-6","lg:px-8","text-center","fade-in"],[1,"text-5xl","md:text-7xl","font-bold","text-white","mb-6","leading-tight"],[1,"text-blue-400"],[1,"text-xl","md:text-2xl","text-gray-200","mb-12","max-w-3xl","mx-auto"],[1,"max-w-6xl","mx-auto","mb-8"],[3,"ngSubmit","formGroup"],[1,"relative"],[1,"flex","flex-col","lg:flex-row","bg-white","rounded-xl","shadow-2xl","overflow-hidden","search-input"],[1,"flex-1","relative"],["type","text","placeholder","Search businesses, services, or locations.","formControlName","searchQuery",1,"w-full","px-6","py-4","text-gray-700","text-lg","focus:outline-none"],[1,"relative","lg:w-40","border-t","lg:border-t-0","lg:border-l","border-gray-200"],["appearance","outline","subscriptSizing","dynamic",1,"w-full","no-border","custom-mat-select"],["formControlName","selectedCountries","multiple","","placeholder","Select heritage",1,"custom-select"],[3,"value"],["type","submit",1,"cta-button","text-white","px-8","py-4","font-semibold","text-lg","disabled:opacity-50","disabled:cursor-not-allowed","transition-opacity",3,"disabled"],[1,"mt-4","flex","flex-wrap","gap-2","justify-center"],[1,"country-tag","bg-blue-100","text-blue-800","px-3","py-1","rounded-full","text-sm","font-medium"],[1,"flex","flex-wrap","justify-center","gap-3","mb-12"],[1,"text-gray-300","text-sm"],["type","button",1,"bg-white/20","backdrop-blur-sm","text-white","px-4","py-2","rounded-full","text-sm","hover:bg-white/30","transition-all",3,"click"],[1,"flex","flex-col","sm:flex-row","gap-4","justify-center"],[1,"cta-button","text-white","px-8","py-4","rounded-xl","font-semibold","text-lg"],[1,"bg-white/20","backdrop-blur-sm","border-2","border-white","text-white","px-8","py-4","rounded-xl","font-semibold","text-lg","hover:bg-white","hover:text-gray-800","transition-all"],[1,"absolute","bottom-8","left-1/2","transform","-translate-x-1/2","text-white/60"],[1,"animate-bounce"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 14l-7 7m0 0l-7-7m7 7V3"]],template:function(e,a){if(e&1&&(n(0,"section",0)(1,"div",1)(2,"h2",2),d(3,"br"),n(4,"span",3),r(5,"VouchHer Business"),i()(),n(6,"p",4),r(7," Find. Hire & Vouch for Women in Business "),i(),n(8,"div",5)(9,"form",6),u("ngSubmit",function(){return a.onSearch()}),n(10,"div",7)(11,"div",8)(12,"div",9),d(13,"input",10),i(),n(14,"div",11)(15,"mat-form-field",12)(16,"mat-select",13),E(17,Jn,2,2,"mat-option",14,Zn),i()()(),n(19,"button",15),r(20," Search "),i()()()(),n(21,"div",16),E(22,Kn,2,1,"span",17,Z),i()(),n(24,"div",18)(25,"span",19),r(26,"Popular:"),i(),n(27,"button",20),u("click",function(){return a.onPopularSearch("Bookeping & Tax prep")}),r(28," Bookeping & Tax prep "),i(),n(29,"button",20),u("click",function(){return a.onPopularSearch("Quickbooks")}),r(30," Quickbooks "),i(),n(31,"button",20),u("click",function(){return a.onPopularSearch("eCommerce")}),r(32," eCommerce "),i(),n(33,"button",20),u("click",function(){return a.onPopularSearch("Grant Writing")}),r(34," Grant Writing "),i(),n(35,"button",20),u("click",function(){return a.onPopularSearch("Financial Advisor")}),r(36," Financial Advisor "),i(),n(37,"button",20),u("click",function(){return a.onPopularSearch("Legal")}),r(38," Legal "),i()(),n(39,"div",21)(40,"button",22),r(41," Find More Businesses "),i(),n(42,"button",23),r(43," List A Business "),i()()(),n(44,"div",24)(45,"div",25),v(),n(46,"svg",26),d(47,"path",27),i()()()()),e&2){let l;s(9),C("formGroup",a.searchForm),s(8),M(a.countries),s(2),C("disabled",!a.isFormValid),s(3),M(((l=a.searchForm.get("selectedCountries"))==null?null:l.value)||oe(2,Wn))}},dependencies:[B,pe,le,re,ae,se,ce,de,fe,ue,Ve,Ae,ge,xe,V],styles:["[_ngcontent-%COMP%]:root{--mat-select-panel-background-color: orange}[_ngcontent-%COMP%]:root{--mat-select-enabled-trigger-text-color: red}.mdc-text-field[_ngcontent-%COMP%]{background-color:#fff!important;border-radius:4px}"]})};var qe=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=O({type:o,selectors:[["how-it-works-section"]],decls:38,vars:0,consts:[[1,"py-20","bg-gradient-to-br","from-gray-50","to-blue-50"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"text-center","mb-16"],[1,"text-4xl","md:text-5xl","font-bold","text-gray-900","mb-6"],[1,"text-xl","text-gray-600","max-w-3xl","mx-auto"],[1,"grid","md:grid-cols-3","gap-8","lg:gap-12","mb-16"],[1,"text-center","group"],[1,"relative","mb-8"],[1,"w-24","h-24","mx-auto","bg-white","rounded-2xl","shadow-lg","flex","items-center","justify-center","group-hover:shadow-xl","transition-all","duration-300","group-hover:scale-105"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-12","h-12","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],[1,"text-2xl","font-bold","text-gray-900","mb-4"],[1,"text-gray-600","leading-relaxed"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-center"],[1,"text-gray-500","text-sm","mt-4"]],template:function(e,a){e&1&&(n(0,"section",0)(1,"div",1)(2,"div",2)(3,"h3",3),r(4," How It Works "),i(),n(5,"p",4),r(6," Connecting with talented women in business has never been easier. "),i()(),n(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),v(),n(11,"svg",9),d(12,"path",10),i()()(),T(),n(13,"h4",11),r(14," Find "),i(),n(15,"p",12),r(16," Browse by industry, location or heritage and more. "),i()(),n(17,"div",6)(18,"div",7)(19,"div",8),v(),n(20,"svg",9),d(21,"path",13),i()()(),T(),n(22,"h4",11),r(23," Support "),i(),n(24,"p",12),r(25," Leave a review & vouch for women the businesses you value."),i()(),n(26,"div",6)(27,"div",7)(28,"div",8),v(),n(29,"svg",9),d(30,"path",14),i()()(),T(),n(31,"h4",11),r(32," Vouch "),i(),n(33,"p",12),r(34," Hire or collaborate with women in business locally or nationwide. "),i()()(),n(35,"div",15)(36,"p",16),r(37," Join our community of women in business changing the game. "),i()()()())},encapsulation:2})};var Qe=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=O({type:o,selectors:[["footer-component"]],decls:65,vars:0,consts:[[1,"bg-blue-900","text-white","py-12","mt-12"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"grid","grid-cols-1","md:grid-cols-5","gap-10"],[1,"text-lg","font-semibold","mb-4","tracking-wide"],[1,"space-y-2","text-sm","text-blue-100"],[1,"mt-10","border-t","border-blue-800","pt-6","text-center","text-xs","text-blue-200"]],template:function(e,a){e&1&&(n(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h5",3),r(5,"Categories"),i(),n(6,"ul",4)(7,"li"),r(8,"Trades & Home services"),i(),n(9,"li"),r(10,"Tech & Digital"),i(),n(11,"li"),r(12,"Professional Services"),i(),n(13,"li"),r(14,"Community, Spiritual & Cultural Work"),i(),n(15,"li"),r(16,"Education & Family"),i(),n(17,"li"),r(18,"Creative & Media"),i(),n(19,"li"),r(20,"Events & Experiences"),i(),n(21,"li"),r(22,"Retail & Goods"),i(),n(23,"li"),r(24,"Beauty & Personal Care"),i(),n(25,"li"),r(26,"Food & Beverage"),i(),n(27,"li"),r(28,"Health & Wellness"),i()()(),n(29,"div")(30,"h5",3),r(31,"For Clients"),i(),n(32,"ul",4)(33,"li"),r(34,"How VouchHer Works"),i(),n(35,"li"),r(36,"Trust & Safety"),i(),n(37,"li"),r(38,"Quality Guide"),i()()(),n(39,"div")(40,"h5",3),r(41,"For Businesses"),i(),n(42,"ul",4)(43,"li"),r(44,"List Your Business"),i(),n(45,"li"),r(46,"Guide for great Business Profiles"),i(),n(47,"li"),r(48,"Win work with ads"),i()()(),n(49,"div")(50,"h5",3),r(51,"About VouchHer"),i(),n(52,"ul",4)(53,"li"),r(54,"Social Impact"),i(),n(55,"li"),r(56,"Terms of Service"),i(),n(57,"li"),r(58,"Privacy Policy"),i(),n(59,"li"),r(60,"Data Sharing Policy"),i(),n(61,"li"),r(62,"Trust, Safety & Security"),i()()()(),n(63,"div",5),r(64," \xA9 2024 VouchHer. All rights reserved. "),i()()())},encapsulation:2})};var Ye=class o{authService=b(D);router=b(j);constructor(){Me(()=>{let t=this.authService.isAuthenticated(),e=this.authService.user();t&&e&&(e.user_mode==="business_owner"?(console.log("Redirecting business owner to dashboard"),this.router.navigate(["/dashboard"])):(console.log("Redirecting client to search page"),this.router.navigate(["/search"])))})}ngOnInit(){}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=O({type:o,selectors:[["app-home"]],decls:4,vars:0,template:function(e,a){e&1&&d(0,"app-header")(1,"hero-section")(2,"how-it-works-section")(3,"footer-component")},dependencies:[Y,Ue,qe,Qe],encapsulation:2})};var Xn=()=>({exact:!0});function ei(o,t){if(o&1){let e=S();n(0,"li")(1,"a",39),u("click",function(){x(e);let l=c();return _(l.onNavigationClick())}),v(),n(2,"svg",18),d(3,"path",40),i(),r(4," Overview "),i()()}o&2&&(s(),C("routerLinkActiveOptions",oe(1,Xn)))}function ti(o,t){if(o&1){let e=S();n(0,"li")(1,"a",41),u("click",function(){x(e);let l=c();return _(l.onNavigationClick())}),v(),n(2,"svg",18),d(3,"path",42),i(),r(4," Businesses "),T(),n(5,"span",20),r(6),i()()()}if(o&2){let e=c();s(6),h(" ",e.userBusinessCount()," ")}}function ni(o,t){if(o&1){let e=S();n(0,"li")(1,"a",43),u("click",function(){x(e);let l=c();return _(l.onNavigationClick())}),v(),n(2,"svg",18),d(3,"path",44)(4,"path",45),i(),r(5," Services "),T(),n(6,"span",20),r(7),i()()()}if(o&2){let e=c();s(7),h(" ",e.totalServices()," ")}}function ii(o,t){if(o&1){let e=S();n(0,"li")(1,"a",46),u("click",function(){x(e);let l=c();return _(l.onNavigationClick())}),v(),n(2,"svg",18),d(3,"path",47),i(),r(4," Earnings & Payments "),i()()}}function oi(o,t){if(o&1){let e=S();n(0,"button",48),u("click",function(){x(e);let l=c();return _(l.switchToBusinessMode())}),n(1,"mat-icon",49),r(2,"business"),i(),r(3," Switch to Business Owner "),i()}}function ri(o,t){if(o&1){let e=S();n(0,"button",50),u("click",function(){x(e);let l=c();return _(l.switchToClientMode())}),n(1,"mat-icon",49),r(2,"person_outline"),i(),r(3," Switch to Client Mode "),i()}}var We=class o{authService=b(D);router=b(j);businessService=b(J);projectService=b(_e);socketService=b(Zt);breakpointObserver=b(Ut);favoritesService=b(sn);sidenavOpened=w(!1);isMobile=w(!1);userBusinessCount=w(0);totalServices=w(0);totalProjects=w(0);favoritesCount=I(()=>this.favoritesService.getFavoritesCount());user=this.authService.user;isAuthenticated=this.authService.isAuthenticated;userMode=I(()=>this.user()?.user_mode||"client");isBusinessOwner=I(()=>this.userMode()==="business_owner");isAdmin=I(()=>this.user()?.email?.includes("admin")||!1);mobileSubscription;userModeEffect=Me(()=>{let t=this.userMode(),e=this.user(),a=this.isBusinessOwner();console.log("Dashboard signals updated:",{user:e?.email,mode:t,isBusiness:a}),e&&this.loadDashboardCounts()});ngOnInit(){this.setupMobileDetection(),this.loadDashboardCounts(),this.socketService.connect()}ngOnDestroy(){this.mobileSubscription&&this.mobileSubscription.unsubscribe()}setupMobileDetection(){this.mobileSubscription=this.breakpointObserver.observe([an.Handset]).subscribe(t=>{this.isMobile.set(t.matches),t.matches?this.sidenavOpened.set(!1):this.sidenavOpened.set(!0)})}loadDashboardCounts(){return k(this,null,function*(){try{let t=yield this.businessService.getMyBusinessesAsync();this.userBusinessCount.set(t.length);let e=0;for(let a of t)try{let l=yield this.businessService.getBusinessServicesAsync(a._id);e+=l.length}catch(l){console.warn(`Failed to load services for business ${a._id}:`,l)}this.totalServices.set(e);try{let a=yield this.projectService.getAllMyProjectsAsync();this.totalProjects.set(a.length)}catch(a){console.warn("Failed to load projects:",a),this.totalProjects.set(0)}}catch(t){console.error("Error loading dashboard counts:",t)}})}toggleSidenav(){this.sidenavOpened.set(!this.sidenavOpened())}onMenuToggle(){this.toggleSidenav()}onNavigationClick(){this.isMobile()&&this.sidenavOpened.set(!1)}navigateToCreateBusiness(){this.router.navigate(["/dashboard/businesses/create-business"])}createService(){this.router.navigate(["/dashboard/services/create-service"])}getActiveTabTitle(){let t=this.router.url.split("/");switch(t[t.length-1]){case"dashboard":case"":return this.isBusinessOwner()?"Dashboard Overview":"My Projects";case"overview":return"Dashboard Overview";case"businesses":return"My Businesses";case"services":return"My Services";case"projects":return"My Projects";case"notifications":return"Notifications";case"profile":return"Profile";case"settings":return"Settings";default:return this.router.url.includes("/messages")?"Messages":this.isBusinessOwner()?"Dashboard":"My Projects"}}getUserInitials(){let t=this.user();if(!t)return"";if(t.first_name||t.last_name){let e=t.first_name?.charAt(0).toUpperCase()||"",a=t.last_name?.charAt(0).toUpperCase()||"";return e+a}return t.email.charAt(0).toUpperCase()}navigateToDashboard(){this.router.navigate(["/dashboard"])}navigateToProfile(){this.router.navigate(["/dashboard/profile"])}navigateToSettings(){this.router.navigate(["/dashboard/settings"])}navigateToAdmin(){this.router.navigate(["/admin"])}switchToBusinessMode(){return k(this,null,function*(){try{let t=yield this.authService.switchMode("business_owner");t.data?(console.log("Switched to business owner mode successfully"),console.log("Updated user mode:",this.userMode()),this.loadDashboardCounts()):console.error("Failed to switch to business mode:",t.error)}catch(t){console.error("Error switching to business mode:",t)}})}switchToClientMode(){return k(this,null,function*(){try{let t=yield this.authService.switchMode("client");t.data?(console.log("Switched to client mode successfully"),console.log("Updated user mode:",this.userMode()),this.router.navigate(["/search"])):console.error("Failed to switch to client mode:",t.error)}catch(t){console.error("Error switching to client mode:",t)}})}viewProfile(){this.navigateToProfile()}logout(){this.authService.logout(),this.router.navigate(["/auth"])}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=O({type:o,selectors:[["app-dashboard"]],decls:74,vars:20,consts:[["sidenav",""],[1,"h-screen","flex","flex-col","bg-gray-50"],[3,"menuToggle","showMobileMenuButton","isDashboardMode"],[1,"flex-1","flex"],[1,"sidenav-container"],["position","start",1,"custom-sidenav",3,"opened","mode","disableClose"],[1,"sidebar-content","bg-white","h-full","shadow-lg"],[1,"p-4","border-b","border-gray-200","flex-shrink-0"],[1,"flex","items-center","space-x-3"],[1,"w-10","h-10","bg-blue-500","rounded-full","flex","items-center","justify-center","text-white","font-semibold"],[1,"flex-1"],[1,"font-semibold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"flex","items-center","mt-1"],[1,"w-3","h-3","mr-1","!text-xs"],[1,"p-4","bg-white","flex-1","overflow-y-auto"],[1,"space-y-2"],["routerLink","projects","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"],[1,"ml-auto","bg-gray-200","text-gray-700","py-0.5","px-2","rounded-full","text-xs"],["routerLink","favorites","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"],["routerLink","/search",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-blue-600","hover:bg-blue-50","hover:text-blue-700","group",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","ml-auto","text-blue-500","group-hover:text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"],["routerLink","notifications","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"],["routerLink","./messages","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],[1,"my-6","border-t","border-gray-200"],[1,"space-y-3","mb-6"],[1,"text-xs","font-semibold","text-gray-500","uppercase","tracking-wider"],[1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","rounded-lg","transition-all","duration-200"],[1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","text-gray-600","bg-gray-100","hover:bg-gray-200","rounded-lg","transition-all","duration-200"],[1,"p-4","border-t","border-gray-200","bg-white","flex-shrink-0"],[1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","text-gray-600","hover:bg-red-50","hover:text-red-700","rounded-lg","transition-all","duration-200",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"],["routerLink","overview","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click","routerLinkActiveOptions"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],["routerLink","businesses","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],["routerLink","services","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["routerLink","earnings","routerLinkActive","bg-gray-900 text-white",1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200","text-gray-600","hover:bg-gray-100","hover:text-gray-900",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"],[1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","rounded-lg","transition-all","duration-200",3,"click"],[1,"w-5","h-5","mr-3"],[1,"w-full","flex","items-center","px-3","py-2","text-sm","font-medium","text-gray-600","bg-gray-100","hover:bg-gray-200","rounded-lg","transition-all","duration-200",3,"click"]],template:function(e,a){if(e&1){let l=S();n(0,"div",1)(1,"app-header",2),u("menuToggle",function(){return x(l),_(a.onMenuToggle())}),i(),n(2,"div",3)(3,"mat-sidenav-container",4)(4,"mat-sidenav",5,0)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9),r(10),i(),n(11,"div",10)(12,"h3",11),r(13),i(),n(14,"p",12),r(15),i(),n(16,"div",13)(17,"span")(18,"mat-icon",14),r(19),i(),r(20),i()()()()(),n(21,"nav",15)(22,"ul",16),g(23,ei,5,2,"li")(24,ti,7,1,"li")(25,ni,8,1,"li"),n(26,"li")(27,"a",17),u("click",function(){return x(l),_(a.onNavigationClick())}),v(),n(28,"svg",18),d(29,"path",19),i(),r(30," Projects "),T(),n(31,"span",20),r(32),i()()(),n(33,"li")(34,"a",21),u("click",function(){return x(l),_(a.onNavigationClick())}),v(),n(35,"svg",18),d(36,"path",22),i(),r(37," My Favorites "),T(),n(38,"span",20),r(39),i()()(),n(40,"li")(41,"a",23),u("click",function(){return x(l),_(a.onNavigationClick())}),v(),n(42,"svg",18),d(43,"path",24),i(),r(44," Search Other Businesses "),n(45,"svg",25),d(46,"path",26),i()()(),g(47,ii,5,0,"li"),T(),n(48,"li")(49,"a",27),u("click",function(){return x(l),_(a.onNavigationClick())}),v(),n(50,"svg",18),d(51,"path",28),i(),r(52," Notifications "),i()(),T(),n(53,"li")(54,"a",29),u("click",function(){return x(l),_(a.onNavigationClick())}),v(),n(55,"svg",18),d(56,"path",30),i(),r(57," Messages "),T(),n(58,"span",20),r(59," 0 "),i()()()(),d(60,"div",31),n(61,"div",32)(62,"p",33),r(63,"Account Mode"),i(),g(64,oi,4,0,"button",34)(65,ri,4,0,"button",35),i()(),n(66,"div",36)(67,"button",37),u("click",function(){return x(l),_(a.logout())}),v(),n(68,"svg",18),d(69,"path",38),i(),r(70," Sign Out "),i()()()(),T(),n(71,"mat-sidenav-content")(72,"main"),d(73,"router-outlet"),i()()()()()}if(e&2){let l,m;s(),C("showMobileMenuButton",a.isMobile())("isDashboardMode",!0),s(3),C("opened",a.sidenavOpened())("mode",a.isMobile()?"over":"side")("disableClose",!a.isMobile()),s(6),h(" ",a.getUserInitials()," "),s(3),f((((l=a.user())==null?null:l.first_name)+" "+(((l=a.user())==null?null:l.last_name)||"")).trim()||((l=a.user())==null?null:l.email)),s(2),f((m=a.user())==null?null:m.email),s(2),U("inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ",a.isBusinessOwner()?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800",""),s(2),f(a.isBusinessOwner()?"business":"person"),s(),h(" ",a.isBusinessOwner()?"Business Owner":"Client"," "),s(3),p(a.isBusinessOwner()?23:-1),s(),p(a.isBusinessOwner()?24:-1),s(),p(a.isBusinessOwner()?25:-1),s(7),h(" ",a.totalProjects()," "),s(7),h(" ",a.favoritesCount()," "),s(8),p(a.isBusinessOwner()?47:-1),s(17),p(a.isBusinessOwner()?65:64)}},dependencies:[B,He,on,rn,nn,Yt,N,H,V,je,Ie,Oe,zt,Y],styles:[".mat-drawer{background-color:#fff!important;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f!important;border-radius:0!important}  .mat-drawer-container{background-color:#f9fafb!important}  mat-sidenav{background-color:#fff!important;border-right:1px solid #e5e7eb!important;border-radius:0!important}  .mat-drawer-inner-container{border-radius:0!important}  .mat-drawer-backdrop{background-color:#0009!important}  .mat-drawer-content{flex:1!important;width:100%!important;overflow:auto!important;display:flex!important;flex-direction:column!important}  mat-sidenav-content{flex:1!important;width:100%!important;display:flex!important;flex-direction:column!important;overflow:hidden!important}  .mat-drawer-container{background-color:#f9fafb!important;width:100%!important;height:100%!important;display:flex!important;flex-direction:row!important}.sidenav-container[_ngcontent-%COMP%]{width:100%!important;height:100%!important;flex:1!important;display:flex!important}  .mat-drawer{max-height:100vh!important;height:100%!important;overflow:hidden!important}.sidebar-content[_ngcontent-%COMP%]{height:100%!important;max-height:100vh!important;display:flex!important;flex-direction:column!important;overflow:hidden!important}.sidebar-content[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{flex:1!important;overflow-y:auto!important;overflow-x:hidden!important}main[_ngcontent-%COMP%]{width:100%!important;height:100%!important;flex:1!important;overflow-y:auto!important;overflow-x:hidden!important;box-sizing:border-box!important}.dashboard-loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:3rem 0}.dashboard-loading[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite;border-radius:50%;height:3rem;width:3rem;border:2px solid #e5e7eb;border-top:2px solid #2563eb}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.business-item[_ngcontent-%COMP%]:hover{background-color:#f9fafb;transition:background-color .15s ease-in-out}.status-approved[_ngcontent-%COMP%]{background-color:#dcfce7;color:#166534}.status-pending[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e}.status-rejected[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}.status-suspended[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#374151}.create-business-btn[_ngcontent-%COMP%]:hover{background-color:#1d4ed8;transform:translateY(-1px);transition:all .2s ease-in-out}.action-btn[_ngcontent-%COMP%]:hover{background-color:#f9fafb;transform:translateY(-1px);transition:all .15s ease-in-out}.action-btn-danger[_ngcontent-%COMP%]:hover{background-color:#fef2f2;transform:translateY(-1px);transition:all .15s ease-in-out}.stat-card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;transition:box-shadow .2s ease-in-out}.empty-state[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:.6}  .mat-drawer-content{height:100%!important;max-height:100vh!important;overflow:hidden!important;display:flex!important;flex-direction:column!important}@media (max-width: 640px){.business-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.75rem}.action-buttons[_ngcontent-%COMP%]{margin-left:0;width:100%;justify-content:flex-end}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.create-business-btn[_ngcontent-%COMP%]:focus, .action-btn[_ngcontent-%COMP%]:focus, .action-btn-danger[_ngcontent-%COMP%]:focus{outline:2px solid transparent;outline-offset:2px;box-shadow:0 0 0 2px #2563eb}@media print{.action-buttons[_ngcontent-%COMP%], .create-business-btn[_ngcontent-%COMP%]{display:none}}"]})};var li=["paymentElement"],ci=["stepper"],Dn=(o,t)=>t._id;function di(o,t){o&1&&(n(0,"div",6),d(1,"div",9),i())}function mi(o,t){if(o&1){let e=S();n(0,"div",7)(1,"div",10)(2,"div",11)(3,"mat-icon",12),r(4,"error_outline"),i()(),n(5,"h3",13),r(6),i(),n(7,"div",14)(8,"button",15),u("click",function(){x(e);let l=c();return _(l.onBackToBusiness())}),r(9," Go Back "),i(),n(10,"button",16),u("click",function(){x(e);let l=c();return _(l.ngOnInit())}),r(11," Try Again "),i()()()()}if(o&2){let e=c();s(6),f(e.error())}}function pi(o,t){if(o&1&&d(0,"img",67),o&2){let e=c(3);C("src",e.business().logo_url,R)("alt",e.business().name)}}function ui(o,t){o&1&&(n(0,"div",68)(1,"mat-icon",71),r(2,"business"),i()())}function gi(o,t){if(o&1&&(n(0,"mat-card",23)(1,"mat-card-content")(2,"div",66),g(3,pi,1,2,"img",67)(4,ui,3,0,"div",68),n(5,"div",69)(6,"h3",70),r(7),i(),n(8,"p",22),r(9),i()()()()()),o&2){let e,a,l,m=c(2);s(3),p((e=m.business())!=null&&e.logo_url?3:4),s(4),f((a=m.business())==null?null:a.name),s(2),f(((l=m.business())==null?null:l.short_description)||((l=m.business())==null?null:l.description)||"No description available")}}function fi(o,t){if(o&1&&(n(0,"mat-error"),r(1),i()),o&2){let e=c(2);s(),f(e.getFieldError(e.projectInfoForm,"title"))}}function xi(o,t){if(o&1&&(n(0,"mat-error"),r(1),i()),o&2){let e=c(2);s(),f(e.getFieldError(e.projectInfoForm,"description"))}}function _i(o,t){o&1&&(n(0,"div",34),d(1,"mat-spinner",72),i())}function hi(o,t){o&1&&(n(0,"div",35)(1,"mat-icon",73),r(2,"info"),i(),n(3,"p"),r(4,"No services available for this business"),i()())}function vi(o,t){if(o&1&&(n(0,"span",83),r(1),i()),o&2){let e=c().$implicit;s(),h(" ",e.pricing_type," ")}}function bi(o,t){if(o&1){let e=S();n(0,"div",75)(1,"label",77)(2,"input",78),u("change",function(){let l=x(e).$implicit,m=c(3);return _(m.onServiceToggle(l._id))}),i(),n(3,"div",69)(4,"h4",79),r(5),i(),n(6,"p",80),r(7),i(),n(8,"div",81)(9,"span",82),r(10),i(),g(11,vi,2,1,"span",83),i()()()()}if(o&2){let e=t.$implicit,a=c(3);s(2),C("value",e._id)("checked",a.isServiceSelected()(e._id)),s(3),f(e.name),s(2),f(e.description),s(3),h(" ",a.formatPrice(e.price||0)," "),s(),p(e.pricing_type?11:-1)}}function Ci(o,t){if(o&1&&(n(0,"div",76),r(1),i()),o&2){let e=c(3);s(),h(" ",e.getFieldError(e.projectInfoForm,"selectedServices")," ")}}function yi(o,t){if(o&1&&(n(0,"div",74),E(1,bi,12,6,"div",75,Dn),i(),g(3,Ci,2,1,"div",76)),o&2){let e=c(2);s(),M(e.services()),s(2),p(e.isFieldInvalid(e.projectInfoForm,"selectedServices")?3:-1)}}function wi(o,t){if(o&1&&(n(0,"div",36)(1,"div",84)(2,"div")(3,"h4",85),r(4,"Estimated Total"),i(),n(5,"p",86),r(6),i()(),n(7,"div",87),r(8),i()()()),o&2){let e=c(2);s(6),h("",e.selectedServices().length," service(s) selected"),s(2),h(" ",e.formatPrice(e.totalEstimatedCost())," ")}}function Si(o,t){if(o&1){let e=S();n(0,"div",41),d(1,"img",88),n(2,"button",89),u("click",function(){x(e);let l=c(2);return _(l.removeImage())}),n(3,"mat-icon",90),r(4,"close"),i()()()}if(o&2){let e=c(2);s(),C("src",e.imagePreview(),R)}}function Pi(o,t){if(o&1){let e=S();n(0,"div",42)(1,"input",91,3),u("change",function(l){x(e);let m=c(2);return _(m.onImageSelect(l))}),i(),n(3,"mat-icon",44),r(4,"cloud_upload"),i(),n(5,"p",45),r(6,"Click to upload project image"),i(),n(7,"button",92),u("click",function(){x(e);let l=Ee(2);return _(l.click())}),r(8," Choose Image "),i(),n(9,"p",47),r(10,"JPG, PNG up to 5MB"),i()()}}function Ei(o,t){if(o&1){let e=S();n(0,"div",93)(1,"div",94)(2,"mat-icon",95),r(3),i(),n(4,"div")(5,"p",96),r(6),i(),n(7,"p",97),r(8),i()()(),n(9,"button",98),u("click",function(){let l=x(e).$index,m=c(3);return _(m.removeAttachment(l))}),n(10,"mat-icon",90),r(11,"delete"),i()()()}if(o&2){let e=t.$implicit,a=c(3);s(3),f(a.getFileIcon(e.type)),s(3),f(e.name),s(2),f(a.formatFileSize(e.size))}}function Mi(o,t){if(o&1&&(n(0,"div",48)(1,"h5",79),r(2,"Attached Files:"),i(),E(3,Ei,12,3,"div",93,z),i()),o&2){let e=c(2);s(3),M(e.attachmentPreviews())}}function ki(o,t){o&1&&(d(0,"mat-spinner",99),r(1," Creating Project... "))}function Ti(o,t){o&1&&r(0," Continue to Payment ")}function Ii(o,t){if(o&1&&(n(0,"div",56)(1,"span",22),r(2),i(),n(3,"span"),r(4),i()()),o&2){let e=t.$implicit,a=c(2);s(2),f(e.name),s(2),f(a.formatPrice(e.price||0))}}function Oi(o,t){o&1&&(n(0,"div",61),d(1,"div",100,4),i())}function ji(o,t){o&1&&(n(0,"div",34),d(1,"mat-spinner",72),n(2,"span",101),r(3,"Initializing payment..."),i()())}function Fi(o,t){if(o&1&&(n(0,"div",64),r(1),i()),o&2){let e=c(2);s(),h(" ",e.getFieldError(e.paymentForm,"termsAccepted")," ")}}function Ai(o,t){o&1&&(d(0,"mat-spinner",99),r(1," Processing Payment... "))}function Bi(o,t){if(o&1&&r(0),o&2){let e=c(2);h(" Pay ",e.formatPrice(e.totalEstimatedCost())," ")}}function Vi(o,t){if(o&1){let e=S();n(0,"div",8)(1,"div",17)(2,"button",18),u("click",function(){x(e);let l=c();return _(l.onCancel())}),n(3,"mat-icon",19),r(4,"arrow_back"),i(),r(5," Back "),i(),n(6,"div",20)(7,"h1",21),r(8," Start a New Project "),i(),n(9,"p",22),r(10," Submit your project details and complete payment to get started "),i()(),g(11,gi,10,3,"mat-card",23),i(),n(12,"div",24)(13,"mat-stepper",25,0)(15,"mat-step",26)(16,"form",27),u("ngSubmit",function(){x(e);let l=c();return _(l.onProjectInfoSubmit())}),n(17,"div",28)(18,"mat-form-field",29)(19,"mat-label"),r(20,"Project Title"),i(),d(21,"input",30),n(22,"mat-hint"),r(23,"Be specific about what you need"),i(),g(24,fi,2,1,"mat-error"),i(),n(25,"mat-form-field",29)(26,"mat-label"),r(27,"Project Description"),i(),n(28,"textarea",31),r(29,"                  "),i(),n(30,"mat-hint"),r(31,"Provide as much detail as possible to help the business understand your needs"),i(),g(32,xi,2,1,"mat-error"),i(),n(33,"div",32)(34,"h3",33),r(35,"Select Services"),i(),g(36,_i,2,0,"div",34)(37,hi,5,0,"div",35)(38,yi,4,1),i(),g(39,wi,9,2,"div",36),n(40,"mat-form-field",29)(41,"mat-label"),r(42,"Project Deadline (Optional)"),i(),d(43,"input",37)(44,"mat-datepicker-toggle",38)(45,"mat-datepicker",null,1),n(47,"mat-hint"),r(48,"When would you like this project completed?"),i()(),n(49,"mat-form-field",29)(50,"mat-label"),r(51,"Additional Notes (Optional)"),i(),n(52,"textarea",39),r(53,"                  "),i(),n(54,"mat-hint"),r(55,"Special requirements, preferences, or additional context"),i()(),n(56,"div",32)(57,"h4",33),r(58,"Project Image (Optional)"),i(),n(59,"p",40),r(60,"Add an image to help illustrate your project requirements"),i(),g(61,Si,5,1,"div",41)(62,Pi,11,0,"div",42),i(),n(63,"div",32)(64,"h4",33),r(65,"Attachments (Optional)"),i(),n(66,"p",40),r(67,"Attach files that provide more details about your project"),i(),n(68,"div",42)(69,"input",43,2),u("change",function(l){x(e);let m=c();return _(m.onFilesSelect(l))}),i(),n(71,"mat-icon",44),r(72,"attach_file"),i(),n(73,"p",45),r(74,"Click to attach files"),i(),n(75,"button",46),u("click",function(){x(e);let l=Ee(70);return _(l.click())}),r(76," Choose Files "),i(),n(77,"p",47),r(78,"Documents, images, PDFs up to 10MB each (max 5 files)"),i()(),g(79,Mi,5,0,"div",48),i(),n(80,"div",49)(81,"button",50),u("click",function(){x(e);let l=c();return _(l.onCancel())}),r(82," Cancel "),i(),n(83,"button",51),g(84,ki,2,0)(85,Ti,1,0),i()()()()(),n(86,"mat-step",52)(87,"form",27),u("ngSubmit",function(){x(e);let l=c();return _(l.onPaymentSubmit())}),n(88,"div",28)(89,"div",53)(90,"h3",54),r(91,"Order Summary"),i(),n(92,"div",55)(93,"div",56)(94,"span",22),r(95,"Project:"),i(),n(96,"span",57),r(97),i()(),E(98,Ii,5,2,"div",56,Dn),d(100,"hr",58),n(101,"div",59)(102,"span"),r(103,"Total:"),i(),n(104,"span",60),r(105),i()()()(),n(106,"div",32)(107,"h3",33),r(108,"Payment Information"),i(),g(109,Oi,3,0,"div",61)(110,ji,4,0,"div",34),i(),n(111,"div",32)(112,"mat-checkbox",62)(113,"span",40),r(114," I agree to the "),n(115,"a",63),r(116,"Terms of Service"),i(),r(117," and "),n(118,"a",63),r(119,"Privacy Policy"),i()()(),g(120,Fi,2,1,"div",64),i(),n(121,"div",49)(122,"button",65),r(123," Back to Details "),i(),n(124,"button",51),g(125,Ai,2,0)(126,Bi,1,1),i()()()()()()()()}if(o&2){let e,a=Ee(46),l=c();s(11),p(l.business()?11:-1),s(2),C("linear",!0),s(2),C("stepControl",l.projectInfoForm),s(),C("formGroup",l.projectInfoForm),s(8),p(l.isFieldInvalid(l.projectInfoForm,"title")?24:-1),s(8),p(l.isFieldInvalid(l.projectInfoForm,"description")?32:-1),s(4),p(l.servicesLoading()?36:l.services().length===0?37:38),s(3),p(l.selectedServices().length>0?39:-1),s(4),C("matDatepicker",a),s(),C("for",a),s(17),p(l.imagePreview()?61:62),s(18),p(l.attachmentPreviews().length>0?79:-1),s(4),C("disabled",!l.canContinue()),s(),p(l.submitting()?84:85),s(2),C("stepControl",l.paymentForm),s(),C("formGroup",l.paymentForm),s(10),f((e=l.projectInfoForm.get("title"))==null?null:e.value),s(),M(l.selectedServices()),s(7),f(l.formatPrice(l.totalEstimatedCost())),s(4),p(l.clientSecret()?109:110),s(11),p(l.isFieldInvalid(l.paymentForm,"termsAccepted")?120:-1),s(2),C("disabled",l.paymentProcessing()),s(2),C("disabled",l.paymentProcessing()||l.paymentForm.invalid||!l.clientSecret()),s(),p(l.paymentProcessing()?125:126)}}var Ze=class o{paymentElementRef;formBuilder=b(me);projectService=b(_e);businessService=b(J);authService=b(D);stripeService=b(bn);router=b(j);route=b(q);dashboardRefreshService=b(Cn);loading=w(!1);error=w(null);business=w(null);services=w([]);servicesLoading=w(!1);submitting=w(!1);paymentProcessing=w(!1);clientSecret=w(null);paymentIntentId=w(null);createdProject=w(null);imagePreview=w(null);attachmentPreviews=w([]);imageFile=null;attachmentFiles=[];projectFormData=null;elements=null;paymentElement=null;stepper;projectInfoForm;paymentForm;user=this.authService.user;selectedServiceIds=w([]);selectedServices=I(()=>{let t=this.selectedServiceIds();return this.services().filter(e=>t.includes(e._id))});isServiceSelected=I(()=>{let t=this.selectedServiceIds();return e=>t.includes(e)});totalEstimatedCost=I(()=>this.selectedServices().reduce((t,e)=>t+(e.price||0),0));canContinue=I(()=>{let t=this.projectInfoForm?.valid||!1,e=this.selectedServices().length>0,a=!this.submitting();return t&&e&&a});atLeastOneService(t){let e=t.value;return!e||!Array.isArray(e)||e.length===0?{atLeastOneService:!0}:null}constructor(){this.projectInfoForm=this.formBuilder.group({title:["",[te.required,te.maxLength(200)]],description:["",[te.maxLength(1e3)]],selectedServices:[[],[te.required,this.atLeastOneService]],deadline:[""],additionalNotes:["",[te.maxLength(500)]]}),this.paymentForm=this.formBuilder.group({termsAccepted:[!1,[te.requiredTrue]]})}ngOnInit(){if(!this.user()){this.router.navigate(["/auth"]);return}let t=this.route.snapshot.params.businessId;if(!t){this.error.set("Business ID is required"),this.router.navigate(["/"]);return}this.loadBusinessAndServices(t),this.projectInfoForm.get("selectedServices")?.valueChanges.subscribe(e=>{this.selectedServiceIds.set(e||[])})}loadBusinessAndServices(t){return k(this,null,function*(){this.loading.set(!0),this.error.set(null);try{let e=yield this.businessService.getBusinessAsync(t);this.business.set(e),this.servicesLoading.set(!0);let a=yield this.businessService.getBusinessServicesAsync(t);this.services.set(a.filter(l=>l.is_active))}catch(e){console.error("Error loading business data:",e),this.error.set("Failed to load business information")}finally{this.loading.set(!1),this.servicesLoading.set(!1)}})}onProjectInfoSubmit(){return k(this,null,function*(){if(this.projectInfoForm.invalid){this.markFormGroupTouched(this.projectInfoForm);return}this.submitting.set(!0),this.error.set(null);try{let t=this.projectInfoForm.value,e=this.business();if(!e)throw new Error("Business information not loaded");let a=t.selectedServices,m=this.services().filter(A=>a.includes(A._id)).reduce((A,L)=>A+(L.price||0),0);console.log("Creating payment intent for services:",a),console.log("Total cost:",m);let y=yield this.projectService.calculatePaymentIntentAsync(a);console.log("Payment intent created:",y),this.clientSecret.set(y.clientSecret),this.paymentIntentId.set(y.paymentIntentId),this.projectFormData={title:t.title,description:t.description,business_id:e._id,selected_services:t.selectedServices,deadline:t.deadline?new Date(t.deadline).toISOString():void 0,additional_notes:t.additionalNotes},console.log("Project form data stored for after payment:",this.projectFormData),yield this.initializePaymentElement(y.clientSecret),this.stepper.next()}catch(t){console.error("Error preparing payment:",t),this.error.set(t.error?.message||t.message||"Failed to prepare payment")}finally{this.submitting.set(!1)}})}initializePaymentElement(t){return k(this,null,function*(){try{let{elements:e,paymentElement:a}=yield this.stripeService.createElement(t);this.elements=e,this.paymentElement=a,setTimeout(()=>{this.paymentElementRef?.nativeElement&&this.paymentElement.mount(this.paymentElementRef.nativeElement)},100)}catch(e){console.error("Error initializing payment element:",e),this.error.set("Failed to initialize payment system")}})}onPaymentSubmit(){return k(this,null,function*(){if(this.paymentForm.invalid){this.markFormGroupTouched(this.paymentForm);return}if(!this.elements||!this.clientSecret()){this.error.set("Payment system not properly initialized");return}if(!this.projectFormData||!this.paymentIntentId()){this.error.set("Project data not found. Please go back and fill the form again.");return}this.paymentProcessing.set(!0),this.error.set(null);try{console.log("=== Starting Payment Process ==="),console.log("Client Secret:",this.clientSecret()),console.log("Payment Intent ID:",this.paymentIntentId()),console.log("Project Form Data ready for creation:",this.projectFormData),console.log("Confirming payment with Stripe...");let t=yield this.stripeService.confirmPaymentWithoutRedirect(this.clientSecret(),this.elements);if(console.log("Stripe payment confirmation result:",t),t.error)throw console.error("Payment confirmation failed:",t.error),new Error(t.error.message||"Payment confirmation failed");if("paymentIntent"in t){let a=t.paymentIntent;if(console.log("Payment Intent Status:",a?.status),a?.status!=="succeeded")throw console.error("Payment not succeeded. Status:",a?.status),new Error("Payment was not completed successfully")}else console.log("Payment confirmation successful, no paymentIntent in result");console.log("\u2705 Payment confirmed successfully!"),console.log("Now creating project with payment intent:",this.paymentIntentId());let e=yield this.projectService.createProjectAfterPaymentAsync(this.projectFormData,this.paymentIntentId());if(console.log("\u2705 Project created successfully:",e),this.createdProject.set(e),this.imageFile)try{console.log("Uploading project image..."),yield this.projectService.uploadProjectImageAsync(e._id,this.imageFile),console.log("\u2705 Project image uploaded successfully")}catch(a){console.warn("\u26A0\uFE0F Failed to upload project image:",a)}if(this.attachmentFiles.length>0)try{console.log("Uploading project attachments..."),yield this.projectService.uploadProjectAttachmentsAsync(e._id,this.attachmentFiles),console.log("\u2705 Project attachments uploaded successfully")}catch(a){console.warn("\u26A0\uFE0F Failed to upload project attachments:",a)}console.log("Refreshing dashboard and navigating..."),this.dashboardRefreshService.triggerRefresh(),this.router.navigate(["/dashboard/projects",e._id],{queryParams:{payment:"success"}}),console.log("=== Payment and Project Creation Process Completed Successfully ===")}catch(t){console.error("\u274C Error in payment/project creation process:",t),console.error("Full error object:",t);let e="Payment failed. Please try again.";t.error&&t.error.message?e=t.error.message:t.message&&(e=t.message),e.includes("payment")||e.includes("Payment")?console.error("This appears to be a payment-related error"):console.error("This appears to be a project creation error"),this.error.set(e)}finally{this.paymentProcessing.set(!1)}})}onCancel(){this.router.navigate(["/"])}onBackToBusiness(){let t=this.business();t?this.router.navigate(["/business",t.slug]):this.router.navigate(["/"])}markFormGroupTouched(t){Object.keys(t.controls).forEach(e=>{t.get(e)?.markAsTouched()})}formatPrice(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)}isFieldInvalid(t,e){let a=t.get(e);return!!(a&&a.invalid&&a.touched)}getFieldError(t,e){let a=t.get(e);if(a&&a.errors&&a.touched){if(a.errors.required)return`${e} is required`;if(a.errors.maxlength)return`${e} is too long`;if(a.errors.requiredTrue)return"You must accept the terms"}return""}onServiceToggle(t){let e=this.projectInfoForm.get("selectedServices"),a=e.value||[],l;a.includes(t)?l=a.filter(m=>m!==t):l=[...a,t],e.setValue(l),e.markAsTouched(),this.selectedServiceIds.set(l)}onImageSelect(t){let e=t.target;if(e.files&&e.files.length>0){let a=e.files[0];if(!a.type.startsWith("image/")){this.error.set("Please select an image file.");return}if(a.size>5*1024*1024){this.error.set("Image file size must be less than 5MB.");return}this.imageFile=a;let l=new FileReader;l.onload=m=>{this.imagePreview.set(m.target?.result)},l.readAsDataURL(a),this.error.set(null)}}removeImage(){this.imageFile=null,this.imagePreview.set(null)}onFilesSelect(t){let e=t.target;if(e.files&&e.files.length>0){let a=Array.from(e.files);for(let y of a)if(y.size>10*1024*1024){this.error.set(`File "${y.name}" is too large. Maximum size is 10MB.`);return}if(this.attachmentFiles.length+a.length>5){this.error.set("Maximum 5 files allowed.");return}this.attachmentFiles.push(...a);let l=this.attachmentPreviews(),m=a.map(y=>({name:y.name,url:URL.createObjectURL(y),type:y.type,size:y.size}));this.attachmentPreviews.set([...l,...m]),this.error.set(null)}}removeAttachment(t){this.attachmentFiles.splice(t,1);let e=this.attachmentPreviews();URL.revokeObjectURL(e[t].url),e.splice(t,1),this.attachmentPreviews.set([...e])}formatFileSize(t){if(t===0)return"0 Bytes";let e=1024,a=["Bytes","KB","MB","GB"],l=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,l)).toFixed(2))+" "+a[l]}getFileIcon(t){return t.startsWith("image/")?"image":t.includes("pdf")?"picture_as_pdf":t.includes("word")||t.includes("document")?"description":t.includes("sheet")||t.includes("excel")?"table_chart":t.includes("presentation")||t.includes("powerpoint")?"slideshow":t.includes("text")?"text_snippet":"attach_file"}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=O({type:o,selectors:[["app-create-project-steps"]],viewQuery:function(e,a){if(e&1&&(we(li,5),we(ci,5)),e&2){let l;Se(l=Pe())&&(a.paymentElementRef=l.first),Se(l=Pe())&&(a.stepper=l.first)}},decls:4,vars:1,consts:[["stepper",""],["picker",""],["fileInput",""],["imageInput",""],["paymentElement",""],[1,"min-h-screen","bg-gray-50"],[1,"flex","justify-center","items-center","py-20"],[1,"max-w-2xl","mx-auto","px-4","sm:px-6","lg:px-8","py-12"],[1,"max-w-4xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-blue-600"],[1,"text-center","py-12","bg-white","rounded-lg","shadow-sm","border","border-gray-200"],[1,"text-red-400","mb-4"],[1,"text-6xl"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"space-x-4"],[1,"bg-gray-600","text-white","px-4","py-2","rounded-lg","hover:bg-gray-700","transition-colors",3,"click"],[1,"bg-blue-600","text-white","px-4","py-2","rounded-lg","hover:bg-blue-700","transition-colors",3,"click"],[1,"mb-8"],[1,"mb-4","flex","items-center","text-gray-600","hover:text-gray-800","transition-colors",3,"click"],[1,"mr-2"],[1,"text-center"],[1,"text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600"],[1,"mt-6"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200"],[1,"project-stepper",3,"linear"],["label","Project Details",3,"stepControl"],[3,"ngSubmit","formGroup"],[1,"p-8","space-y-6"],["appearance","outline",1,"w-full"],["matInput","","formControlName","title","placeholder","Enter your project title","maxlength","200"],["matInput","","formControlName","description","placeholder","Describe your project requirements in detail","rows","4","maxlength","1000"],[1,"space-y-4"],[1,"text-lg","font-medium","text-gray-900"],[1,"flex","justify-center","py-8"],[1,"text-center","py-8","text-gray-500"],[1,"bg-blue-50","border","border-blue-200","rounded-lg","p-4"],["matInput","","formControlName","deadline","placeholder","Choose a deadline",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","additionalNotes","placeholder","Any additional requirements or special instructions","rows","3","maxlength","500"],[1,"text-sm","text-gray-600"],[1,"relative","inline-block"],[1,"border-2","border-dashed","border-gray-300","rounded-lg","p-6","text-center","hover:border-gray-400","transition-colors"],["type","file","multiple","",1,"hidden",3,"change"],[1,"text-gray-400","text-4xl","mb-2"],[1,"text-gray-600","mb-2"],["type","button",1,"bg-gray-600","text-white","px-4","py-2","rounded-lg","hover:bg-gray-700","transition-colors",3,"click"],[1,"text-xs","text-gray-500","mt-2"],[1,"space-y-2"],[1,"flex","justify-between","pt-6"],["type","button","mat-stroked-button","",1,"px-6","py-2",3,"click"],["type","submit","mat-raised-button","","color","primary",1,"px-8","py-2",3,"disabled"],["label","Payment",3,"stepControl"],[1,"bg-gray-50","rounded-lg","p-6","mb-6"],[1,"text-lg","font-medium","text-gray-900","mb-4"],[1,"space-y-3"],[1,"flex","justify-between"],[1,"font-medium"],[1,"my-3"],[1,"flex","justify-between","text-lg","font-semibold"],[1,"text-blue-600"],[1,"border","rounded-lg","p-4"],["formControlName","termsAccepted",1,"w-full"],["href","#",1,"text-blue-600","hover:underline"],[1,"text-red-600","text-sm"],["type","button","mat-stroked-button","","matStepperPrevious","",1,"px-6","py-2",3,"disabled"],[1,"flex","items-center","space-x-4"],[1,"w-16","h-16","rounded-lg","object-cover",3,"src","alt"],[1,"w-16","h-16","rounded-lg","bg-gray-200","flex","items-center","justify-center"],[1,"flex-1"],[1,"text-xl","font-semibold","text-gray-900"],[1,"text-gray-500","text-2xl"],["diameter","32"],[1,"text-4xl","mb-2"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"border","rounded-lg","p-4","hover:border-blue-300","transition-colors"],[1,"text-red-600","text-sm","mt-2"],[1,"flex","items-start","space-x-3","cursor-pointer"],["type","checkbox",1,"mt-1","h-4","w-4","text-blue-600","border-gray-300","rounded","focus:ring-blue-500",3,"change","value","checked"],[1,"font-medium","text-gray-900"],[1,"text-sm","text-gray-600","mt-1"],[1,"flex","justify-between","items-center","mt-2"],[1,"text-lg","font-semibold","text-blue-600"],[1,"text-xs","text-gray-500","bg-gray-100","px-2","py-1","rounded"],[1,"flex","justify-between","items-center"],[1,"font-medium","text-blue-900"],[1,"text-sm","text-blue-700"],[1,"text-2xl","font-bold","text-blue-900"],["alt","Project preview",1,"w-32","h-32","object-cover","rounded-lg","border","border-gray-200",3,"src"],["type","button",1,"absolute","-top-2","-right-2","bg-red-100","text-red-600","rounded-full","p-1","hover:bg-red-200","transition-colors",3,"click"],[1,"text-sm"],["type","file","accept","image/*",1,"hidden",3,"change"],["type","button",1,"bg-blue-600","text-white","px-4","py-2","rounded-lg","hover:bg-blue-700","transition-colors",3,"click"],[1,"flex","items-center","justify-between","p-3","bg-gray-50","rounded-lg","border","border-gray-200"],[1,"flex","items-center","space-x-3"],[1,"text-gray-500"],[1,"text-sm","font-medium","text-gray-900","truncate","max-w-xs"],[1,"text-xs","text-gray-500"],["type","button",1,"text-red-600","hover:text-red-700","p-1",3,"click"],["diameter","20",1,"mr-2"],[1,"stripe-payment-element"],[1,"ml-3","text-gray-600"]],template:function(e,a){e&1&&(n(0,"div",5),g(1,di,2,0,"div",6)(2,mi,12,1,"div",7)(3,Vi,127,23,"div",8),i()),e&2&&(s(),p(a.loading()?1:a.error()?2:3))},dependencies:[B,pe,le,re,ae,se,Jt,ce,de,ge,ue,Be,Xt,Kt,tn,xe,De,fe,Ne,ln,pn,cn,dn,mn,un,V,Q,N,H,X,K,ze,Le,gn,hn,fn,xn,_n,vn],styles:[".project-stepper[_ngcontent-%COMP%]   .mat-stepper-horizontal-line[_ngcontent-%COMP%]{background-color:#e5e7eb;height:2px}.project-stepper[_ngcontent-%COMP%]   .mat-step-header[_ngcontent-%COMP%]{padding:16px 24px}.project-stepper[_ngcontent-%COMP%]   .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon[_ngcontent-%COMP%]{background-color:#6b7280;color:#fff}.project-stepper[_ngcontent-%COMP%]   .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon.mat-step-icon-selected[_ngcontent-%COMP%]{background-color:#3b82f6}.project-stepper[_ngcontent-%COMP%]   .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon.mat-step-icon-state-done[_ngcontent-%COMP%]{background-color:#10b981}.project-stepper[_ngcontent-%COMP%]   .mat-step-header[_ngcontent-%COMP%]   .mat-step-label[_ngcontent-%COMP%]{font-weight:500;color:#374151}.project-stepper[_ngcontent-%COMP%]   .mat-step-header[_ngcontent-%COMP%]   .mat-step-label.mat-step-label-active[_ngcontent-%COMP%], .project-stepper[_ngcontent-%COMP%]   .mat-step-header[_ngcontent-%COMP%]   .mat-step-label.mat-step-label-selected[_ngcontent-%COMP%]{color:#3b82f6}.business-info-card[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:12px;box-shadow:0 1px 3px #0000001a}.stripe-payment-element[_ngcontent-%COMP%]{min-height:200px}.mat-mdc-checkbox[_ngcontent-%COMP%]   .mat-mdc-checkbox-frame[_ngcontent-%COMP%]{border-color:#d1d5db}.mat-mdc-checkbox.mat-mdc-checkbox-checked[_ngcontent-%COMP%]   .mat-mdc-checkbox-background[_ngcontent-%COMP%]{background-color:#3b82f6}.mat-mdc-form-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{border-radius:8px}.mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mdc-notched-outline__leading[_ngcontent-%COMP%], .mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mdc-notched-outline__notch[_ngcontent-%COMP%], .mat-mdc-form-field.mat-focused[_ngcontent-%COMP%]   .mdc-notched-outline__trailing[_ngcontent-%COMP%]{border-color:#3b82f6}.mat-mdc-raised-button[_ngcontent-%COMP%]{border-radius:8px;font-weight:600;text-transform:none;box-shadow:0 1px 3px #0000001a}.mat-mdc-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#3b82f6}.mat-mdc-raised-button.mat-primary[_ngcontent-%COMP%]:hover{background-color:#2563eb}.mat-mdc-outlined-button[_ngcontent-%COMP%]{border-radius:8px;font-weight:500;text-transform:none;border-color:#d1d5db;color:#374151}.mat-mdc-outlined-button[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.service-card[_ngcontent-%COMP%]{transition:all .2s ease-in-out}.service-card[_ngcontent-%COMP%]:hover{border-color:#3b82f6;box-shadow:0 4px 6px -1px #0000001a}.service-card.selected[_ngcontent-%COMP%]{border-color:#3b82f6;background-color:#eff6ff}.loading-spinner[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:2rem}.error-message[_ngcontent-%COMP%]{background-color:#fef2f2;border:1px solid #fecaca;color:#dc2626;padding:1rem;border-radius:8px;margin-bottom:1rem}"]})};var Ke=(o,t)=>{let e=b(D),a=b(j);return e.isAuthenticated$.pipe(be(l=>l?!0:(a.navigate(["/auth"],{queryParams:{returnUrl:t.url}}),!1)))};var Rn=(o,t)=>{let e=b(D),a=b(j);return e.isAuthenticated$.pipe(be(l=>l?(a.navigate(["/"]),!1):!0))};var et=(o,t)=>t._id;function Di(o,t){o&1&&(n(0,"div",1)(1,"div",2)(2,"div",3),d(3,"div",4),n(4,"span",5),r(5,"Loading business profile..."),i()()()())}function Ri(o,t){if(o&1){let e=S();n(0,"div",1)(1,"div",2)(2,"div",6)(3,"div",7),v(),n(4,"svg",8),d(5,"path",9),i(),T(),n(6,"div")(7,"h3",10),r(8,"Error Loading Business"),i(),n(9,"p",11),r(10),i(),n(11,"button",12),u("click",function(){x(e);let l=c();return _(l.goBack())}),r(12," Go Back "),i()()()()()()}if(o&2){let e=c();s(10),f(e.error())}}function Hi(o,t){if(o&1&&d(0,"div",72)(1,"div",73),o&2){let e,a=c(2);st("background-image","url("+((e=a.business())==null?null:e.banner_url)+")")}}function Ni(o,t){o&1&&d(0,"div",14)}function Li(o,t){if(o&1&&d(0,"img",20),o&2){let e=c(2);C("src",e.business().logo_url,R)("alt",e.business().name+" logo")}}function zi(o,t){o&1&&(n(0,"div",21),v(),n(1,"svg",74),d(2,"path",75),i()())}function $i(o,t){if(o&1&&(n(0,"p",27),r(1),i()),o&2){let e,a=c(2);s(),h(" ",(e=a.business())==null?null:e.short_description," ")}}function Gi(o,t){if(o&1){let e=S();n(0,"button",76),u("click",function(){x(e);let l=c(2);return _(l.editBusiness())}),v(),n(1,"svg",77),d(2,"path",78),i(),r(3," Edit Business "),i(),T(),n(4,"button",79),u("click",function(){x(e);let l=c(2);return _(l.addService())}),v(),n(5,"svg",77),d(6,"path",80),i(),r(7," Add Service "),i()}}function Ui(o,t){if(o&1){let e=S();n(0,"button",87),u("click",function(){x(e);let l=c(3);return _(l.startProject())}),v(),n(1,"svg",77),d(2,"path",88),i(),r(3),i()}if(o&2){let e=c(3);ie(e.activeServices().length===0?"inline-flex items-center px-6 py-3 bg-gray-400 text-gray-200 rounded-xl cursor-not-allowed shadow-lg font-medium":"inline-flex items-center px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl transition-all shadow-lg font-medium"),C("disabled",e.activeServices().length===0),s(3),h(" ",e.activeServices().length===0?"No Services Available":"Start a Project"," ")}}function qi(o,t){if(o&1){let e=S();n(0,"button",76),u("click",function(){x(e);let l=c(3);return _(l.visitWebsite())}),v(),n(1,"svg",77),d(2,"path",89),i(),r(3," Visit Website "),i()}}function Qi(o,t){if(o&1&&(n(0,"button",86),v(),n(1,"svg",77),d(2,"path",90),i(),r(3),i()),o&2){let e,a=c(3);s(3),h(" ",(e=a.business())==null?null:e.contact_phone," ")}}function Yi(o,t){if(o&1){let e=S();n(0,"div",60),d(1,"app-favorite-button",81),n(2,"button",82),u("click",function(){x(e);let l=c(2);return _(l.openReportDialog())}),v(),n(3,"svg",83),d(4,"path",84),i()()(),g(5,Ui,4,4,"button",85)(6,qi,4,0,"button",86)(7,Qi,4,1,"button",86)}if(o&2){let e,a,l,m=c(2);s(),C("businessId",m.business()._id)("businessName",m.business().name),s(4),p(!m.isOwner()&&((e=m.business())!=null&&e.contact_email)?5:-1),s(),p((a=m.business())!=null&&a.website?6:-1),s(),p((l=m.business())!=null&&l.contact_phone?7:-1)}}function Wi(o,t){if(o&1&&r(0),o&2){let e=c(2);h(" \u2B50",e.formatRating(e.averageRating())," ")}}function Zi(o,t){if(o&1&&(n(0,"p",53),r(1),i()),o&2){let e,a=c(2);s(),f((e=a.business())==null?null:e.description)}}function Ji(o,t){o&1&&(n(0,"p",54),r(1,"No description provided."),i())}function Ki(o,t){if(o&1&&(n(0,"span",93),r(1),i()),o&2){let e=t.$implicit;s(),h(" ",e," ")}}function Xi(o,t){if(o&1&&(n(0,"div",55)(1,"h4",91),r(2,"Tags"),i(),n(3,"div",92),E(4,Ki,2,1,"span",93,Z),i()()),o&2){let e=c(2);s(4),M(e.businessTags())}}function eo(o,t){if(o&1&&(n(0,"div",33),r(1),i()),o&2){let e,a=c(3);s(),lt(" ",(e=a.business())==null?null:e.city,"",(e=a.business())!=null&&e.city&&((e=a.business())!=null&&e.state)?", ":"","",(e=a.business())==null?null:e.state," ")}}function to(o,t){if(o&1&&(n(0,"div",59),v(),n(1,"svg",94),d(2,"path",95)(3,"path",96),i(),T(),n(4,"div")(5,"div",97),r(6),i(),g(7,eo,2,3,"div",33),i()()),o&2){let e,a,l=c(2);s(6),f((e=l.business())==null?null:e.address),s(),p((a=l.business())!=null&&a.city||(a=l.business())!=null&&a.state?7:-1)}}function no(o,t){if(o&1&&(n(0,"div",60),v(),n(1,"svg",98),d(2,"path",99),i(),T(),n(3,"span",97),r(4),i()()),o&2){let e,a=c(2);s(4),f((e=a.business())==null?null:e.contact_email)}}function io(o,t){if(o&1&&(n(0,"div",60),v(),n(1,"svg",98),d(2,"path",90),i(),T(),n(3,"span",97),r(4),i()()),o&2){let e,a=c(2);s(4),f((e=a.business())==null?null:e.contact_phone)}}function oo(o,t){if(o&1&&(n(0,"div",60),v(),n(1,"svg",98),d(2,"path",89),i(),T(),n(3,"a",100),r(4),i()()),o&2){let e,a,l=c(2);s(3),C("href",(e=l.business())==null?null:e.website,R),s(),h(" ",(a=l.business())==null?null:a.website," ")}}function ro(o,t){o&1&&(n(0,"div",61),d(1,"div",101),n(2,"span",102),r(3,"Loading owner..."),i()())}function ao(o,t){if(o&1&&d(0,"img",103),o&2){let e=c(3);C("src",e.owner().avatar_url,R)("alt",(e.owner().first_name+" "+(e.owner().last_name||"")).trim()+" profile")}}function so(o,t){o&1&&(n(0,"div",104),v(),n(1,"svg",108),d(2,"path",109),i()())}function lo(o,t){if(o&1&&(n(0,"p",106),r(1),i()),o&2){let e,a=c(3);s(),f((e=a.owner())==null?null:e.bio)}}function co(o,t){if(o&1&&(n(0,"div",70),v(),n(1,"svg",110),d(2,"path",95)(3,"path",96),i(),T(),n(4,"span",111),r(5),i()()),o&2){let e,a=c(3);s(5),lt(" ",(e=a.owner())==null?null:e.city,"",(e=a.owner())!=null&&e.city&&((e=a.owner())!=null&&e.country)?", ":"","",(e=a.owner())==null?null:e.country," ")}}function mo(o,t){if(o&1){let e=S();n(0,"button",112),u("click",function(){x(e);let l=c(3);return _(l.contactOwner())}),v(),n(1,"svg",40),d(2,"path",113),i(),r(3," Contact Owner "),i()}}function po(o,t){if(o&1&&(n(0,"div",58)(1,"div",60),g(2,ao,1,2,"img",103)(3,so,3,0,"div",104),n(4,"div")(5,"h4",105),r(6),i(),n(7,"p",33),r(8,"Business Owner"),i()()(),g(9,lo,2,1,"p",106)(10,co,6,3,"div",70)(11,mo,4,0,"button",107),i()),o&2){let e,a,l,m,y=c(2);s(2),p((e=y.owner())!=null&&e.avatar_url?2:3),s(4),f((((a=y.owner())==null?null:a.first_name)+" "+(((a=y.owner())==null?null:a.last_name)||"")).trim()),s(3),p((l=y.owner())!=null&&l.bio?9:-1),s(),p((m=y.owner())!=null&&m.city||(m=y.owner())!=null&&m.country?10:-1),s(),p(y.isOwner()?-1:11)}}function uo(o,t){o&1&&(n(0,"p",62),r(1,"Owner information not available"),i())}function go(o,t){o&1&&(n(0,"div",3),d(1,"div",114),n(2,"span",5),r(3,"Loading services..."),i()())}function fo(o,t){if(o&1){let e=S();n(0,"button",121),u("click",function(){x(e);let l=c(3);return _(l.addService())}),v(),n(1,"svg",40),d(2,"path",80),i(),r(3," Add Your First Service "),i()}}function xo(o,t){if(o&1&&(n(0,"div",64)(1,"div",115),v(),n(2,"svg",116),d(3,"path",42)(4,"path",117),i()(),T(),n(5,"h3",118),r(6,"No Services Yet"),i(),n(7,"p",119),r(8,"This business hasn't added any services yet."),i(),g(9,fo,4,0,"button",120),i()),o&2){let e=c(2);s(9),p(e.isOwner()?9:-1)}}function _o(o,t){if(o&1&&(n(0,"p",133),r(1),i()),o&2){let e=c().$implicit;s(),f(e.short_description)}}function ho(o,t){if(o&1&&(n(0,"span",33),r(1),i()),o&2){let e=c().$implicit,a=c(4);s(),f(a.formatDuration(e.duration))}}function vo(o,t){if(o&1&&(n(0,"li",7),v(),n(1,"svg",140),d(2,"path",141),i(),r(3),i()),o&2){let e=t.$implicit;s(3),h(" ",e," ")}}function bo(o,t){if(o&1&&(n(0,"div",135)(1,"ul",139),E(2,vo,4,1,"li",7,Z),i()()),o&2){let e=c().$implicit;s(2),M(e.features.slice(0,3))}}function Co(o,t){if(o&1){let e=S();n(0,"button",142),u("click",function(){x(e);let l=c().$implicit,m=c(4);return _(m.editService(l._id))}),v(),n(1,"svg",40),d(2,"path",78),i(),r(3," Edit Service "),i()}}function yo(o,t){if(o&1){let e=S();n(0,"button",143),u("click",function(){x(e);let l=c().$implicit,m=c(4);return _(m.startProjectWithService(l._id))}),v(),n(1,"svg",40),d(2,"path",113),i(),r(3," Start Project "),i()}}function wo(o,t){if(o&1&&(n(0,"div",128)(1,"div",129)(2,"div",130)(3,"h4",57),r(4),i(),n(5,"span",131),r(6," Featured "),i()()(),n(7,"div",132),g(8,_o,2,1,"p",133),n(9,"div",134)(10,"span",57),r(11),i(),g(12,ho,2,1,"span",33),i(),g(13,bo,4,0,"div",135),i(),n(14,"div",136),g(15,Co,4,0,"button",137)(16,yo,4,0,"button",138),i()()),o&2){let e=t.$implicit,a=c(4);s(4),f(e.name),s(4),p(e.short_description?8:-1),s(3),h(" ",a.formatPrice(e.price,e.pricing_type)," "),s(),p(e.duration?12:-1),s(),p(e.features&&e.features.length>0?13:-1),s(2),p(a.isOwner()?15:16)}}function So(o,t){if(o&1&&(n(0,"div",122)(1,"div",123)(2,"h3",124),r(3,"Featured Services"),i(),n(4,"span",33),r(5),i()(),n(6,"div",127),E(7,wo,17,6,"div",128,et),i()()),o&2){let e=c(3);s(5),h("",e.featuredServices().length," service(s)"),s(2),M(e.featuredServices())}}function Po(o,t){if(o&1){let e=S();n(0,"button",144),u("click",function(){x(e);let l=c(3);return _(l.addService())}),v(),n(1,"svg",40),d(2,"path",80),i(),r(3," Add Service "),i()}}function Eo(o,t){if(o&1&&(n(0,"p",133),r(1),i()),o&2){let e=c().$implicit;s(),f(e.short_description)}}function Mo(o,t){if(o&1&&(n(0,"span",33),r(1),i()),o&2){let e=c().$implicit,a=c(3);s(),f(a.formatDuration(e.duration))}}function ko(o,t){if(o&1&&(n(0,"li",7),v(),n(1,"svg",140),d(2,"path",141),i(),r(3),i()),o&2){let e=t.$implicit;s(3),h(" ",e," ")}}function To(o,t){if(o&1&&(n(0,"div",135)(1,"ul",139),E(2,ko,4,1,"li",7,Z),i()()),o&2){let e=c().$implicit;s(2),M(e.features.slice(0,3))}}function Io(o,t){if(o&1){let e=S();n(0,"button",142),u("click",function(){x(e);let l=c().$implicit,m=c(3);return _(m.editService(l._id))}),v(),n(1,"svg",40),d(2,"path",78),i(),r(3," Edit Service "),i()}}function Oo(o,t){if(o&1){let e=S();n(0,"button",143),u("click",function(){x(e);let l=c().$implicit,m=c(3);return _(m.startProjectWithService(l._id))}),v(),n(1,"svg",40),d(2,"path",113),i(),r(3," Start Project "),i()}}function jo(o,t){if(o&1&&(n(0,"div",128)(1,"div",129)(2,"h4",57),r(3),i()(),n(4,"div",132),g(5,Eo,2,1,"p",133),n(6,"div",134)(7,"span",57),r(8),i(),g(9,Mo,2,1,"span",33),i(),g(10,To,4,0,"div",135),i(),n(11,"div",136),g(12,Io,4,0,"button",137)(13,Oo,4,0,"button",138),i()()),o&2){let e=t.$implicit,a=c(3);s(3),f(e.name),s(2),p(e.short_description?5:-1),s(3),h(" ",a.formatPrice(e.price,e.pricing_type)," "),s(),p(e.duration?9:-1),s(),p(e.features&&e.features.length>0?10:-1),s(2),p(a.isOwner()?12:13)}}function Fo(o,t){if(o&1&&(g(0,So,9,1,"div",122),n(1,"div")(2,"div",123)(3,"div")(4,"h3",124),r(5,"All Services"),i(),n(6,"p",125),r(7),i()(),g(8,Po,4,0,"button",126),i(),n(9,"div",127),E(10,jo,14,6,"div",128,et),i()()),o&2){let e=c(2);p(e.featuredServices().length>0?0:-1),s(7),h("",e.activeServices().length," service(s) available"),s(),p(e.isOwner()?8:-1),s(2),M(e.activeServices())}}function Ao(o,t){o&1&&(n(0,"div",3),d(1,"div",114),n(2,"span",5),r(3,"Loading portfolio..."),i()())}function Bo(o,t){o&1&&(n(0,"div",66)(1,"div",115),v(),n(2,"svg",116),d(3,"path",43),i()(),T(),n(4,"h3",145),r(5,"No Completed Projects Yet"),i(),n(6,"p",146),r(7,"Completed projects will appear here to showcase this business's work."),i()())}function Vo(o,t){if(o&1&&d(0,"img",150),o&2){let e=c().$implicit;C("src",e.image_url,R)("alt",e.title)}}function Do(o,t){o&1&&(n(0,"div",151),v(),n(1,"svg",165),d(2,"path",88),i()())}function Ro(o,t){if(o&1&&(n(0,"span",168),r(1),i()),o&2){let e=t.$implicit,a=c(5);s(),h(" ",a.getServiceName(e)," ")}}function Ho(o,t){if(o&1&&(n(0,"span",169),r(1),i()),o&2){let e=c(2).$implicit;s(),h(" +",e.selected_services.length-3," more ")}}function No(o,t){if(o&1&&(n(0,"div",164)(1,"p",166),r(2,"Services Used:"),i(),n(3,"div",167),E(4,Ro,2,1,"span",168,z),g(6,Ho,2,1,"span",169),i()()),o&2){let e=c().$implicit;s(4),M(e.selected_services.slice(0,3)),s(2),p(e.selected_services.length>3?6:-1)}}function Lo(o,t){if(o&1){let e=S();n(0,"div",148),u("click",function(){let l=x(e).$implicit,m=c(3);return _(m.viewProject(l))}),n(1,"div",149),g(2,Vo,1,2,"img",150)(3,Do,3,0,"div",151),n(4,"div",152)(5,"span",153),v(),n(6,"svg",154),d(7,"path",155),i(),r(8," Completed "),i()()(),T(),n(9,"div",52)(10,"div",156)(11,"h3",157),r(12),i()(),n(13,"p",158),r(14),i(),n(15,"div",159)(16,"div",160)(17,"span",146),r(18,"Client:"),i(),n(19,"span",161),r(20),i()(),n(21,"div",160)(22,"span",146),r(23,"Project Value:"),i(),n(24,"span",162),r(25),i()(),n(26,"div",160)(27,"span",146),r(28,"Completed:"),i(),n(29,"span",163),r(30),i()()(),g(31,No,7,1,"div",164),i()()}if(o&2){let e=t.$implicit,a=c(3);s(2),p(e.image_url?2:3),s(10),f(e.title),s(2),h(" ",e.description||"No description provided"," "),s(6),f(a.getClientName(e)),s(5),f(a.formatProjectPrice(e.offered_price)),s(5),f(a.formatProjectDate(e.completed_at||e.updatedAt)),s(),p(e.selected_services&&e.selected_services.length>0?31:-1)}}function zo(o,t){if(o&1&&(n(0,"div",67),E(1,Lo,32,7,"div",147,et),i()),o&2){let e=c(2);s(),M(e.completedProjects())}}function $o(o,t){if(o&1&&(v(),n(0,"svg",171),d(1,"path",172),i()),o&2){let e=t.$implicit;U("w-5 h-5 ",e?"text-yellow-400":"text-gray-300","")}}function Go(o,t){if(o&1&&(n(0,"div",70)(1,"div",7),E(2,$o,2,3,":svg:svg",170,z),i(),n(4,"span",57),r(5),i(),n(6,"span",33),r(7),i()()),o&2){let e=c(2);s(2),M(e.getStarArray(e.averageRating())),s(3),f(e.formatRating(e.averageRating())),s(2),ee("(",e.totalReviews()," ",e.totalReviews()===1?"review":"reviews",")")}}function Uo(o,t){o&1&&(n(0,"div",71),d(1,"div",114),n(2,"span",5),r(3,"Loading reviews..."),i()())}function qo(o,t){o&1&&(n(0,"div",66)(1,"div",115),v(),n(2,"svg",116),d(3,"path",44),i()(),T(),n(4,"h3",145),r(5,"No Reviews Yet"),i(),n(6,"p",146),r(7,"This business hasn't received any reviews yet."),i()())}function Qo(o,t){if(o&1&&(v(),n(0,"svg",171),d(1,"path",172),i()),o&2){let e=t.$implicit;U("w-6 h-6 ",e?"text-yellow-400":"text-gray-300","")}}function Yo(o,t){if(o&1&&(v(),n(0,"svg",171),d(1,"path",172),i()),o&2){let e=t.$implicit;U("w-4 h-4 ",e?"text-yellow-400":"text-gray-300","")}}function Wo(o,t){if(o&1&&(n(0,"div",160)(1,"span",181),r(2,"Service Quality"),i(),n(3,"div",7)(4,"div",182),E(5,Yo,2,3,":svg:svg",170,z),i(),n(7,"span",183),r(8),i()()()),o&2){let e=c(4);s(5),M(e.getStarArray(e.reviewStats().service_quality_avg)),s(3),f(e.formatRating(e.reviewStats().service_quality_avg))}}function Zo(o,t){if(o&1&&(v(),n(0,"svg",171),d(1,"path",172),i()),o&2){let e=t.$implicit;U("w-4 h-4 ",e?"text-yellow-400":"text-gray-300","")}}function Jo(o,t){if(o&1&&(n(0,"div",160)(1,"span",181),r(2,"Communication"),i(),n(3,"div",7)(4,"div",182),E(5,Zo,2,3,":svg:svg",170,z),i(),n(7,"span",183),r(8),i()()()),o&2){let e=c(4);s(5),M(e.getStarArray(e.reviewStats().communication_avg)),s(3),f(e.formatRating(e.reviewStats().communication_avg))}}function Ko(o,t){if(o&1&&(v(),n(0,"svg",171),d(1,"path",172),i()),o&2){let e=t.$implicit;U("w-4 h-4 ",e?"text-yellow-400":"text-gray-300","")}}function Xo(o,t){if(o&1&&(n(0,"div",160)(1,"span",181),r(2,"Timeliness"),i(),n(3,"div",7)(4,"div",182),E(5,Ko,2,3,":svg:svg",170,z),i(),n(7,"span",183),r(8),i()()()),o&2){let e=c(4);s(5),M(e.getStarArray(e.reviewStats().timeliness_avg)),s(3),f(e.formatRating(e.reviewStats().timeliness_avg))}}function er(o,t){if(o&1&&(v(),n(0,"svg",171),d(1,"path",172),i()),o&2){let e=t.$implicit;U("w-4 h-4 ",e?"text-yellow-400":"text-gray-300","")}}function tr(o,t){if(o&1&&(n(0,"div",160)(1,"span",181),r(2,"Value for Money"),i(),n(3,"div",7)(4,"div",182),E(5,er,2,3,":svg:svg",170,z),i(),n(7,"span",183),r(8),i()()()),o&2){let e=c(4);s(5),M(e.getStarArray(e.reviewStats().value_for_money_avg)),s(3),f(e.formatRating(e.reviewStats().value_for_money_avg))}}function nr(o,t){if(o&1&&(n(0,"div",159)(1,"h4",180),r(2,"Rating Breakdown"),i(),g(3,Wo,9,1,"div",160)(4,Jo,9,1,"div",160)(5,Xo,9,1,"div",160)(6,tr,9,1,"div",160),i()),o&2){let e=c(3);s(3),p(e.reviewStats().service_quality_avg?3:-1),s(),p(e.reviewStats().communication_avg?4:-1),s(),p(e.reviewStats().timeliness_avg?5:-1),s(),p(e.reviewStats().value_for_money_avg?6:-1)}}function ir(o,t){if(o&1&&(v(),n(0,"svg",171),d(1,"path",172),i()),o&2){let e=t.$implicit;U("w-4 h-4 ",e?"text-yellow-400":"text-gray-300","")}}function or(o,t){if(o&1&&(n(0,"p",191),r(1),i()),o&2){let e=c().$implicit;s(),f(e.review_text||e.comment)}}function rr(o,t){if(o&1&&(n(0,"div",175)(1,"div",105),r(2),i(),n(3,"div",193),r(4,"Service Quality"),i()()),o&2){let e=c(2).$implicit;s(2),h("",e.service_quality,"/5")}}function ar(o,t){if(o&1&&(n(0,"div",175)(1,"div",105),r(2),i(),n(3,"div",193),r(4,"Communication"),i()()),o&2){let e=c(2).$implicit;s(2),h("",e.communication,"/5")}}function sr(o,t){if(o&1&&(n(0,"div",175)(1,"div",105),r(2),i(),n(3,"div",193),r(4,"Timeliness"),i()()),o&2){let e=c(2).$implicit;s(2),h("",e.timeliness,"/5")}}function lr(o,t){if(o&1&&(n(0,"div",175)(1,"div",105),r(2),i(),n(3,"div",193),r(4,"Value for Money"),i()()),o&2){let e=c(2).$implicit;s(2),h("",e.value_for_money,"/5")}}function cr(o,t){if(o&1&&(n(0,"div",192),g(1,rr,5,1,"div",175)(2,ar,5,1,"div",175)(3,sr,5,1,"div",175)(4,lr,5,1,"div",175),i()),o&2){let e=c().$implicit;s(),p(e.service_quality?1:-1),s(),p(e.communication?2:-1),s(),p(e.timeliness?3:-1),s(),p(e.value_for_money?4:-1)}}function dr(o,t){if(o&1&&(n(0,"div",179)(1,"div",184)(2,"div",7)(3,"div",185)(4,"div",186),v(),n(5,"svg",187),d(6,"path",188),i()()(),T(),n(7,"div",189)(8,"h4",105),r(9),i(),n(10,"p",33),r(11),i()()(),n(12,"div",7),E(13,ir,2,3,":svg:svg",170,z),n(15,"span",190),r(16),i()()(),g(17,or,2,1,"p",191)(18,cr,5,4,"div",192),i()),o&2){let e=t.$implicit,a=c(3);s(9),f(a.getReviewerName(e)),s(2),ee("",a.formatReviewDate(e.createdAt)," \u2022 ",a.getProjectTitle(e),""),s(2),M(a.getStarArray(e.rating)),s(3),h("",e.rating,"/5"),s(),p(e.review_text||e.comment?17:-1),s(),p(e.service_quality||e.communication||e.timeliness||e.value_for_money?18:-1)}}function mr(o,t){if(o&1&&(n(0,"div",175)(1,"button",194),r(2),i()()),o&2){let e=c(3);s(2),h(" View All ",e.totalReviews()," Reviews ")}}function pr(o,t){if(o&1&&(n(0,"div",173)(1,"div",174)(2,"div",175)(3,"div",176),r(4),i(),n(5,"div",177),E(6,Qo,2,3,":svg:svg",170,z),i(),n(8,"div",111),r(9),i(),n(10,"div",125),r(11),i()(),g(12,nr,7,4,"div",159),i()(),n(13,"div",56)(14,"h3",178),r(15,"Recent Reviews"),i(),E(16,dr,19,6,"div",179,et),g(18,mr,3,1,"div",175),i()),o&2){let e=c(2);s(4),f(e.formatRating(e.averageRating())),s(2),M(e.getStarArray(e.averageRating())),s(3),f(e.getRatingLabel(e.averageRating())),s(2),ee("",e.totalReviews()," ",e.totalReviews()===1?"review":"reviews",""),s(),p(e.reviewStats()?12:-1),s(4),M(e.recentReviews()),s(2),p(e.totalReviews()>5?18:-1)}}function ur(o,t){if(o&1){let e=S();n(0,"div",13),g(1,Hi,2,2)(2,Ni,1,0,"div",14),n(3,"div",15)(4,"div",16)(5,"div",17)(6,"div",18)(7,"div",19),g(8,Li,1,2,"img",20)(9,zi,3,0,"div",21),i(),n(10,"div",22)(11,"div",23)(12,"div",24)(13,"h1",25),r(14),i(),n(15,"p",26),r(16),i(),g(17,$i,2,1,"p",27),i(),n(18,"div",28),g(19,Gi,8,0)(20,Yi,8,5),i()()()()()()()(),n(21,"div",29)(22,"div",30)(23,"div",31)(24,"div",32),r(25),i(),n(26,"div",33),r(27,"Rating"),i()(),n(28,"div",31)(29,"div",34),r(30),i(),n(31,"div",33),r(32,"Reviews"),i()(),n(33,"div",31)(34,"div",35),r(35),i(),n(36,"div",33),r(37,"Views"),i()(),n(38,"div",31)(39,"div",36),r(40),i(),n(41,"div",33),r(42,"Services"),i()()(),n(43,"div",37)(44,"div",29)(45,"nav",38)(46,"button",39),u("click",function(){x(e);let l=c();return _(l.scrollToSection("about"))}),v(),n(47,"svg",40),d(48,"path",41),i(),r(49," About "),i(),T(),n(50,"button",39),u("click",function(){x(e);let l=c();return _(l.scrollToSection("services"))}),v(),n(51,"svg",40),d(52,"path",42),i(),r(53),i(),T(),n(54,"button",39),u("click",function(){x(e);let l=c();return _(l.scrollToSection("portfolio"))}),v(),n(55,"svg",40),d(56,"path",43),i(),r(57),i(),T(),n(58,"button",39),u("click",function(){x(e);let l=c();return _(l.scrollToSection("reviews"))}),v(),n(59,"svg",40),d(60,"path",44),i(),r(61),g(62,Wi,1,1),i()()()(),T(),n(63,"div",45)(64,"section",46)(65,"div",47)(66,"div",48)(67,"div",49)(68,"div",50)(69,"h2",51),r(70,"About This Business"),i()(),n(71,"div",52),g(72,Zi,2,1,"p",53)(73,Ji,2,0,"p",54)(74,Xi,6,0,"div",55),i()()(),n(75,"div",56)(76,"div",49)(77,"div",50)(78,"h3",57),r(79,"Business Information"),i()(),n(80,"div",52)(81,"div",58),g(82,to,8,2,"div",59)(83,no,5,1,"div",60)(84,io,5,1,"div",60)(85,oo,5,2,"div",60),i()()(),n(86,"div",49)(87,"div",50)(88,"h3",57),r(89,"Business Owner"),i()(),n(90,"div",52),g(91,ro,4,0,"div",61)(92,po,12,5,"div",58)(93,uo,2,0,"p",62),i()()()()(),n(94,"section",63)(95,"div",49)(96,"div",50)(97,"h2",51),r(98),i()(),n(99,"div",52),g(100,go,4,0,"div",3)(101,xo,10,1,"div",64)(102,Fo,12,3),i()()(),n(103,"section",65)(104,"div",49)(105,"div",50)(106,"h2",51),r(107),i()(),n(108,"div",52),g(109,Ao,4,0,"div",3)(110,Bo,8,0,"div",66)(111,zo,3,0,"div",67),i()()(),n(112,"section",68)(113,"div",49)(114,"div",50)(115,"div",69)(116,"h2",51),r(117,"Reviews & Ratings"),i(),g(118,Go,8,3,"div",70),i()(),n(119,"div",52),g(120,Uo,4,0,"div",71)(121,qo,8,0,"div",66)(122,pr,19,6),i()()()()()}if(o&2){let e,a,l,m,y,A,L,ne,mt,pt,ut,gt,ft,P=c();s(),p((e=P.business())!=null&&e.banner_url?1:2),s(7),p((a=P.business())!=null&&a.logo_url?8:9),s(6),h(" ",(l=P.business())==null?null:l.name," "),s(2),h(" ",P.getBusinessTypeDisplay(((m=P.business())==null?null:m.business_type)||"")," "),s(),p((y=P.business())!=null&&y.short_description?17:-1),s(2),p(P.isOwner()?19:20),s(6),h("",((A=P.business())==null?null:A.rating)||0,"/5"),s(5),f(((L=P.business())==null?null:L.review_count)||0),s(5),f(((ne=P.business())==null?null:ne.view_count)||0),s(5),f(P.activeServices().length),s(6),ie(P.activeSection()==="about"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),s(4),ie(P.activeSection()==="services"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),s(3),h(" ",P.getServicesLabel()," "),s(),ie(P.activeSection()==="portfolio"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),s(3),h(" ",P.getPortfolioLabel()," "),s(),ie(P.activeSection()==="reviews"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),s(3),h(" Reviews (",P.totalReviews(),") "),s(),p(P.averageRating()>0?62:-1),s(10),p((mt=P.business())!=null&&mt.description?72:73),s(2),p(P.businessTags().length>0?74:-1),s(8),p((pt=P.business())!=null&&pt.address?82:-1),s(),p((ut=P.business())!=null&&ut.contact_email?83:-1),s(),p((gt=P.business())!=null&&gt.contact_phone?84:-1),s(),p((ft=P.business())!=null&&ft.website?85:-1),s(6),p(P.loading()?91:P.owner()?92:93),s(7),h("Services (",P.activeServices().length,")"),s(2),p(P.servicesLoading()?100:P.activeServices().length===0?101:102),s(7),h("Portfolio (",P.completedProjects().length,")"),s(2),p(P.portfolioLoading()?109:P.completedProjects().length===0?110:111),s(9),p(P.hasReviews()?118:-1),s(2),p(P.reviewsLoading()?120:P.hasReviews()?122:121)}}var Xe=class o{route=b(q);router=b(j);businessService=b(J);authService=b(D);projectService=b(_e);reviewService=b(yn);dialog=b(Sn);reportsService=b(En);loading=w(!1);servicesLoading=w(!1);portfolioLoading=w(!1);reviewsLoading=w(!1);error=w(null);businessId=null;business=w(null);owner=w(null);services=w([]);projects=w([]);reviews=w([]);reviewStats=w(null);isOwner=I(()=>{let t=this.authService.user(),e=this.business();if(!t||!e)return!1;let a=typeof e.owner_id=="string"?e.owner_id:e.owner_id?._id;return t._id===a});activeServices=I(()=>this.services().filter(t=>t.is_active));featuredServices=I(()=>this.services().filter(t=>t.is_featured&&t.is_active));businessTags=I(()=>this.business()?.tags||[]);completedProjects=I(()=>this.projects().filter(t=>t.status==="completed"));averageRating=I(()=>this.reviewStats()?.average_rating||0);totalReviews=I(()=>this.reviews().length);hasReviews=I(()=>this.reviews().length>0);recentReviews=I(()=>this.reviews().sort((t,e)=>new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()).slice(0,5));activeSection=w("about");navigationSections=I(()=>[{id:"about",label:"About",icon:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},{id:"services",label:`Services (${this.activeServices().length})`,icon:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"},{id:"portfolio",label:`Portfolio (${this.completedProjects().length})`,icon:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"},{id:"reviews",label:`Reviews (${this.totalReviews()}) ${this.averageRating()>0?"\u2B50"+this.averageRating().toFixed(1):""}`,icon:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"}]);ngOnInit(){this.route.params.subscribe(t=>{let e=t.id;e&&(this.businessId=e,this.loadBusiness(),this.loadServices(e),this.loadProjects(e),this.loadReviews(e))})}loadBusiness(){return k(this,null,function*(){if(this.businessId){this.loading.set(!0);try{let t=yield this.businessService.getBusinessAsync(this.businessId);t&&(this.business.set(t),t.owner_id&&typeof t.owner_id=="object"&&this.owner.set(t.owner_id))}catch(t){console.error("Error loading business:",t)}finally{this.loading.set(!1)}}})}loadServices(t){return k(this,null,function*(){try{this.servicesLoading.set(!0);let e=yield this.businessService.getBusinessServicesAsync(t,!1);this.services.set(e)}catch(e){console.error("Error loading services:",e)}finally{this.servicesLoading.set(!1)}})}loadProjects(t){return k(this,null,function*(){try{this.portfolioLoading.set(!0);let e=yield this.projectService.getBusinessPortfolioAsync(t);this.projects.set(e)}catch(e){console.error("Error loading projects:",e)}finally{this.portfolioLoading.set(!1)}})}loadReviews(t){return k(this,null,function*(){try{this.reviewsLoading.set(!0);let e=yield this.reviewService.getBusinessReviewsAsync(t);this.reviews.set(e);let a=yield this.reviewService.getBusinessRatingStatsAsync(t);this.reviewStats.set(a)}catch(e){console.error("Error loading reviews:",e)}finally{this.reviewsLoading.set(!1)}})}formatPrice(t,e){if(!t)return"Contact for pricing";let a=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t);switch(e){case"hourly":return`${a}/hour`;case"project":return`${a}/project`;case"custom":return`Starting at ${a}`;default:return a}}formatDuration(t){return t||"Duration varies"}getBusinessTypeDisplay(t){switch(t){case"service":return"Service Business";case"product":return"Product Business";case"both":return"Service & Product Business";default:return"Business"}}goBack(){this.router.navigate(["/search"])}editBusiness(){let t=this.business();t&&this.router.navigate(["dashboard","businesses","edit",t._id])}addService(){let t=this.business();t&&this.router.navigate(["dashboard","services","create-service"],{queryParams:{businessId:t._id}})}editService(t){this.router.navigate(["/dashboard/services/edit-service",t])}contactBusiness(){let t=this.business();t?.contact_email&&(window.location.href=`mailto:${t.contact_email}`)}startProject(){let t=this.business(),e=this.authService.user();if(!e){this.router.navigate(["/auth"]);return}if(!t)return;if(this.activeServices().length===0){alert("This business has no active services available for projects. Please contact them directly or check back later.");return}let a=typeof t.owner_id=="string"?t.owner_id:t.owner_id?._id;if(e._id===a){alert("You cannot start a project with your own business.");return}this.router.navigate(["/create-project",t._id])}startProjectWithService(t){let e=this.business(),a=this.authService.user();if(!a){this.router.navigate(["/auth"]);return}if(!e)return;let l=typeof e.owner_id=="string"?e.owner_id:e.owner_id?._id;if(a._id===l){alert("You cannot start a project with your own business.");return}this.router.navigate(["/create-project",e._id],{queryParams:{serviceId:t}})}contactOwner(){let t=this.owner();t?.email&&(window.location.href=`mailto:${t.email}`)}visitWebsite(){let t=this.business();t?.website&&window.open(t.website,"_blank")}scrollToSection(t){this.activeSection.set(t);let e=document.getElementById(t);if(e){let l=e.getBoundingClientRect().top+window.pageYOffset+-100;window.scrollTo({top:l,behavior:"smooth"})}}getServicesLabel(){return`Services (${this.activeServices().length})`}getPortfolioLabel(){return`Portfolio (${this.completedProjects().length})`}getClientName(t){return typeof t.client_id=="object"&&t.client_id?`${t.client_id.first_name} ${t.client_id.last_name}`:"Unknown Client"}getServiceName(t){return typeof t=="object"&&t&&"name"in t?t.name:"Service"}getStarArray(t){let e=[];for(let a=1;a<=5;a++)e.push(a<=Math.round(t));return e}formatReviewDate(t){if(!t)return"Date not specified";let e=new Date(t),l=new Date().getTime()-e.getTime(),m=Math.floor(l/(1e3*60*60*24));return m===0?"Today":m===1?"Yesterday":m<7?`${m} days ago`:m<30?`${Math.floor(m/7)} weeks ago`:m<365?`${Math.floor(m/30)} months ago`:e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}formatRating(t){return t.toFixed(1)}getRatingLabel(t){return t>=4.5?"Excellent":t>=4?"Very Good":t>=3.5?"Good":t>=3?"Fair":t>=2.5?"Poor":"Very Poor"}getReviewerName(t){if(t.user_id&&typeof t.user_id=="object"){let e=t.user_id.first_name||"",a=t.user_id.last_name||"";return`${e} ${a}`.trim()||"Anonymous"}return"Anonymous"}getProjectTitle(t){return t.project_id&&typeof t.project_id=="object"&&t.project_id.title?t.project_id.title:"Project"}formatProjectDate(t){return t?new Date(t).toLocaleDateString():"Unknown"}formatProjectPrice(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)}viewProject(t){this.router.navigate(["/dashboard/projects",t._id])}openReportDialog(){return k(this,null,function*(){let t=this.business();if(console.log("Opening report dialog for business:",t),!t)return;let e=this.authService.user();if(!e){this.router.navigate(["/auth"]);return}let a=typeof t.owner_id=="string"?t.owner_id:t.owner_id?._id;if(e._id===a)return;this.dialog.open(Mn,{width:"500px",data:{reportType:"business",targetId:t._id,targetName:t.name,contextInfo:`Business profile: ${t.business_type||"Unknown Type"} - ${t.short_description||"No description"}`}}).afterClosed().subscribe(m=>k(this,null,function*(){if(m)try{let y={reported_business_id:t._id,report_type:"business",reason:m.reason,custom_reason:m.customReason,description:m.description,is_anonymous:m.isAnonymous};yield this.reportsService.submitReportAsync(y),this.dialog.open(kn,{width:"400px",data:{entityType:"business",entityName:t.name}})}catch(y){console.error("Failed to submit report:",y)}}))})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=O({type:o,selectors:[["app-business-profile"]],decls:5,vars:1,consts:[[1,"min-h-screen","bg-gray-50"],[1,"bg-white"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"flex","justify-center","items-center","h-32"],[1,"animate-spin","rounded-full","h-12","w-12","border-b-2","border-blue-600"],[1,"ml-3","text-gray-600"],[1,"bg-red-50","border-l-4","border-red-400","p-6","rounded-r-lg"],[1,"flex","items-center"],["fill","currentColor","viewBox","0 0 20 20",1,"w-6","h-6","text-red-400","mr-3"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"text-lg","font-medium","text-red-900","mb-2"],[1,"text-red-700","mb-4"],[1,"inline-flex","items-center","px-4","py-2","bg-red-100","text-red-800","rounded-lg","hover:bg-red-200","transition-colors",3,"click"],[1,"relative","h-80","w-full"],[1,"absolute","inset-0","bg-gradient-to-r","from-blue-600","to-indigo-700"],[1,"relative","z-10","h-full","flex","flex-col","justify-end"],[1,"p-8"],[1,"max-w-7xl","mx-auto"],[1,"flex","flex-col","lg:flex-row","lg:items-end","lg:space-x-8"],[1,"flex-shrink-0","mb-6","lg:mb-0"],[1,"h-24","w-24","rounded-2xl","object-cover","border-4","border-white","shadow-xl",3,"src","alt"],[1,"h-24","w-24","rounded-2xl","bg-white","bg-opacity-90","flex","items-center","justify-center","border-4","border-white","shadow-xl"],[1,"flex-1","min-w-0"],[1,"flex","flex-col","lg:flex-row","lg:items-end","lg:justify-between"],[1,"flex-1"],[1,"text-3xl","lg:text-4xl","font-bold","text-white","mb-2","banner-text"],[1,"text-xl","text-white","mb-2","banner-text"],[1,"text-lg","text-white","banner-text","max-w-2xl"],[1,"mt-6","lg:mt-0","lg:ml-8","flex","flex-col","sm:flex-row","space-y-3","sm:space-y-0","sm:space-x-4"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"mt-6","grid","grid-cols-2","md:grid-cols-4","gap-4"],[1,"bg-white","rounded-lg","p-4","text-center","border","border-gray-200","shadow-sm"],[1,"text-2xl","font-bold","text-blue-600"],[1,"text-sm","text-gray-500"],[1,"text-2xl","font-bold","text-green-600"],[1,"text-2xl","font-bold","text-purple-600"],[1,"text-2xl","font-bold","text-indigo-600"],[1,"sticky","top-0","z-40","bg-white","border-b","border-gray-200","shadow-sm","mt-8"],[1,"flex","space-x-8","overflow-x-auto"],[1,"whitespace-nowrap","py-4","px-1","border-b-2","font-medium","text-sm","transition-colors","duration-200","flex","items-center",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V8a2 2 0 012-2V6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8","space-y-16"],["id","about",1,"scroll-mt-24"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-8"],[1,"lg:col-span-2"],[1,"bg-white","rounded-xl","border","border-gray-200","shadow-sm","overflow-hidden"],[1,"px-6","py-4","border-b","border-gray-200"],[1,"text-2xl","font-bold","text-gray-900"],[1,"p-6"],[1,"text-gray-700","leading-relaxed","text-lg"],[1,"text-gray-500","italic"],[1,"mt-6"],[1,"space-y-6"],[1,"text-lg","font-semibold","text-gray-900"],[1,"space-y-4"],[1,"flex","items-start","space-x-3"],[1,"flex","items-center","space-x-3"],[1,"flex","items-center","justify-center","py-4"],[1,"text-gray-500","text-sm"],["id","services",1,"scroll-mt-24"],[1,"text-center","py-16"],["id","portfolio",1,"scroll-mt-24"],[1,"text-center","py-12"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6","portfolio-grid"],["id","reviews",1,"scroll-mt-24"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","space-x-2"],[1,"flex","justify-center","items-center","py-8"],[1,"absolute","inset-0","w-full","h-full","bg-cover","bg-center","bg-no-repeat"],[1,"absolute","inset-0"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-10","h-10","text-gray-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"],[1,"inline-flex","items-center","px-6","py-3","bg-white","bg-opacity-90","hover:bg-opacity-100","rounded-xl","text-gray-800","transition-all","shadow-lg","font-medium","banner-button",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],[1,"inline-flex","items-center","px-6","py-3","bg-blue-600","hover:bg-blue-700","text-white","rounded-xl","transition-all","shadow-lg","font-medium",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],["size","large","buttonClass","bg-white bg-opacity-90 hover:bg-opacity-100 rounded-xl shadow-lg p-3 transition-all banner-button",3,"businessId","businessName"],["title","Report Business",1,"inline-flex","items-center","justify-center","p-3","bg-gray-600","bg-opacity-90","hover:bg-opacity-100","hover:bg-gray-700","text-white","rounded-xl","transition-all","shadow-lg","font-medium",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6v1a2 2 0 01-2 2H5a2 2 0 01-2-2z"],[3,"disabled","class"],[1,"inline-flex","items-center","px-6","py-3","bg-white","bg-opacity-90","hover:bg-opacity-100","rounded-xl","text-gray-800","transition-all","shadow-lg","font-medium","banner-button"],[3,"click","disabled"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"],[1,"text-sm","font-medium","text-gray-900","mb-3"],[1,"flex","flex-wrap","gap-2"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-sm","bg-blue-50","text-blue-700","border","border-blue-200"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400","mt-0.5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],[1,"text-sm","text-gray-900"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"],["target","_blank",1,"text-sm","text-blue-600","hover:text-blue-800","transition-colors",3,"href"],[1,"animate-spin","rounded-full","h-6","w-6","border-b-2","border-gray-600"],[1,"ml-2","text-gray-600","text-sm"],[1,"h-12","w-12","rounded-full","object-cover",3,"src","alt"],[1,"h-12","w-12","rounded-full","bg-gray-100","flex","items-center","justify-center"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-700"],[1,"w-full","inline-flex","items-center","justify-center","px-4","py-2","border","border-gray-300","rounded-lg","text-gray-700","hover:bg-gray-50","transition-colors"],["fill","currentColor","viewBox","0 0 20 20",1,"w-6","h-6","text-gray-400"],["fill-rule","evenodd","d","M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule","evenodd"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-400"],[1,"text-sm","text-gray-600"],[1,"w-full","inline-flex","items-center","justify-center","px-4","py-2","border","border-gray-300","rounded-lg","text-gray-700","hover:bg-gray-50","transition-colors",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],[1,"p-4","bg-gray-50","rounded-full","w-20","h-20","mx-auto","mb-6","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-10","h-10","text-gray-300"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"text-xl","font-medium","text-gray-900","mb-2"],[1,"text-gray-500","mb-6"],[1,"inline-flex","items-center","px-6","py-3","bg-gray-900","text-white","rounded-lg","hover:bg-gray-800","transition-colors","font-medium"],[1,"inline-flex","items-center","px-6","py-3","bg-gray-900","text-white","rounded-lg","hover:bg-gray-800","transition-colors","font-medium",3,"click"],[1,"mb-10"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-xl","font-semibold","text-gray-900"],[1,"text-sm","text-gray-500","mt-1"],[1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","rounded-lg","text-gray-700","hover:bg-gray-50","transition-colors"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"bg-white","rounded-xl","border","border-gray-200","shadow-sm","hover:shadow-lg","transition-all","overflow-hidden"],[1,"p-6","pb-3"],[1,"flex","items-center","justify-between","mb-3"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800"],[1,"px-6","pb-6"],[1,"text-gray-600","mb-4","text-sm","leading-relaxed"],[1,"flex","items-center","justify-between","mb-4"],[1,"border-t","border-gray-100","pt-3"],[1,"px-6","py-4","border-t","border-gray-100","bg-gray-50"],[1,"w-full","inline-flex","items-center","justify-center","px-4","py-2","border","border-gray-300","rounded-lg","text-gray-700","hover:bg-gray-100","transition-colors"],[1,"w-full","inline-flex","items-center","justify-center","px-4","py-2","bg-gray-900","text-white","rounded-lg","hover:bg-gray-800","transition-colors"],[1,"text-sm","text-gray-600","space-y-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-green-500","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[1,"w-full","inline-flex","items-center","justify-center","px-4","py-2","border","border-gray-300","rounded-lg","text-gray-700","hover:bg-gray-100","transition-colors",3,"click"],[1,"w-full","inline-flex","items-center","justify-center","px-4","py-2","bg-gray-900","text-white","rounded-lg","hover:bg-gray-800","transition-colors",3,"click"],[1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","rounded-lg","text-gray-700","hover:bg-gray-50","transition-colors",3,"click"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-500"],[1,"bg-white","rounded-xl","border","border-gray-200","shadow-sm","hover:shadow-lg","transition-all","duration-200","overflow-hidden","project-card","cursor-pointer"],[1,"bg-white","rounded-xl","border","border-gray-200","shadow-sm","hover:shadow-lg","transition-all","duration-200","overflow-hidden","project-card","cursor-pointer",3,"click"],[1,"relative","h-48","bg-gradient-to-br","from-blue-50","to-indigo-100","overflow-hidden"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"w-full","h-full","flex","items-center","justify-center"],[1,"absolute","top-3","right-3"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-green-100","text-green-800"],["fill","currentColor","viewBox","0 0 20 20",1,"w-3","h-3","mr-1"],["fill-rule","evenodd","d","M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule","evenodd"],[1,"flex","items-start","justify-between","mb-3"],[1,"text-lg","font-semibold","text-gray-900","line-clamp-1"],[1,"text-sm","text-gray-600","mb-4","line-clamp-2"],[1,"space-y-2"],[1,"flex","items-center","justify-between","text-sm"],[1,"font-medium","text-gray-900"],[1,"font-semibold","text-green-600"],[1,"text-gray-700"],[1,"mt-4","pt-4","border-t","border-gray-100"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-16","h-16","text-gray-300"],[1,"text-xs","text-gray-500","mb-2"],[1,"flex","flex-wrap","gap-1"],[1,"inline-flex","items-center","px-2","py-1","rounded-md","text-xs","bg-blue-50","text-blue-700"],[1,"inline-flex","items-center","px-2","py-1","rounded-md","text-xs","bg-gray-100","text-gray-600"],["fill","currentColor","viewBox","0 0 20 20",3,"class"],["fill","currentColor","viewBox","0 0 20 20"],["d","M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"],[1,"bg-gray-50","rounded-lg","p-6","mb-8"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"text-center"],[1,"text-4xl","font-bold","text-gray-900","mb-2"],[1,"flex","justify-center","items-center","mb-2"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[1,"border","border-gray-200","rounded-lg","p-6"],[1,"font-medium","text-gray-900","mb-3"],[1,"text-gray-600"],[1,"flex","mr-2"],[1,"font-medium"],[1,"flex","items-start","justify-between","mb-4"],[1,"flex-shrink-0"],[1,"w-10","h-10","bg-gray-200","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],[1,"ml-3"],[1,"ml-2","text-sm","font-medium","text-gray-900"],[1,"text-gray-700","mb-4"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-4","pt-4","border-t","border-gray-100"],[1,"text-xs","text-gray-500"],[1,"inline-flex","items-center","px-4","py-2","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","bg-white","hover:bg-gray-50"]],template:function(e,a){e&1&&(d(0,"app-header"),n(1,"div",0),g(2,Di,6,0,"div",1)(3,Ri,13,1,"div",1)(4,ur,123,35),i()),e&2&&(s(2),p(a.loading()?2:a.error()?3:a.business()?4:-1))},dependencies:[B,Y,$e,Pn],styles:[`.mat-mdc-tab-group[_ngcontent-%COMP%]     .mat-mdc-tab-header{border-bottom:1px solid #e5e7eb}.mat-mdc-tab-group[_ngcontent-%COMP%]     .mat-mdc-tab-label{font-weight:500;color:#6b7280}.mat-mdc-tab-group[_ngcontent-%COMP%]     .mat-mdc-tab-label.mdc-tab--active{color:#2563eb}.mat-mdc-tab-group[_ngcontent-%COMP%]     .mat-mdc-tab-body-wrapper{min-height:400px}.banner-text[_ngcontent-%COMP%]{text-shadow:2px 2px 4px rgba(0,0,0,.7),1px 1px 2px rgba(0,0,0,.5)}.banner-button[_ngcontent-%COMP%]{backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px)}.service-card[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px -5px #0000001a,0 10px 10px -5px #0000000a}.project-card[_ngcontent-%COMP%]{transition:transform .2s ease,box-shadow .2s ease;cursor:pointer}.project-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 20px 25px -5px #0000001a,0 10px 10px -5px #0000000a}.project-card[_ngcontent-%COMP%]   .project-image[_ngcontent-%COMP%]{position:relative;overflow:hidden}.project-card[_ngcontent-%COMP%]   .project-image[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:#0000;transition:background .3s ease}.project-card[_ngcontent-%COMP%]   .project-image[_ngcontent-%COMP%]:hover:after{background:#0000001a}.featured-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;font-size:.75rem;padding:.25rem .5rem;border-radius:9999px;font-weight:600}.testimonial[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f5f7fa,#c3cfe2);border-left:4px solid #2563eb}.testimonial[_ngcontent-%COMP%]:before{content:'"';font-size:1.5rem;color:#2563eb;font-weight:700}.line-clamp-1[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:1;line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.line-clamp-2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.line-clamp-3[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:3;line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}@media (max-width: 768px){.business-header[_ngcontent-%COMP%]   .flex-col[_ngcontent-%COMP%]{text-align:center}.service-card[_ngcontent-%COMP%], .project-card[_ngcontent-%COMP%]{margin-bottom:1rem}.portfolio-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (min-width: 768px) and (max-width: 1024px){.portfolio-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (min-width: 1024px){.portfolio-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}}`]})};var Hn=(()=>{class o{static \u0275fac=function(a){return new(a||o)};static \u0275mod=ye({type:o});static \u0275inj=Ce({})}return o})();var Nn=(()=>{class o{static \u0275fac=function(a){return new(a||o)};static \u0275mod=ye({type:o});static \u0275inj=Ce({imports:[qt,Hn,Qt]})}return o})();var tt=class o{http=b(Te);apiUrl=Fe.api.baseUrl;categoriesSubject=new ht([]);categories$=this.categoriesSubject.asObservable();getCategories(){return this.http.get(`${this.apiUrl}/categories`)}getSubcategories(t){let e=t?`${this.apiUrl}/subcategories?categoryId=${t}`:`${this.apiUrl}/subcategories`;return this.http.get(e)}loadCategories(){return k(this,null,function*(){try{let t=yield this.getCategories().toPromise();return t?.success&&t.data?(this.categoriesSubject.next(t.data),t.data):[]}catch(t){return console.error("Error loading categories:",t),[]}})}static \u0275fac=function(e){return new(e||o)};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};var _r=()=>[12,24,48],zn=(o,t)=>t._id,hr=(o,t)=>t.code;function vr(o,t){if(o&1&&(n(0,"mat-option",11),r(1),i()),o&2){let e=t.$implicit;C("value",e._id),s(),f(e.name)}}function br(o,t){if(o&1&&(n(0,"mat-option",11),r(1),i()),o&2){let e=t.$implicit;C("value",e.name),s(),f(e.name)}}function Cr(o,t){if(o&1){let e=S();n(0,"button",29),u("click",function(){x(e);let l=c();return _(l.clearFilters())}),n(1,"mat-icon"),r(2,"clear"),i(),r(3," Clear all filters "),i()}}function yr(o,t){o&1&&(n(0,"div",26),d(1,"mat-spinner",30),n(2,"span",31),r(3,"Finding services..."),i()())}function wr(o,t){if(o&1&&(n(0,"div",27)(1,"div",32)(2,"mat-icon",33),r(3,"error"),i(),n(4,"span",34),r(5),i()()()),o&2){let e=c();s(5),f(e.error())}}function Sr(o,t){if(o&1){let e=S();n(0,"div",28)(1,"mat-icon",35),r(2,"search_off"),i(),n(3,"h3",36),r(4,"No services found"),i(),n(5,"p",37),r(6,"Try adjusting your search terms or filters"),i(),n(7,"button",38),u("click",function(){x(e);let l=c();return _(l.clearFilters())}),r(8," Clear filters "),i()()}}function Pr(o,t){if(o&1&&d(0,"img",44),o&2){let e=c().$implicit;C("src",e.banner_url,R)("alt",e.name+" banner")}}function Er(o,t){o&1&&(n(0,"div",45)(1,"mat-icon",73),r(2,"business"),i()())}function Mr(o,t){o&1&&(n(0,"div",46)(1,"span",74)(2,"mat-icon",75),r(3,"star"),i(),r(4," PRO "),i()())}function kr(o,t){if(o&1&&d(0,"img",52),o&2){let e=c().$implicit;C("src",e.logo_url,R)("alt",e.name+" logo")}}function Tr(o,t){o&1&&(n(0,"div",53)(1,"mat-icon",76),r(2,"business"),i()())}function Ir(o,t){if(o&1&&(n(0,"p",57)(1,"mat-icon",77),r(2,"location_on"),i(),r(3),i()),o&2){let e=c().$implicit;s(3),ee(" ",e.city,", ",e.state," ")}}function Or(o,t){if(o&1&&(n(0,"div",60)(1,"mat-icon",78),r(2,"star"),i(),n(3,"span",79),r(4),i(),n(5,"span",69),r(6),i()()),o&2){let e=c().$implicit;s(4),f(e.rating.toFixed(1)),s(2),ee("(",e.review_count||0," ",(e.review_count||0)===1?"review":"reviews",")")}}function jr(o,t){o&1&&(n(0,"span",61),r(1,"New business"),i())}function Fr(o,t){if(o&1&&(n(0,"span",81),r(1),i()),o&2){let e=t.$implicit;s(),h(" ",e," ")}}function Ar(o,t){if(o&1&&(n(0,"span",81),r(1),i()),o&2){let e=c(2).$implicit;s(),h(" +",e.tags.length-2," ")}}function Br(o,t){if(o&1&&(n(0,"div",62)(1,"div",80),E(2,Fr,2,1,"span",81,Z),g(4,Ar,2,1,"span",81),i()()),o&2){let e=c().$implicit;s(2),M(e.tags.slice(0,2)),s(2),p(e.tags.length>2?4:-1)}}function Vr(o,t){if(o&1&&d(0,"img",52),o&2){let e=c().$implicit,a=c(2);C("src",a.getOwnerAvatar(e),R)("alt",a.getOwnerName(e))}}function Dr(o,t){o&1&&(n(0,"div",66)(1,"mat-icon",82),r(2,"person"),i()())}function Rr(o,t){if(o&1&&(n(0,"div",72)(1,"mat-icon",77),r(2,"visibility"),i(),r(3),i()),o&2){let e=c().$implicit;s(3),h(" ",e.view_count," ")}}function Hr(o,t){if(o&1){let e=S();n(0,"div",42),u("click",function(){let l=x(e).$implicit,m=c(2);return _(m.onBusinessClick(l))}),n(1,"div",43),g(2,Pr,1,2,"img",44)(3,Er,3,0,"div",45)(4,Mr,5,0,"div",46),n(5,"div",47)(6,"span",48),r(7),jt(8,"titlecase"),i()()(),n(9,"div",49)(10,"div",50)(11,"div",51),g(12,kr,1,2,"img",52)(13,Tr,3,0,"div",53),i()(),n(14,"div",54)(15,"h3",55),r(16),i(),n(17,"p",56),r(18),i(),g(19,Ir,4,2,"p",57),i(),n(20,"p",58),r(21),i(),n(22,"div",59),g(23,Or,7,3,"div",60)(24,jr,2,0,"span",61),i(),g(25,Br,5,1,"div",62),n(26,"div",63)(27,"div",64)(28,"div",65),g(29,Vr,1,2,"img",52)(30,Dr,3,0,"div",66),i(),n(31,"div",67)(32,"p",68),r(33),i(),n(34,"p",69),r(35),i()()(),n(36,"div",64)(37,"div",70),u("click",function(l){return x(e),_(l.stopPropagation())}),d(38,"app-favorite-button",71),i(),g(39,Rr,4,1,"div",72),i()()()()}if(o&2){let e=t.$implicit,a=c(2);s(2),p(e.banner_url&&e.banner_url.trim()!==""?2:3),s(2),p(e.is_featured?4:-1),s(3),h(" ",Ft(8,16,e.business_type)," "),s(5),p(e.logo_url?12:13),s(4),h(" ",e.name," "),s(2),f(a.getCategoryName(e)),s(),p(e.city&&e.state?19:-1),s(2),h(" ",e.short_description||e.description||"Professional service provider"," "),s(2),p(e.rating!=null&&e.rating>0?23:24),s(2),p(e.tags&&e.tags.length>0?25:-1),s(4),p(a.getOwnerAvatar(e)?29:30),s(4),f(a.getOwnerName(e)),s(2),f(a.getOwnerCountry(e)),s(3),C("businessId",e._id)("businessName",e.name),s(),p(e.view_count>0?39:-1)}}function Nr(o,t){if(o&1){let e=S();n(0,"div",41)(1,"mat-paginator",83),u("page",function(l){x(e);let m=c(2);return _(m.onPageChange(l.pageIndex+1))}),i()()}if(o&2){let e=c(2);s(),C("length",e.total())("pageSize",12)("pageIndex",e.currentPage()-1)("pageSizeOptions",oe(4,_r))}}function Lr(o,t){if(o&1&&(n(0,"div",39),E(1,Hr,40,18,"div",40,zn),i(),g(3,Nr,2,5,"div",41)),o&2){let e=c();s(),M(e.businesses()),s(2),p(e.totalPages()>1?3:-1)}}var nt=class o{route=b(q);router=b(j);fb=b(me);businessService=b(J);categoryService=b(tt);authService=b(D);searchQuery=w("");selectedCountries=w([]);selectedCategories=w([]);selectedBusinessTypes=w([]);selectedRating=w(0);businesses=w([]);categories=w([]);loading=w(!1);error=w(null);total=w(0);currentPage=w(1);totalPages=w(0);filtersOpen=w(!1);isClientMode=I(()=>{let t=this.authService.user();return!t||t.user_mode==="client"});filterForm;countries=Re;businessTypes=[{value:"service",label:"Service"},{value:"product",label:"Product"},{value:"both",label:"Both"}];ratingOptions=[{value:0,label:"All ratings"},{value:1,label:"1+ stars"},{value:2,label:"2+ stars"},{value:3,label:"3+ stars"},{value:4,label:"4+ stars"},{value:5,label:"5 stars"}];hasResults=I(()=>this.businesses().length>0);hasSearched=I(()=>this.searchQuery()||this.selectedCountries().length>0||this.selectedCategories().length>0||this.selectedBusinessTypes().length>0||this.selectedRating()>0);hasActiveFilters=I(()=>{let t=this.filterForm?.value;return!!(t?.selectedCountries?.length>0||t?.businessType||t?.location||t?.selectedCategories?.length>0||t?.selectedBusinessTypes?.length>0||t?.selectedRating>0)});ngOnInit(){this.initializeForm(),this.loadCategories(),this.route.queryParams.subscribe(t=>{this.searchQuery.set(t.q||""),this.selectedCountries.set(t.countries?t.countries.split(","):[]),this.selectedCategories.set(t.categories?t.categories.split(","):[]),this.selectedBusinessTypes.set(t.businessTypes?t.businessTypes.split(","):[]),this.selectedRating.set(parseInt(t.rating)||0),this.currentPage.set(parseInt(t.page)||1),this.filterForm.patchValue({searchQuery:this.searchQuery(),selectedCountries:this.selectedCountries(),selectedCategories:this.selectedCategories(),selectedBusinessTypes:this.selectedBusinessTypes(),selectedRating:this.selectedRating()},{emitEvent:!1}),this.performSearch()})}initializeForm(){this.filterForm=this.fb.group({searchQuery:[this.searchQuery()],selectedCountries:[this.selectedCountries()],selectedCategories:[this.selectedCategories()],selectedBusinessTypes:[this.selectedBusinessTypes()],selectedRating:[this.selectedRating()],businessType:[""],location:[""]})}loadCategories(){return k(this,null,function*(){try{let t=yield this.categoryService.loadCategories();this.categories.set(t)}catch(t){console.error("Error loading categories:",t)}})}performSearch(){return k(this,null,function*(){let t=this.searchQuery(),e=this.selectedCountries(),a=this.currentPage();if(!t&&e.length===0&&this.isClientMode()){this.loadVerifiedBusinesses();return}if(!t&&e.length===0){this.businesses.set([]),this.total.set(0),this.totalPages.set(0);return}try{this.loading.set(!0),this.error.set(null);let l=yield this.businessService.searchBusinesses(t||void 0,e.length>0?e:void 0,a,12).toPromise();l?.success&&l.data?(this.businesses.set(l.data.businesses),this.total.set(l.data.total),this.totalPages.set(l.data.totalPages)):this.error.set("Failed to search businesses")}catch(l){console.error("Search error:",l),this.error.set("An error occurred while searching")}finally{this.loading.set(!1)}})}loadVerifiedBusinesses(){return k(this,null,function*(){try{this.loading.set(!0),this.error.set(null);let t=yield this.businessService.searchBusinesses(void 0,void 0,this.currentPage(),12,{featured:!0}).toPromise();t?.success&&t.data?(this.businesses.set(t.data.businesses),this.total.set(t.data.total),this.totalPages.set(t.data.totalPages)):this.error.set("Failed to load verified businesses")}catch(t){console.error("Load verified businesses error:",t),this.error.set("An error occurred while loading verified businesses")}finally{this.loading.set(!1)}})}onSearch(){let t=this.filterForm.value,e={page:1};t.searchQuery?.trim()&&(e.q=t.searchQuery.trim()),t.selectedCountries&&t.selectedCountries.length>0&&(e.countries=t.selectedCountries.join(",")),t.selectedCategories&&t.selectedCategories.length>0&&(e.categories=t.selectedCategories.join(",")),t.selectedBusinessTypes&&t.selectedBusinessTypes.length>0&&(e.businessTypes=t.selectedBusinessTypes.join(",")),t.selectedRating&&t.selectedRating>0&&(e.rating=t.selectedRating),this.router.navigate(["/search"],{queryParams:e})}clearFilters(){this.filterForm.reset({searchQuery:"",selectedCountries:[],selectedCategories:[],selectedBusinessTypes:[],selectedRating:0,businessType:"",location:""}),this.onSearch()}toggleFilters(){this.filtersOpen.update(t=>!t)}onPageChange(t){let e=this.route.snapshot.queryParams;this.router.navigate(["/search"],{queryParams:_t(xt({},e),{page:t})})}getOwnerName(t){let e=t.owner_id;return e?.first_name&&e?.last_name?`${e.first_name} ${e.last_name}`:e?.first_name?e.first_name:e?.email?e.email:"Business Owner"}getOwnerCountry(t){return t.owner_id?.country_of_origin||"Unknown"}getCategoryName(t){return t.category_id?.name||"Uncategorized"}getOwnerAvatar(t){return t.owner_id?.profile_image_url||null}onBusinessClick(t){this.router.navigate(["/business",t._id])}generatePageNumbers(){let t=this.totalPages(),e=this.currentPage(),a=5;if(t<=a)return Array.from({length:t},(y,A)=>A+1);let l=Math.max(1,e-Math.floor(a/2)),m=Math.min(t,l+a-1);return Array.from({length:m-l+1},(y,A)=>l+A)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=O({type:o,selectors:[["app-search"]],decls:71,vars:13,consts:[[1,"min-h-screen","bg-gray-50"],[1,"bg-white","border-b","border-gray-200"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-6"],[1,"space-y-6",3,"formGroup"],[1,"relative"],["appearance","outline",1,"w-full"],["matInput","","formControlName","searchQuery","placeholder","Search for services, products, or businesses",3,"input"],["matPrefix",""],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","xl:grid-cols-5","gap-4"],["appearance","outline"],["formControlName","selectedCategories","multiple","",3,"selectionChange"],[3,"value"],["formControlName","businessType",3,"selectionChange"],["value",""],["value","service"],["value","product"],["value","both"],["formControlName","selectedCountries","multiple","",3,"selectionChange"],["matInput","","formControlName","location","placeholder","City, State",3,"input"],["formControlName","selectedRating",3,"selectionChange"],[1,"flex","flex-wrap","items-center","gap-4","justify-between"],[1,"flex","items-center","gap-4"],["mat-stroked-button","","type","button","color","warn"],[1,"text-sm","text-gray-600"],[1,"font-medium"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"flex","justify-center","items-center","py-12"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-4","mb-6"],[1,"text-center","py-12"],["mat-stroked-button","","type","button","color","warn",3,"click"],["diameter","50"],[1,"ml-4","text-gray-600"],[1,"flex","items-center"],[1,"text-red-500","mr-2"],[1,"text-red-700"],[1,"text-6xl","text-gray-400","mb-4"],[1,"text-lg","font-medium","text-gray-900","mb-2"],[1,"text-gray-600","mb-4"],["mat-raised-button","","color","primary",3,"click"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-6","mb-8"],[1,"bg-white","rounded-xl","border","border-gray-200","shadow-sm","hover:shadow-lg","transition-all","duration-200","overflow-hidden","group","cursor-pointer"],[1,"flex","justify-center"],[1,"bg-white","rounded-xl","border","border-gray-200","shadow-sm","hover:shadow-lg","transition-all","duration-200","overflow-hidden","group","cursor-pointer",3,"click"],[1,"relative","h-32","bg-gradient-to-br","from-gray-100","to-gray-200","overflow-hidden"],[1,"w-full","h-full","object-cover","group-hover:scale-105","transition-transform","duration-300",3,"src","alt"],[1,"w-full","h-full","bg-gradient-to-br","from-green-400","to-blue-500","flex","items-center","justify-center"],[1,"absolute","top-3","left-3"],[1,"absolute","top-3","right-3"],[1,"bg-green-100","text-green-800","inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","backdrop-blur-sm"],[1,"relative","px-6","pb-6"],[1,"flex","justify-center","-mt-8","mb-4"],[1,"w-16","h-16","rounded-full","bg-white","shadow-lg","ring-2","ring-white","overflow-hidden"],[1,"w-full","h-full","object-cover",3,"src","alt"],[1,"w-full","h-full","bg-gray-100","flex","items-center","justify-center"],[1,"text-center","mb-4"],[1,"text-lg","font-semibold","text-gray-900","truncate","mb-1","group-hover:text-green-600","transition-colors"],[1,"text-sm","text-gray-600","mb-1"],[1,"text-xs","text-gray-500","flex","items-center","justify-center"],[1,"text-sm","text-gray-600","mb-4","line-clamp-2","text-center"],[1,"flex","items-center","justify-center","mb-4"],[1,"flex","items-center","gap-1"],[1,"text-xs","text-gray-500","bg-gray-100","px-2","py-1","rounded-full"],[1,"mb-4"],[1,"flex","items-center","justify-between","pt-4","border-t","border-gray-100"],[1,"flex","items-center","gap-2"],[1,"w-8","h-8","rounded-full","overflow-hidden","flex-shrink-0"],[1,"w-full","h-full","bg-gray-200","flex","items-center","justify-center"],[1,"flex-1","min-w-0"],[1,"text-sm","font-medium","text-gray-900","truncate"],[1,"text-xs","text-gray-500"],[3,"click"],["size","small","buttonClass","text-gray-500 hover:text-red-500 transition-colors p-1",3,"businessId","businessName"],[1,"text-xs","text-gray-500","flex","items-center"],[1,"text-white","text-4xl","opacity-60"],[1,"bg-yellow-100","text-yellow-800","inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","backdrop-blur-sm"],[1,"w-3","h-3","mr-1"],[1,"text-gray-400","text-lg"],[1,"w-3","h-3","mr-1","text-xs"],[1,"text-yellow-400","text-sm"],[1,"text-sm","font-bold","text-gray-900"],[1,"flex","flex-wrap","gap-1","justify-center"],[1,"inline-flex","items-center","px-2","py-1","rounded-full","text-xs","bg-gray-100","text-gray-800"],[1,"text-gray-400","text-sm"],["showFirstLastButtons","",3,"page","length","pageSize","pageIndex","pageSizeOptions"]],template:function(e,a){e&1&&(d(0,"app-header"),n(1,"div",0)(2,"div",1)(3,"div",2)(4,"form",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),r(8,"Find women-owned businesses and services..."),i(),n(9,"input",6),u("input",function(){return a.onSearch()}),i(),n(10,"mat-icon",7),r(11,"search"),i()()(),n(12,"div",8)(13,"mat-form-field",9)(14,"mat-label"),r(15,"Category"),i(),n(16,"mat-select",10),u("selectionChange",function(){return a.onSearch()}),E(17,vr,2,2,"mat-option",11,zn),i()(),n(19,"mat-form-field",9)(20,"mat-label"),r(21,"Service Type"),i(),n(22,"mat-select",12),u("selectionChange",function(){return a.onSearch()}),n(23,"mat-option",13),r(24,"All Types"),i(),n(25,"mat-option",14),r(26,"Services"),i(),n(27,"mat-option",15),r(28,"Products"),i(),n(29,"mat-option",16),r(30,"Both"),i()()(),n(31,"mat-form-field",9)(32,"mat-label"),r(33,"Heritage/Origin"),i(),n(34,"mat-select",17),u("selectionChange",function(){return a.onSearch()}),E(35,br,2,2,"mat-option",11,hr),i()(),n(37,"mat-form-field",9)(38,"mat-label"),r(39,"Location"),i(),n(40,"input",18),u("input",function(){return a.onSearch()}),i(),n(41,"mat-icon",7),r(42,"location_on"),i()(),n(43,"mat-form-field",9)(44,"mat-label"),r(45,"Minimum Rating"),i(),n(46,"mat-select",19),u("selectionChange",function(){return a.onSearch()}),n(47,"mat-option",11),r(48,"All ratings"),i(),n(49,"mat-option",11),r(50,"1+ stars"),i(),n(51,"mat-option",11),r(52,"2+ stars"),i(),n(53,"mat-option",11),r(54,"3+ stars"),i(),n(55,"mat-option",11),r(56,"4+ stars"),i(),n(57,"mat-option",11),r(58,"5 stars"),i()()()(),n(59,"div",20)(60,"div",21),g(61,Cr,4,0,"button",22),i(),n(62,"div",23)(63,"span",24),r(64),i(),r(65," services found "),i()()()()(),n(66,"div",25),g(67,yr,4,0,"div",26)(68,wr,6,1,"div",27)(69,Sr,9,0,"div",28)(70,Lr,4,1),i()()),e&2&&(s(4),C("formGroup",a.filterForm),s(13),M(a.categories()),s(18),M(a.countries),s(12),C("value",0),s(2),C("value",1),s(2),C("value",2),s(2),C("value",3),s(2),C("value",4),s(2),C("value",5),s(4),p(a.hasActiveFilters()?61:-1),s(3),f(a.total()),s(3),p(a.loading()?67:-1),s(),p(a.error()?68:-1),s(),p(!a.loading()&&a.hasSearched()&&!a.hasResults()?69:-1),s(),p(!a.loading()&&a.hasResults()?70:-1))},dependencies:[B,Vt,pe,le,re,ae,se,ce,de,fe,ue,Be,en,Ve,Ae,ge,xe,De,V,Q,Ne,Tn,N,H,On,In,X,K,jn,He,Nn,je,wn,Y,$e],styles:[".line-clamp-1[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:1;line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.line-clamp-2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.business-card[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.business-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 25px 50px -12px #00000040}.business-gradient-1[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.business-gradient-2[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c)}.business-gradient-3[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe)}.business-gradient-4[_ngcontent-%COMP%]{background:linear-gradient(135deg,#43e97b,#38f9d7)}.business-gradient-5[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140)}.search-form[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{transition:all .3s ease}.search-form[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{transform:scale(1.02);box-shadow:0 10px 25px -5px #3b82f64d}.filter-pill[_ngcontent-%COMP%]{transition:all .2s ease}.filter-pill[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 8px #0000001a}.rating-stars[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{transition:color .2s ease}.business-type-badge.service[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dbeafe,#bfdbfe);color:#1e40af}.business-type-badge.product[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dcfce7,#bbf7d0);color:#166534}.business-type-badge.both[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fef3c7,#fde68a);color:#92400e}.featured-badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_glow 2s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_glow{0%{box-shadow:0 0 5px #fbbf2480}to{box-shadow:0 0 20px #fbbf24cc}}.loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.business-card[_ngcontent-%COMP%]   .business-header[_ngcontent-%COMP%]{height:120px}.business-card[_ngcontent-%COMP%]   .business-logo[_ngcontent-%COMP%]{width:60px;height:60px}}*[_ngcontent-%COMP%]{transition:color .2s ease,background-color .2s ease,border-color .2s ease,transform .2s ease,box-shadow .2s ease}"]})};var zr=(o,t)=>t.title,$r=(o,t)=>t.number,Gr=(o,t)=>t.name;function Ur(o,t){if(o&1&&(n(0,"mat-card",15)(1,"div",2)(2,"div",33)(3,"mat-icon",34),r(4),i()(),n(5,"h3",35),r(6),i(),n(7,"p",36),r(8),i()()()),o&2){let e=t.$implicit;s(4),f(e.icon),s(2),f(e.title),s(2),f(e.description)}}function qr(o,t){if(o&1&&(n(0,"div",2)(1,"div",37),r(2),i(),n(3,"h3",38),r(4),i(),n(5,"p",39),r(6),i()()),o&2){let e=t.$implicit;s(2),h(" ",e.number," "),s(2),f(e.title),s(2),f(e.description)}}function Qr(o,t){if(o&1&&(n(0,"mat-card",22)(1,"div",2)(2,"div",40)(3,"mat-icon",41),r(4,"person"),i()(),n(5,"blockquote",42),r(6),i(),n(7,"div",43),r(8),i(),n(9,"div",44),r(10),i()()()),o&2){let e=t.$implicit;s(6),h(' "',e.quote,'" '),s(2),f(e.name),s(2),f(e.business)}}var it=class o{constructor(t){this.router=t}navigateToSignUp(){this.router.navigate(["/auth"],{queryParams:{mode:"business"}})}navigateToSignIn(){this.router.navigate(["/auth"])}features=[{icon:"store",title:"Showcase Your Business",description:"Create a professional business profile that highlights your services, portfolio, and expertise to attract potential clients."},{icon:"people",title:"Connect with Clients",description:"Reach thousands of customers actively searching for services in your area and industry niche."},{icon:"payment",title:"Secure Payments",description:"Get paid safely and on time with our integrated payment system and escrow protection."},{icon:"trending_up",title:"Grow Your Revenue",description:"Scale your business with our marketing tools, analytics, and customer management features."},{icon:"support",title:"24/7 Support",description:"Get help when you need it with our dedicated support team and comprehensive resource center."},{icon:"verified",title:"Build Trust",description:"Earn verified badges, collect reviews, and build your reputation to attract more high-value clients."}];steps=[{number:"1",title:"Create Your Profile",description:"Sign up and build your professional business profile with your services, portfolio, and credentials."},{number:"2",title:"Get Discovered",description:"Optimize your profile with relevant keywords and showcase your best work to appear in search results."},{number:"3",title:"Connect & Deliver",description:"Respond to client inquiries, negotiate projects, and deliver exceptional work to build your reputation."},{number:"4",title:"Grow & Scale",description:"Use our tools to manage multiple projects, automate workflows, and scale your business operations."}];testimonials=[{name:"Sarah Johnson",business:"Digital Marketing Consultant",quote:"VouchHer helped me connect with clients I never would have reached otherwise. My revenue increased by 300% in just 6 months!",avatar:"assets/images/testimonial-1.jpg"},{name:"Michael Chen",business:"Web Development Agency",quote:"The platform makes it so easy to showcase our work and manage client relationships. We've landed several major contracts through VouchHer.",avatar:"assets/images/testimonial-2.jpg"},{name:"Aisha Patel",business:"Graphic Design Studio",quote:"I love how professional my business profile looks. Clients trust us more and we can charge premium rates for our services.",avatar:"assets/images/testimonial-3.jpg"}];static \u0275fac=function(e){return new(e||o)(G(j))};static \u0275cmp=O({type:o,selectors:[["app-own-business"]],decls:75,vars:0,consts:[[1,"bg-gradient-to-br","from-blue-600","via-blue-700","to-indigo-800","text-white"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-20"],[1,"text-center"],[1,"text-4xl","md:text-6xl","font-bold","mb-6"],[1,"text-yellow-400"],[1,"text-xl","md:text-2xl","mb-8","text-blue-100","max-w-3xl","mx-auto"],[1,"flex","flex-col","sm:flex-row","gap-4","justify-center"],["mat-raised-button","","color","accent",1,"!bg-yellow-500","!text-gray-900","!font-semibold","!px-8","!py-3","!text-lg","hover:!bg-yellow-400","transition-colors",3,"click"],["mat-stroked-button","",1,"!border-white","!text-white","!px-8","!py-3","!text-lg","hover:!bg-white","hover:!text-blue-600","transition-colors",3,"click"],[1,"py-20","bg-gray-50"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"text-center","mb-16"],[1,"text-3xl","md:text-4xl","font-bold","text-gray-900","mb-4"],[1,"text-xl","text-gray-600","max-w-2xl","mx-auto"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-8"],[1,"!p-6","hover:!shadow-lg","transition-shadow","cursor-pointer"],[1,"py-20","bg-white"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-8"],[1,"py-20","bg-blue-600","text-white"],[1,"text-center","mb-12"],[1,"text-3xl","md:text-4xl","font-bold","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-8"],[1,"!p-6"],[1,"py-20","bg-gradient-to-r","from-blue-600","to-indigo-700","text-white"],[1,"max-w-4xl","mx-auto","px-4","sm:px-6","lg:px-8","text-center"],[1,"text-3xl","md:text-4xl","font-bold","mb-6"],[1,"text-xl","mb-8","text-blue-100"],["mat-stroked-button","","routerLink","/search",1,"!border-white","!text-white","!px-8","!py-3","!text-lg","hover:!bg-white","hover:!text-blue-600","transition-colors"],[1,"bg-gray-900","text-white","py-12"],[1,"text-2xl","font-bold","text-blue-400","mb-4"],[1,"text-gray-400","mb-4"],[1,"flex","justify-center","space-x-6"],["href","#",1,"text-gray-400","hover:text-white","transition-colors"],[1,"bg-blue-100","rounded-full","w-16","h-16","flex","items-center","justify-center","mx-auto","mb-4"],[1,"!text-blue-600","!text-3xl"],[1,"text-xl","font-semibold","text-gray-900","mb-3"],[1,"text-gray-600","leading-relaxed"],[1,"bg-blue-600","text-white","rounded-full","w-12","h-12","flex","items-center","justify-center","mx-auto","mb-4","font-bold","text-lg"],[1,"text-lg","font-semibold","text-gray-900","mb-3"],[1,"text-gray-600","text-sm","leading-relaxed"],[1,"bg-gray-300","rounded-full","w-16","h-16","flex","items-center","justify-center","mx-auto","mb-4"],[1,"!text-gray-600","!text-2xl"],[1,"text-gray-700","italic","mb-4"],[1,"font-semibold","text-gray-900"],[1,"text-sm","text-gray-600"]],template:function(e,a){e&1&&(d(0,"app-header"),n(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),r(5," Turn Your Skills Into "),n(6,"span",4),r(7,"Success"),i()(),n(8,"p",5),r(9," Join thousands of entrepreneurs who are building thriving businesses on VouchHer. Start earning from your expertise today. "),i(),n(10,"div",6)(11,"button",7),u("click",function(){return a.navigateToSignUp()}),r(12," Start Your Business Journey "),i(),n(13,"button",8),u("click",function(){return a.navigateToSignIn()}),r(14," Already Have an Account? "),i()()()()(),n(15,"div",9)(16,"div",10)(17,"div",11)(18,"h2",12),r(19," Why Choose VouchHer? "),i(),n(20,"p",13),r(21," Everything you need to build, grow, and scale your business online "),i()(),n(22,"div",14),E(23,Ur,9,3,"mat-card",15,zr),i()()(),n(25,"div",16)(26,"div",10)(27,"div",11)(28,"h2",12),r(29," How It Works "),i(),n(30,"p",13),r(31," Getting started is simple. Follow these four easy steps to launch your business "),i()(),n(32,"div",17),E(33,qr,7,3,"div",2,$r),i()()(),n(35,"div",18)(36,"div",10)(37,"div",19)(38,"h2",20),r(39," Join Our Growing Community "),i()()()(),n(40,"div",9)(41,"div",10)(42,"div",11)(43,"h2",12),r(44," Real results from clients "),i(),n(45,"p",13),r(46," Hear from entrepreneurs who transformed their businesses with VouchHer "),i()(),n(47,"div",21),E(48,Qr,11,3,"mat-card",22,Gr),i()()(),n(50,"div",23)(51,"div",24)(52,"h2",25),r(53," Ready to Start Your Business Journey? "),i(),n(54,"p",26),r(55," Join thousands of successful entrepreneurs who are already earning on VouchHer. Your next client is waiting for you. "),i(),n(56,"div",6)(57,"button",7),u("click",function(){return a.navigateToSignUp()}),r(58," Get Started for Free "),i(),n(59,"button",27),r(60," Browse Businesses "),i()()()(),n(61,"div",28)(62,"div",10)(63,"div",2)(64,"div",29),r(65,"VouchHer"),i(),n(66,"p",30),r(67,"Empowering entrepreneurs to build successful businesses"),i(),n(68,"div",31)(69,"a",32),r(70,"Privacy Policy"),i(),n(71,"a",32),r(72,"Terms of Service"),i(),n(73,"a",32),r(74,"Support"),i()()()()()),e&2&&(s(23),M(a.features),s(10),M(a.steps),s(15),M(a.testimonials))},dependencies:[B,Gt,Oe,V,Q,N,H,ze,Le,Y],styles:[".hero-section[_ngcontent-%COMP%]{background:#312e81}.feature-card[_ngcontent-%COMP%]{transition:all .3s ease}.feature-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 20px 25px -5px #0000001a}.step-number[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1e40af);box-shadow:0 4px 14px #3b82f663}.testimonial-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);transition:transform .3s ease}.stats-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1e40af)}.cta-section[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#4338ca)}.accent-button[_ngcontent-%COMP%]{background:#fbbf24!important;color:#111827!important;font-weight:600}.accent-button[_ngcontent-%COMP%]:hover{background:#f59e0b!important}.outlined-button[_ngcontent-%COMP%]{border:2px solid #ffffff;color:#fff}.outlined-button[_ngcontent-%COMP%]:hover{background:#fff;color:#3b82f6}@media (max-width: 768px){.hero-section[_ngcontent-%COMP%]{padding:60px 0}.hero-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;line-height:1.2}.hero-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.125rem}.feature-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}.steps-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:2rem}}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .6s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.slide-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .8s ease-out}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}.section-padding[_ngcontent-%COMP%]{padding:5rem 0}@media (max-width: 768px){.section-padding[_ngcontent-%COMP%]{padding:3rem 0}}"]})};var ot=class o{constructor(t){this.http=t}apiUrl=`${Fe.api.baseUrl}/paypal-accounts`;getConnectUrl(){return this.http.get(`${this.apiUrl}/connect-url`)}connectAccount(t){return this.http.post(`${this.apiUrl}/connect`,t)}getAccounts(){return this.http.get(this.apiUrl)}getAccount(t){return this.http.get(`${this.apiUrl}/${t}`)}refreshAccount(t){return this.http.post(`${this.apiUrl}/${t}/refresh`,{})}disconnectAccount(t){return this.http.post(`${this.apiUrl}/${t}/disconnect`,{})}verifyAccount(t){return this.http.post(`${this.apiUrl}/${t}/verify`,{})}initiatePayPalConnection(t){return k(this,null,function*(){try{let e=yield this.getConnectUrl().toPromise();if(!e?.auth_url)throw new Error("Failed to get PayPal OAuth URL");let a=window.open(e.auth_url,"paypal-oauth","width=500,height=600,scrollbars=yes,resizable=yes");if(!a)throw new Error("Popup blocked. Please allow popups for this site.");return new Promise((l,m)=>{let y=setInterval(()=>{a.closed&&(clearInterval(y),m(new Error("PayPal connection was cancelled")))},1e3),A=L=>{L.origin===window.location.origin&&(L.data.type==="PAYPAL_OAUTH_SUCCESS"?(clearInterval(y),window.removeEventListener("message",A),a.close(),this.connectAccount({code:L.data.code,state:L.data.state}).subscribe({next:ne=>l(ne),error:ne=>m(ne)})):L.data.type==="PAYPAL_OAUTH_ERROR"&&(clearInterval(y),window.removeEventListener("message",A),a.close(),m(new Error(L.data.error||"PayPal connection failed"))))};window.addEventListener("message",A)})}catch(e){throw console.error("PayPal connection error:",e),e}})}static \u0275fac=function(e){return new(e||o)(wt(Te))};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};function Wr(o,t){o&1&&(n(0,"div",4),d(1,"mat-spinner",5),n(2,"h2"),r(3,"Connecting PayPal Account"),i(),n(4,"p"),r(5,"Please wait while we connect your PayPal account..."),i()())}function Zr(o,t){if(o&1&&(n(0,"div",12)(1,"p")(2,"strong"),r(3,"Email:"),i(),r(4),i(),n(5,"p")(6,"strong"),r(7,"Status:"),i(),r(8),i()()),o&2){let e=c(2);s(4),h(" ",e.connectedAccount.email,""),s(4),h(" ",e.connectedAccount.is_verified?"Verified":"Not Verified","")}}function Jr(o,t){if(o&1){let e=S();n(0,"div",6)(1,"mat-icon",7),r(2,"check_circle"),i(),n(3,"h2"),r(4,"PayPal Account Connected!"),i(),n(5,"p"),r(6,"Your PayPal account has been successfully connected."),i(),g(7,Zr,9,2,"div",8),n(8,"div",9)(9,"button",10),u("click",function(){x(e);let l=c();return _(l.goToPayPalAccounts())}),r(10," View PayPal Accounts "),i(),n(11,"button",11),u("click",function(){x(e);let l=c();return _(l.goToWithdrawals())}),r(12," Create Withdrawal "),i()()()}if(o&2){let e=c();s(7),C("ngIf",e.connectedAccount)}}function Kr(o,t){if(o&1){let e=S();n(0,"div",13)(1,"mat-icon",14),r(2,"error"),i(),n(3,"h2"),r(4,"Connection Failed"),i(),n(5,"p"),r(6),i(),n(7,"div",9)(8,"button",10),u("click",function(){x(e);let l=c();return _(l.retry())}),r(9," Try Again "),i(),n(10,"button",11),u("click",function(){x(e);let l=c();return _(l.goToPayPalAccounts())}),r(11," Go Back "),i()()()}if(o&2){let e=c();s(6),f(e.errorMessage)}}var rt=class o{constructor(t,e,a){this.route=t;this.router=e;this.paypalService=a}processing=!0;success=!1;error=!1;errorMessage="";connectedAccount=null;ngOnInit(){this.handleCallback()}handleCallback(){this.route.queryParams.subscribe(t=>{let e=t.code,a=t.state,l=t.error,m=t.error_description;if(l){this.handleError(m||l);return}if(!e||!a){this.handleError("Missing authorization code or state parameter");return}this.paypalService.connectAccount({code:e,state:a}).subscribe({next:y=>{this.processing=!1,this.success=!0,this.connectedAccount=y,window.opener&&(window.opener.postMessage({type:"PAYPAL_OAUTH_SUCCESS",code:e,state:a,account:y},window.location.origin),window.close())},error:y=>{console.error("PayPal connection error:",y),this.handleError(y.error?.message||"Failed to connect PayPal account"),window.opener&&(window.opener.postMessage({type:"PAYPAL_OAUTH_ERROR",error:y.error?.message||"Failed to connect PayPal account"},window.location.origin),window.close())}})})}handleError(t){this.processing=!1,this.error=!0,this.errorMessage=t}retry(){this.processing=!0,this.error=!1,this.success=!1,this.handleCallback()}goToPayPalAccounts(){this.router.navigate(["/paypal-accounts"])}goToWithdrawals(){this.router.navigate(["/withdrawals"])}static \u0275fac=function(e){return new(e||o)(G(q),G(j),G(ot))};static \u0275cmp=O({type:o,selectors:[["app-paypal-callback"]],decls:4,vars:3,consts:[[1,"callback-container"],["class","processing-state",4,"ngIf"],["class","success-state",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"processing-state"],["diameter","48"],[1,"success-state"],[1,"success-icon"],["class","account-info",4,"ngIf"],[1,"actions"],["mat-raised-button","","color","primary",3,"click"],["mat-stroked-button","",3,"click"],[1,"account-info"],[1,"error-state"],[1,"error-icon"]],template:function(e,a){e&1&&(n(0,"div",0),g(1,Wr,6,0,"div",1)(2,Jr,13,1,"div",2)(3,Kr,12,1,"div",3),i()),e&2&&(s(),C("ngIf",a.processing),s(),C("ngIf",a.success&&!a.processing),s(),C("ngIf",a.error&&!a.processing))},dependencies:[B,ke,X,K,N,H,V,Q],styles:[".callback-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:24px;background:linear-gradient(135deg,#667eea,#764ba2)}.processing-state[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{background:#fff;padding:48px 32px;border-radius:16px;box-shadow:0 20px 40px #0000001a;text-align:center;max-width:500px;width:100%}.processing-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:24px 0 16px;font-size:1.5rem;font-weight:600}.processing-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 24px;color:#666;line-height:1.6}.success-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#4caf50;margin-bottom:16px}.error-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#f44336;margin-bottom:16px}.account-info[_ngcontent-%COMP%]{background:#f5f5f5;padding:16px;border-radius:8px;margin:24px 0;text-align:left}.account-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;color:#333}.actions[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:center;flex-wrap:wrap;margin-top:32px}@media (max-width: 768px){.actions[_ngcontent-%COMP%]{flex-direction:column}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]})};function Xr(o,t){o&1&&(n(0,"div",4),d(1,"mat-spinner",5),n(2,"h2"),r(3,"Verifying Stripe Account"),i(),n(4,"p"),r(5,"Please wait while we verify your Stripe account setup..."),i()())}function ea(o,t){if(o&1){let e=S();n(0,"div",6)(1,"mat-icon",7),r(2,"check_circle"),i(),n(3,"h2"),r(4,"Stripe Account Connected Successfully!"),i(),n(5,"p"),r(6,"Your Stripe account has been set up and is ready for withdrawals."),i(),n(7,"div",8)(8,"button",9),u("click",function(){x(e);let l=c();return _(l.goToEarnings())}),r(9," View Earnings "),i(),n(10,"button",10),u("click",function(){x(e);let l=c();return _(l.goToDashboard())}),r(11," Back to Dashboard "),i()()()}}function ta(o,t){if(o&1){let e=S();n(0,"div",11)(1,"mat-icon",12),r(2,"error"),i(),n(3,"h2"),r(4,"Setup Incomplete"),i(),n(5,"p"),r(6),i(),n(7,"div",8)(8,"button",13),u("click",function(){x(e);let l=c();return _(l.retrySetup())}),r(9," Try Again "),i(),n(10,"button",10),u("click",function(){x(e);let l=c();return _(l.goToDashboard())}),r(11," Back to Dashboard "),i()()()}if(o&2){let e=c();s(6),f(e.errorMessage)}}var ve=class o{constructor(t,e,a){this.route=t;this.router=e;this.stripeConnectService=a}processing=!0;success=!1;error=!1;errorMessage="";ngOnInit(){return k(this,null,function*(){this.route.queryParams.subscribe(t=>k(this,null,function*(){t.success==="true"?yield this.handleSuccess():t.success==="false"?yield this.handleError():yield this.checkAccountStatus()}))})}handleSuccess(){return k(this,null,function*(){try{let t=yield this.stripeConnectService.getAccountStatus().toPromise();t?.payouts_enabled&&!t?.requirements_due?(this.processing=!1,this.success=!0):(this.processing=!1,this.error=!0,this.errorMessage="Account setup is not yet complete. Please try the onboarding process again.")}catch{this.processing=!1,this.error=!0,this.errorMessage="Failed to verify account status. Please try again."}})}handleError(){return k(this,null,function*(){this.processing=!1,this.error=!0,this.errorMessage="Account setup was not completed. You can try setting up your Stripe account again."})}checkAccountStatus(){return k(this,null,function*(){try{let t=yield this.stripeConnectService.getAccountStatus().toPromise();t?.payouts_enabled&&!t?.requirements_due?(this.processing=!1,this.success=!0):(this.processing=!1,this.error=!0,this.errorMessage="Account setup is incomplete. Please complete the onboarding process.")}catch{this.processing=!1,this.error=!0,this.errorMessage="Failed to check account status. Please try again."}})}retrySetup(){return k(this,null,function*(){try{this.processing=!0;let t=yield this.stripeConnectService.createOnboardingLink().toPromise();window.location.href=t.url}catch{this.processing=!1,this.errorMessage="Failed to create setup link. Please try again later."}})}goToEarnings(){this.router.navigate(["/dashboard/earnings"])}goToDashboard(){this.router.navigate(["/dashboard"])}static \u0275fac=function(e){return new(e||o)(G(q),G(j),G(Fn))};static \u0275cmp=O({type:o,selectors:[["app-stripe-callback"]],decls:4,vars:3,consts:[[1,"callback-container"],["class","processing-state",4,"ngIf"],["class","success-state",4,"ngIf"],["class","error-state",4,"ngIf"],[1,"processing-state"],["diameter","48"],[1,"success-state"],[1,"success-icon"],[1,"actions"],["mat-raised-button","","color","primary",3,"click"],["mat-button","",3,"click"],[1,"error-state"],[1,"error-icon"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,a){e&1&&(n(0,"div",0),g(1,Xr,6,0,"div",1)(2,ea,12,0,"div",2)(3,ta,12,1,"div",3),i()),e&2&&(s(),C("ngIf",a.processing),s(),C("ngIf",a.success&&!a.processing),s(),C("ngIf",a.error&&!a.processing))},dependencies:[B,ke,X,K,N,H,V,Q],styles:[".callback-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:24px;background:#f5f5f5}.processing-state[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{text-align:center;max-width:400px;padding:48px 32px;background:#fff;border-radius:12px;box-shadow:0 4px 6px #0000001a}.success-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#4caf50;margin-bottom:24px}.error-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#f44336;margin-bottom:24px}h2[_ngcontent-%COMP%]{margin:16px 0;color:#333}p[_ngcontent-%COMP%]{margin:16px 0;color:#666;line-height:1.5}.actions[_ngcontent-%COMP%]{margin-top:32px;display:flex;gap:16px;justify-content:center;flex-wrap:wrap}mat-spinner[_ngcontent-%COMP%]{margin-bottom:24px}@media (max-width: 768px){.processing-state[_ngcontent-%COMP%], .success-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{padding:32px 24px;margin:16px}.actions[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;max-width:200px}}"]})};var Gn=[{path:"",component:Ye},{path:"search",component:nt},{path:"own-business",component:it},{path:"auth",loadChildren:()=>import("./chunk-YKZWCOE7.js").then(o=>o.AUTH_ROUTES),canActivate:[Rn]},{path:"login",redirectTo:"auth/login"},{path:"signup",redirectTo:"auth/signup"},{path:"dashboard",component:We,loadChildren:()=>import("./chunk-NQ6CVZAX.js").then(o=>o.DASHBOARD_ROUTES),canActivate:[Ke]},{path:"admin",loadChildren:()=>import("./chunk-XJKTELHR.js").then(o=>o.adminRoutes),canActivate:[Ke]},{path:"business/:id",component:Xe},{path:"create-project/:businessId",component:Ze,canActivate:[Ke]},{path:"paypal/callback",component:rt},{path:"stripe/return",component:ve},{path:"stripe/refresh",component:ve}];var Un={providers:[At({eventCoalescing:!0}),$t(Gn),Nt(Lt()),An(),{provide:Ht,useClass:Ge,multi:!0}]};var at=class o{title="putheron";authorizationService=b(Wt);constructor(){typeof window<"u"&&(window.authService=this.authorizationService,console.log("\u{1F527} Authorization service exposed as window.authService for debugging"),console.log("\u{1F4A1} Use window.authService.debugAuthState() to inspect permissions"))}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=O({type:o,selectors:[["app-root"]],decls:1,vars:0,template:function(e,a){e&1&&d(0,"router-outlet")},dependencies:[Ie],encapsulation:2})};Rt(at,Un).catch(o=>console.error(o));
