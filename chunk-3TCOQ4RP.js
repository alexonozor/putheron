import{a as ce,b as ue,c as pe}from"./chunk-UV22CJPJ.js";import{a as fe,b as xe}from"./chunk-5KAK7XDX.js";import{a as ge,b as Ce}from"./chunk-6RDXSFAS.js";import{a as le,b as se}from"./chunk-V4Y4CMTG.js";import{a as re}from"./chunk-WJ4DFVWN.js";import"./chunk-KGCA3U4R.js";import{a as me,b as de}from"./chunk-33K4CE3V.js";import{d as q,h as te,i as ie,j as ne,l as oe,m as ae}from"./chunk-XZTS425U.js";import"./chunk-32WIJ6DZ.js";import"./chunk-7N3ULFJ6.js";import{d as K,e as Q,g as X,h as Z,k as ee}from"./chunk-K76RD3AY.js";import{B as J,c as U,e as c,h as j,i as A,l as G,p as $,r as W,z as Y}from"./chunk-LJVLI66S.js";import"./chunk-RNGT6N3O.js";import"./chunk-B3LNG6U5.js";import"./chunk-EWH2HRUY.js";import{a as z,b as H}from"./chunk-4LADR266.js";import{b as B,c as L,d as R}from"./chunk-AT26KLTR.js";import{a as D}from"./chunk-NZJEVKY3.js";import"./chunk-TL7YA3DG.js";import"./chunk-CGBMKB7Q.js";import"./chunk-WF66C34H.js";import"./chunk-QD7SSFII.js";import{a as O,b as I}from"./chunk-QYFERLBL.js";import"./chunk-VBZ52KF5.js";import{b as F,d as N,e as V}from"./chunk-WBPYOJYK.js";import"./chunk-6N4JLV7X.js";import{t as M}from"./chunk-TZYYMUAL.js";import{Db as k,Eb as l,Fb as s,Ib as S,Jb as y,Kb as m,Lb as t,Mb as i,Nb as d,Qc as P,Ub as E,Yb as v,_a as r,_b as p,fa as g,ka as _,la as h,mc as a,nc as x,pb as T,ua as C,xc as w}from"./chunk-4R5BQBA3.js";import{e as b}from"./chunk-JKOY2XUY.js";var ve=()=>["/auth/login"],_e=(o,n)=>n.code,ye=(o,n)=>n.name;function be(o,n){o&1&&(t(0,"mat-error"),a(1,"First name is required"),i())}function Ee(o,n){o&1&&(t(0,"mat-error"),a(1,"Last name is required"),i())}function we(o,n){o&1&&(t(0,"mat-error"),a(1,"Phone number is required"),i())}function Te(o,n){if(o&1&&(t(0,"mat-error"),a(1),i()),o&2){let e=p(2);r(),x(e.phoneControl==null||e.phoneControl.errors==null||e.phoneControl.errors.usaPhone==null?null:e.phoneControl.errors.usaPhone.message)}}function ke(o,n){o&1&&a(0," Email is required ")}function Pe(o,n){o&1&&a(0," Invalid email format ")}function Me(o,n){if(o&1&&(t(0,"mat-error"),l(1,ke,1,0)(2,Pe,1,0),i()),o&2){let e=p(2);r(),s(e.emailControl!=null&&e.emailControl.hasError("required")?1:e.emailControl!=null&&e.emailControl.hasError("email")?2:-1)}}function Fe(o,n){if(o&1&&(t(0,"mat-option",39),a(1),i()),o&2){let e=n.$implicit;m("value",e.name),r(),x(e.name)}}function Ne(o,n){o&1&&(t(0,"mat-error"),a(1,"Heritage is required"),i())}function Ve(o,n){if(o&1&&(t(0,"mat-option",39),a(1),i()),o&2){let e=n.$implicit;m("value",e.code),r(),x(e.name)}}function qe(o,n){o&1&&(t(0,"mat-error"),a(1,"State is required"),i())}function Oe(o,n){o&1&&(t(0,"mat-option",38),a(1,"select state first"),i())}function Ie(o,n){if(o&1&&(t(0,"mat-option",39),a(1),i()),o&2){let e=n.$implicit;m("value",e.name),r(),x(e.name)}}function Be(o,n){if(o&1&&(t(0,"mat-option",38),a(1,"select city"),i(),S(2,Ie,2,2,"mat-option",39,ye)),o&2){let e=p(2);r(2),y(e.availableCities())}}function Le(o,n){o&1&&(t(0,"mat-error"),a(1,"City is required"),i())}function Re(o,n){o&1&&a(0," Password is required ")}function De(o,n){o&1&&a(0," Minimum 6 characters ")}function ze(o,n){if(o&1&&(t(0,"mat-error"),l(1,Re,1,0)(2,De,1,0),i()),o&2){let e=p(2);r(),s(e.passwordControl!=null&&e.passwordControl.hasError("required")?1:e.passwordControl!=null&&e.passwordControl.hasError("minlength")?2:-1)}}function He(o,n){o&1&&a(0," Log in ")}function Ue(o,n){o&1&&(t(0,"span",50),d(1,"mat-spinner",53),a(2," Creating... "),i())}function je(o,n){if(o&1){let e=E();t(0,"h2",17),a(1," Sign Up with "),t(2,"a",18),d(3,"img",19),i()(),t(4,"p",20),a(5,"Create an account to get started"),i(),t(6,"form",21),v("ngSubmit",function(){_(e);let f=p();return h(f.onSubmit())}),t(7,"div",22)(8,"label",23),a(9,"I want to"),i(),t(10,"mat-radio-group",24)(11,"label",25),d(12,"mat-radio-button",26),t(13,"span",27),a(14,"Find women-owned businesses"),i()(),t(15,"label",25),d(16,"mat-radio-button",28),t(17,"span",27),a(18,"Offer service through my business"),i()()()(),t(19,"div",29)(20,"mat-form-field",30)(21,"mat-label"),a(22,"First Name"),i(),t(23,"mat-icon",31),a(24,"person_outline"),i(),d(25,"input",32),l(26,be,2,0,"mat-error"),i(),t(27,"mat-form-field",30)(28,"mat-label"),a(29,"Last Name"),i(),t(30,"mat-icon",31),a(31,"person_outline"),i(),d(32,"input",33),l(33,Ee,2,0,"mat-error"),i()(),t(34,"mat-form-field",30)(35,"mat-label"),a(36,"Phone Number"),i(),t(37,"mat-icon",31),a(38,"phone_outline"),i(),d(39,"input",34),l(40,we,2,0,"mat-error"),l(41,Te,2,1,"mat-error"),i(),t(42,"div",35)(43,"mat-form-field",30)(44,"mat-label"),a(45,"Email"),i(),t(46,"mat-icon",31),a(47,"email_outline"),i(),d(48,"input",36),l(49,Me,3,1,"mat-error"),i(),t(50,"mat-form-field",30)(51,"mat-label"),a(52,"Heritage"),i(),t(53,"mat-select",37)(54,"mat-option",38),a(55,"select country"),i(),S(56,Fe,2,2,"mat-option",39,_e),i(),l(58,Ne,2,0,"mat-error"),i()(),t(59,"div",35)(60,"mat-form-field",30)(61,"mat-label"),a(62,"State"),i(),t(63,"mat-select",40),v("selectionChange",function(f){_(e);let Se=p();return h(Se.onStateSelected(f.value))}),t(64,"mat-option",38),a(65,"select state"),i(),S(66,Ve,2,2,"mat-option",39,_e),i(),l(68,qe,2,0,"mat-error"),i(),t(69,"mat-form-field",30)(70,"mat-label"),a(71,"City"),i(),t(72,"mat-select",41),l(73,Oe,2,0,"mat-option",38)(74,Be,4,0),i(),l(75,Le,2,0,"mat-error"),i()(),t(76,"mat-form-field",30)(77,"mat-label"),a(78,"Password"),i(),d(79,"input",42),t(80,"button",43),v("click",function(){_(e);let f=p();return h(f.togglePasswordVisibility())}),t(81,"mat-icon"),a(82),i()(),l(83,ze,3,1,"mat-error"),i(),t(84,"div",44),d(85,"mat-checkbox",45),t(86,"label",46),a(87," I agree to the "),t(88,"a",47),a(89,"Terms of Service"),i(),a(90," and "),t(91,"a",48),a(92,"Privacy Policy"),i()()(),t(93,"button",49),l(94,He,1,0)(95,Ue,3,0,"span",50),i(),t(96,"div",51)(97,"p",46),a(98," Already have an account? "),t(99,"a",52),a(100," Log in "),i()()()()}if(o&2){let e=p();r(6),m("formGroup",e.signupForm),r(19),m("disabled",e.loading()),r(),s(e.firstNameControl!=null&&e.firstNameControl.invalid&&(e.firstNameControl!=null&&e.firstNameControl.touched)?26:-1),r(6),m("disabled",e.loading()),r(),s(e.lastNameControl!=null&&e.lastNameControl.invalid&&(e.lastNameControl!=null&&e.lastNameControl.touched)?33:-1),r(6),m("disabled",e.loading()),r(),s(e.phoneControl!=null&&e.phoneControl.hasError("required")&&(e.phoneControl!=null&&e.phoneControl.touched)?40:-1),r(),s(e.phoneControl!=null&&e.phoneControl.hasError("usaPhone")&&(e.phoneControl!=null&&e.phoneControl.touched)?41:-1),r(7),m("disabled",e.loading()),r(),s(e.emailControl!=null&&e.emailControl.invalid&&(e.emailControl!=null&&e.emailControl.touched)?49:-1),r(4),m("disabled",e.loading()),r(3),y(e.countries),r(2),s(e.countryOfOriginControl!=null&&e.countryOfOriginControl.invalid&&(e.countryOfOriginControl!=null&&e.countryOfOriginControl.touched)?58:-1),r(5),m("disabled",e.loading()),r(3),y(e.usStates),r(2),s(e.stateControl!=null&&e.stateControl.invalid&&(e.stateControl!=null&&e.stateControl.touched)?68:-1),r(4),m("disabled",e.loading()||e.availableCities().length===0),r(),s(e.availableCities().length===0?73:74),r(2),s(e.cityControl!=null&&e.cityControl.invalid&&(e.cityControl!=null&&e.cityControl.touched)?75:-1),r(4),m("type",e.showPassword()?"text":"password")("disabled",e.loading()),r(),k("aria-label","Toggle password visibility")("aria-pressed",e.showPassword()),r(2),x(e.showPassword()?"visibility_off_outline":"visibility_outline"),r(),s(e.passwordControl!=null&&e.passwordControl.invalid&&(e.passwordControl!=null&&e.passwordControl.touched)?83:-1),r(10),m("disabled",e.loading()||!e.signupForm.valid),r(),s(e.loading()?95:94),r(5),m("routerLink",w(26,ve))}}function Ae(o,n){o&1&&a(0," Resend Verification Email ")}function Ge(o,n){o&1&&(t(0,"span",50),d(1,"mat-spinner",53),a(2," Sending... "),i())}function $e(o,n){if(o&1){let e=E();t(0,"div",54)(1,"a",18),d(2,"img",55),i()(),t(3,"div",56)(4,"div",57)(5,"h1",58),a(6,"Check Your Email"),i(),t(7,"p",59),a(8," We've sent a verification link to: "),i(),t(9,"p",60),a(10),i(),t(11,"p",61),a(12," Click the link in the email to verify your account and complete your registration. "),i()(),t(13,"button",62),v("click",function(){_(e);let f=p();return h(f.resendVerification())}),l(14,Ae,1,0)(15,Ge,3,0,"span",50),i(),t(16,"div",51)(17,"p",46)(18,"a",63),a(19," Back to Login "),i()()()()}if(o&2){let e=p();r(10),x(e.verificationEmail()),r(3),m("disabled",e.loading()),r(),s(e.loading()?15:14),r(4),m("routerLink",w(4,ve))}}var he=class o{authService=g(D);router=g(N);route=g(F);fb=g(Y);citiesService=g(fe);snackBar=g(me);filteredCities=C([]);availableCities=C([]);loading=C(!1);showPassword=C(!1);showVerificationStep=C(!1);verificationEmail=C("");signupForm;countries=re;usStates=xe;constructor(){this.signupForm=this.fb.group({firstName:["",[c.required]],lastName:["",[c.required]],phone:["",[c.required,ge.usaPhone]],state:["",[c.required]],city:["",[c.required]],userType:["",[c.required]],email:["",[c.required,c.email]],countryOfOrigin:["",[c.required]],password:["",[c.required,c.minLength(6)]],agreeToTerms:[!1,[c.requiredTrue]]}),P(()=>{let n=this.stateControl?.value;n?this.loadCitiesForState(n):this.availableCities.set([])})}ngOnInit(){this.route.queryParams.subscribe(n=>{n.message&&this.snackBar.open(n.message,"Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-info"]})})}onSubmit(){return b(this,null,function*(){if(!this.signupForm.valid){this.snackBar.open("Please fill in all required fields correctly","Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-error"]});return}let n=this.signupForm.value,e={first_name:n.firstName,last_name:n.lastName,email:n.email,password:n.password,phone:n.phone,state:n.state,city:n.city,country_of_origin:n.countryOfOrigin,is_buyer:n.userType==="buyer",is_seller:n.userType==="seller"};this.loading.set(!0);try{let u=yield this.authService.signUp(e);u.data?(this.snackBar.open("Account created successfully! Please check your email to verify your account.","Close",{duration:6e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-success"]}),this.showVerificationMessage(n.email)):this.snackBar.open(u.error?.message||"Registration failed. Please try again.","Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-error"]})}catch(u){this.snackBar.open(u?.message||"An unexpected error occurred. Please try again.","Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-error"]})}finally{this.loading.set(!1)}})}showVerificationMessage(n){this.verificationEmail.set(n),this.showVerificationStep.set(!0),this.signupForm.disable()}resendVerification(){return b(this,null,function*(){if(this.verificationEmail()){this.loading.set(!0);try{let n=yield this.authService.resendEmailVerification(this.verificationEmail());n.success?this.snackBar.open("Verification email sent! Please check your inbox.","Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-success"]}):this.snackBar.open(n.message||"Failed to resend verification email.","Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-error"]})}catch(n){this.snackBar.open(n?.message||"Failed to resend verification email.","Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["snackbar-error"]})}finally{this.loading.set(!1)}}})}onStateSelected(n){this.loadCitiesForState(n),this.signupForm.get("city")?.setValue("")}loadCitiesForState(n){let e=this.citiesService.getCitiesByState(n);this.availableCities.set(e)}togglePasswordVisibility(){this.showPassword.update(n=>!n)}get firstNameControl(){return this.signupForm.get("firstName")}get lastNameControl(){return this.signupForm.get("lastName")}get phoneControl(){return this.signupForm.get("phone")}get stateControl(){return this.signupForm.get("state")}get cityControl(){return this.signupForm.get("city")}get userTypeControl(){return this.signupForm.get("userType")}get emailControl(){return this.signupForm.get("email")}get countryOfOriginControl(){return this.signupForm.get("countryOfOrigin")}get passwordControl(){return this.signupForm.get("password")}get agreeToTermsControl(){return this.signupForm.get("agreeToTerms")}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=T({type:o,selectors:[["app-signup"]],decls:37,vars:2,consts:[[1,"min-h-screen","flex"],[1,"w-full","lg:w-1/2","flex","items-center","justify-center","px-6","py-12","bg-white","relative","overflow-hidden"],[1,"lg:hidden","absolute","top-0","right-0","w-28","h-46","pointer-events-none"],["src","/assets/images/Layer-v.svg","alt","",1,"w-full","h-full"],[1,"lg:hidden","absolute","bottom-0","left-0","w-47","h-25","pointer-events-none"],["src","/assets/images/Layer-x.svg","alt","",1,"w-full","h-full"],[1,"w-full","max-w-xl","mx-auto","relative","z-10"],[1,"hidden","lg:flex","lg:w-1/2","relative","bg-primary-600","items-center","justify-center","overflow-hidden"],[1,"absolute","inset-0"],["src","/assets/images/login-right-bakground.svg","alt","",1,"w-full","h-full","object-cover"],[1,"relative","z-10","flex","flex-col","items-center","justify-center","text-center","px-12","w-full","max-w-lg"],["src","/assets/logos/white-logo.svg","alt","VouchHer",1,"h-16","w-auto","mb-12"],[1,"text-primary-600","text-2xl","font-bold","mb-6","text-left!","self-left"],[1,"space-y-4","text-white","text-left","w-full"],[1,"font-semibold","text-lg","mb-2"],[1,"space-y-2","text-sm"],[1,"font-semibold","text-lg","mb-2","mt-6"],[1,"text-2xl","lg:text-3xl","font-semibold","mb-2","text-center","lg:text-left","flex","items-center","justify-center","lg:justify-start","gap-2"],["routerLink","/",1,"inline-block"],["src","/assets/svg/VOUCHHER.svg","alt","VouchHer",1,"h-8","lg:h-9"],[1,"text-gray-600","mb-8","text-center","lg:text-left"],[1,"space-y-4",3,"ngSubmit","formGroup"],[1,"mb-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-3"],["formControlName","userType",1,"grid","grid-cols-1","md:grid-cols-2","gap-3"],[1,"p-4","border-2","border-gray-200","rounded-lg","hover:border-primary-600","transition-colors","cursor-pointer","flex","items-center","gap-3"],["value","buyer"],[1,"text-sm","font-medium"],["value","seller"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["appearance","outline",1,"w-full"],["matPrefix","",1,"mr-2"],["matInput","","formControlName","firstName","placeholder","enter first name",3,"disabled"],["matInput","","formControlName","lastName","placeholder","enter last name",3,"disabled"],["matInput","","type","tel","appPhoneFormat","","formControlName","phone","placeholder","enter phone number",3,"disabled"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-4"],["matInput","","type","email","formControlName","email","placeholder","enter email",3,"disabled"],["formControlName","countryOfOrigin",3,"disabled"],["value",""],[3,"value"],["formControlName","state",3,"selectionChange","disabled"],["formControlName","city",3,"disabled"],["matInput","","formControlName","password","placeholder","",3,"type","disabled"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[1,"flex","items-center","gap-2"],["formControlName","agreeToTerms","color","primary"],[1,"text-sm","text-gray-600"],["routerLink","/terms",1,"text-primary-600","hover:underline"],["routerLink","/privacy",1,"text-primary-600","hover:underline"],["mat-flat-button","","color","primary","type","submit",1,"w-full","!py-3","!text-base","!font-medium","!rounded-lg",3,"disabled"],[1,"flex","items-center","justify-center","gap-2"],[1,"text-center","pt-4"],[1,"font-medium","text-[#6B0FAE]","hover:text-primary-700","ml-1",3,"routerLink"],["diameter","20",1,"!text-white"],[1,"mb-8","text-center"],["src","/assets/logos/VOUCHHER.svg","alt","VouchHer",1,"h-10","lg:h-12","w-auto"],[1,"text-center","space-y-6"],[1,"mb-8"],[1,"text-2xl","lg:text-3xl","font-bold","text-gray-900","mb-2"],[1,"text-gray-600","mb-4"],[1,"text-lg","font-medium","text-gray-900","mb-4"],[1,"text-gray-600"],["mat-flat-button","","color","primary",1,"w-full","!py-3","!text-base","!font-medium","!rounded-lg",3,"click","disabled"],[1,"font-medium","text-[#6B0FAE]","hover:text-primary-700",3,"routerLink"]],template:function(e,u){e&1&&(t(0,"div",0)(1,"div",1)(2,"div",2),d(3,"img",3),i(),t(4,"div",4),d(5,"img",5),i(),t(6,"div",6),l(7,je,101,27),l(8,$e,20,5),i()(),t(9,"div",7)(10,"div",8),d(11,"img",9),i(),t(12,"div",10),d(13,"img",11),t(14,"h2",12),a(15," Women First Marketplace "),i(),t(16,"div",13)(17,"div")(18,"h3",14),a(19,"Find women-owned businesses in seconds"),i(),t(20,"ul",15)(21,"li"),a(22,"1. Earn extra income"),i(),t(23,"li"),a(24,"2. Collaborate and grow"),i(),t(25,"li"),a(26,"3. Get support from peers"),i()()(),t(27,"div")(28,"h3",16),a(29,"Hire qualified women with ease"),i(),t(30,"ul",15)(31,"li"),a(32,"1. List business(es)"),i(),t(33,"li"),a(34,"2. Get offers or bids"),i(),t(35,"li"),a(36,"3. Pay with ease when job is complete"),i()()()()()()()),e&2&&(r(7),s(u.showVerificationStep()?-1:7),r(),s(u.showVerificationStep()?8:-1))},dependencies:[M,J,G,U,j,A,$,W,V,te,ee,K,Q,X,Z,ae,oe,ne,ie,q,R,L,B,I,O,se,le,pe,ce,ue,H,z,de,Ce],styles:["[_nghost-%COMP%]{display:block}"]})};export{he as SignupComponent};
